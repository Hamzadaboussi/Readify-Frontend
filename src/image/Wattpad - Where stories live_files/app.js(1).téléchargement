!function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=271)}([function(e,t){e.exports=Handlebars},function(e,t,n){"use strict";(function(e){var t=n(8)()?e.require("../../server/config").application.adzerkHeaderBiddingUnitMap:window.wattpad.adzerkHeaderBiddingUnitMap;e.exports=function(e){return t[e]}}).call(this,n(2)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'<button type="button" class="btn btn-link pull-right close" data-dismiss="modal">\n    <span aria-hidden="true" class="fa fa-remove"></span><span class="sr-only">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Close",{name:"trans",hash:{},data:s}))+"</span>\n</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression,d="";return l=null!=(l=n.close||(null!=t?t.close:t))?l:c,r={name:"close",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.close||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(d+=i),d+'<div id="embed-modal">\n    <h4>'+u((n.trans||t&&t.trans||c).call(o,"Embed this Story",{name:"trans",hash:{},data:s}))+"</h4>\n    <h5>"+u((n.trans||t&&t.trans||c).call(o,"Preview",{name:"trans",hash:{},data:s}))+'</h5>\n    <iframe width="500" height="280" data-href="https://embed.wattpad.com/story/'+u("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:c)?l.call(o,{name:"id",hash:{},data:s}):l)+"?quote_text="+u("function"==typeof(l=null!=(l=n.quoteText||(null!=t?t.quoteText:t))?l:c)?l.call(o,{name:"quoteText",hash:{},data:s}):l)+'"\n            frameborder="0" allowfullscreen=""></iframe>\n    <div class="on-select embed-code">\n      <span id="embed-url">\n          &lt;iframe width="500" height="280" frameborder="0" allowfullscreen=""\n          src="https://embed.wattpad.com/story/'+u("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:c)?l.call(o,{name:"id",hash:{},data:s}):l)+'"\n          &gt;&lt;/iframe&gt;\n      </span>\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<form class="form-horizontal dropdown" role="search" name="search" action="/search/" action="GET" autocomplete="off">\n  <input id="search-query" placeholder="'+c((n.trans||t&&t.trans||o).call(r,"Search",{name:"trans",hash:{},data:s}))+'" name="q" type="text" spellcheck="false" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Search",{name:"trans",hash:{},data:s}))+'" value="'+c("function"==typeof(l=null!=(l=n.searchTerm||(null!=t?t.searchTerm:t))?l:o)?l.call(r,{name:"searchTerm",hash:{},data:s}):l)+'">\n  <button type="submit" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Submit search",{name:"trans",hash:{},data:s}))+'">\n      '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-search",18,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+'\n  </button>\n  <input type="hidden" name="ref" value="1">\n  <div class="dropdown-menu items" aria-label="search-dropdown">\n      <ul aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Autocomplete",{name:"trans",hash:{},data:s}))+'" class="autocomplete-item-container"></ul>\n  </div>\n  <div class="triangle"></div>\n</form>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'    <div class="collection">'+(null!=(i="function"==typeof(l=null!=(l=n.itemsContent||(null!=t?t.itemsContent:t))?l:o)?l.call(r,{name:"itemsContent",hash:{},data:s}):l)?i:"")+'</div>\n    <div class="show-more center-text'+(null!=(i=n.if.call(r,null!=t?t.hasMore:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(2,s,0),data:s}))?i:"")+'">\n        <button class="btn btn-link on-showmore" role="button" aria-controls="'+c("function"==typeof(l=null!=(l=n.containerId||(null!=t?t.containerId:t))?l:o)?l.call(r,{name:"containerId",hash:{},data:s}):l)+"\">\n          <span class='show-more-message'>\n              <span>"+c((n.trans||t&&t.trans||o).call(r,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n              <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n          </span>\n          <span class='loading-message hidden'>\n              "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||o).call(r,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n              <span> "+c((n.trans||t&&t.trans||o).call(r,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n          </span>\n        </button>\n    </div>\n"},2:function(e,t,n,a,s){return" hidden"},4:function(e,t,n,a,s){var i;return'  <div class="collection"><p>'+e.escapeExpression("function"==typeof(i=null!=(i=n.emptyMessage||(null!=t?t.emptyMessage:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"emptyMessage",hash:{},data:s}):i)+"</p></div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.count:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.stories:t,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:""},2:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{};return'      <div class="story'+(null!=(i=n.if.call(r,null!=t?t.promoted:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+'" data-story-id="'+e.escapeExpression("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:n.helperMissing)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n'+(null!=(i=e.invokePartial(a["core.item_views.story_item"],t,{name:"core.item_views.story_item",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"      </div>\n"},3:function(e,t,n,a,s){return" story-item"},5:function(e,t,n,a,s){return" on-story-preview"},7:function(e,t,n,a,s){return'    <p class="no-item">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"No stories available.",{name:"trans",hash:{},data:s}))+"</p>\n"},9:function(e,t,n,a,s){var i,l=e.escapeExpression;return'<a class="btn btn-link" href=\''+l(e.lambda(null!=(i=null!=t?t.filter:t)?i.link:i,t))+"'>\n  "+l((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"View More in %s",null!=(i=null!=t?t.filter:t)?i.name:i,{name:"trans",hash:{},data:s}))+"\n</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return"<div class='collection'>\n"+(null!=(i=n.if.call(l,null!=t?t.hasStories:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(7,s,0),data:s}))?i:"")+"</div>\n"+(null!=(i=n.if.call(l,null!=t?t.filter:t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:"")+'<div id="preview-modal"></div>\n'},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="triangle"></div>\n<div class="dropdown-menu dropdown-menu-right add-to-library">\n    <ul class="lists-menu" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'"></ul>\n    <div class="inputs">\n        <label for="new-reading-list" class="sr-only">'+c((n.trans||t&&t.trans||o).call(r,"New Reading List",{name:"trans",hash:{},data:s}))+"</label>\n        "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-warning",12,"wp-errorbackground error-feedback",{name:"iconify",hash:{},data:s}))?i:"")+'\n        <input id="new-reading-list" type="text" class="form-control list-name list-error-placeholder"\n               placeholder="'+c((n.trans||t&&t.trans||o).call(r,"Add new reading list...",{name:"trans",hash:{},data:s}))+'">\n        <button class="btn btn-orange on-create-list" type="button" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n          '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-plus",9,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"\n        </button>\n    </div>\n</div>\n"},useData:!0})},function(e,t){e.exports=function(){return"undefined"==typeof window}},function(e,t){e.exports=_},function(e,t,n){"use strict";e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={variation:"default",loadAdMethod:"loadHbAd"};return e.USE_PREBID&&(t={variation:"usePrebid",loadAdMethod:"loadHbAdPrebid"}),t}},function(e,t,n){"use strict";var a=n(273),s=n(274),i=n(1);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{additionalClasses:"",adText:"",adTextClass:"",height:0,inlineStyle:"",parentClass:"",ts:Date.now(),width:0};"readinglong_mid_mweb"!==e&&"readinglong_mid_loggedout_mweb"!==e||(t.width=300,t.height=250);var n=i(e),l=!!t.parentClass,r=t.adText?'<h4 class="'.concat(t.adTextClass,'">').concat(t.adText,"</h4>"):"",o=a(t.width,t.height),c=o.length,u=Math.floor(Math.random()*c),d=o[u],h="".concat(s.assetServer,"/image/").concat(d.prefix),p="".concat(h,"_").concat(t.width,"x").concat(t.height).concat(d.postfix,".png"),m='<a href="'.concat(d.link,'" class="hc-creative" rel="nofollow" target="_blank"><img src="').concat(p,'" width="').concat(t.width,'" height="').concat(t.height,'" alt="" /></a>');return l?null!=n&&n.sticky?'<div id="'.concat(e,"-").concat(t.ts,'" class="').concat(t.parentClass," ").concat(t.additionalClasses,'" data-start-selector="').concat(n.stickyStart,'" data-end-selector="').concat(n.stickyEnd,'" aria-label="Advertisement">').concat(r).concat(m,"</div>"):'<div id="'.concat(e,"-").concat(t.ts,'" class="advertisement hc ').concat(t.parentClass," ").concat(t.additionalClasses,'" ').concat(t.inlineStyle,">").concat(r).concat(m,"</div>"):m}},function(e,t,n){"use strict";e.exports=function(e){var t,n;if(!e||0===Object.keys(e).length)throw new Error("Invalid Size entered");for(var a in e){var s=e[a],i=s[0]*s[1];(!t||t<i)&&(t=i,n=a)}return[e[n][0],e[n][1]]}},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return(null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.stories:t,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"\n"},2:function(e,t,n,a,s){var i;return'      <div class="browse-story-item">\n'+(null!=(i=e.invokePartial(a["core.item_views.browse_story_item"],t,{name:"core.item_views.browse_story_item",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"      </div>\n"},4:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.writers:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(8,s,0),data:s}))?i:""},5:function(e,t,n,a,s){var i;return(null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.writers:t,{name:"each",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+"\n"},6:function(e,t,n,a,s){var i;return'      <div class="tag-module-writers">\n'+(null!=(i=e.invokePartial(a["core.item_views.tag_module_writers"],t,{name:"core.item_views.tag_module_writers",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"      </div>\n"},8:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.lists:t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:""},9:function(e,t,n,a,s){var i;return(null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.lists:t,{name:"each",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?i:"")+"  "},10:function(e,t,n,a,s){var i;return'      <div class="tag-module-lists">\n'+(null!=(i=e.invokePartial(a["core.item_views.tag_module_lists"],t,{name:"core.item_views.tag_module_lists",hash:{isDesktop:!0},data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"      </div>\n"},12:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'  <div class="show-more center-text hidden">\n    <button class="btn btn-grey on-showmore">\n    <span class=\'show-more-message\'>\n      <span>'+o((n.trans||t&&t.trans||r).call(l,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n      <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n    </span>\n      <span class='loading-message hidden'>\n      "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n        <span>"+o((n.trans||t&&t.trans||r).call(l,"Loading...",{name:"trans",hash:{},data:s}))+'</span>\n    </span>\n    </button>\n  </div>\n\n  <div id="preview-modal"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'<article id="browse-results-item-view">\n'+(null!=(i=n.if.call(l,null!=t?t.stories:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?i:"")+"</article>\n\n"+(null!=(i=n.if.call(l,null!=t?t.stories:t,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){"use strict";(function(e){function t(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var i=n(8);e.exports=function(n,s){var l,r=/[ -/|:-@|[-`|{-~]/g,o=[],c=n.toLowerCase().replace(r,""),u=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,l=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw l}}}}(function(){if(i()){return e.require("../server/config").harm}var t,n;return null===(t=window)||void 0===t||null===(n=t.wattpad)||void 0===n?void 0:n.harm}());try{var d=function(){var e,n,a=l.value,u=i()?s.i18n.trans:null===(e=window)||void 0===e||null===(n=e.wattpad)||void 0===n?void 0:n.utils.trans;a.words.map((function(e){return u(e).toLowerCase()})).some((function(e){return c.includes(e.replace(r,""))}))&&o.push(u.apply(void 0,[a.message[0]].concat(t(a.message.slice(1)))))};for(u.s();!(l=u.n()).done;)d()}catch(e){u.e(e)}finally{u.f()}return o}}).call(this,n(2)(e))},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'<h3 class="h6">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"%s posted a new story",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,{name:"trans",hash:{},data:s}))+"</h3>"},3:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.groupCount:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?i:""},4:function(e,t,n,a,s){var i;return'        <h3 class="h6">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"%s posted %s parts",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,null!=t?t.groupCount:t,{name:"trans",hash:{},data:s}))+"</h3>\n"},6:function(e,t,n,a,s){var i;return'        <h3 class="h6">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"%s posted %s - %s",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.title:i,{name:"trans",hash:{},data:s}))+"</h3>\n"},8:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'    <a href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'" class="panel story on-navigate">\n        <div class="cover cover-md pull-left">\n            <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,123,{name:"resizeCover",hash:{},data:s}))+'">\n        </div>\n        <div class="content">\n            <h4 class="h3">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+" - "+c(e.lambda(null!=(i=null!=t?t.part:t)?i.title:i,t))+"</h4>\n            <small>"+(null!=(i=n.if.call(r,null!=(i=null!=t?t.user:t)?i.name:i,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:"")+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Part","%s Parts",null!=t?t.numParts:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numParts:t,{name:"sprintf",hash:{},data:s}))+'</small>\n            <div class="meta">\n                '+(null!=(i=n.if.call(r,null!=t?t.readCount:t,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?i:"")+"\n                "+(null!=(i=n.if.call(r,null!=t?t.voteCount:t,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?i:"")+"\n            </div>\n            <p>"+c((n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.description:t,140,!1,{name:"simpleShorten",hash:{},data:s}))+'</p>\n        </div>\n    </a>\n\n    <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-toggle="tooltip" data-placement="left" title="'+c((n.trans||t&&t.trans||o).call(r,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n    </button>\n'},9:function(e,t,n,a,s){var i;return e.escapeExpression(e.lambda(null!=(i=null!=t?t.user:t)?i.name:i,t))+" &middot; "},11:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="reads">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-view",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+"</small>"},13:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="votes">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r,o=e.lambda,c=e.escapeExpression,u=null!=t?t:e.nullContext||{},d=n.helperMissing,h=n.blockHelperMissing,p='<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+c(o(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n      <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||d).call(u,null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    ';return l=null!=(l=n.isNew||(null!=t?t.isNew:t))?l:d,r={name:"isNew",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(u,r):l,n.isNew||(i=h.call(t,i,r)),null!=i&&(p+=i),p+="\n",l=null!=(l=n.isNew||(null!=t?t.isNew:t))?l:d,r={name:"isNew",hash:{},fn:e.noop,inverse:e.program(3,s,0),data:s},i="function"==typeof l?l.call(u,r):l,n.isNew||(i=h.call(t,i,r)),null!=i&&(p+=i),p+'    <time datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:d)?l.call(u,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.fromNow||t&&t.fromNow||d).call(u,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(i=e.invokePartial(a["core.feed_items.feed_item_options"],t,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</header>\n\n<div class="panel-body">\n\n'+(null!=(i=h.call(t,o(null!=(i=null!=t?t.data:t)?i.story:i,t),{name:"data.story",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?i:"")+'\n</div>\n\n<footer class="panel-footer">\n    <a href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||d).call(u,null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.url:i,{name:"formatStoryUrl",hash:{},data:s}))+'" class="btn btn-text on-navigate">'+c((n.trans||t&&t.trans||d).call(u,"Story details",{name:"trans",hash:{},data:s}))+"</a>\n</footer>\n"},usePartial:!0,useData:!0})},function(e,t,n){"use strict";var a=/#[\w]+(?=\s|$)/g;e.exports={getStoryTagsEventAttributes:function(e){var t=null==e?void 0:e.match(a);return t?t.map((function(e){return e.replace("#","")})):[]},getStoryLengthEventAttributes:function(e){var t=[];return(!e||null!=e&&e.anyLength)&&t.push("all"),null!=e&&e.oneToTen&&t.push("1-10"),null!=e&&e.tenToTwenty&&t.push("10-20"),null!=e&&e.twentyToFifty&&t.push("20-50"),null!=e&&e.moreThanFifty&&t.push(">=50"),t},getStoryLastUpdatedEventAttributes:function(e){var t="-1";return null!=e&&e.year?t="365":null!=e&&e.month?t="30":null!=e&&e.week?t="7":null!=e&&e.day&&(t="1"),t},getStoryContentEventAttributes:function(e,t){var n;return n=t?null!=e&&e.mature?0:1:0,{complete:null!=e&&e.complete?1:0,mature:n,free:null!=e&&e.free?0:1,paid:null!=e&&e.paid?0:1}}}},function(e,t,n){"use strict";var a=n(9);e.exports=function(e){return a.get(e,"isBrandSafe")}},function(e,t,n){"use strict";(function(e){var t=n(279),a=n(280),s=n(281),i=n(282),l=n(8);e.exports=function(n,r,o){l()?e.require("../../server/config").application.categoryList:window.wattpad.categoryList;var c=r?r.rank:void 0,u=n?n.category?n.category:n.categories[0]:void 0,d={};return r&&r.rating&&(d.partRating=r.rating),n&&n.rating&&(d.storyRating=n.rating),u&&(d.category=u),r&&r.totalViewCount?d.totalViewCount=t(r.totalViewCount):n&&n.totalViewCount&&(d.totalViewCount=t(n.totalViewCount)),r&&r.language?d.language=r.language:n&&n.language.id&&(d.language=n.language.id),c&&(d.rankingStatus=a(c)),n&&n.id&&(d.storyId=n.id),r&&r.id&&(d.partId=r.id,d.tUrl="https://www.wattpad.com/amp/".concat(r.id)),o&&o.gender&&(d.KV1=s(o),d.KV2=i(o)),r&&r.brandSafetySource&&void 0!==r.brandSafetyLevel&&(d.brandSafetySource=r.brandSafetySource,d.brandSafetyLevel=r.brandSafetyLevel),d}}).call(this,n(2)(e))},function(e,t,n){"use strict";var a=n(277);e.exports=function(e,t,n){return!!e.DELAY_ADS&&(n?!n.modifyDate||a().diff(a(n.modifyDate),"days")<5:!!t&&(!t.modifyDate||a().diff(a(t.modifyDate),"days")<5))}},function(e,t,n){"use strict";var a=n(56),s=n(17),i=function(e){return!(!e||!s(e)||a(e))};e.exports=function(e,t){var n,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!s.SPECIAL_AD_EXEMPT&&(e&&t&&(s.USE_DOUBLE_VERIFY&&(n=e.brandSafetyLevel),s.MATURE_FLAG_REFACTOR&&(a=e.contentRating)),t&&!e&&(s.USE_DOUBLE_VERIFY&&(n=t.brandSafetyLevel),s.MATURE_FLAG_REFACTOR&&(a=t.contentRating)),s.USE_DOUBLE_VERIFY&&void 0!==n?n<1:s.MATURE_FLAG_REFACTOR&&void 0!==a?a<.06:t&&Object.keys(t).length>0?i(t):(console.error({storyPart:e,storyGroup:t,dvFlag:s.USE_DOUBLE_VERIFY,storyDNAFlag:s.MATURE_FLAG_REFACTOR,message:"Brand Safety error"}),!1))}},function(e,t){e.exports=function(e,t,n){if("string"!=typeof e||!e.length)throw new TypeError("componentName is a mandatory string");if("string"!=typeof n||!n.length)throw new TypeError("currentPath is a mandatory string");return"component-".concat(e,"-").concat(t,"-").concat(n).toLowerCase()}},function(e,t,n){"use strict";e.exports=function(e,t,n){return!e&&!t&&!n}},function(e,t,n){(function(e){function t(e,t,n,a,s,i,l){try{var r=e[i](l),o=r.value}catch(e){return void n(e)}r.done?t(o):Promise.resolve(o).then(a,s)}var a=n(9),s="undefined"!=typeof window?function(e){return Promise.resolve($.ajax({type:"GET",url:e}))}:function(t,n,a){return e.require("../utils").apiHttp.get(t,null,a,n)};e.exports=function(e,n,i,l){return new Promise(function(){var r,o=(r=regeneratorRuntime.mark((function t(r){var o,c,u,d,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h=function(){return s(d,i,l).then((function(e){if(e.parts&&e.parts.length>0&&c){var t=e.parts.find((function(e){return e.id==c}));if(t&&null!=t.rating)return t.rating}if(!c&&e.detail&&null!=e.detail.rating)return e.detail.rating})).catch((function(e){var t;t=e,console.log("getContentRating Error: "+t)}))},o=a.get(e,"id"),c=a.get(n,"id"),u=a.get(n,"group.language.id")||a.get(e,"language"),d="/v5/stories/".concat(o,"/classification/rating"),t.t0=r,1!==u){t.next=12;break}return t.next=9,h();case 9:t.t1=t.sent,t.next=13;break;case 12:t.t1=void 0;case 13:return t.t2=t.t1,t.abrupt("return",(0,t.t0)(t.t2));case 15:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,s){var i=r.apply(e,n);function l(e){t(i,a,s,l,o,"next",e)}function o(e){t(i,a,s,l,o,"throw",e)}l(void 0)}))});return function(e){return o.apply(this,arguments)}}())}}).call(this,n(2)(e))},function(e,t,n){"use strict";(function(e){function t(e,t,n,a,s,i,l){try{var r=e[i](l),o=r.value}catch(e){return void n(e)}r.done?t(o):Promise.resolve(o).then(a,s)}var a=n(9),s=n(8),i={brandSafetyLevel:3,brandSafetySource:"MANUAL_FALLBACK"},l=s()?function(t,n,a){return e.require("../server/utils").apiHttp.get(t,null,a,n).then((function(e){if((null==e?void 0:e.code)>=400&&(null==e?void 0:e.code)<500)throw e;return e})).catch((function(e){throw e}))}:function(e){return Promise.resolve($.ajax({type:"GET",url:e}))};e.exports=function(e,n,s,r){return new Promise(function(){var o,c=(o=regeneratorRuntime.mark((function t(o){var c,u,d,h,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.get(e,"id"),u=a.get(n,"id"),d=u?"parts":"description",h=a.get(n,"group.language.id")||a.get(e,"language"),p="/v5/stories/".concat(c,"/ads-metadata/brand-safety/").concat(d,"?languageId=").concat(h).concat(u?"&partIds=".concat(u):""),t.t0=o,t.next=8,l(p,s,r).then((function(e){return e})).catch((function(e){var t;return 400===(t=e).status&&t.responseJSON?console.log("getContentRating Error: "+t.responseJSON.message):400===t.code&&t.message?console.log("getContentRating Error: "+t.message):console.log("getContentRating Error: No response received"),i}));case 8:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 10:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,s){var i=o.apply(e,n);function l(e){t(i,a,s,l,r,"next",e)}function r(e){t(i,a,s,l,r,"throw",e)}l(void 0)}))});return function(e){return c.apply(this,arguments)}}())}}).call(this,n(2)(e))},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" in-list"},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'  <div class="status">\n    <span class="check '+(null!=(i=n.unless.call(l,null!=t?t.inList:t,{name:"unless",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'fa-stack fa-lg in-list">\n      '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-circle-empty","auto","wp-base-2 fa-stack-2x",{name:"iconify",hash:{},data:s}))?i:"")+"\n      "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-check","auto","wp-base-2 fa-stack-1x",{name:"iconify",hash:{},data:s}))?i:"")+'\n    </span>\n    <span class="hidden spinner">\n      '+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",18,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{color:"wp-base-2"},data:s}))?i:"")+"\n    </span>\n  </div>\n"},4:function(e,t,n,a,s){return"hidden "},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<li><a class="on-modify-list'+(null!=(i=n.if.call(r,null!=t?t.inList:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'" data-list-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n  '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,null!=t?t.auto:t,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n  <span class="reading-list-name">'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+"</span>\n"+(null!=(i=n.unless.call(r,null!=t?t.hideStatus:t,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"</a></li>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"StoryItem",null!=t?t.id:t,{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t["current-user"]:t)?i.recommendedTags:i,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(9,s,0),data:s}))?i:""},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'    <div class="dropdown-menu new-curation logged-in large" aria-labelledby="discover-dropdown">\n      <div class="col-xs-9">\n        <ul class="bold" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Browse Stories",{name:"trans",hash:{},data:s}))+'" id="main-browse-navigate">\n          <li><a class="on-navigate" href="/stories">'+o((n.trans||t&&t.trans||r).call(l,"Browse",{name:"trans",hash:{},data:s}))+'</a></li>\n        </ul>\n\n        <div class="col-xs-9 discover-categories">\n          <ul class="row" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Categories",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(i=n.each.call(l,null!=t?t.categories:t,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'          </ul>\n        </div>\n\n        <div class="col-xs-3">\n          <ul aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Trending Tags",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(i=n.each.call(l,null!=(i=null!=t?t["current-user"]:t)?i.recommendedTags:i,{name:"each",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+'          </ul>\n        </div>\n      </div>\n\n      <div class="col-xs-3 wattpad-picks">\n        <ul class="row" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Wattpad Picks",{name:"trans",hash:{},data:s}))+'">\n          <li class="title col-xs-12">'+o((n.trans||t&&t.trans||r).call(l,"Wattpad Picks",{name:"trans",hash:{},data:s}))+"</li>\n"+(null!=(i=n.each.call(l,null!=t?t.newCurationLists:t,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+"        </ul>\n      </div>\n    </div>\n"},3:function(e,t,n,a,s){var i=e.escapeExpression;return'              <li class="col-xs-6">\n                <a class="on-navigate" href="/stories/'+i((n.slugify||t&&t.slugify||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.name_english:t,{name:"slugify",hash:{},data:s}))+'">'+i(e.lambda(null!=t?t.name:t,t))+"</a>\n              </li>\n"},5:function(e,t,n,a,s){var i=e.escapeExpression;return'              <li><a class="on-navigate" href="/tags/'+i(e.lambda(t,t))+'">'+i((n.styleHashtag||t&&t.styleHashtag||n.helperMissing).call(null!=t?t:e.nullContext||{},t,{name:"styleHashtag",hash:{},data:s}))+"</a></li>\n"},7:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'            <li class="col-xs-12">\n              <a href="/featured/'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'" class="on-navigate">'+o("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:r)?i.call(l,{name:"name",hash:{},data:s}):i)+"</a>\n            </li>\n"},9:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'    <div class="dropdown-menu new-curation large" aria-labelledby="discover-dropdown">\n      <div class="col-xs-3">\n        <ul class="bold" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Browse Stories",{name:"trans",hash:{},data:s}))+'" id="main-browse-navigate">\n          <li><a class="on-navigate" href="/stories">'+o((n.trans||t&&t.trans||r).call(l,"Browse",{name:"trans",hash:{},data:s}))+'</a></li>\n        </ul>\n      </div>\n\n      <div class="col-xs-6 discover-categories">\n        <ul class="row" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Categories",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(i=n.each.call(l,null!=t?t.categories:t,{name:"each",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?i:"")+'        </ul>\n      </div>\n\n      <div class="col-xs-3 wattpad-picks">\n        <ul class="row" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Wattpad Picks",{name:"trans",hash:{},data:s}))+'">\n          <li class="title col-xs-12">'+o((n.trans||t&&t.trans||r).call(l,"Wattpad Picks",{name:"trans",hash:{},data:s}))+"</li>\n"+(null!=(i=n.each.call(l,null!=t?t.newCurationLists:t,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+"        </ul>\n      </div>\n    </div>\n"},10:function(e,t,n,a,s){var i=e.escapeExpression;return'            <li class="col-xs-6">\n              <a class="on-navigate" href="/stories/'+i((n.slugify||t&&t.slugify||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.name_english:t,{name:"slugify",hash:{},data:s}))+'">'+i(e.lambda(null!=t?t.name:t,t))+"</a>\n            </li>\n"},12:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'  <div class="dropdown-menu large" aria-labelledby="discover-dropdown">\n    <div class="col-xs-3">\n      <ul class="bold" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Browse Stories",{name:"trans",hash:{},data:s}))+'" id="main-browse-navigate">\n        <li><a class="on-navigate" href="/stories">'+o((n.trans||t&&t.trans||r).call(l,"Browse",{name:"trans",hash:{},data:s}))+'</a></li>\n      </ul>\n    </div>\n\n    <div class="col-xs-6 discover-categories">\n      <ul class="row" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Categories",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(i=n.each.call(l,null!=t?t.categories:t,{name:"each",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?i:"")+"      </ul>\n    </div>\n\n"+(null!=(i=n.if.call(l,null!=(i=null!=t?t["current-user"]:t)?i.recommendedTags:i,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?i:"")+"  </div>\n"},13:function(e,t,n,a,s){var i=e.escapeExpression;return'          <li class="col-xs-6">\n            <a class="on-navigate" href="/stories/'+i((n.slugify||t&&t.slugify||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.name_english:t,{name:"slugify",hash:{},data:s}))+'">'+i(e.lambda(null!=t?t.name:t,t))+"</a>\n          </li>\n"},15:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'      <div class="col-xs-3">\n        <ul aria-label="'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(l,"Trending Tags",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(i=n.each.call(l,null!=(i=null!=t?t["current-user"]:t)?i.recommendedTags:i,{name:"each",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?i:"")+"        </ul>\n      </div>\n"},16:function(e,t,n,a,s){var i=e.escapeExpression;return'            <li><a class="on-navigate" href="/tags/'+i(e.lambda(t,t))+'">'+i((n.styleHashtag||t&&t.styleHashtag||n.helperMissing).call(null!=t?t:e.nullContext||{},t,{name:"styleHashtag",hash:{},data:s}))+"</a></li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return'<div class="triangle"></div>\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.newCurationLists:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(12,s,0),data:s}))?i:"")},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'  <div class="dropdown-menu new-curation large header-list" aria-labelledby="browse-dropdown">\n    <div class="col-xs-9 discover-categories">\n      <ul class="row">\n        <li class="title col-xs-12" aria-label="Browse Topics">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(l,"Browse",{name:"trans",hash:{},data:s}))+"</li>\n"+(null!=(i=n.each.call(l,null!=t?t.browseTopics:t,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"      </ul>\n    </div>\n"+(null!=(i=n.if.call(l,null!=t?t.showWattpadPicks:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+"  </div>\n"},2:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{};return'          <li class="col-xs-4">\n              <a '+(null!=(i=n.if.call(r,null!=t?t.browseURL:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+' class="on-navigate on-topic">'+e.escapeExpression("function"==typeof(l=null!=(l=n.topic||(null!=t?t.topic:t))?l:n.helperMissing)?l.call(r,{name:"topic",hash:{},data:s}):l)+"</a>\n          </li>\n"},3:function(e,t,n,a,s){var i;return'href="'+e.escapeExpression("function"==typeof(i=null!=(i=n.browseURL||(null!=t?t.browseURL:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"browseURL",hash:{},data:s}):i)+'"'},5:function(e,t,n,a,s){return'href="'+e.escapeExpression((n.categoryNameToUrl||t&&t.categoryNameToUrl||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.name:t,{name:"categoryNameToUrl",hash:{},data:s}))+'"'},7:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'      <div class="col-xs-3 wattpad-picks">\n        <ul class="row" aria-label="Wattpad Picks">\n          <li class="title col-xs-12">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(l,"Wattpad Picks",{name:"trans",hash:{},data:s}))+"</li>\n"+(null!=(i=n.each.call(l,null!=t?t.newCurationLists:t,{name:"each",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?i:"")+"        </ul>\n      </div>\n"},8:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'              <li class="col-xs-12">\n                <a href="/featured/'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'" class="on-navigate">'+o("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:r)?i.call(l,{name:"name",hash:{},data:s}):i)+"</a>\n              </li>\n"},10:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'  <div class="dropdown-menu large" aria-labelledby="browse-dropdown">\n    <div class="col-xs-3">\n      <ul class="bold" aria-label="Browse Topics">\n        <li>'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(l,"Browse",{name:"trans",hash:{},data:s}))+'</li>\n      </ul>\n    </div>\n\n    <div class="col-xs-9 discover-categories">\n      <ul class="row">\n'+(null!=(i=n.each.call(l,null!=t?t.browseTopics:t,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"      </ul>\n    </div>\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return'<div class="triangle"></div>\n\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.newCurationLists:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(10,s,0),data:s}))?i:"")},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"The Watty Awards",{name:"trans",hash:{},data:s}))},3:function(e,t,n,a,s){return e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Awards",{name:"trans",hash:{},data:s}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="triangle"></div>\n<div class="dropdown-menu large" aria-labelledby="community-dropdown">\n  <ul aria-label="Community" class="header-list">\n    <li>\n      <a href="/awards" rel="noopener noreferrer" target="_blank">\n        '+(null!=(i=(n.canTrans||t&&t.canTrans||r).call(l,"The Watty Awards",{name:"canTrans",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'\n      </a>\n    </li>\n    <li>\n      <a href="/story/25279524" rel="noopener noreferrer" target="_blank">\n        '+o((n.trans||t&&t.trans||r).call(l,"Community Happenings",{name:"trans",hash:{},data:s}))+'\n      </a>\n    </li>\n    <li>\n      <a href="/823619" rel="noopener noreferrer" target="_blank">\n        '+o((n.trans||t&&t.trans||r).call(l,"Wattpad Ambassadors",{name:"trans",hash:{},data:s}))+"\n      </a>\n    </li>\n  </ul>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'  <div class="button-group inline-block relative pull-right">\n    <button class="btn btn-grey dropdown-toggle" data-toggle="dropdown"\n            role="button" aria-controls="activity-more-options" aria-expanded="false" aria-label="more options">\n        '+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(l,"fa-more",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n    </button>\n    <div class="triangle"></div>\n    <ul id="activity-more-options" class="dropdown-menu align-right">\n'+(null!=(i=n.if.call(l,null!=t?t.isValidMessage:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+"    </ul>\n  </div>\n"},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'        <li>\n          <a class="on-report" role="button" href="#"\n            data-toggle="modal" data-action="reportMessage">\n            '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-flag",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Report Message",{name:"trans",hash:{},data:s}))+"\n          </a>\n        </li>\n"+(null!=(i=n.if.call(l,null!=t?t.canDelete:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'          <li>\n            <a class="on-delete" role="button" href="#" data-toggle="modal"\n              data-action="deleteMessage">\n              '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-trash",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Delete Message",{name:"trans",hash:{},data:s}))+"\n            </a>\n          </li>\n"},5:function(e,t,n,a,s){var i;return null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:""},6:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'          <li>\n            <a class="on-hide" role="button" href="#"\n              data-toggle="modal" data-action="deleteEvent">\n            '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove-alt",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Remove",{name:"trans",hash:{},data:s}))+"\n            </a>\n          </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{};return'<footer class="clearfix">\n'+(null!=(i=n.if.call(r,null!=t?t.hideMenu:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?i:"")+"\n  "+(null!=(i="function"==typeof(l=null!=(l=n.leftButton||(null!=t?t.leftButton:t))?l:n.helperMissing)?l.call(r,{name:"leftButton",hash:{},data:s}):l)?i:"")+"\n</footer>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=e.escapeExpression,r=e.lambda;return"      "+l((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"posted a message to",{name:"trans",hash:{},data:s}))+'\n      <a class="on-user"\n       data-username="'+l(r(null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.message:i)?i.to:i)?i.name:i,t))+'"\n       href="/user/'+l(r(null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.message:i)?i.to:i)?i.name:i,t))+'">\n       <strong>'+l(r(null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.message:i)?i.to:i)?i.name:i,t))+"</strong>\n      </a>\n"},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<div class="warning">\n  '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-warning",14,"wp-lighterror",{name:"iconify",hash:{},data:s}))?i:"")+"<span>"+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"This comment may be offensive.",{name:"trans",hash:{},data:s}))+"</span>\n</div>\n"},5:function(e,t,n,a,s){var i,l,r=e.lambda,o=e.escapeExpression;return'  <div id="replies-'+o(r(null!=(i=null!=(i=null!=t?t.data:t)?i.message:i)?i.id:i,t))+"\"\n      class='replies-list collapse'\n      data-id=\""+o(r(null!=(i=null!=(i=null!=t?t.data:t)?i.message:i)?i.id:i,t))+'"\n      data-profile-owner="'+o("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:n.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"username",hash:{},data:s}):l)+'"\n      data-message-owner="'+o(r(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n  </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<header>\n  <a class="on-user avatar avatar-sm"\n     data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'"\n     href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n    <img src="'+r((n.resizeAvatar||t&&t.resizeAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    <a class="on-user"\n     data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'"\n     href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n     <strong>'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+"</strong>\n    </a>\n"+(null!=(i=n.if.call(o,null!=t?t.showTarget:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"  </div>\n  <time>"+r((n.fromNow||t&&t.fromNow||c).call(o,null!=t?t.createDate:t,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n\n"+(null!=(i=n.if.call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.message:i)?i.isOffensive:i,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n<pre>"+(null!=(i=(n.linkify||t&&t.linkify||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.message:i)?i.body:i,{name:"linkify",hash:{},data:s}))?i:"")+"</pre>\n\n"+(null!=(i=e.invokePartial(a["core.events.partials.user_event_footer"],t,{name:"core.events.partials.user_event_footer",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+"\n"+(null!=(i=n.if.call(o,null!=t?t.isReply:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(5,s,0),data:s}))?i:"")+"\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" on-send-reply-event "},3:function(e,t,n,a,s){return" on-send-event "},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="panel-body beautify-url" data-story-id="'+c("function"==typeof(l=null!=(l=n.storyId||(null!=t?t.storyId:t))?l:o)?l.call(r,{name:"storyId",hash:{},data:s}):l)+'" data-originator="'+c("function"==typeof(l=null!=(l=n.originator||(null!=t?t.originator:t))?l:o)?l.call(r,{name:"originator",hash:{},data:s}):l)+'">\n    <a href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'" class="panel story on-navigate '+(null!=(i=n.if.call(r,null!=t?t.isReply:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'">\n        <div class="cover cover-md pull-left">\n            <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,123,{name:"resizeCover",hash:{},data:s}))+'">\n        </div>\n        <div class="content">\n            <h4 class="h3">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+"</h4>\n            <p>"+c((n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.description:t,400,{name:"simpleShorten",hash:{},data:s}))+"</p>\n        </div>\n    </a>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.canMute:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?i:""},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'        <button class="on-mute user-safety-operation btn-no-background btn-left-icon"  data-toggle="modal" data-action="muteUser">\n          '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"mute",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+" <span>"+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Mute %s",null!=t?t.feedItemMessageOptionsAuthor:t,{name:"trans",hash:{},data:s}))+"</span>\n        </button>\n"},4:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'        <button class="on-unmute user-safety-operation btn-no-background btn-left-icon"  data-toggle="modal" data-action="unmuteUser">\n          '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"unmute",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+" <span>"+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Unmute %s",null!=t?t.feedItemMessageOptionsAuthor:t,{name:"trans",hash:{},data:s}))+"</span>\n        </button>\n"},6:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'        <button  class="on-delete user-safety-operation btn-no-background btn-left-icon"  data-toggle="modal" data-action="deleteMessage">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"trash",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+" <span>"+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Delete Message",{name:"trans",hash:{},data:s}))+"</span> </button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<div class="button-group dropdown">\n  <button class="btn btn-text btn-options dropdown-toggle" data-toggle="dropdown" aria-controls="more-options" aria-expanded="false" aria-label="more options">\n'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-more",20,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'</button>\n  <div class="triangle"></div>\n  <div class="dropdown-menu align-right">\n\n    <div class="user-safety-operations">\n'+(null!=(i=n.if.call(l,null!=t?t.showMuteOption:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'      <button class="on-report user-safety-operation btn-no-background btn-left-icon"  data-toggle="modal" data-action="reportMessage">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"report",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+" <span>"+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Report Message",{name:"trans",hash:{},data:s}))+"</span> </button>\n\n"+(null!=(i=n.if.call(l,null!=t?t.canDelete:t,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+'    </div>\n  </div>\n</div>\n\n<div class="message-report-modal">\n</div>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'<a class="cover '+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.coverSize:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?i:"")+' empty-cover">\n    <div class="fixed-ratio fixed-ratio-cover">\n    </div>\n</a>\n'},2:function(e,t,n,a,s){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.coverSize||(null!=t?t.coverSize:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"coverSize",hash:{},data:s}):i)},4:function(e,t,n,a,s){return"cover-home"},6:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<a class="'+(null!=(i=n.if.call(r,null!=t?t.isRecentlyRead:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s}))?i:"")+"cover "+(null!=(i=n.if.call(r,null!=t?t.coverSize:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?i:"")+'" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">\n    <div class="fixed-ratio fixed-ratio-cover">\n'+(null!=(i=n.if.call(r,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?i:"")+"    </div>\n</a>\n"+(null!=(i=n.if.call(r,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.program(31,s,0),data:s}))?i:"")},7:function(e,t,n,a,s){return"on-continue-reading "},9:function(e,t,n,a,s){return"on-story-preview "},11:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'            <img src="'+o((n.resizeCover||t&&t.resizeCover||r).call(l,null!=t?t.cover:t,142,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((n.trans||t&&t.trans||r).call(l,"%1$s by %2$s",null!=t?t.title:t,null!=(i=null!=t?t.user:t)?i.name:i,{name:"trans",hash:{},data:s}))+'">\n'},13:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'            <img src="'+o((n.resizeCover||t&&t.resizeCover||r).call(l,null!=t?t.cover:t,92,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((n.trans||t&&t.trans||r).call(l,"%1$s by %2$s",null!=t?t.title:t,null!=(i=null!=t?t.user:t)?i.name:i,{name:"trans",hash:{},data:s}))+'">\n'},15:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'    <div class="content" data-target="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-type="'+c("function"==typeof(l=null!=(l=n.type||(null!=t?t.type:t))?l:o)?l.call(r,{name:"type",hash:{},data:s}):l)+'">\n        <div class="info">\n            <a class="title meta '+(null!=(i=n.if.call(r,null!=t?t.isRecentlyRead:t,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.program(18,s,0),data:s}))?i:"")+'" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">'+c((n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.title:t,null!=t?t.titleCharLimit:t,!1,{name:"simpleShorten",hash:{},data:s}))+"</a>\n\n"+(null!=(i=n.if.call(r,null!=t?t.hideAuthor:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(20,s,0),data:s}))?i:"")+'        </div>\n\n        <div class="meta social-meta">\n            <span class="read-count"\n'+(null!=(i=(n.greaterThan||t&&t.greaterThan||o).call(r,null!=t?t.readCount:t,999,{name:"greaterThan",hash:{},fn:e.program(25,s,0),inverse:e.noop,data:s}))?i:"")+">\n                "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-view",15,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+'\n            </span>\n\n            <span class="vote-count"\n'+(null!=(i=(n.greaterThan||t&&t.greaterThan||o).call(r,null!=t?t.voteCount:t,999,{name:"greaterThan",hash:{},fn:e.program(27,s,0),inverse:e.noop,data:s}))?i:"")+">\n                "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-vote",15,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+'\n            </span>\n\n            <span class="part-count"\n'+(null!=(i=(n.greaterThan||t&&t.greaterThan||o).call(r,null!=t?t.numParts:t,999,{name:"greaterThan",hash:{},fn:e.program(29,s,0),inverse:e.noop,data:s}))?i:"")+">\n                "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-list",15,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.numParts:t,{name:"count",hash:{},data:s}))+"\n            </span>\n        </div>\n    </div>\n"},16:function(e,t,n,a,s){return"on-continue-reading"},18:function(e,t,n,a,s){return"on-story-preview"},20:function(e,t,n,a,s){var i;return'            <a class="username meta on-navigate" href="/user/'+e.escapeExpression(e.lambda(null!=(i=null!=t?t.user:t)?i.name:i,t))+'">\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.user:t)?i.fullname:i,{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.program(23,s,0),data:s}))?i:"")+"            </a>\n"},21:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                    "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"by %s",(n.simpleShorten||t&&t.simpleShorten||r).call(l,null!=(i=null!=t?t.user:t)?i.fullname:i,14,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n"},23:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                    "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"by %s",(n.simpleShorten||t&&t.simpleShorten||r).call(l,null!=(i=null!=t?t.user:t)?i.name:i,14,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n"},25:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return'                  data-toggle="tooltip" data-placement="top" title="'+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Read","%s Reads",(n.format||t&&t.format||l).call(i,null!=t?t.readCount:t,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(n.format||t&&t.format||l).call(i,null!=t?t.readCount:t,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n                '},27:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return'                  data-toggle="tooltip" data-placement="top" title="'+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Vote","%s Votes",(n.format||t&&t.format||l).call(i,null!=t?t.voteCount:t,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(n.format||t&&t.format||l).call(i,null!=t?t.voteCount:t,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n                '},29:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return'                  data-toggle="tooltip" data-placement="top" title="'+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Part","%s Parts",(n.format||t&&t.format||l).call(i,null!=t?t.numParts:t,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(n.format||t&&t.format||l).call(i,null!=t?t.numParts:t,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n                '},31:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'    <div class="content" data-target="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-type="'+c("function"==typeof(l=null!=(l=n.type||(null!=t?t.type:t))?l:o)?l.call(r,{name:"type",hash:{},data:s}):l)+'">\n        <div class="info">\n            <a class="title meta '+(null!=(i=n.if.call(r,null!=t?t.isRecentlyRead:t,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.program(18,s,0),data:s}))?i:"")+'" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">'+c((n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.title:t,null!=t?t.titleCharLimit:t,!1,{name:"simpleShorten",hash:{},data:s}))+"</a>\n\n"+(null!=(i=n.if.call(r,null!=t?t.hideAuthor:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(32,s,0),data:s}))?i:"")+'        </div>\n\n        <div class="meta social-meta">\n            <span class="read-count"> '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-view",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+' </span>\n            <span class="vote-count"> '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-vote",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+' </span>\n            <span class="part-count"> '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-list",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.numParts:t,{name:"count",hash:{},data:s}))+" </span>\n        </div>\n    </div>\n"},32:function(e,t,n,a,s){var i;return'            <a class="username meta on-navigate" href="/user/'+e.escapeExpression(e.lambda(null!=(i=null!=t?t.user:t)?i.name:i,t))+'">\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.user:t)?i.fullname:i,{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.program(35,s,0),data:s}))?i:"")+"            </a>\n"},33:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                    "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"by %s",(n.simpleShorten||t&&t.simpleShorten||r).call(l,null!=(i=null!=t?t.user:t)?i.fullname:i,13,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n"},35:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                    "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"by %s",(n.simpleShorten||t&&t.simpleShorten||r).call(l,null!=(i=null!=t?t.user:t)?i.name:i,13,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.empty:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(6,s,0),data:s}))?i:"")+"\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"LoginForm","login-form",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},3:function(e,t,n,a,s){var i;return(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"SignupForm","signup-form",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},5:function(e,t,n,a,s){var i;return(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"ForgotPassword","forgot-password",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},7:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="panel-body">\n  <small>'+(null!=(i=(n.trans||t&&t.trans||o).call(r,'Visit <a href="https://support.wattpad.com/hc/en-us/articles/211235843-Resetting-or-changing-your-password">Wattpad Support</a> for more information',{name:"trans",hash:{},data:s}))?i:"")+'</small>\n  <hr>\n  <form action="/reset" method="post">\n      <input name="at" value="'+c("function"==typeof(l=null!=(l=n.authToken||(null!=t?t.authToken:t))?l:o)?l.call(r,{name:"authToken",hash:{},data:s}):l)+'" type="hidden" />\n'+(null!=(i=n.if.call(r,null!=t?t.isFromPushNotification:t,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?i:"")+'\n      <div class="form-group has-feedback" data-attr="password">\n          <label class="control-label '+(null!=(i=(n.supportsPlaceholder||t&&t.supportsPlaceholder||o).call(r,null!=t?t.device:t,{name:"supportsPlaceholder",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?i:"")+'" for="reset-password">'+c((n.trans||t&&t.trans||o).call(r,"New password",{name:"trans",hash:{},data:s}))+'</label>\n          <input id="reset-password" class="form-control input-lg enable" name="password-new" type="password" placeholder="'+c((n.trans||t&&t.trans||o).call(r,"New password",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(i="function"==typeof(l=null!=(l=n.validationElements||(null!=t?t.validationElements:t))?l:o)?l.call(r,{name:"validationElements",hash:{},data:s}):l)?i:"")+'\n      </div>\n\n      <div class="form-group has-feedback" data-attr="confirm">\n          <label class="control-label '+(null!=(i=(n.supportsPlaceholder||t&&t.supportsPlaceholder||o).call(r,null!=t?t.device:t,{name:"supportsPlaceholder",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?i:"")+'" for="reset-confirm">'+c((n.trans||t&&t.trans||o).call(r,"Confirm new password",{name:"trans",hash:{},data:s}))+'</label>\n          <input id="reset-confirm" class="form-control input-lg enable" name="password-conf" type="password" placeholder="'+c((n.trans||t&&t.trans||o).call(r,"Confirm new password",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(i="function"==typeof(l=null!=(l=n.validationElements||(null!=t?t.validationElements:t))?l:o)?l.call(r,{name:"validationElements",hash:{},data:s}):l)?i:"")+"\n      </div>\n\n"+(null!=(i=n.if.call(r,null!=t?t.msg:t,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=n.if.call(r,null!=t?t.notice:t,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?i:"")+'\n      <div class="row">\n          <div class="col-sm-7 col-lg-6">\n              <input type="submit" class="btn btn-lg btn-block btn-orange enable" value="'+c((n.trans||t&&t.trans||o).call(r,"Reset password",{name:"trans",hash:{},data:s}))+'">\n          </div>\n\n          <div class="col-sm-5 col-lg-6">\n              <a class="btn btn-lg btn-block btn-grey on-login" rel="nofollow" href="/login" data-form="login">'+c((n.trans||t&&t.trans||o).call(r,"Cancel",{name:"trans",hash:{},data:s}))+"</a>\n          </div>\n      </div>\n\n  </form>\n</div>\n"},8:function(e,t,n,a,s){return'        <input name="isFromPushNotification" value="true" type="hidden" />\n'},10:function(e,t,n,a,s){return"sr-only"},12:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing;return'      <div class="alert alert-danger" role="alert">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-warning",16,"wp-lighterror",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression("function"==typeof(l=null!=(l=n.msg||(null!=t?t.msg:t))?l:o)?l.call(r,{name:"msg",hash:{},data:s}):l)+"</div>\n"},14:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing;return'        <div class="alert alert-info" role="alert">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression("function"==typeof(l=null!=(l=n.notice||(null!=t?t.notice:t))?l:o)?l.call(r,{name:"notice",hash:{},data:s}):l)+"</div>\n"},16:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'<div class="panel-body">\n    <div class="form-group">\n        <h3>'+r((n.trans||t&&t.trans||l).call(i,"Password successfully reset",{name:"trans",hash:{},data:s}))+"</h3>\n        <p>"+r((n.trans||t&&t.trans||l).call(i,"To continue, you need to log out of the Wattpad app on your mobile device and log in with your new password.",{name:"trans",hash:{},data:s}))+'</p>\n        <a href="wattpad://login">'+r((n.trans||t&&t.trans||l).call(i,"Continue",{name:"trans",hash:{},data:s}))+"</a>\n    </div>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return(null!=(i=n.if.call(l,null!=t?t.login:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.signup:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.forgot:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.reset:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.resetConfirmation:t,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?i:"")},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return"btn-text"},3:function(e,t,n,a,s){return"btn-no-background"},5:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isReply:t,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(11,s,0),data:s}))?i:""},6:function(e,t,n,a,s){var i;return(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.canMute:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s}))?i:"")+"\n"},7:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'    \n            <button class="on-mute-reply user-safety-operation btn-no-background btn-left-icon"  data-toggle="modal" data-action="muteUser" data-username="'+c("function"==typeof(l=null!=(l=n.commentItemOptionsAuthor||(null!=t?t.commentItemOptionsAuthor:t))?l:o)?l.call(r,{name:"commentItemOptionsAuthor",hash:{},data:s}):l)+'">\n            '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"mute",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+" <span>"+c((n.trans||t&&t.trans||o).call(r,"Mute %s",null!=t?t.commentItemOptionsAuthor:t,{name:"trans",hash:{},data:s}))+"</span>\n            </button>\n"},9:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'            <button class="on-unmute-reply user-safety-operation btn-no-background btn-left-icon"data-toggle="modal" data-action="unmuteUser" data-username="'+c("function"==typeof(l=null!=(l=n.commentItemOptionsAuthor||(null!=t?t.commentItemOptionsAuthor:t))?l:o)?l.call(r,{name:"commentItemOptionsAuthor",hash:{},data:s}):l)+'">\n            '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"unmute",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+" <span>"+c((n.trans||t&&t.trans||o).call(r,"Unmute %s",null!=t?t.commentItemOptionsAuthor:t,{name:"trans",hash:{},data:s}))+"</span>\n          </button>\n"},11:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.canMute:t,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.program(14,s,0),data:s}))?i:""},12:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'            <button class="on-mute-comment user-safety-operation btn-no-background btn-left-icon"  data-toggle="modal" data-action="muteUser" data-username="'+c("function"==typeof(l=null!=(l=n.commentItemOptionsAuthor||(null!=t?t.commentItemOptionsAuthor:t))?l:o)?l.call(r,{name:"commentItemOptionsAuthor",hash:{},data:s}):l)+'">\n              '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"mute",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+" <span>"+c((n.trans||t&&t.trans||o).call(r,"Mute %s",null!=t?t.commentItemOptionsAuthor:t,{name:"trans",hash:{},data:s}))+"</span>\n            </button>\n"},14:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'            <button class="on-unmute-comment user-safety-operation btn-no-background btn-left-icon"data-toggle="modal" data-action="unmuteUser" data-username="'+c("function"==typeof(l=null!=(l=n.commentItemOptionsAuthor||(null!=t?t.commentItemOptionsAuthor:t))?l:o)?l.call(r,{name:"commentItemOptionsAuthor",hash:{},data:s}):l)+'">\n            '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"unmute",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+" <span>"+c((n.trans||t&&t.trans||o).call(r,"Unmute %s",null!=t?t.commentItemOptionsAuthor:t,{name:"trans",hash:{},data:s}))+"</span>\n            </button>\n"},16:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'      \n        <a  class="user-safety-operation btn-no-background btn-left-icon"role="button" href="'+c("function"==typeof(l=null!=(l=n.deeplink||(null!=t?t.deeplink:t))?l:o)?l.call(r,{name:"deeplink",hash:{},data:s}):l)+'">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"link",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+" <span>"+c((n.trans||t&&t.trans||o).call(r,"Link to Comment",{name:"trans",hash:{},data:s}))+" </span> </a>\n      \n"},18:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'      \n        <button class="on-delete user-safety-operation btn-no-background btn-left-icon" data-toggle="modal" data-action="deleteComment">\n          '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"trash",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+"<span>"+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Delete Comment",{name:"trans",hash:{},data:s}))+"</span> \n        </button>\n      \n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<div class="button-group inline-block relative pull-right">\n  <button class="btn '+(null!=(i=n.if.call(l,null!=t?t.isCommentNotification:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+' dropdown-toggle"\n    data-toggle="dropdown" aria-controls="comment-more-options" aria-expanded="false" aria-label="more options">\n    '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-more",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n  </button>\n  <div class="triangle"></div>\n  <div class="dropdown-menu align-right">\n\n    <div class="user-safety-operations">\n\n'+(null!=(i=n.if.call(l,null!=t?t.showMuteOption:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+'        <button class="on-report user-safety-operation btn-no-background btn-left-icon"  data-toggle="modal" data-action="reportComment">\n          '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"report",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+" <span>"+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Report Comment",{name:"trans",hash:{},data:s}))+"</span>\n        </button>\n\n"+(null!=(i=n.unless.call(l,null!=t?t.isCommentNotification:t,{name:"unless",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.canDelete:t,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?i:"")+'    \n    </div>\n  </div>\n\n</div>\n\n<div class="comment-report-modal">\n</div>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'<article class="notification aggregate follower panel unread">\n    <div class="count">0</div>\n    <div class="content">\n        <div class="heading">'+r((n.trans||t&&t.trans||l).call(i,"You have no new notifications",{name:"trans",hash:{},data:s}))+"</div>\n        <p>"+r((n.trans||t&&t.trans||l).call(i,"Updates about what is happening to you and your stories will be shown here",{name:"trans",hash:{},data:s}))+"</p>\n    </div>\n</article>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'    <div class="user-badge" data-toggle="tooltip" data-placement="right" title="'+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Wattpad Staff",{name:"trans",hash:{},data:s}))?i:"")+'">\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"staff",null!=t?t.badgeSize:t,"wp-base-1","",'viewBox="0 0 20 20"',{name:"iconify",hash:{},data:s}))?i:"")+"\n    </div>\n"},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'    <div class="user-badge" data-toggle="tooltip" data-placement="right" title="'+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Verified",{name:"trans",hash:{},data:s}))?i:"")+'">\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"verified",null!=t?t.badgeSize:t,"wp-base-1","",'viewBox="0 0 20 20"',{name:"iconify",hash:{},data:s}))?i:"")+"\n    </div>\n"},5:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'    <div class="user-badge" data-toggle="tooltip" data-placement="right" title="'+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Wattpad Star",{name:"trans",hash:{},data:s}))?i:"")+'">\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"star",null!=t?t.badgeSize:t,"wp-base-1","",'viewBox="0 0 20 20"',{name:"iconify",hash:{},data:s}))?i:"")+"\n    </div>\n"},7:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'    <div class="user-badge" data-toggle="tooltip" data-placement="right" title="'+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Wattpad Ambassador",{name:"trans",hash:{},data:s}))?i:"")+'">\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"ambassador",null!=t?t.badgeSize:t,"wp-base-1","",'viewBox="0 0 20 20"',{name:"iconify",hash:{},data:s}))?i:"")+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return(null!=(i=n.if.call(l,null!=t?t.staff:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.verified:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.star:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.ambassador:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing;return'    <div class="action-wrapper icon-wrapper">\n        <a href="'+e.escapeExpression("function"==typeof(l=null!=(l=n.reportLink||(null!=t?t.reportLink:t))?l:o)?l.call(r,{name:"reportLink",hash:{},data:s}):l)+'" target="_blank" class="on-report-image">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-flag",20,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"</a>\n        "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",20,"wp-neutral-5","on-dismiss",{name:"iconify",hash:{},data:s}))?i:"")+"\n    </div>\n"},3:function(e,t,n,a,s){return"on-dismiss"},5:function(e,t,n,a,s){var i;return'    <div class="background-wrapper icon-wrapper">\n        <div class="social-wrapper" id="media-share">\n'+(null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.mediaShare:t,{name:"each",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+"        </div>\n    </div>\n"},6:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'                <a data-gtm-action="share:'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'" class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+'" '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">\n                    "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,18,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+"\n                </a> \n"},7:function(e,t,n,a,s){return' social-share" target="_blank'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing;return'<div id="picture-viewer" class="modal fade" role="dialog" data-keyboard="true" tabindex=\'-1\'>\n'+(null!=(i=n.if.call(r,null!=t?t.isTouchDevice:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'    <div class="vertical-align-helper '+(null!=(i=n.unless.call(r,null!=t?t.isTouchDevice:t,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-body">\n                <a href="'+e.escapeExpression("function"==typeof(l=null!=(l=n.reportLink||(null!=t?t.reportLink:t))?l:o)?l.call(r,{name:"reportLink",hash:{},data:s}):l)+'" target="_blank" class="on-report-image">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-flag",20,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+"</a>\n                "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",20,"wp-neutral-3","on-dismiss",{name:"iconify",hash:{},data:s}))?i:"")+"\n                  "+(null!=(i="function"==typeof(l=null!=(l=n.contents||(null!=t?t.contents:t))?l:o)?l.call(r,{name:"contents",hash:{},data:s}):l)?i:"")+"\n                </div>\n            </div>\n        </div>\n    </div>\n"+(null!=(i=n.if.call(r,null!=t?t.isTouchDevice:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+"</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"BannedImageMessaging",null!=t?t.id:t,{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"  "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"SearchHeader","search-header",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},3:function(e,t,n,a,s){var i;return(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'  <section id="suggested-searches" class="recent-searches">\n'+(null!=(i=e.invokePartial(a["core.search.partials.suggested_searches"],t,{name:"core.search.partials.suggested_searches",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'  </section>\n\n  <section id="tag-holder" class="container row">\n'+(null!=(i=e.invokePartial(a["core.search.partials.search_header_tags"],t,{name:"core.search.partials.search_header_tags",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'  </section>\n\n  <section id="browse-topics">\n'+(null!=(i=e.invokePartial(a["core.search.partials.browse_topics"],t,{name:"core.search.partials.browse_topics",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"  </section>\n"},4:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"SearchBar","search-bar",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||n.helperMissing).call(l,"NEW_SEARCH_LAYOUT",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:""},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" class="listsModal modal fade" aria-hidden="true" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <header class="modal-header">\n        <div class="pull-right close" data-dismiss="modal">\n          '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove-alt",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n        </div>\n        <h3 class="modal-title text-center">'+c((n.trans||t&&t.trans||o).call(r,"Add to Another Reading List",{name:"trans",hash:{},data:s}))+' </h3>\n      </header>\n\n      <div class="modal-body">\n        <ul id="add-to-list" class="lists-menu list-unstyled" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'"></ul>\n      </div>\n\n    </div>\n  </div>\n</div>\n\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'            <div class="download-link">\n                <a href="'+o("function"==typeof(i=null!=(i=n.downloadLink||(null!=t?t.downloadLink:t))?i:r)?i.call(l,{name:"downloadLink",hash:{},data:s}):i)+'" rel="nofollow" target="_blank">'+o("function"==typeof(i=null!=(i=n.downloadText||(null!=t?t.downloadText:t))?i:r)?i.call(l,{name:"downloadText",hash:{},data:s}):i)+"</a>\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<section class="modal fade" id="get-app-modal" tabindex="-1" role="dialog" aria-labelledby="getAppModalTitle" aria-hidden="true">\n    <div class="modal-dialog"><div class="modal-content">\n\n        <header class="modal-header">\n            <div class="pull-right close" data-dismiss="modal">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove-alt",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'</div>\n            <h2 class="modal-title" id="getAppModalTitle">'+o((n.trans||t&&t.trans||r).call(l,"Get the app in seconds.",{name:"trans",hash:{},data:s}))+'</h1>\n            <h3 class="modal-subtitle">'+o((n.trans||t&&t.trans||r).call(l,"It's easy as 1-2-3. Enter your cell phone number and we'll send you a link to install the Wattpad app.",{name:"trans",hash:{},data:s}))+'</h3>\n        </header>\n\n        <div class="modal-body">\n            <div class="form-group has-feedback" data-attr="getApp">\n                <div class="input-group">\n                    <label class="control-label sr-only" for="phonenumber">'+o((n.trans||t&&t.trans||r).call(l,"Enter your phone number",{name:"trans",hash:{},data:s}))+'</label>\n                    <input id="phonenumber" name="phonenumber" class="form-control input-lg on-invalid" type="text">\n\n                    <span class="input-group-btn">\n                        <button class="on-send-app-link btn btn-lg btn-orange">\n                            <span class="hidden-if-sent">'+o((n.trans||t&&t.trans||r).call(l,"Send",{name:"trans",hash:{},data:s}))+'</span>\n                            <span class="shown-if-sent">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-check",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'</span>\n                        </button>\n                    </span>\n                </div>\n            </div>\n            <div class="feetext">\n                <small>'+o((n.trans||t&&t.trans||r).call(l,"Standard messaging fees apply",{name:"trans",hash:{},data:s}))+"</small>\n            </div>\n\n"+(null!=(i=n.if.call(l,null!=t?t.downloadLink:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"        </div>\n\n    </div>\n</section>\n"},useData:!0})},function(e,t){e.exports={home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',library:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-library" transform="translate(3.000000, 3.000000)" fill="#6F6F6F"><path d="M17.4,0 C17.9522847,-1.01453063e-16 18.4,0.44771525 18.4,1 L18.4,17 C18.4,17.5522847 17.9522847,18 17.4,18 L17,18 C16.4477153,18 16,17.5522847 16,17 L16,1 C16,0.44771525 16.4477153,1.01453063e-16 17,0 L17.4,0 Z M12.4,0 C12.9522847,-1.01453063e-16 13.4,0.44771525 13.4,1 L13.4,17 C13.4,17.5522847 12.9522847,18 12.4,18 L12,18 C11.4477153,18 11,17.5522847 11,17 L11,1 C11,0.44771525 11.4477153,1.01453063e-16 12,0 L12.4,0 Z M6.33618624,0.254903754 L6.72255657,0.358431372 C7.25602267,0.501373184 7.57260516,1.04971014 7.42966335,1.58317624 L3.28855863,17.0379895 C3.14561682,17.5714556 2.59727986,17.8880381 2.06381376,17.7450962 L1.67744343,17.6415686 C1.14397733,17.4986268 0.827394836,16.9502899 0.970336648,16.4168238 L5.11144137,0.962010536 C5.25438318,0.428544432 5.80272014,0.111961943 6.33618624,0.254903754 Z" id="Combined-Shape"></path></g></g>',create:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-create" transform="translate(2.000000, 2.000000)" stroke="#6F6F6F" stroke-width="2"><g id="edit-2" stroke-linecap="round" stroke-linejoin="round"><path d="M15,1 C15.7145312,0.285468802 16.7559831,0.00641259763 17.7320508,0.267949159 C18.7081186,0.52948572 19.4705143,1.29188142 19.7320508,2.26794918 C19.9935874,3.24401693 19.7145312,4.28546882 19,5 L5.5,18.5 L0,20 L1.5,14.5 L15,1 Z" id="Path"></path></g><path d="M2.5,14.5 L5.5,17.5" id="Line-3" stroke-linecap="square"></path></g></g>',notifications:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',profile:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',chevDown:'<polyline points="6 9 12 15 18 9"></polyline>',chevUp:'<polyline points="18 15 12 9 6 15"></polyline>',chevLeft:'<polyline points="15 18 9 12 15 6"></polyline>',chevRight:'<polyline points="9 18 15 12 9 6"></polyline>',close:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',closeCircle:"",search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',add:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',remove:'<line x1="5" y1="12" x2="19" y2="12"></line>',more:'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',follow:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',following:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',dropdownCaret:"",arrowCircleRight:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',arrowCircleLeft:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',arrowCircleDown:'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',arrowCircleUp:'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',arrowLeft:'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',arrowRight:'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',arrowDown:'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',helpCircle:'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',refresh:'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',circle:'<circle cx="12" cy="12" r="10"></circle>',report:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',history:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',drag:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',share:'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',comment:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',edit:'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',mute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',unmute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',block:'<path d="M7.00001 0.333252C3.31668 0.333252 0.333344 3.31659 0.333344 6.99992C0.333344 10.6833 3.31668 13.6666 7.00001 13.6666C10.6833 13.6666 13.6667 10.6833 13.6667 6.99992C13.6667 3.31659 10.6833 0.333252 7.00001 0.333252ZM1.66668 6.99992C1.66668 4.05325 4.05334 1.66659 7.00001 1.66659C8.23334 1.66659 9.36334 2.08992 10.2667 2.78992L2.79001 10.2666C2.09001 9.36325 1.66668 8.23325 1.66668 6.99992ZM7.00001 12.3333C5.76668 12.3333 4.63668 11.9099 3.73334 11.2099L11.21 3.73325C11.91 4.63659 12.3333 5.76659 12.3333 6.99992C12.3333 9.94659 9.94668 12.3333 7.00001 12.3333Z" fill="#111111"/>',success:'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',filter:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',attach:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',lightbulb:'<path d="M8 20.56l.03.937c0 .86.995 1.004 1.984 1.004h2.304c1 0 1.68-.328 1.68-1.187V20.5m-5.89-1c0-1.58-.556-2.654-1.573-3.802a6.3 6.3 0 0 1-1.482-4.93C5.42 8.04 7.75 5.5 10.976 5.5c3.286 0 6.02 2.727 6.024 6.13 0 1.534-.556 3.017-1.62 4.165-.974 1.05-1.482 2.08-1.482 3.705" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><path d="M8 20.052h6" stroke-width="2"/><path d="M21.38 13.845H20m-17.62 0H1m2.76-7.207l-.975-.975m16.835.285l-.975.975M11 1.5v1.38" stroke-width="2" stroke-linecap="round"/>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',textFormat:"",picture:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',hideKeyboard:"",link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',brightnessUp:"",brightnessDown:"",reply:"",embed:"",camera:"",lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',unlock:"",timeout:'<path fill-rule="evenodd" clip-rule="evenodd" d="M1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12ZM21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM19 13C19 13.5523 18.5523 14 18 14L12.0014 14C12.0009 14 12.0005 14 12 14C11.4477 14 11 13.5523 11 13V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V12L18 12C18.5523 12 19 12.4477 19 13Z" fill="#121212"/>',closeAccount:'<path fill-rule="evenodd" clip-rule="evenodd" d="M15.3332 8.00033C15.3332 12.0504 12.0499 15.3337 7.99984 15.3337C3.94975 15.3337 0.666504 12.0504 0.666504 8.00033C0.666504 3.95024 3.94975 0.666992 7.99984 0.666992C12.0499 0.666992 15.3332 3.95024 15.3332 8.00033ZM2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8ZM7.05719 8L5.5286 9.5286C5.26825 9.78895 5.26825 10.2111 5.5286 10.4714C5.78895 10.7318 6.21106 10.7318 6.4714 10.4714L8 8.94281L9.5286 10.4714C9.78895 10.7318 10.2111 10.7318 10.4714 10.4714C10.7318 10.2111 10.7318 9.78895 10.4714 9.5286L8.94281 8L10.4714 6.4714C10.7318 6.21106 10.7318 5.78895 10.4714 5.5286C10.2111 5.26825 9.78895 5.26825 9.5286 5.5286L8 7.05719L6.4714 5.5286C6.21106 5.26825 5.78895 5.26825 5.5286 5.5286C5.26825 5.78895 5.26825 6.21106 5.5286 6.4714L7.05719 8Z" fill="#121212"/>',readingList:"",underline:"",bold:"",italic:"",textAlignRight:"",textAlignCenter:"",textAlignLeft:"",userFollow:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 7C3.5 9.76142 5.73858 12 8.5 12C11.2614 12 13.5 9.76142 13.5 7C13.5 4.23858 11.2614 2 8.5 2C5.73858 2 3.5 4.23858 3.5 7ZM11.5 7C11.5 8.65685 10.1569 10 8.5 10C6.84315 10 5.5 8.65685 5.5 7C5.5 5.34315 6.84315 4 8.5 4C10.1569 4 11.5 5.34315 11.5 7ZM17 21C17 21.5523 16.5523 22 16 22C15.4477 22 15 21.5523 15 21V19C15 17.3431 13.6569 16 12 16H5C3.34315 16 2 17.3431 2 19V21C2 21.5523 1.55228 22 1 22C0.447715 22 0 21.5523 0 21V19C0 16.2386 2.23858 14 5 14H12C14.7614 14 17 16.2386 17 19V21ZM21 10H23C24.3333 10 24.3333 12 23 12H21V14C21 15.3333 19 15.3333 19 14V12H17C15.6667 12 15.6667 10 17 10H19V8C19 6.66667 21 6.66667 21 8V10Z"/>',userFollowed:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 7C3.5 9.76142 5.73858 12 8.5 12C11.2614 12 13.5 9.76142 13.5 7C13.5 4.23858 11.2614 2 8.5 2C5.73858 2 3.5 4.23858 3.5 7ZM11.5 7C11.5 8.65685 10.1569 10 8.5 10C6.84315 10 5.5 8.65685 5.5 7C5.5 5.34315 6.84315 4 8.5 4C10.1569 4 11.5 5.34315 11.5 7ZM17 21C17 21.5523 16.5523 22 16 22C15.4477 22 15 21.5523 15 21V19C15 17.3431 13.6569 16 12 16H5C3.34315 16 2 17.3431 2 19V21C2 21.5523 1.55228 22 1 22C0.447715 22 0 21.5523 0 21V19C0 16.2386 2.23858 14 5 14H12C14.7614 14 17 16.2386 17 19V21ZM23.7071 8.29289C23.3166 7.90237 22.6834 7.90237 22.2929 8.29289L19 11.5858L17.7071 10.2929C17.3166 9.90237 16.6834 9.90237 16.2929 10.2929C15.9024 10.6834 15.9024 11.3166 16.2929 11.7071L18.2929 13.7071C18.6834 14.0976 19.3166 14.0976 19.7071 13.7071L23.7071 9.70711C24.0976 9.31658 24.0976 8.68342 23.7071 8.29289Z"/>',rankingBadge:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5.6001 11.1998C5.6001 5.45604 10.2563 0.799805 16.0001 0.799805C21.7439 0.799805 26.4001 5.45604 26.4001 11.1998C26.4001 16.9436 21.7439 21.5998 16.0001 21.5998C10.2563 21.5998 5.6001 16.9436 5.6001 11.1998ZM12.2383 16.3775L12.9567 12.1887L9.91334 9.2221L14.1192 8.61095L16.0001 4.7998L17.881 8.61095L22.0869 9.2221L19.0435 12.1887L19.7619 16.3775L16.0001 14.3998L12.2383 16.3775ZM11.2001 30.8975V22.2013C12.67 22.8435 14.2934 23.1998 16.0001 23.1998C17.9017 23.1998 19.7 22.7575 21.2978 21.9701V30.8975L16.2489 25.8486L11.2001 30.8975Z"/>',reportFlag:'<path fill-rule="evenodd" clip-rule="evenodd" d="M0.333008 18.9997V2.99967C0.333008 2.64605 0.473484 2.30691 0.723532 2.05687C1.0163 1.7641 1.54299 1.41297 2.33782 1.09504C3.54157 0.613537 5.08449 0.333008 6.99967 0.333008C8.88843 0.333008 10.1765 0.701033 12.8282 1.76171C15.1765 2.70103 16.2218 2.99967 17.6663 2.99967C19.2512 2.99967 20.4582 2.7802 21.3378 2.42837C21.793 2.2463 22.0163 2.09743 22.0569 2.05687C22.8968 1.21691 24.333 1.8118 24.333 2.99967V18.9997C24.333 19.3533 24.1925 19.6924 23.9425 19.9425C23.6497 20.2353 23.123 20.5864 22.3282 20.9043C21.1244 21.3858 19.5815 21.6663 17.6663 21.6663C15.7776 21.6663 14.4895 21.2983 11.8378 20.2376C9.4895 19.2983 8.44426 18.9997 6.99967 18.9997C5.41486 18.9997 4.20777 19.2191 3.3282 19.571C3.20092 19.6219 3.09177 19.6702 2.99967 19.7143V28.333C2.99967 29.0694 2.40272 29.6663 1.66634 29.6663C0.929961 29.6663 0.333008 29.0694 0.333008 28.333V18.9997ZM6.99967 16.333C8.88842 16.333 10.1765 16.701 12.8282 17.7617C15.1765 18.701 16.2218 18.9997 17.6663 18.9997C19.2512 18.9997 20.4582 18.7802 21.3378 18.4284C21.4651 18.3775 21.5742 18.3291 21.6663 18.2851V5.13776C20.5742 5.47524 19.2471 5.66634 17.6663 5.66634C15.7776 5.66634 14.4895 5.29832 11.8378 4.23764C9.4895 3.29832 8.44426 2.99967 6.99967 2.99967C5.41486 2.99967 4.20777 3.21914 3.3282 3.57098C3.20092 3.62189 3.09177 3.6702 2.99967 3.71428V16.8616C4.09182 16.5241 5.41894 16.333 6.99967 16.333Z" fill="#121212"/>',commentMeta:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',views:'<path fill-rule="evenodd" clip-rule="evenodd" d="M0.0703819 7.70186C0.164094 7.51443 0.339978 7.20175 0.596224 6.80498C1.02033 6.1483 1.52075 5.49201 2.09698 4.87737C3.77421 3.08833 5.7468 2 8 2C10.2532 2 12.2258 3.08833 13.903 4.87737C14.4792 5.49201 14.9797 6.1483 15.4038 6.80498C15.66 7.20175 15.8359 7.51443 15.9296 7.70186C16.0235 7.88954 16.0235 8.11046 15.9296 8.29814C15.8359 8.48557 15.66 8.79825 15.4038 9.19502C14.9797 9.8517 14.4792 10.508 13.903 11.1226C12.2258 12.9117 10.2532 14 8 14C5.7468 14 3.77421 12.9117 2.09698 11.1226C1.52075 10.508 1.02033 9.8517 0.596224 9.19502C0.339978 8.79825 0.164094 8.48557 0.0703819 8.29814C-0.0234606 8.11046 -0.0234606 7.88954 0.0703819 7.70186ZM1.71632 8.47165C2.0995 9.06496 2.55221 9.65868 3.06973 10.2107C4.5175 11.755 6.16991 12.6667 8.00004 12.6667C9.83017 12.6667 11.4826 11.755 12.9304 10.2107C13.4479 9.65868 13.9006 9.06496 14.2838 8.47165C14.3925 8.30325 14.489 8.14509 14.5729 8C14.489 7.85491 14.3925 7.69675 14.2838 7.52835C13.9006 6.93504 13.4479 6.34132 12.9304 5.78929C11.4826 4.24501 9.83017 3.33333 8.00004 3.33333C6.16991 3.33333 4.5175 4.24501 3.06973 5.78929C2.55221 6.34132 2.0995 6.93504 1.71632 7.52835C1.60756 7.69675 1.5111 7.85491 1.42718 8C1.5111 8.14509 1.60756 8.30325 1.71632 8.47165ZM8 10.6667C6.52724 10.6667 5.33333 9.47276 5.33333 8C5.33333 6.52724 6.52724 5.33333 8 5.33333C9.47276 5.33333 10.6667 6.52724 10.6667 8C10.6667 9.47276 9.47276 10.6667 8 10.6667ZM8 9.33333C8.73638 9.33333 9.33333 8.73638 9.33333 8C9.33333 7.26362 8.73638 6.66667 8 6.66667C7.26362 6.66667 6.66667 7.26362 6.66667 8C6.66667 8.73638 7.26362 9.33333 8 9.33333Z"/>',votes:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',votesBeta:'<path fill-rule="evenodd" clip-rule="evenodd" d="M6.53792 5.80206C6.44089 5.99863 6.25344 6.13493 6.03653 6.16664L2.76572 6.64472L5.13194 8.94941C5.28919 9.10257 5.36096 9.32332 5.32385 9.53968L4.76557 12.7948L7.68982 11.2569C7.88407 11.1548 8.11616 11.1548 8.31042 11.2569L11.2347 12.7948L10.6764 9.53968C10.6393 9.32332 10.711 9.10257 10.8683 8.94941L13.2345 6.64472L9.9637 6.16664C9.74679 6.13493 9.55934 5.99863 9.46231 5.80206L8.00012 2.83982L6.53792 5.80206ZM5.49723 4.89797L7.40227 1.03858C7.64683 0.543131 8.35332 0.543131 8.59788 1.03858L10.5029 4.89797L14.7632 5.52067C15.3098 5.60056 15.5276 6.27246 15.1319 6.6579L12.0498 9.6599L12.7771 13.901C12.8706 14.4456 12.2989 14.8609 11.8098 14.6037L8.00007 12.6002L4.19038 14.6037C3.70129 14.8609 3.12959 14.4456 3.223 13.901L3.95039 9.6599L0.868253 6.6579C0.472524 6.27246 0.690379 5.60056 1.23699 5.52067L5.49723 4.89797Z"/>',parts:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line>',partsBeta:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3.33366 4.66634C3.70185 4.66634 4.00033 4.36786 4.00033 3.99967C4.00033 3.63148 3.70185 3.33301 3.33366 3.33301C2.96547 3.33301 2.66699 3.63148 2.66699 3.99967C2.66699 4.36786 2.96547 4.66634 3.33366 4.66634ZM4.00033 7.99967C4.00033 8.36786 3.70185 8.66634 3.33366 8.66634C2.96547 8.66634 2.66699 8.36786 2.66699 7.99967C2.66699 7.63148 2.96547 7.33301 3.33366 7.33301C3.70185 7.33301 4.00033 7.63148 4.00033 7.99967ZM4.00033 11.9997C4.00033 12.3679 3.70185 12.6663 3.33366 12.6663C2.96547 12.6663 2.66699 12.3679 2.66699 11.9997C2.66699 11.6315 2.96547 11.333 3.33366 11.333C3.70185 11.333 4.00033 11.6315 4.00033 11.9997ZM6.00033 7.99967C6.00033 8.36786 6.2988 8.66634 6.66699 8.66634H12.667C13.0352 8.66634 13.3337 8.36786 13.3337 7.99967C13.3337 7.63148 13.0352 7.33301 12.667 7.33301H6.66699C6.2988 7.33301 6.00033 7.63148 6.00033 7.99967ZM6.66699 12.6663C6.2988 12.6663 6.00033 12.3679 6.00033 11.9997C6.00033 11.6315 6.2988 11.333 6.66699 11.333H12.667C13.0352 11.333 13.3337 11.6315 13.3337 11.9997C13.3337 12.3679 13.0352 12.6663 12.667 12.6663H6.66699ZM6.00033 3.99967C6.00033 4.36786 6.2988 4.66634 6.66699 4.66634H12.667C13.0352 4.66634 13.3337 4.36786 13.3337 3.99967C13.3337 3.63148 13.0352 3.33301 12.667 3.33301H6.66699C6.2988 3.33301 6.00033 3.63148 6.00033 3.99967Z"/>',readTime:'<path fill-rule="evenodd" clip-rule="evenodd" d="M1.7998 1.91992C1.52366 1.91992 1.2998 2.14378 1.2998 2.41992V11.72C1.2998 11.9962 1.52366 12.22 1.7998 12.22H6.13985C6.50055 12.22 6.84648 12.3633 7.10153 12.6184C7.3518 12.8686 7.49446 13.2064 7.49972 13.5598V13.58C7.49972 13.8562 7.72358 14.08 7.99972 14.08C7.99977 14.08 7.99983 14.08 7.99987 14.08C8.27602 14.08 8.49987 13.8562 8.49987 13.58V13.5598C8.50514 13.2064 8.6478 12.8686 8.89806 12.6184C9.15312 12.3633 9.49904 12.22 9.85975 12.22H14.1998C14.4759 12.22 14.6998 11.9962 14.6998 11.72V2.41992C14.6998 2.14378 14.4759 1.91992 14.1998 1.91992H10.4798C9.6894 1.91992 8.93142 2.23389 8.37255 2.79275C8.23258 2.93273 8.10796 3.0852 7.9998 3.24754C7.89163 3.0852 7.76702 2.93273 7.62704 2.79275C7.06818 2.23389 6.3102 1.91992 5.51985 1.91992H1.7998ZM8.49987 11.6512V4.89995C8.49987 4.89362 8.49985 4.8873 8.49981 4.88097C8.50478 4.36269 8.71281 3.86671 9.07966 3.49986C9.45099 3.12853 9.95462 2.91992 10.4798 2.91992H13.6998V11.22H9.85975C9.3696 11.22 8.89517 11.3725 8.49987 11.6512ZM7.49978 4.88097C7.49482 4.36269 7.28679 3.86671 6.91994 3.49986C6.54861 3.12853 6.04498 2.91992 5.51985 2.91992H2.2998V11.22H6.13985C6.63 11.22 7.10443 11.3725 7.49972 11.6512V4.89995C7.49972 4.89362 7.49974 4.8873 7.49978 4.88097Z" fill="#686868"/>',bookOpenBeta:'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',paidStory:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 5C7.98528 5 10 4.32843 10 3.5C10 2.67157 7.98528 2 5.5 2C3.01472 2 1 2.67157 1 3.5C1 4.32843 3.01472 5 5.5 5ZM1 5.39676V7.35873C1.7563 7.65631 3.29325 7.95305 5.07318 7.99496C5.5172 7.22867 6.08473 6.54286 6.74854 5.96477C6.34655 5.98814 5.929 6 5.5 6C3.6955 6 2.09368 5.79011 1 5.39676ZM4.00016 11.9485C4.00005 11.9657 4 11.9828 4 12C4 12.6749 4.08358 13.3303 4.24095 13.9564C2.82212 13.8582 1.63548 13.6088 1 13.3587V11.3968C1.77904 11.6769 2.81589 11.864 4.00016 11.9485ZM4.58902 8.98153C4.3366 9.60066 4.1595 10.2585 4.06912 10.9437C2.72657 10.8379 1.60965 10.5986 1 10.3587V8.39676C1.9057 8.7225 3.15986 8.92243 4.58902 8.98153Z"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M19 12C19 15.866 15.866 19 12 19C8.13401 19 5 15.866 5 12C5 8.13401 8.13401 5 12 5C15.866 5 19 8.13401 19 12ZM12.8574 16.231C13.556 16.1121 14.1116 15.8464 14.5241 15.4339C14.9366 15.0214 15.1429 14.5141 15.1429 13.9121C15.1429 13.4067 15.0184 13.0035 14.7694 12.7025C14.5204 12.4015 14.2231 12.1822 13.8775 12.0447C13.5319 11.9072 13.0878 11.7716 12.5452 11.6378C12.1588 11.5412 11.8577 11.4557 11.6422 11.3814C11.4267 11.3071 11.2483 11.2049 11.1071 11.0748C10.9659 10.9447 10.8953 10.7756 10.8953 10.5675C10.8953 10.2702 11.016 10.0324 11.2576 9.85403C11.4991 9.67565 11.8206 9.58647 12.2219 9.58647C12.5713 9.58647 12.8667 9.63478 13.1082 9.7314C13.3498 9.82802 13.6229 9.97295 13.9277 10.1662C14.054 10.2405 14.1525 10.2888 14.2231 10.3111C14.2937 10.3334 14.3699 10.3446 14.4516 10.3446C14.6003 10.3446 14.7322 10.274 14.8474 10.1327C14.9626 9.99153 15.0202 9.82802 15.0202 9.64221C15.0202 9.50843 14.9961 9.39322 14.9478 9.2966C14.8994 9.19998 14.8195 9.11451 14.7081 9.04019C14.1209 8.62397 13.4929 8.37127 12.824 8.28208V7.66891C12.824 7.46824 12.7626 7.30659 12.64 7.18395C12.5174 7.06132 12.3557 7 12.155 7C11.9618 7 11.802 7.06132 11.6757 7.18395C11.5493 7.30659 11.4861 7.46824 11.4861 7.66891V8.30438C10.7949 8.4233 10.2356 8.6983 9.80827 9.12938C9.38091 9.56045 9.16723 10.077 9.16723 10.679C9.16723 11.1919 9.29544 11.6006 9.55185 11.9054C9.80827 12.2101 10.1149 12.4331 10.4716 12.5743C10.8284 12.7155 11.2817 12.8567 11.8317 12.9979C12.2108 13.102 12.5006 13.1875 12.7013 13.2543C12.902 13.3212 13.0711 13.4141 13.2086 13.5331C13.3461 13.652 13.4148 13.8043 13.4148 13.9901C13.4148 14.2949 13.2959 14.5309 13.0581 14.6981C12.8202 14.8653 12.4784 14.9489 12.0324 14.9489C11.6979 14.9489 11.3765 14.9025 11.0681 14.8096C10.7596 14.7167 10.4344 14.5699 10.0926 14.3692C9.88445 14.2503 9.70979 14.1908 9.56858 14.1908C9.41993 14.1908 9.288 14.2614 9.1728 14.4026C9.0576 14.5439 9 14.7074 9 14.8932C9 15.0344 9.02416 15.1515 9.07247 15.2444C9.12078 15.3373 9.20439 15.4209 9.32331 15.4952C9.61317 15.7033 9.94948 15.8743 10.3323 16.008C10.715 16.1418 11.1108 16.2273 11.5196 16.2645V16.8665C11.5196 17.0672 11.5827 17.2288 11.7091 17.3514C11.8355 17.4741 11.9952 17.5354 12.1885 17.5354C12.3892 17.5354 12.5508 17.4741 12.6735 17.3514C12.7961 17.2288 12.8574 17.0672 12.8574 16.8665V16.231Z" />',notifDedicate:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',notifStoryUpdate:'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',notifFeedMessage:"",warning:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"warning-triangle":'<g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Ic-/-14px-/-Alert" transform="translate(0.000000, 0.000000)" fill="#FFC922">\n      <path d="M11.875,5 C12.4019232,5 12.8906036,5.28229723 13.1638807,5.744551 L13.1638807,5.744551 L19.5479857,16.6799097 C19.8158305,17.1558373 19.8174297,17.7418513 19.5521866,18.2193104 C19.2869436,18.6967695 18.7946975,18.9939599 18.259105,19 L18.259105,19 L5.490895,19 C4.95530252,18.9939599 4.46305644,18.6967695 4.19781339,18.2193104 C3.93257035,17.7418513 3.93416953,17.1558373 4.2020143,16.6799097 L4.2020143,16.6799097 L10.5861193,5.744551 C10.8593964,5.28229723 11.3480768,5 11.875,5 Z M11.65625,15.5 C11.2938131,15.5 11,15.7938131 11,16.15625 L11,16.15625 L11,16.4397278 C11,16.8021647 11.2938131,17.0959778 11.65625,17.0959778 C12.0186869,17.0959778 12.3125,16.8021647 12.3125,16.4397278 L12.3125,16.4397278 L12.3125,16.15625 C12.3125,15.7938131 12.0186869,15.5 11.65625,15.5 Z M11.65625,9.375 C11.2938131,9.375 11,9.66881313 11,10.03125 L11,10.03125 L11,13.53125 C11,13.8936869 11.2938131,14.1875 11.65625,14.1875 C12.0186869,14.1875 12.3125,13.8936869 12.3125,13.53125 L12.3125,13.53125 L12.3125,10.03125 C12.3125,9.66881313 12.0186869,9.375 11.65625,9.375 Z" id="Combined-Shape"></path>\n  </g>\n</g>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',info:"",copyright:"",publicDomain:"",creativeCommons:"",location:"",stats:"",check:'<path fill-rule="evenodd" clip-rule="evenodd" d="M20.7071 5.29289C21.0976 5.68342 21.0976 6.31658 20.7071 6.70711L9.70711 17.7071C9.31658 18.0976 8.68342 18.0976 8.29289 17.7071L3.29289 12.7071C2.90237 12.3166 2.90237 11.6834 3.29289 11.2929C3.68342 10.9024 4.31658 10.9024 4.70711 11.2929L9 15.5858L19.2929 5.29289C19.6834 4.90237 20.3166 4.90237 20.7071 5.29289Z"/>',shieldCheck:'<path d="m1.19901 4.09592 9.80099-3.675998 9.801 3.675998c.51.195.865.68.866 1.248v5.74298c0 4.236-1.83 8.266-5.018 11.056l-5.649 4.944-5.64999-4.944c-3.081-2.707-5.016002-6.656-5.017002-11.056v-5.74298c0-.568.356-1.053.856002-1.245zm8.386 10.01298-1.885-1.882c-.12377-.1238-.27072-.2221-.43246-.2891-.16174-.0671-.3351-.1016-.51019-.1016-.17508-.0001-.34846.0344-.51024.1013-.16177.067-.30878.1652-.43261.2889-.12384.1238-.22208.2707-.28913.4325-.06704.1617-.10158.3351-.10162.5102-.00005.1751.03439.3484.10135.5102s.16513.3088.2889.4326l2.829 2.828c.12357.1241.27045.2226.43219.2898s.33516.1018.51031.1018c.17514 0 .34857-.0346.51029-.1018.1618-.0672.3086-.1657.4322-.2898l5.657-5.657c.2501-.2499.3907-.589.3908-.9426.0001-.35362-.1403-.69278-.3903-.94288s-.589-.39065-.9426-.39075c-.3536-.00009-.6928.14029-.9429.39025l-4.71499 4.71498z" fill="#3f6f0c"/>',staff:' <g id="Staff---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -227.000000)">\n      <g id="ic_badge_verified" transform="translate(1147.000000, 227.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      </g>\n      <path d="M1154.11212,241.7 C1155.77292,241.7 1156.00632,239.785105 1157.14045,238.07578 C1157.09856,238.686857 1157.13746,239.227533 1157.26314,239.599248 C1157.75689,241.066395 1159.45659,241.179036 1160.22864,239.689361 C1161.31788,237.588608 1161.62909,237.092989 1162.72731,235.580785 C1163.45148,234.581097 1162.61061,233.936228 1161.63807,234.400872 C1161.13834,234.640234 1160.32739,235.234414 1159.31595,236.498808 C1159.4925,235.538545 1159.44462,233.910884 1157.97235,234.003813 C1157.19432,234.051685 1156.18587,234.879595 1154.80935,237.00006 C1154.92307,235.808883 1154.96795,234.964076 1154.41735,234.521961 C1154.0403,234.21783 1153.15155,234.102373 1152.6189,234.752874 C1152.08325,235.409008 1151.95757,236.687481 1152.01144,238.03354 C1152.11617,240.852377 1153.17549,241.7 1154.11212,241.7 Z" id="Logo-path" fill="#FFFFFF"></path>\n  </g>\n</g>',ambassador:'<g id="Amb-badge" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Badges" transform="translate(-35.000000, -206.000000)">\n      <g id="ic_badge_verified" transform="translate(35.000000, 206.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n          <g id="Group-3" transform="translate(5.000000, 6.000000)" fill="#FFFFFF">\n              <path d="M9.78065737,1.78094955 C9.35444338,0.694861133 8.31740847,-0.012577196 7.16968296,0.000169440589 C6.33637761,0.00279374812 5.5446272,0.373570912 5,1.01615136 C4.45500506,0.373570912 3.66362239,0.00279374812 2.83031704,0.000169440589 C1.68295927,-0.012577196 0.645924361,0.694861133 0.219342627,1.78094955 C-0.225626252,2.85466623 0.0192905027,4.09671349 0.837150656,4.91137353 L4.73890256,8.88907394 C4.88195454,9.03641006 5.11473578,9.03678496 5.25889098,8.89132335 L5.26109744,8.88907394 L9.16284934,4.91137353 C9.9807095,4.09671349 10.2256263,2.85466623 9.78065737,1.78094955" id="Fill-1"></path>\n          </g>\n      </g>\n  </g>\n</g>',verified:'<g id="Verifier---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -299.000000)">\n      <path d="M1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1165.419,305.513 Z" id="Path" fill="#FFFFFF"></path>\n      <path d="M1166.64,307.645 L1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1166.64,307.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      <path d="M1156.36061,312.705984 C1156.00858,313.098005 1155.43225,313.098005 1155.08022,312.705984 L1152.26402,309.569809 C1151.91199,309.177788 1151.91199,308.536863 1152.26402,308.144841 C1152.61604,307.75282 1153.19238,307.75282 1153.5444,308.144841 L1155.72042,310.568087 L1160.4564,305.294016 C1160.80842,304.901995 1161.38396,304.901995 1161.73598,305.294016 C1162.08801,305.686038 1162.08801,306.326963 1161.73598,306.718984 L1156.36061,312.705984 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',star:'<g id="Stars---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -336.000000)">\n      <path d="M1166.64,344.645 L1165.419,342.513 L1164.774,340.142 C1164.521,339.209 1163.792,338.48 1162.859,338.226 L1160.487,337.581 L1158.355,336.36 C1157.935,336.12 1157.467,336 1157,336 C1156.533,336 1156.065,336.12 1155.646,336.36 L1153.513,337.581 L1151.141,338.226 C1150.208,338.48 1149.48,339.208 1149.226,340.141 L1148.581,342.513 L1147.36,344.646 C1146.88,345.485 1146.88,346.515 1147.36,347.355 L1148.581,349.487 L1149.226,351.86 C1149.48,352.792 1150.209,353.521 1151.142,353.774 L1153.513,354.419 L1155.645,355.64 C1156.065,355.88 1156.533,356 1157,356 C1157.467,356 1157.935,355.88 1158.355,355.64 L1160.487,354.419 L1162.859,353.774 C1163.792,353.521 1164.521,352.792 1164.774,351.859 L1165.419,349.487 L1166.64,347.355 C1167.12,346.515 1167.12,345.485 1166.64,344.645 L1166.64,344.645 Z" id="Path" fill="#FF6122"></path>\n      <path d="M1158.545,344.292 L1157.42218,341.899553 C1157.18902,341.402744 1156.81055,341.403664 1156.57782,341.899553 L1155.455,344.292 L1152.98082,344.669751 C1152.43913,344.752455 1152.30655,345.133713 1152.69639,345.533299 L1154.5,347.382 L1154.07122,350.011366 C1153.98218,350.557373 1154.30135,350.783681 1154.7872,350.515124 L1157,349.292 L1159.2128,350.515124 C1159.69726,350.782914 1160.01765,350.556362 1159.92878,350.011366 L1159.5,347.382 L1161.30361,345.533299 C1161.68822,345.139079 1161.54832,344.750539 1161.01918,344.669751 L1158.545,344.292 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',sponsored:"",storyrank:"",promoted:'<g fill="none" fill-rule="evenodd">\n  <path fill="#FF6122" fill-rule="nonzero" d="M14.73 6.484l-.916-1.6-.483-1.778a2.044 2.044 0 0 0-1.437-1.436l-1.779-.484L8.516.27a2.048 2.048 0 0 0-2.032 0l-1.6.916-1.778.484c-.7.19-1.246.736-1.436 1.436l-.484 1.779-.916 1.6c-.36.629-.36 1.401 0 2.031l.916 1.6.484 1.779c.19.699.737 1.246 1.437 1.436l1.778.483 1.599.916a2.048 2.048 0 0 0 2.032 0l1.6-.916 1.778-.483c.7-.19 1.247-.737 1.437-1.437l.483-1.779.916-1.599c.36-.63.36-1.402 0-2.032z"/>\n  <g stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">\n      <path d="M7.5 10.5V5.25M4.875 7.875L7.5 5.25l2.625 2.625"/>\n  </g>\n</g>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',twitter:"",facebook:"","facebook-login":"",pinterest:"",tumblr:"",googlePlus:"",email:"",preferences:'<g fill="none" fill-rule="nonzero" stroke="#222" stroke-linecap="round" stroke-width="2" transform="translate(1 1)">\n  <path d="M0 2h17M0 8.5h17M0 15.5h17"/>\n  <circle cx="8" cy="2" r="2" fill="#222"/>\n  <circle cx="15" cy="9" r="2" fill="#222"/>\n  <circle cx="8" cy="16" r="2" fill="#222"/>\n</g>'}},function(e,t,n){"use strict";e.exports=function(e,t,n){return!("usePrebid"!==e.variation||"reading"!==t||!n)}},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'readonly="readonly"'},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'    <div class="btn btn-orange on-remove-character" aria-label="'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Remove character",{name:"trans",hash:{},data:s}))+'">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-minus",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"</div>\n"},5:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'    <div class="btn btn-grey on-add-character" aria-label="'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Add another character",{name:"trans",hash:{},data:s}))+'">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-plus",16,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="character">\n  <input type="text" class="character-input" name="character" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Character name",{name:"trans",hash:{},data:s}))+'" '+(null!=(i=n.if.call(r,null!=t?t.readonly:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+' placeholder="'+c((n.trans||t&&t.trans||o).call(r,"Name",{name:"trans",hash:{},data:s}))+'" data-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" value="'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'"/>\n\n'+(null!=(i=n.if.call(r,null!=t?t.name:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+"</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"ContestBanner","contest-banner",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n\n\n\n\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression,h=e.lambda;return'<div class="item-content">\n    <div class="cover cover-xs pull-left">\n        <a class="on-navigate" href="'+d((n.formatStoryUrl||t&&t.formatStoryUrl||u).call(c,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">\n            <img src="'+d((n.resizeCover||t&&t.resizeCover||u).call(c,null!=t?t.cover:t,50,{name:"resizeCover",hash:{},data:s}))+'">\n        </a>\n    </div>\n    <div class="content">\n        <a class="on-navigate" href="'+d((n.formatStoryUrl||t&&t.formatStoryUrl||u).call(c,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">\n            <h4 class="h6">'+d("function"==typeof(o=null!=(o=n.title||(null!=t?t.title:t))?o:u)?o.call(c,{name:"title",hash:{},data:s}):o)+" - "+d(h(null!=(r=null!=t?t.part:t)?r.title:r,t))+"</h4>\n        </a>\n        <small>"+d(h(null!=(r=null!=t?t.user:t)?r.name:r,t))+'</small>\n        <a class="on-navigate" href="'+d((n.formatStoryUrl||t&&t.formatStoryUrl||u).call(c,null!=(r=null!=(r=null!=l[1]?l[1].data:l[1])?r.comment:r)?r.deeplink_url:r,{name:"formatStoryUrl",hash:{},data:s}))+'">\n            <div class="btn btn-text">'+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-comment",14,"fa-mediumgrey",{name:"iconify",hash:{},data:s}))?r:"")+" "+d((n.trans||t&&t.trans||u).call(c,"View Conversation",{name:"trans",hash:{},data:s}))+'</div>\n        </a>\n    </div>\n    <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+d("function"==typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+'" data-toggle="tooltip" data-placement="left" title="'+d((n.trans||t&&t.trans||u).call(c,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n      '+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n    </button>\n</div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r;return null!=(r=n.blockHelperMissing.call(t,e.lambda(null!=(r=null!=t?t.data:t)?r.story:r,t),{name:"data.story",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:""},useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'    <li class="list-group-item">\n'+(null!=(i=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_comment_item"],t,{name:"core.feed_items.aggregates.item_views.feed_comment_item",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"    </li>\n"},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<button data-id="'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'" class="btn btn-text on-expand">'+o((n.trans||t&&t.trans||r).call(l,"See more",{name:"trans",hash:{},data:s}))+"</button>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+r(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n      <img src="'+r((n.resizeAvatar||t&&t.resizeAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+r((n.trans||t&&t.trans||c).call(o,"%s posted %s comments",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,null!=t?t.groupCount:t,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+r("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:c)?l.call(o,{name:"createDate",hash:{},data:s}):l)+'">'+r((n.fromNow||t&&t.fromNow||c).call(o,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(i=e.invokePartial(a["core.feed_items.feed_item_options"],t,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</header>\n\n<ul class="list-group">\n'+(null!=(i=n.each.call(o,null!=t?t.group:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'</ul>\n\n<footer class="panel-footer">\n  '+(null!=(i=n.if.call(o,null!=(i=null!=t?t.children:t)?i[0]:i,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n</footer>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'    <small class="x-small offensive">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-warning",13,"wp-error-1",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"this message may be offensive",{name:"trans",hash:{},data:s}))+"</small>\n"},3:function(e,t,n,a,s){var i;return"      <pre>"+(null!=(i=(n.linkify||t&&t.linkify||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.body:t,{name:"linkify",hash:{},data:s}))?i:"")+"</pre>\n"},5:function(e,t,n,a,s){var i,l,r,o="";return l=null!=(l=n.beautifyUrlMetadata||(null!=t?t.beautifyUrlMetadata:t))?l:n.helperMissing,r={name:"beautifyUrlMetadata",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.beautifyUrlMetadata||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(o+=i),o},6:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.shared.beautify_url"],t,{name:"core.shared.beautify_url",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:""},8:function(e,t,n,a,s){return" hidden "},10:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'  <div id="'+(null!=(i=n.if.call(r,null!=t?t.pinnedItem:t,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?i:"")+"replies-"+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+"\"\n      class='replies-list collapse'\n      data-id=\""+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'"\n      data-profile-owner="'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'"\n      data-message-owner="'+c(e.lambda(null!=(i=null!=t?t.from:t)?i.name:i,t))+'">\n  </div>\n'},11:function(e,t,n,a,s){return"pinned-"},13:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.feed_items.feed_message_reply"],t,{name:"core.feed_items.feed_message_reply",data:s,indent:"  ",helpers:n,partials:a,decorators:e.decorators}))?i:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'<header id="comment-'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" class="panel-heading message-heading">\n    <a class="send-avatar-event avatar avatar-sm3 on-navigate" href="/user/'+c(u(null!=(i=null!=t?t.from:t)?i.name:i,t))+'">\n      <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||o).call(r,null!=(i=null!=t?t.from:t)?i.avatar:i,42,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n\n    <h3 class="h6 from-name"><a class="username on-navigate" href="/user/'+c(u(null!=(i=null!=t?t.from:t)?i.name:i,t))+'">'+c(u(null!=(i=null!=t?t.from:t)?i.name:i,t))+'</a></h3>\n\n    <time class="timestamp" datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:o)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.fromNow||t&&t.fromNow||o).call(r,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(i=e.invokePartial(a["core.feed_items.feed_item_message_options"],t,{name:"core.feed_items.feed_item_message_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</header>\n<div class="panel-body message dark-grey new-message">\n'+(null!=(i=n.if.call(r,null!=t?t.isOffensive:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(r,null!=t?t.body:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"</div>\n\n"+(null!=(i=n.if.call(r,null!=t?t.beautifyUrlMetadata:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+'\n<button class="btn btn-white btn-block btn-replies on-reply '+(null!=(i=n.if.call(r,null!=t?t.numReplies:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(8,s,0),data:s}))?i:"")+'"\n  type="button" data-toggle="collapse" data-target="#replies-'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n   '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-comment",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"View %s more reply","View %s more replies",null!=t?t.numReplies:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numReplies:t,{name:"sprintf",hash:{},data:s}))+"\n</button>\n\n"+(null!=(i=n.if.call(r,null!=t?t.isReply:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(10,s,0),data:s}))?i:"")+"\n"+(null!=(i=n.each.call(r,null!=t?t.latestReplies:t,{name:"each",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?i:"")+"\n<footer class=\"panel-footer new-message\">\n  <a href class='btn btn-text btn-reply-link new-reply'>"+(null!=(i=(n.trans||t&&t.trans||o).call(r,"Reply",{name:"trans",hash:{},data:s}))?i:"")+"</a>\n</footer>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'        <a href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'" class="header clearfix on-navigate">\n            <div class="cover cover-xs pull-left">\n                <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,50,{name:"resizeCover",hash:{},data:s}))+'">\n            </div>\n            <div class="content">\n                <h4 class="h3">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+" - "+c(u(null!=(i=null!=t?t.part:t)?i.title:i,t))+"</h4>\n                <small>"+c(u(null!=(i=null!=t?t.user:t)?i.name:i,t))+" &middot; "+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Part","%s Parts",null!=t?t.numParts:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numParts:t,{name:"sprintf",hash:{},data:s}))+'</small>\n                <div class="meta">\n                    '+(null!=(i=n.if.call(r,null!=t?t.readCount:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"\n                    "+(null!=(i=n.if.call(r,null!=t?t.voteCount:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+"\n                </div>\n            </div>\n        </a>\n"},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="reads">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-view",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+"</small>"},4:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="votes">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=e.lambda,o=e.escapeExpression,c=null!=t?t:e.nullContext||{},u=n.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+o(r(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n      <img src="'+o((n.resizeAvatar||t&&t.resizeAvatar||u).call(c,null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+o((n.trans||t&&t.trans||u).call(c,"%s commented on %s - %s",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.title:i,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+o("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:u)?l.call(c,{name:"createDate",hash:{},data:s}):l)+'">'+o((n.fromNow||t&&t.fromNow||u).call(c,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(i=e.invokePartial(a["core.feed_items.feed_item_options"],t,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</header>\n\n<div class="panel-body">\n    <article class="panel comment">\n'+(null!=(i=n.blockHelperMissing.call(t,r(null!=(i=null!=t?t.data:t)?i.story:i,t),{name:"data.story",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'        <blockquote class="comment-body">'+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||u).call(c,null!=(i=null!=(i=null!=t?t.data:t)?i.comment:i)?i.body:i,2e3,!0,{name:"simpleShorten",hash:{},data:s}))?i:"")+'</blockquote>\n    </article>\n\n    <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+o(r(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.id:i,t))+'" data-toggle="tooltip" data-placement="left" title="'+o((n.trans||t&&t.trans||u).call(c,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(i=(n.iconify||t&&t.iconify||u).call(c,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n    </button>\n</div>\n\n<footer class="panel-footer">\n    <a class="btn btn-text on-navigate" href="'+o((n.formatStoryUrl||t&&t.formatStoryUrl||u).call(c,null!=(i=null!=(i=null!=t?t.data:t)?i.comment:i)?i.deeplink_url:i,{name:"formatStoryUrl",hash:{},data:s}))+'">'+(null!=(i=(n.iconify||t&&t.iconify||u).call(c,"fa-comment",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.trans||t&&t.trans||u).call(c,"View Conversation",{name:"trans",hash:{},data:s}))+"</a>\n</footer>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s,i,l){var r,o,c=e.escapeExpression,u=null!=t?t:e.nullContext||{},d=n.helperMissing;return'              <li>\n                <a href="/'+c(e.lambda(null!=l[1]?l[1].urlBasePath:l[1],t))+"/"+c("function"==typeof(o=null!=(o=n.tabValue||(null!=t?t.tabValue:t))?o:d)?o.call(u,{name:"tabValue",hash:{},data:s}):o)+'" data-section="'+c("function"==typeof(o=null!=(o=n.tabValue||(null!=t?t.tabValue:t))?o:d)?o.call(u,{name:"tabValue",hash:{},data:s}):o)+'" class="tab-control'+(null!=(r=(n.ifequal||t&&t.ifequal||d).call(u,null!=l[1]?l[1].activeTab:l[1],null!=t?t.tabValue:t,{name:"ifequal",hash:{},fn:e.program(2,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n                    '+c("function"==typeof(o=null!=(o=n.translatedTabName||(null!=t?t.translatedTabName:t))?o:d)?o.call(u,{name:"translatedTabName",hash:{},data:s}):o)+'\n                    <span class="fa-stack check '+(null!=(r=(n.ifequal||t&&t.ifequal||d).call(u,null!=l[1]?l[1].activeTab:l[1],null!=t?t.tabValue:t,{name:"ifequal",hash:{},fn:e.noop,inverse:e.program(4,s,0,i,l),data:s}))?r:"")+'">\n                      '+(null!=(r=(n.iconify||t&&t.iconify||d).call(u,"fa-circle-empty fa-stack-2x",16,"wp-base-2",{name:"iconify",hash:{},data:s}))?r:"")+"\n                      "+(null!=(r=(n.iconify||t&&t.iconify||d).call(u,"fa-check fa-stack-1x",10,"wp-base-2",{name:"iconify",hash:{},data:s}))?r:"")+"\n                    </span>\n                </a>\n              </li>\n"},2:function(e,t,n,a,s){return" active"},4:function(e,t,n,a,s){return" hidden "},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return' <div class="panel-heading">\n        <h4 class="text-light all-caps" id="header-left">'+d((n.sprintf||t&&t.sprintf||u).call(c,(n.ngettext||t&&t.ngettext||u).call(c,"%s Story","%s Stories",null!=t?t.numStories:t,{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||u).call(c,null!=t?t.numStories:t,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'</h4>\n        <div class="button-group relative inline-block">\n          <button class="btn btn-text dropdown-toggle" id="sortby-button" data-toggle="dropdown">\n            <span id="sortby-text">'+d((n.trans||t&&t.trans||u).call(c,"Sort by: ",{name:"trans",hash:{},data:s}))+" "+d("function"==typeof(o=null!=(o=n.translatedActiveTab||(null!=t?t.translatedActiveTab:t))?o:u)?o.call(c,{name:"translatedActiveTab",hash:{},data:s}):o)+'</span>\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu dropdown-menu-right" id="sortby-dropdown">\n'+(null!=(r=n.each.call(c,null!=t?t.tabs:t,{name:"each",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"        </ul>\n      </div>\n    </div>"},useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" unread"},3:function(e,t,n,a,s){var i;return"          "+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"<strong>%1$s</strong> mentioned you in a comment on <strong>%2$s - %3$s</strong>",null!=(i=null!=(i=null!=t?t.comment:t)?i.user:i)?i.name:i,null!=(i=null!=t?t.story:t)?i.title:i,null!=(i=null!=(i=null!=t?t.story:t)?i.part:i)?i.title:i,{name:"trans",hash:{},data:s}))?i:"")+"\n"},5:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.comment:t)?i.parentId:i,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?i:""},6:function(e,t,n,a,s){var i;return"          "+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"<strong>%1$s</strong> replied to a comment on <strong>%2$s - %3$s</strong>",null!=(i=null!=(i=null!=t?t.comment:t)?i.user:i)?i.name:i,null!=(i=null!=t?t.story:t)?i.title:i,null!=(i=null!=(i=null!=t?t.story:t)?i.part:i)?i.title:i,{name:"trans",hash:{},data:s}))?i:"")+"\n"},8:function(e,t,n,a,s){var i;return"          "+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"<strong>%1$s</strong> commented on <strong>%2$s - %3$s</strong>",null!=(i=null!=(i=null!=t?t.comment:t)?i.user:i)?i.name:i,null!=(i=null!=t?t.story:t)?i.title:i,null!=(i=null!=(i=null!=t?t.story:t)?i.part:i)?i.title:i,{name:"trans",hash:{},data:s}))?i:"")+"\n        "},10:function(e,t,n,a,s){return"expanded-text"},12:function(e,t,n,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=e.escapeExpression,c=n.helperMissing;return'\x3c!-- Individual Comment --\x3e\n<article class="notification comment panel'+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'">\n  <a href="/user/'+o(e.lambda(null!=(i=null!=(i=null!=t?t.comment:t)?i.user:i)?i.name:i,t))+'" class="on-navigate avatar avatar-sm2">\n      <img src="'+(null!=(i=(n.resizeAvatar||t&&t.resizeAvatar||c).call(r,null!=(i=null!=(i=null!=t?t.comment:t)?i.user:i)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))?i:"")+'">\n  </a>\n  <div class="content">\n'+(null!=(i=e.invokePartial(a["core.item_views.comment_item_options"],t,{name:"core.item_views.comment_item_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'\n    <a href="'+o((n.formatStoryUrl||t&&t.formatStoryUrl||c).call(r,null!=(i=null!=t?t.comment:t)?i.deeplink_url:i,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-notification-click">\n      <div class="heading">\n'+(null!=(i=n.if.call(r,null!=t?t.hasMentions:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+"      </div>\n    </a>\n\n    "+(null!=(i=(n.iconify||t&&t.iconify||c).call(r,"fa-comment",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+' <time datetime="'+o("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:c)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+o((n.calendar||t&&t.calendar||c).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+'</time>\n\n    <p class="shown-message '+(null!=(i=n.unless.call(r,null!=t?t.isTruncated:t,{name:"unless",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?i:"")+'">\n        '+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||c).call(r,null!=(i=null!=t?t.comment:t)?i.body:i,null!=t?t.maxTextLength:t,!0,{name:"simpleShorten",hash:{doUrl:!1,doTag:!1},data:s}))?i:"")+'\n      <span class="show-full'+(null!=(i=n.unless.call(r,null!=t?t.isTruncated:t,{name:"unless",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?i:"")+'"><strong>'+o((n.trans||t&&t.trans||c).call(r,"more",{name:"trans",hash:{},data:s}))+'</strong></span>\n      </p>\n    <p class="hidden full-message">'+(null!=(i=(n.linkify||t&&t.linkify||c).call(r,null!=(i=null!=t?t.comment:t)?i.body:i,{name:"linkify",hash:{},data:s}))?i:"")+"</p>\n  </div>\n</article>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="modal-dialog">\n  <div class="modal-content">\n\n    <header class="modal-header">\n      <h1 class="modal-title">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+'</h1>\n\n      <div class="close" data-dismiss="modal">\n        '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n      </div>\n    </header>\n\n    <div class="modal-body">\n      <div id="user-row-items" class="collection row"></div>\n\n      <div class="show-more center-text'+(null!=(i=n.if.call(r,null!=t?t.hasMore:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?i:"")+'">\n        <button class="btn btn-grey on-showmore" role="button">\n          <span class="show-more-message">\n            <span>'+c((n.trans||t&&t.trans||o).call(r,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-down-small",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n          </span>\n          <span class="loading-message hidden">\n            '+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||o).call(r,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n            <span>"+c((n.trans||t&&t.trans||o).call(r,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n          </span>\n        </button>\n      </div> \n    </div>\n\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<ul class="meta on-edit-hide" id="reading-list-meta">\n    <li>'+o((n.trans||t&&t.trans||r).call(l,"Reading List",{name:"trans",hash:{},data:s}))+"</li>\n    <li>"+o((n.sprintf||t&&t.sprintf||r).call(l,(n.ngettext||t&&t.ngettext||r).call(l,"%s Story","%s Stories",(n.count||t&&t.count||r).call(l,null!=(i=null!=t?t.list:t)?i.numStories:i,{name:"count",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||r).call(l,null!=(i=null!=t?t.list:t)?i.numStories:i,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+"</li>\n</ul>\n"},useData:!0})},function(e,t,n){"use strict";e.exports=function(e){return!e||e.rating>=4}},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"      "+(null!=(i=e.lambda(null!=(i=null!=t?t.image:t)?i.outerHTML:i,t))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<figure contenteditable="false">\n  <p data-p-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-media-type="image" data-image-layout="one-horizontal">\n'+(null!=(i=n.each.call(r,null!=t?t.images:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'  \n    <span class=\'banned-overlay hidden\'>\n        <span class="banned-messaging hide"></span>\n    </span>\n    <span contenteditable=\'false\' class="on-remove-image">\n      <span class="play fa-stack fa-lg">\n        '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-circle-filled","auto","wp-neutral-1 fa-stack-2x",{name:"iconify",hash:{},data:s}))?i:"")+"\n        "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",18,"wp-neutral-5 fa-stack-1x",{name:"iconify",hash:{},data:s}))?i:"")+'\n      </span>\n    </span>\n   \n  </p>\n  <figcaption contenteditable="false">\n    '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-warning",24,"wp-error-1",{name:"iconify",hash:{},data:s}))?i:"")+"\n    "+c((n.trans||t&&t.trans||o).call(r,"Oops! This image does not follow our content guidelines. To continue publishing, please remove it or upload a different image.",{name:"trans",hash:{},data:s}))+"\n  </figcaption>\n</figure>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c="function",u=e.escapeExpression;return'<p data-media-type="video" data-video-source="wattpad" data-original-width="'+u(typeof(l=null!=(l=n.origWidth||(null!=t?t.origWidth:t))?l:o)===c?l.call(r,{name:"origWidth",hash:{},data:s}):l)+'" data-original-height="'+u(typeof(l=null!=(l=n.origHeight||(null!=t?t.origHeight:t))?l:o)===c?l.call(r,{name:"origHeight",hash:{},data:s}):l)+'"data-preview-image="'+u(typeof(l=null!=(l=n.previewImageSrc||(null!=t?t.previewImageSrc:t))?l:o)===c?l.call(r,{name:"previewImageSrc",hash:{},data:s}):l)+'" data-video-id="'+u(typeof(l=null!=(l=n.videoId||(null!=t?t.videoId:t))?l:o)===c?l.call(r,{name:"videoId",hash:{},data:s}):l)+'">\n  <video poster="'+u(typeof(l=null!=(l=n.previewImageSrc||(null!=t?t.previewImageSrc:t))?l:o)===c?l.call(r,{name:"previewImageSrc",hash:{},data:s}):l)+'" autoplay autostart muted loop controls>\n    <source src="'+u(typeof(l=null!=(l=n.videoSrc||(null!=t?t.videoSrc:t))?l:o)===c?l.call(r,{name:"videoSrc",hash:{},data:s}):l)+'" type="video/mp4">\n    '+u((n.trans||t&&t.trans||o).call(r,"There should be a GIF or video here. Update the app now to see it",{name:"trans",hash:{},data:s}))+'\n  </video>\n  <span class="place-holder">&nbsp;</span>\n  <span contenteditable=\'false\' class="on-remove-image">\n    <span class="play fa-stack fa-lg">\n      '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-circle-filled","auto","wp-neutral-1 fa-stack-2x",{name:"iconify",hash:{},data:s}))?i:"")+"\n      "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",18,"wp-neutral-5 fa-stack-1x",{name:"iconify",hash:{},data:s}))?i:"")+"\n    </span>\n  </span>\n</p>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<p data-media-type="image">\n  <span contenteditable=\'false\' class="on-remove-image">\n    <span class="play fa-stack fa-lg">\n      '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-circle-filled","auto","wp-neutral-1 fa-stack-2x",{name:"iconify",hash:{},data:s}))?i:"")+"\n      "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove","auto","wp-neutral-5 fa-stack-1x",{name:"iconify",hash:{},data:s}))?i:"")+'\n    </span>\n  </span>\n  <iframe data-video-id="'+c("function"==typeof(l=null!=(l=n.videoId||(null!=t?t.videoId:t))?l:o)?l.call(r,{name:"videoId",hash:{},data:s}):l)+'" width="764" height="330" src="//www.youtube-nocookie.com/embed/'+c("function"==typeof(l=null!=(l=n.videoId||(null!=t?t.videoId:t))?l:o)?l.call(r,{name:"videoId",hash:{},data:s}):l)+'?rel=0&showinfo=0&enablejsapi=1" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n</p>\n'},useData:!0})},function(e,t){e.exports={"wp-base-1":"#ff6122","wp-base-1-light":"#ff7b3c","wp-base-1-dark":"#e64809","wp-base-1-60":"#A93E19","wp-base-2":"#00b2b2","wp-base-2-light":"#1acccc","wp-base-2-dark":"#009999","wp-neutral-1":"#222222","wp-neutral-2":"#6f6f6f","wp-neutral-3":"#eeeeee","wp-neutral-4":"#fafafa","wp-neutral-new-4":"rgba(18, 18, 18, 0.12)","wp-neutral-5":"#ffffff","wp-error-1":"#ff3f12","wp-warning-01":"#ffc922","facebook-1":"#3b5998","twitter-1":"#55acee","pinterest-1":"#bd081c","tumblr-1":"#35465c","google-1":"#db4437","google-2":"#1e6cd6","wp-ambassador-profile":"#df6400","wp-lightteal":"#c3d8dc","wp-lighterteal":"#eaf0f4","wp-lighterror":"#faada1","wp-errorbackground":"#ff6d55","wp-focus-blue":"#00a0d9","wp-button-red":"#e94a2c","wp-button-green":"#01b05a","wp-wattys-tag":"#322864","ds-neutral-00-solid":"#fff","ds-neutral-100":"#121212","ds-base-4-accent":"#e81249","ds-base-2-60":"#3b19a9","ds-alert":"#e00000","ds-success":"#00854e","ds-neutral-80":"rgba(18, 18, 18, 0.64)","ds-neutral-40":"rgba(18, 18, 18, 0.12)"}},function(e,t,n){"use strict";var a=["readinglong_bottom","readinglong_bottom_loggedout","readingshort_bottom","readingshort_bottom_loggedout"];e.exports=function(e){return a.includes(e)}},function(e,t,n){"use strict";var a=n(278),s=n(1);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{additionalClasses:additionalClasses,adText:adText,adTextClass:adTextClass,label:label,parentClass:parentClass,shouldShowAds:shouldShowAds,sizes:sizes,ts:Date.now()},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(""===e||!t.sizes)throw new Error("Ad failed to create placement: ".concat(e,", Skipping ad"));var i="".concat(e,"-").concat(t.ts),l=s(e),r=a(t.sizes),o='const adAvailableEvent = new CustomEvent("ad-available", { bubbles: true, detail: { adUnitId: "'.concat(i,'", shouldShowAds: ').concat(t.shouldShowAds," }}); window.dispatchEvent(adAvailableEvent);"),c="".concat(e," advertisement");return n&&(o="window.addEventListener('DOMContentLoaded', function() {".concat(o,"}, { once: true});")),l.lazyAd&&(c+=" lazyAd ad-event"),t.additionalClasses&&(c+=" ".concat(t.additionalClasses)),t.parentClass?u(d()):d();function u(e){return'\n      <div\n        class="'.concat(t.parentClass,'"\n        ').concat(null!=l&&l.stickyStart?'data-start-selector="'.concat(l.stickyStart,'"'):"","\n        ").concat(null!=l&&l.stickyEnd?'data-end-selector="'.concat(l.stickyEnd,'"'):"","\n      >\n        ").concat(t.adText&&t.adTextClass&&'<h4 class="'.concat(t.adTextClass,'">').concat(t.adText,"</h4>"),"\n        ").concat(e,"\n      </div>\n    ")}function d(){return'\n      <div\n        id="'.concat(i,'"\n        class="').concat(c,'"\n        aria-label="').concat(t.label,'"\n        ').concat(r,"\n      >\n        ").concat(l.lazyAd?"":"<script>".concat(o,"<\/script>"),"\n      </div>\n    ")}}},function(e,t,n){var a=n(1),s=n(18),i=n(17),l=n(56);e.exports=function(e,t,n,r){var o,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{ts:ts,experience:experience,minViewportWidth:minViewportWidth,adText:adText,adTextClass:adTextClass,parentClass:parentClass,additionalClasses:additionalClasses,inlineStyle:inlineStyle,totalViewCount:totalViewCount,translatedLabel:translatedLabel},u="".concat(c.experience,"_").concat(e,"-").concat(c.ts),d=Object.keys(a(e).sizes),h=d.length>1?"[ "+d.join(", ")+" ]":""+d[0],p="",m=a(e);if(!h)return"";if("myworks"===c.experience)o="183796";else{if(!i(r)||l(r))return console.error({message:"Get Adzerk Error",zoneId:o,unit:e}),"";o="181437"}targeting=s(r,n,t),c.minViewportWidth&&(p="if ( window.innerWidth < "+c.minViewportWidth+" ) { return false; }");var f="/* Unit: ".concat(e," Zone: ").concat(o," SizeID: ").concat(h,' */ if (window.ados_add_placement) { ados_add_placement(9660, 421790, "').concat(u,'", ').concat(h,").setZone(").concat(o,").setProperties(").concat(JSON.stringify(targeting),");ados_setConsent({gdpr: true});ados_load(); }");if(m.lazyAd?adString='<div id="'.concat(u,'" class="advertisement lazyAd ').concat(e).concat(c.additionalClasses,'" ').concat(c.inlineStyle," data-ad-code='").concat(f,"' aria-label=\"").concat(c.translatedLabel,'"></div>'):adString='<div id="'.concat(u,'" class="advertisement ').concat(e).concat(c.additionalClasses,'" ').concat(c.inlineStyle,' aria-label="').concat(c.translatedLabel,'">')+'<script type="text/javascript">var ados = ados || {};ados.run = ados.run || [];ados.run.push( function() {'+"".concat(p)+"".concat(f)+"});<\/script></div>",c.parentClass){var g=c.adText?'<h4 class="'.concat(c.adTextClass,'">').concat(c.adText,"</h4>"):"";null!=m&&m.stickyAd?adString='<div class="'.concat(c.parentClass,'" data-start-selector="').concat(m.stickyStart,'" data-end-selector="').concat(m.stickyEnd,'}">\n        ').concat(g).concat(adString,"\n      </div>"):adString='<div class="'.concat(c.parentClass,'">').concat(g).concat(adString,"</div>")}return adString}},function(e,t,n){var a=n(9),s=n(1),i=n(10),l=n(18);e.exports=function(e,t,n,r,o){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{ts:ts,experience:experience,adText:adText,adTextClass:adTextClass,parentClass:parentClass,additionalClasses:additionalClasses,inlineStyle:inlineStyle,totalViewCount:totalViewCount,translatedLabel:translatedLabel},u="",d="".concat(e,"-").concat(c.ts),h=l(r,n,t),p=s(e),m=i(o),f=m.loadAdMethod,g="window.wattpad.utils.".concat(f,"({")+"placements: {"+"'".concat(d,"': {")+"siteId: 1025452, networkId: 9660, "+"zoneId: ".concat(p.zone,", ")+"adTypes: ".concat(JSON.stringify(a.map(Object.keys(p.sizes),a.parseInt)),", ")+"htSlotName: '".concat(e,"', ")+"targeting: ".concat(JSON.stringify(h),", ")+"page: '".concat(c.experience,"'")+"}}});";if(u=p.lazyAd?'<div id="'.concat(d,'" class="advertisement lazyAd ').concat(e).concat(c.additionalClasses,'"').concat(c.inlineStyle," ")+'data-ad-placement="'.concat(d,'" ')+'data-adzerk-zone="'.concat(p.zone,'" ')+"data-ad-types='".concat(JSON.stringify(a.map(Object.keys(p.sizes),a.parseInt)),"' ")+'data-ht-slot-name="'.concat(e,'" ')+"data-targeting='".concat(JSON.stringify(h),"' ")+"data-page='".concat(c.experience,"' ")+'data-hb="true" '+'aria-label="'.concat(c.translatedLabel,'"')+"></div>":p.refreshAd?'<div id="'.concat(d,'" class="advertisement ').concat(e).concat(c.additionalClasses,'" ').concat(c.inlineStyle," ")+'data-ad-placement="'.concat(d,'" ')+'data-adzerk-zone="'.concat(p.zone,'" ')+"data-ad-types='".concat(JSON.stringify(a.map(Object.keys(p.sizes),a.parseInt)),"' ")+'data-ht-slot-name="'.concat(e,'" ')+"data-targeting='".concat(JSON.stringify(h),"' ")+"data-page='".concat(c.experience,"' ")+'data-hb="true" '+'aria-label="'.concat(c.translatedLabel,'"')+"><script>".concat(g,"<\/script></div>"):'<div id="'.concat(d,'" class="advertisement').concat(c.additionalClasses,'" ').concat(c.inlineStyle,' aria-label="').concat(c.translatedLabel,'">')+"<script>".concat(g,"<\/script>")+"</div>",c.parentClass){var v=c.adText?'<h4 class="'.concat(c.adTextClass,'">').concat(c.adText,"</h4>"):"";u=null!=p&&p.stickyAd?'<div class="'.concat(c.parentClass,'" data-start-selector="').concat(p.stickyStart,'" data-end-selector="').concat(p.stickyEnd,'">')+"".concat(v).concat(u)+"</div>":'<div class="'.concat(c.parentClass,'">').concat(v).concat(u,"</div>")}return u}},function(e,t,n){"use strict";var a=encodeURIComponent(" #"),s=function(e,t){if("string"!=typeof e||!e.length)throw new TypeError("".concat(t," must be a non empty string"))},i=function(e,t){return s(e,"url"),s(t,"tagName"),e.replace(new RegExp(a+t+"(?="+a+"|$)","g"),"")},l=function(e,t){return s(e,"url"),s(t,"tagName"),e+a+t};e.exports={updateWithActiveTags:function(e,t){if(!Array.isArray(e))throw new TypeError("relatedTags must be an array");t.reverse().forEach((function(t){t=t.slice(1);var n=e.findIndex((function(e){return e.name===t}));n<0?e.unshift({id:t,name:t,active:!0}):e[n].active=!0}))},addLinksToTags:function(e,t){if(!Array.isArray(e)||!e.length)throw new TypeError("relatedTags must be an array of tags");return"string"==typeof t&&t.length>0?e.map((function(e){return e.link=e.active?i(t,e.name):l(t,e.name),e})):e.map((function(e){return e.link="stories/".concat(e.name),e}))},addTagToUrl:l,removeTagFromUrl:i,sortActiveTags:function(e){if(!Array.isArray(e))throw new TypeError("relatedTags must be an array");var t=[],n=[];return e.forEach((function(e){e.active?t.push(e):n.push(e)})),[].concat(t,n)}}},function(e,t){e.exports={isForcedSignupSession:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("number"!=typeof e)throw new Error("isForcedSignupSession: invalid loggedOutSessionCount arugment provided");return e>=5&&e<=9},FORCED_SIGNUP_FIRST_SESSION:5,FORCED_SIGNUP_LAST_SESSION:9}},function(e,t){e.exports={isForcedSignupExemptView:function(e){return e instanceof app.views.Base==!1?(console.error("isForcedSignupExemptView: invalid loggedOutSessionCount arugment provided"),!1):e instanceof app.views.Authentication||e instanceof app.views.Landing||e instanceof app.views.ValidationSuccess}}},function(e,t,n){"use strict";var a=["suicide","suicidal","suiciding","selfharm","cuts","cutting","cutter","suicidio","suicdio","selbstmord","intihar","Suizidgefhrdet","Samookaleczanie","suicidar","suicidarse","suicidas","self harm","bunuh diri","Selbstmord","kill myself","kill herself","kill himself","kill themself","kill themselves","Auto-lesin","suicide-attempt","suicide-method","suicide method","suicide attempt","suicide note","suicide-note","suicidenote","suicideattempt","suicidemethod ","suicideboy","suicidegirl","suicide girl","suicide boy","suicide-boy","suicide-girl ","self-harming","self harming","self harmer","selfharmer","self-harmer ","suicidemate","suicide-mate","suicide mate","suicide pact","suicide-pact","suicidepact","Zelfmoord",""],s=["BTS","Bangtan","Sonyeondan","Jungkook","Jimin","Taehyung","Namjoon","Suga","Yoongi","Seokjin","hoseok","Hobi","jhope","TXT","TomorrowTogether","Tomorrow x Together","TomorrowxTogether","Tomorrow Together","Soobin","Yeonjun","Huening","Taehyun","Beomgyu","TomorrowTogether","Tomorrow x Together","TomorrowxTogether","Tomorrow Together","Soobin","Yeonjun","Huening","Taehyun","Beomgyu","Enhypen","Heeseung","Jay","Sunghoon","Sunoo","Jungwon","Ni-ki","Niki"];e.exports={isUnsafe:function(e){var t=new Set(a.map((function(e){return e.toLowerCase()}))),n=function(e){return t.has(e)},s=e?e.toLowerCase():"",i=s?s.split(" "):"";return!(!s||!n(s)&&!i.some(n))},isProjB:function(e){return!!s.some((function(t){return null==e?void 0:e.toLowerCase().includes(null==t?void 0:t.toLowerCase())}))}}},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'  <li class="title">'+e.escapeExpression("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:s}):i)+"</li>\n"},3:function(e,t,n,a,s){var i;return"    <li>"+e.escapeExpression("function"==typeof(i=null!=(i=n.label||(null!=t?t.label:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:s}):i)+"</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return"<ul>\n"+(null!=(i=n.if.call(l,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=n.each.call(l,null!=t?t.items:t,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"</ul>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'    <a data-gtm-action="share:'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'" class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'" '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">"+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,18,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"</a>\n"},2:function(e,t,n,a,s){return' social-share" target="_blank'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return'<div class="social-share-links">\n'+(null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.links:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="reading-list-dropdown">\n    <div class="triangle"></div>\n    <div class="dropdown-menu dropdown-menu-right add-to-library">\n        <ul class="lists-menu" data-story-id="'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'"></ul>\n        <div class="input-group">\n            <label for="new-reading-list" class="sr-only">New Reading List</label>\n            <input id="new-reading-list" type="text" class="form-control list-name list-error-placeholder" placeholder="Add New Reading List">\n        <span class="input-group-btn">\n            <button class="btn btn-orange on-create-list" type="button" data-story-id="'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'">\n                +\n            </button>\n        </span>\n        </div>\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'<div class="error">\n  <div class="h6">\n'+(null!=(i=n.if.call(l,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?i:"")+"  </div>\n"+(null!=(i=(n.greaterThan||t&&t.greaterThan||n.helperMissing).call(l,null!=(i=null!=t?t.errors:t)?i.length:i,1,{name:"greaterThan",hash:{},fn:e.program(6,s,0),inverse:e.program(9,s,0),data:s}))?i:"")+"</div>\n"},2:function(e,t,n,a,s){var i;return"      "+e.escapeExpression("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:s}):i)+"\n"},4:function(e,t,n,a,s){return"      "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Some errors occured while trying to save your story",{name:"trans",hash:{},data:s}))+"\n"},6:function(e,t,n,a,s){var i,l,r,o="  <ul>\n";return l=null!=(l=n.errors||(null!=t?t.errors:t))?l:n.helperMissing,r={name:"errors",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.errors||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(o+=i),o+"  </ul>\n"},7:function(e,t,n,a,s){return"      <li>"+e.escapeExpression(e.lambda(t,t))+"</li>\n"},9:function(e,t,n,a,s){var i,l,r,o="";return l=null!=(l=n.errors||(null!=t?t.errors:t))?l:n.helperMissing,r={name:"errors",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.errors||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(o+=i),o},10:function(e,t,n,a,s){return"      <p>"+e.escapeExpression(e.lambda(t,t))+"</p>\n"},12:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.successMessage:t,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?i:""},13:function(e,t,n,a,s){var i;return'  <div class="success">\n    <div class="h6">'+e.escapeExpression("function"==typeof(i=null!=(i=n.successMessage||(null!=t?t.successMessage:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"successMessage",hash:{},data:s}):i)+"</div>\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.errors:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(12,s,0),data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"StoryTags","storyTags",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return"        "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Before you publish %s",null!=t?t.partTitle:t,{name:"trans",hash:{},data:s}))+"\n"},3:function(e,t,n,a,s){var i,l=e.lambda,r=n.blockHelperMissing;return(null!=(i=r.call(t,l(null!=(i=null!=t?t.story:t)?i.id:i,t),{name:"story.id",hash:{},fn:e.noop,inverse:e.program(4,s,0),data:s}))?i:"")+(null!=(i=r.call(t,l(null!=(i=null!=t?t.story:t)?i.id:i,t),{name:"story.id",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:"")},4:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isNew:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?i:""},5:function(e,t,n,a,s){return"        "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Add Story Info",{name:"trans",hash:{},data:s}))+"\n        "},7:function(e,t,n,a,s){return e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Please enter your story details",{name:"trans",hash:{},data:s}))+"\n"},9:function(e,t,n,a,s){return"        "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Edit Story Details",{name:"trans",hash:{},data:s}))+"\n"},11:function(e,t,n,a,s){return'      <button class="btn btn-grey on-edit-close">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Close",{name:"trans",hash:{},data:s}))+"</button>\n"},13:function(e,t,n,a,s){return'      <button class="btn btn-grey on-edit-cancel">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Cancel",{name:"trans",hash:{},data:s}))+"</button>\n"},15:function(e,t,n,a,s){return'      <button class="btn btn-orange on-edit-save"><span class="text">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Skip",{name:"trans",hash:{},data:s}))+'</span>\n        <div id="finish-tooltip" data-toggle="popover"></div>\n      </button>\n'},17:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isPublish:t,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.program(20,s,0),data:s}))?i:""},18:function(e,t,n,a,s){return'      <button class="btn btn-orange on-publish">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Publish",{name:"trans",hash:{},data:s}))+"</button>\n"},20:function(e,t,n,a,s){return'      <button class="btn btn-orange on-edit-save">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Save",{name:"trans",hash:{},data:s}))+"</button>\n"},22:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'      <div class="container">\n       <div class="banned-image-messaging ">\n\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"warning-triangle",30,"wp-warning-01","warning-icon",{name:"iconify",hash:{},data:s}))?i:"")+'\n        <span className="message">\n            '+o((n.trans||t&&t.trans||r).call(l,"1 or more of your images was deemed unsafe and will only be visible to you.",{name:"trans",hash:{},data:s}))+'\n              <a\n              class="learn-more"\n              rel="noopener"\n              target="_blank"\n              href= "https://support.wattpad.com/hc/en-us/articles/360020840731-Image-Moderation-on-Wattpad"\n            >\n              '+o((n.trans||t&&t.trans||r).call(l,"Learn more",{name:"trans",hash:{},data:s}))+"\n            </a>\n        </span>\n\n      </div>\n      </div>\n"},24:function(e,t,n,a,s){return"new-image"},26:function(e,t,n,a,s){var i;return"               <span class='banned-overlay'>\n\n                   "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"warning-triangle",60,"wp-warning-01","warning-icon",{name:"iconify",hash:{},data:s}))?i:"")+"\n\n                </span>\n"},28:function(e,t,n,a,s){return" on-trigger-tooltip"},30:function(e,t,n,a,s){return" hidden"},32:function(e,t,n,a,s){return' data-toggle="dropdown" '},34:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'        <span data-toggle="popover" class="popover-icon" id="image-tooltip" title="'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Add a story cover",{name:"trans",hash:{},data:s}))+'">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"</span>\n"},36:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'      <button class="btn btn-orange btn-view-as-reader on-view-as-reader" data-attr="wid-btn" data-url="'+e.escapeExpression((n.formatStoryUrl||t&&t.formatStoryUrl||r).call(l,null!=(i=null!=t?t.story:t)?i.url:i,{name:"formatStoryUrl",hash:{},data:s}))+'">\n        '+(null!=(i=(n.ifequal||t&&t.ifequal||r).call(l,null!=t?t.lang:t,"en",{name:"ifequal",hash:{},fn:e.program(37,s,0),inverse:e.program(39,s,0),data:s}))?i:"")+"\n      </button>\n"},37:function(e,t,n,a,s){return e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"View as reader",{name:"trans",hash:{},data:s}))},39:function(e,t,n,a,s){return e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Preview",{name:"trans",hash:{},data:s}))},41:function(e,t,n,a,s){var i;return'      <div class="social-share-wrapper">\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.story:t)?i.published:i,{name:"if",hash:{},fn:e.program(42,s,0),inverse:e.noop,data:s}))?i:"")+"      </div>\n"},42:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return"        <h5>"+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(l,"Share ",{name:"trans",hash:{},data:s}))+"</h5>\n"+(null!=(i=n.each.call(l,null!=(i=null!=t?t.story:t)?i.socialLinks:i,{name:"each",hash:{},fn:e.program(43,s,0),inverse:e.noop,data:s}))?i:"")},43:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'        <a data-gtm-action="share:'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'" class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(44,s,0),inverse:e.noop,data:s}))?i:"")+'"\n          '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">\n          "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,24,"wp-neutral-2","fa-2x social-icon",{name:"iconify",hash:{},data:s}))?i:"")+"\n        </a>\n"},44:function(e,t,n,a,s){return' social-share" target="_blank'},46:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["desktop.create.works_contests"],t,{name:"desktop.create.works_contests",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:""},48:function(e,t,n,a,s){return"publish-edit\n                "},50:function(e,t,n,a,s){var i;return(null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.isNew:t,{name:"unless",hash:{},fn:e.program(51,s,0),inverse:e.noop,data:s}))?i:"")+"\n                "},51:function(e,t,n,a,s){return"hidden"},53:function(e,t,n,a,s){return" has-title"},55:function(e,t,n,a,s){return"on-trigger-tooltip"},57:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["desktop.create.works_character_item"],t,{name:"desktop.create.works_character_item",hash:{readonly:!0},data:s,indent:"                                ",helpers:n,partials:a,decorators:e.decorators}))?i:""},59:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["desktop.create.works_character_item"],t,{name:"desktop.create.works_character_item",data:s,indent:"                                ",helpers:n,partials:a,decorators:e.decorators}))?i:""},61:function(e,t,n,a,s,i,l){var r;return"                            "+(null!=(r=(n.select||t&&t.select||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.id:t,null!=t?t.name:t,null!=(r=null!=(r=null!=l[1]?l[1].story:l[1])?r.categoryObject:r)?r.id:r,{name:"select",hash:{},data:s}))?r:"")+"\n"},63:function(e,t,n,a,s){return'                          <span data-toggle="popover" class="popover-anchor on-trigger-tooltip" id="prefilled-tag-tooltip" title="Your submission has been tagged!"></span>\n'},65:function(e,t,n,a,s){return'                      <p class="fa-wp-grey"><small>Add the tag\n                        <a target="_blank" href="/1136309084-the-maybelline-bravetogether-writeathon-for">#BraveTogether</a>\n                        to your story this month and Wattpad will donate $1 to The Trevor Project which provides crisis support services for LGBTQ youth in need.</small>\n                      </p>\n'},67:function(e,t,n,a,s){return"selected"},69:function(e,t,n,a,s,i,l){var r;return"                              "+(null!=(r=(n.select||t&&t.select||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.id:t,null!=t?t.name:t,null!=(r=null!=(r=null!=l[1]?l[1].story:l[1])?r.language:r)?r.id:r,{name:"select",hash:{},data:s}))?r:"")+"\n"},71:function(e,t,n,a,s){return" checked"},73:function(e,t,n,a,s){return' disabled="disabled" '},75:function(e,t,n,a,s){return'                    <p class="rating-warning">\n                        '+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"The Wattpad community has rated your story Mature. For more info, please read Wattpads\n                        Content Guidelines:",{name:"trans",hash:{},data:s}))+" <a href='https://www.wattpad.com/guidelines'>https://www.wattpad.com/guidelines</a>\n                    </p>\n"},77:function(e,t,n,a,s,i,l){var r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression;return'                    <div class="form-group status-form">\n                    <div class="form-wrapper">\n                        <label class="rating-label">'+u((n.trans||t&&t.trans||c).call(o,"Story Status",{name:"trans",hash:{},data:s}))+'</label>\n                        <span data-toggle="popover" class="popover-icon" id="story-tooltip" title="'+u((n.trans||t&&t.trans||c).call(o,"Mark as Complete",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(n.iconify||t&&t.iconify||c).call(o,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                        <span class="toggle-prompt">'+u((n.trans||t&&t.trans||c).call(o,"Complete?",{name:"trans",hash:{},data:s}))+'</span>\n                        <div class="onoffswitch">\n                        <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="complete-switch"\n                            '+(null!=(r=n.if.call(o,null!=(r=null!=t?t.story:t)?r.completed:r,{name:"if",hash:{},fn:e.program(71,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'>\n                        <label class="onoffswitch-label" for="complete-switch">\n                            <span class="onoffswitch-inner">\n                            <span class="on">'+u((n.trans||t&&t.trans||c).call(o,"ON",{name:"trans",hash:{},data:s}))+'</span>\n                            <span class="off">'+u((n.trans||t&&t.trans||c).call(o,"OFF",{name:"trans",hash:{},data:s}))+'</span>\n                            </span>\n                            <span class="onoffswitch-switch"></span>\n                        </label>\n                        </div>\n                    </div>\n                    </div>\n'},79:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'                    <div class="form-group inline-form">\n                        <div class="acknowledge-wrapper">\n                            <span class="empty-warning hidden" id="acknowledge-empty-warning">\n                                *'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"You must complete this field to proceed",{name:"trans",hash:{},data:s}))+"\n                            </span>\n                            "+(null!=(i=(n.reactComponent||t&&t.reactComponent||r).call(l,"Acknowledge","acknowledge",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n                        </div>\n                    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression,h=e.lambda;return'<div id="works-item-edit">\n  <div id="edit-controls" class="edit-profile">\n    <button class="btn btn-text on-edit-cancel" aria-label="'+d((n.trans||t&&t.trans||u).call(c,"Cancel",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-left",24,{name:"iconify",hash:{},data:s}))?r:"")+'</button>\n    <div class="works-item-metadata">\n      <p class="small group-title">\n'+(null!=(r=n.if.call(c,null!=t?t.isPublish:t,{name:"if",hash:{},fn:e.program(1,s,0,i,l),inverse:e.program(3,s,0,i,l),data:s}))?r:"")+'      </p>\n      <span class="h4">'+d(h(null!=(r=null!=t?t.story:t)?r.title:r,t))+'</span>\n    </div>\n\n    <div class="actions pull-right">\n      <img class="save-working hidden" src="/img/desktop-web/ajax-spinner-off-white.gif" />\n'+(null!=(r=n.if.call(c,null!=t?t.isPublish:t,{name:"if",hash:{},fn:e.program(11,s,0,i,l),inverse:e.program(13,s,0,i,l),data:s}))?r:"")+(null!=(r=n.if.call(c,null!=t?t.isNew:t,{name:"if",hash:{},fn:e.program(15,s,0,i,l),inverse:e.program(17,s,0,i,l),data:s}))?r:"")+'    </div>\n  </div>\n  <div id="publish-status-banner"></div>\n'+(null!=(r=n.if.call(c,null!=t?t.hasBannedImages:t,{name:"if",hash:{},fn:e.program(22,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n\n\n\n  <div class="container">\n    <div class="col-lg-3 col-md-3 col-sm-12" id="picture-sidebar">\n      <div class="image-placeholder '+(null!=(r=n.if.call(c,null!=t?t.isNew:t,{name:"if",hash:{},fn:e.program(24,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'" data-file-upload="drop">\n        '+d((n.connectCover||t&&t.connectCover||u).call(c,null!=(r=null!=t?t.story:t)?r.cover:r,null!=(r=null!=t?t.story:t)?r.title:r,256,"cover cover-xlg edit-cover",{name:"connectCover",hash:{},data:s}))+"\n"+(null!=(r=n.if.call(c,null!=t?t.hasBannedCover:t,{name:"if",hash:{},fn:e.program(26,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n        <div class="new-cover-upload'+(null!=(r=n.if.call(c,null!=t?t.showTips:t,{name:"if",hash:{},fn:e.program(28,s,0,i,l),inverse:e.noop,data:s}))?r:"")+(null!=(r=n.unless.call(c,null!=t?t.isNew:t,{name:"unless",hash:{},fn:e.program(30,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n          <span class="dropdown-holder" '+(null!=(r=n.unless.call(c,null!=t?t.showTips:t,{name:"unless",hash:{},fn:e.program(32,s,0,i,l),inverse:e.noop,data:s}))?r:"")+">"+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-image",60,"wp-neutral-2","fa-3x",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n          <div class="add-cover-text dropdown-holder" '+(null!=(r=n.unless.call(c,null!=t?t.showTips:t,{name:"unless",hash:{},fn:e.program(32,s,0,i,l),inverse:e.noop,data:s}))?r:"")+">"+d((n.trans||t&&t.trans||u).call(c,"Add a cover",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="drop-cover-text dropdown-holder" '+(null!=(r=n.unless.call(c,null!=t?t.showTips:t,{name:"unless",hash:{},fn:e.program(32,s,0,i,l),inverse:e.noop,data:s}))?r:"")+">"+d((n.trans||t&&t.trans||u).call(c,"Drop a cover",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="triangle"></div>\n          <ul id="works-more-options-'+d("function"==typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+'" class="dropdown-menu cover-edit-dropdown" role="menu">\n            <li role="none">\n              <a class="file-select" role="menuitem" href="#" data-toggle="modal" data-target="#worksDelete">\n                '+d((n.trans||t&&t.trans||u).call(c,"Upload Cover",{name:"trans",hash:{},data:s}))+'\n              </a>\n            </li>\n            <li role="none">\n                <a class="list-item-no-style" role="menuitem" href="javascript:void(0);">\n                    '+(null!=(r=(n.reactComponent||t&&t.reactComponent||u).call(c,"CanvaButton","canva-button-new",{name:"reactComponent",hash:{},data:s}))?r:"")+'\n                </a>\n            </li>\n          </ul>\n        </div>\n\n        <div id="cover-uploader" class="button-group inline-block dropdown'+(null!=(r=n.if.call(c,null!=t?t.isNew:t,{name:"if",hash:{},fn:e.program(30,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n          <div class="cover-edit-prompt">\n            <div class="default-state">\n              <span class="on-cover-edit hidden" data-toggle="dropdown">Edit your cover</span>\n              <span data-toggle="dropdown">'+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-edit",16,"wp-neutral-5","on-cover-edit-icon",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n              <div class="triangle"></div>\n              <ul id="works-more-options-'+d("function"==typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+'" class="dropdown-menu cover-edit-dropdown" role="menu">\n                <li role="none">\n                  <a class="file-select" role="menuitem" href="#" data-toggle="modal" data-target="#worksDelete">\n                    '+d((n.trans||t&&t.trans||u).call(c,"Upload Cover",{name:"trans",hash:{},data:s}))+'\n                  </a>\n                </li>\n                <li role="none">\n                    <a class="list-item-no-style" role="menuitem" href="javascript:void(0);">\n                        '+(null!=(r=(n.reactComponent||t&&t.reactComponent||u).call(c,"CanvaButton","canva-button-edit",{name:"reactComponent",hash:{},data:s}))?r:"")+'\n                    </a>\n                </li>\n              </ul>\n            </div>\n            <div class="drag-state">\n              <span class="on-cover-edit hidden">Drop your cover</span>\n              '+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-plus",16,"wp-neutral-5","on-cover-edit-icon",{name:"iconify",hash:{},data:s}))?r:"")+'\n            </div>\n          </div>\n        </div>\n        <span class="empty-warning'+(null!=(r=n.unless.call(c,null!=t?t.needCover:t,{name:"unless",hash:{},fn:e.program(30,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">'+d((n.trans||t&&t.trans||u).call(c,"Required",{name:"trans",hash:{},data:s}))+'</span>\n\n\n        <input accept="image/jpeg, image/png, image/gif" type="file" name="file" style="position: absolute; right: 0px; top: 0px; opacity: 0; height: 0; width: 0" aria-label="'+d((n.trans||t&&t.trans||u).call(c,"Story cover file upload",{name:"trans",hash:{},data:s}))+'">\n\n'+(null!=(r=n.if.call(c,null!=t?t.isNew:t,{name:"if",hash:{},fn:e.program(34,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"      </div>\n\n"+(null!=(r=n.unless.call(c,null!=t?t.isNew:t,{name:"unless",hash:{},fn:e.program(36,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=n.unless.call(c,null!=t?t.isPublish:t,{name:"unless",hash:{},fn:e.program(41,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'    </div>\n    <div class="col-lg-8 col-lg-offset-1 col-sm-12 col-md-8 col-md-offset-1" id="main-edit-container">\n      <div class="row">\n        <div id="contest-banner-container">\n'+(null!=(r=n.if.call(c,null!=t?t.displayWattysBanner:t,{name:"if",hash:{},fn:e.program(46,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'        </div>\n\n        <div class="work-section">\n            '+(null!=(r=(n.reactComponent||t&&t.reactComponent||u).call(c,"WorksItemsDetailsNavBar","works-nav-bar",{name:"reactComponent",hash:{},data:s}))?r:"")+'\n\n            <form class="main-edit-form\n                '+(null!=(r=n.if.call(c,null!=t?t.isPublish:t,{name:"if",hash:{},fn:e.program(48,s,0,i,l),inverse:e.program(50,s,0,i,l),data:s}))?r:"")+'">\n\n                <div class="required-form-wrapper">\n                    <div class="form-group title-form">\n                    <label>'+d((n.trans||t&&t.trans||u).call(c,"Title",{name:"trans",hash:{},data:s}))+'</label>\n                    <span class="empty-warning'+(null!=(r=n.unless.call(c,null!=t?t.needTitle:t,{name:"unless",hash:{},fn:e.program(30,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'" id="title-warning">'+d((n.trans||t&&t.trans||u).call(c,"Required",{name:"trans",hash:{},data:s}))+'</span>\n                    <div contenteditable="true" class="story-title'+(null!=(r=n.unless.call(c,null!=t?t.isNew:t,{name:"unless",hash:{},fn:e.program(53,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">'+d(h(null!=(r=null!=t?t.story:t)?r.title:r,t))+'</div>\n                    </div>\n\n                    <div class="form-group description-form">\n                    <div class="form-wrapper">\n                        <label>'+d((n.trans||t&&t.trans||u).call(c,"Description",{name:"trans",hash:{},data:s}))+'</label>\n                        <span data-toggle="popover" class="popover-icon" id="description-tooltip" title="'+d((n.trans||t&&t.trans||u).call(c,"Add a story description",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                        <span class="empty-warning'+(null!=(r=n.unless.call(c,null!=t?t.needDescription:t,{name:"unless",hash:{},fn:e.program(30,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'" id="description-warning">'+d((n.trans||t&&t.trans||u).call(c,"Required",{name:"trans",hash:{},data:s}))+'</span>\n                    </div>\n                    <textarea type="text" name="title" class="story-description '+(null!=(r=n.if.call(c,null!=t?t.showTips:t,{name:"if",hash:{},fn:e.program(55,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'" aria-label="'+d((n.trans||t&&t.trans||u).call(c,"Story description",{name:"trans",hash:{},data:s}))+'" aria-multiline="true">'+d(h(null!=(r=null!=t?t.story:t)?r.description:r,t))+'</textarea>\n                    </div>\n\n                    <div class="form-group characters-form">\n                        <div class="form-wrapper">\n                            <label>'+d((n.trans||t&&t.trans||u).call(c,"Main Characters",{name:"trans",hash:{},data:s}))+'</label>\n                            <span data-toggle="popover" class="popover-icon" id="characters-tooltip" title="'+d((n.trans||t&&t.trans||u).call(c,"Who are your Main Characters?",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                        </div>\n\n                        <div class="characters'+(null!=(r=n.if.call(c,null!=t?t.showTips:t,{name:"if",hash:{},fn:e.program(28,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n'+(null!=(r=n.each.call(c,null!=t?t.characters:t,{name:"each",hash:{},fn:e.program(57,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=(n.ifequal||t&&t.ifequal||u).call(c,null!=(r=null!=t?t.characters:t)?r.length:r,null!=t?t.charactersLimit:t,{name:"ifequal",hash:{},fn:e.noop,inverse:e.program(59,s,0,i,l),data:s}))?r:"")+'                        </div>\n                    </div>\n\n                    <div class="form-group category-form">\n                      <div class="form-wrapper">\n                        <label for="categoryselect">'+d((n.trans||t&&t.trans||u).call(c,"Category",{name:"trans",hash:{},data:s}))+'</label>\n                        <span data-toggle="popover" class="popover-icon" id="category-tooltip" title="'+d((n.trans||t&&t.trans||u).call(c,"Tell Wattpad the category of your story",{name:"trans",hash:{},data:s}))+'">\n                          '+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n                        </span>\n                        <select id="categoryselect" class="form-control '+(null!=(r=n.if.call(c,null!=t?t.showTips:t,{name:"if",hash:{},fn:e.program(55,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n                          <option value="-1">'+d((n.trans||t&&t.trans||u).call(c,"Select a category",{name:"trans",hash:{},data:s}))+"</option>\n"+(null!=(r=n.each.call(c,null!=(r=null!=t?t.story:t)?r.categories:r,{name:"each",hash:{},fn:e.program(61,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'                        </select>\n                        <span class="empty-warning'+(null!=(r=n.unless.call(c,null!=t?t.needCategory:t,{name:"unless",hash:{},fn:e.program(30,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'" id="category-empty-warning">\n                          '+d((n.trans||t&&t.trans||u).call(c,"Required",{name:"trans",hash:{},data:s}))+'\n                        </span>\n                      </div>\n                    </div>\n                    <div class="form-group tags-form">\n                    <div class="form-wrapper">\n                        <label>'+d((n.trans||t&&t.trans||u).call(c,"Tags",{name:"trans",hash:{},data:s}))+'</label>\n                        <span data-toggle="popover" class="popover-icon" id="tags-tooltip" title="'+d((n.trans||t&&t.trans||u).call(c,"Help readers find your story",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                        <span class="empty-warning'+(null!=(r=n.unless.call(c,null!=t?t.needTag:t,{name:"unless",hash:{},fn:e.program(30,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'" id="tag-empty-warning">'+d((n.trans||t&&t.trans||u).call(c,"Required",{name:"trans",hash:{},data:s}))+'</span>\n                    </div>\n                    <div class="tag-container'+(null!=(r=n.if.call(c,null!=t?t.showTips:t,{name:"if",hash:{},fn:e.program(28,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n'+(null!=(r=n.if.call(c,null!=t?t.prefilledTag:t,{name:"if",hash:{},fn:e.program(63,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'                        <div id="editable-tags" style="margin-bottom: 5px;">\n'+(null!=(r=e.invokePartial(a["desktop.create.works_item_editable_tag"],t,{name:"desktop.create.works_item_editable_tag",data:s,indent:"                        ",helpers:n,partials:a,decorators:e.decorators}))?r:"")+'                        </div>\n                        <div id="add-tag" class="tag-item with-icon on-add-tag">\n                        <span>'+d((n.trans||t&&t.trans||u).call(c,"Add a tag",{name:"trans",hash:{},data:s}))+"</span>"+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-plus",12,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?r:"")+'\n                        </div>\n                        <span id="tag-input-wrapper">\n                        <input id="tag-input" class="hidden on-tag-input" placeholder="'+d((n.trans||t&&t.trans||u).call(c,"Separate tags with a space",{name:"trans",hash:{},data:s}))+'"\n                            autocomplete="off" />\n                        </span>\n                    </div>\n'+(null!=(r=n.if.call(c,(n.isTestGroup||t&&t.isTestGroup||u).call(c,"CONTEST_TAG",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(65,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'                    </div>\n                </div>\n\n                <div class="form-group target-audience-form">\n                    <div class="form-wrapper">\n                    <label for="target-audience">'+d((n.trans||t&&t.trans||u).call(c,"Target Audience",{name:"trans",hash:{},data:s}))+'</label>\n                    <span data-toggle="popover" class="popover-icon" id="target-audience-tooltip" title="'+d((n.trans||t&&t.trans||u).call(c,"Who is this story for?",{name:"trans",hash:{},data:s}))+'">\n                        '+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n                    </span>\n                    <select id="target-audience" class="form-control '+(null!=(r=n.if.call(c,null!=t?t.showTips:t,{name:"if",hash:{},fn:e.program(55,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n                        <option selected="true" disabled="disabled">'+d((n.trans||t&&t.trans||u).call(c,"Who is your primary audience?",{name:"trans",hash:{},data:s}))+'</option>\n                        <option value="8-13" '+(null!=(r=(n.ifequal||t&&t.ifequal||u).call(c,null!=t?t.targetAudience:t,"8-13",{name:"ifequal",hash:{},fn:e.program(67,s,0,i,l),inverse:e.noop,data:s}))?r:"")+">"+d((n.trans||t&&t.trans||u).call(c,"Middle Grade (8-13 years of age)",{name:"trans",hash:{},data:s}))+'</option>\n                        <option value="13-18" '+(null!=(r=(n.ifequal||t&&t.ifequal||u).call(c,null!=t?t.targetAudience:t,"13-18",{name:"ifequal",hash:{},fn:e.program(67,s,0,i,l),inverse:e.noop,data:s}))?r:"")+">"+d((n.trans||t&&t.trans||u).call(c,"Young Adult (13-18 years of age)",{name:"trans",hash:{},data:s}))+'</option>\n                        <option value="18-25" '+(null!=(r=(n.ifequal||t&&t.ifequal||u).call(c,null!=t?t.targetAudience:t,"18-25",{name:"ifequal",hash:{},fn:e.program(67,s,0,i,l),inverse:e.noop,data:s}))?r:"")+">"+d((n.trans||t&&t.trans||u).call(c,"New Adult (18-25 years of age)",{name:"trans",hash:{},data:s}))+'</option>\n                        <option value="25+" '+(null!=(r=(n.ifequal||t&&t.ifequal||u).call(c,null!=t?t.targetAudience:t,"25+",{name:"ifequal",hash:{},fn:e.program(67,s,0,i,l),inverse:e.noop,data:s}))?r:"")+">"+d((n.trans||t&&t.trans||u).call(c,"Adult (25+ years of age)",{name:"trans",hash:{},data:s}))+'</option>\n                    </select>\n                    </div>\n                </div>\n\n                <div class="inline-form-wrapper">\n                    <div class="form-group language-form">\n                        <div class="form-wrapper">\n                          <label>'+d((n.trans||t&&t.trans||u).call(c,"Language",{name:"trans",hash:{},data:s}))+'</label>\n                          <span data-toggle="popover" class="popover-icon" id="language-tooltip" title="'+d((n.trans||t&&t.trans||u).call(c,"What language is your story in?",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                          <select id="languageselect" class="form-control '+(null!=(r=n.if.call(c,null!=t?t.showTips:t,{name:"if",hash:{},fn:e.program(55,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'" aria-label="'+d((n.trans||t&&t.trans||u).call(c,"Story language",{name:"trans",hash:{},data:s}))+'" >\n'+(null!=(r=n.each.call(c,null!=(r=null!=t?t.story:t)?r.languages:r,{name:"each",hash:{},fn:e.program(69,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'                          </select>\n                        </div>\n                    </div>\n                    <div class="form-group copyright-form">\n                      <div class="form-wrapper">\n                        '+(null!=(r=(n.reactComponent||t&&t.reactComponent||u).call(c,"Copyright","copyright",{name:"reactComponent",hash:{},data:s}))?r:"")+'\n                      </div>\n                    </div>\n\n                    <div class="form-group rating-form">\n                    <div class="form-wrapper">\n                        <label class="rating-label">'+d((n.trans||t&&t.trans||u).call(c,"Rating",{name:"trans",hash:{},data:s}))+'</label>\n                        <span data-toggle="popover" class="popover-icon" id="rating-tooltip" title="'+d((n.trans||t&&t.trans||u).call(c,"Rate your story",{name:"trans",hash:{},data:s}))+'">'+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-info",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                        <span class="toggle-prompt">'+d((n.trans||t&&t.trans||u).call(c,"Mature",{name:"trans",hash:{},data:s}))+'</span>\n                        <div class="onoffswitch '+(null!=(r=n.if.call(c,null!=t?t.showTips:t,{name:"if",hash:{},fn:e.program(55,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n                        <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="mature-switch"\n                            '+(null!=(r=n.if.call(c,null!=(r=null!=t?t.story:t)?r.mature:r,{name:"if",hash:{},fn:e.program(71,s,0,i,l),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=n.if.call(c,null!=(r=null!=t?t.story:t)?r.ratingLocked:r,{name:"if",hash:{},fn:e.program(73,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'>\n                        <label class="onoffswitch-label" for="mature-switch">\n                            <div class="onoffswitch-inner">\n                            <span class="on">'+d((n.trans||t&&t.trans||u).call(c,"ON",{name:"trans",hash:{},data:s}))+'</span>\n                            <span class="off">'+d((n.trans||t&&t.trans||u).call(c,"OFF",{name:"trans",hash:{},data:s}))+'</span>\n                            </div>\n                            <span class="onoffswitch-switch"></span>\n                        </label>\n                        </div>\n                    </div>\n\n                    <p class="rating-warning everyone'+(null!=(r=n.unless.call(c,null!=(r=null!=t?t.story:t)?r.everyone:r,{name:"unless",hash:{},fn:e.program(30,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n                        '+d((n.trans||t&&t.trans||u).call(c,"Your story is appropriate for all audiences. The Wattpad community has the ability to rate\n                        your story Mature. For more info, please read Wattpads Content Guidelines:",{name:"trans",hash:{},data:s}))+" <a href='https://www.wattpad.com/guidelines'>https://www.wattpad.com/guidelines</a>\n                    </p>\n                    <p class=\"rating-warning writerMature"+(null!=(r=n.unless.call(c,null!=(r=null!=t?t.story:t)?r.writerMature:r,{name:"unless",hash:{},fn:e.program(30,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n                        '+d((n.trans||t&&t.trans||u).call(c,"Your story contains graphic depictions of violence, sexuality, strong language, and/or other\n                        mature themes. For more info, please read Wattpads Content Guidelines:",{name:"trans",hash:{},data:s}))+" <a href='https://www.wattpad.com/guidelines'>https://www.wattpad.com/guidelines</a>\n                    </p>\n"+(null!=(r=n.if.call(c,null!=t?t.communityMature:t,{name:"if",hash:{},fn:e.program(75,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"                    </div>\n\n"+(null!=(r=n.unless.call(c,null!=t?t.isNew:t,{name:"unless",hash:{},fn:e.program(77,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=n.if.call(c,null!=t?t.showAcknowledgeOriginalWorks:t,{name:"if",hash:{},fn:e.program(79,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'                </div>\n            </form>\n\n            <div class="table-of-contents '+(null!=(r=n.if.call(c,null!=t?t.isNew:t,{name:"if",hash:{},fn:e.program(51,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n'+(null!=(r=e.invokePartial(a["desktop.create.works_table_of_contents"],t,{name:"desktop.create.works_table_of_contents",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?r:"")+'            </div>\n            <div class="story-planner">\n              '+(null!=(r=(n.reactComponent||t&&t.reactComponent||u).call(c,"StoryNotes","story-notes",{name:"reactComponent",hash:{},data:s}))?r:"")+'\n            </div>\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n  <div id="details-modal" class="modal fade" role="dialog">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <span class="close pull-right" data-dismiss="modal">'+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n          <span class="sr-only">'+d((n.trans||t&&t.trans||u).call(c,"Close",{name:"trans",hash:{},data:s}))+'</span>\n\n          <div class="modal-title delete-part-modal hidden">'+d((n.trans||t&&t.trans||u).call(c,"Confirm Part Delete",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="modal-title delete-published-part-modal hidden">'+d((n.trans||t&&t.trans||u).call(c,"Delete Part?",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="modal-title unpublish-part-modal hidden">'+d((n.trans||t&&t.trans||u).call(c,"Unpublish Part?",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="modal-title unpublish-story-modal hidden">'+d((n.trans||t&&t.trans||u).call(c,"Unpublish Story?",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="modal-title delete-story-modal hidden">'+d((n.trans||t&&t.trans||u).call(c,"Confirm Story Delete",{name:"trans",hash:{},data:s}))+'</div>\n          <div class="modal-title delete-published-story-modal hidden">'+d((n.trans||t&&t.trans||u).call(c,"Delete Story?",{name:"trans",hash:{},data:s}))+'</div>\n        </div>\n        <div class="modal-body">\n'+(null!=(r=e.invokePartial(a["desktop.components.modal.share_embed"],t,{name:"desktop.components.modal.share_embed",data:s,indent:"          ",helpers:n,partials:a,decorators:e.decorators}))?r:"")+'          <iframe id="stats-modal" frameborder="0" class="hidden" data-href="/dialog/story_stats?groupid='+d(h(null!=(r=null!=t?t.story:t)?r.id:r,t))+'&load-font=1"></iframe>\n\n          <div class="hidden warning delete-published-story-modal delete-story-modal delete-published-part-modal delete-part-modal">\n            '+d((n.trans||t&&t.trans||u).call(c,"WARNING: This cannot be undone.",{name:"trans",hash:{},data:s}))+'\n          </div>\n\n          <div class="hidden question-modal unpublish-part-modal">\n            <div class="prompt">\n              '+d((n.trans||t&&t.trans||u).call(c,"Draft stories can't be seen by other members of Wattpad, so they don't get any new reads, votes, or comments.",{name:"trans",hash:{},data:s}))+'\n            </div>\n\n            <div class="action-buttons two-btns">\n              <button class="btn btn-long btn-teal on-do-unpublish-part">'+d((n.trans||t&&t.trans||u).call(c,"Unpublish",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-short btn-grey" data-dismiss="modal">'+d((n.trans||t&&t.trans||u).call(c,"Cancel",{name:"trans",hash:{},data:s}))+'</button>\n            </div>\n          </div>\n\n          <div class="hidden question-modal delete-published-part-modal">\n            <div class="prompt">\n              '+(null!=(r=(n.trans||t&&t.trans||u).call(c,"If you're unsure, it's better to <strong>unpublish</strong> your part. Unpublished parts can only be seen by you, so they don't get any new reads, votes, or comments.",{name:"trans",hash:{},data:s}))?r:"")+'\n            </div>\n            <div class="action-buttons">\n              <button class="btn btn-red on-delete-part">'+d((n.trans||t&&t.trans||u).call(c,"Delete",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-teal on-do-unpublish-part">'+d((n.trans||t&&t.trans||u).call(c,"Unpublish",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-grey" data-dismiss="modal">'+d((n.trans||t&&t.trans||u).call(c,"Cancel",{name:"trans",hash:{},data:s}))+'</button>\n            </div>\n          </div>\n\n          <div class="hidden question-modal delete-part-modal">\n            <div class="prompt">\n              <div>'+(null!=(r=(n.trans||t&&t.trans||u).call(c,"All <strong>reads</strong> for this part will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+"</div>\n              <div>"+(null!=(r=(n.trans||t&&t.trans||u).call(c,"All <strong>votes</strong> for this part will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+"</div>\n              <div>"+(null!=(r=(n.trans||t&&t.trans||u).call(c,"All <strong>comments</strong> for this part will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+'</div>\n            </div>\n            <div class="action-buttons two-btns">\n              <button class="btn btn-long btn-red on-do-delete-part">'+d((n.trans||t&&t.trans||u).call(c,"Delete Forever",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-short btn-grey" data-dismiss="modal">'+d((n.trans||t&&t.trans||u).call(c,"Cancel",{name:"trans",hash:{},data:s}))+'</button>\n            </div>\n          </div>\n\n          <div class="hidden question-modal unpublish-story-modal">\n            <div class="prompt">\n              '+d((n.trans||t&&t.trans||u).call(c,"Draft stories can't be seen by other members of Wattpad, so they don't get any new reads, votes, or comments.",{name:"trans",hash:{},data:s}))+'\n            </div>\n            <div class="action-buttons two-btns">\n              <button class="btn btn-long btn-teal on-do-unpublish-story cta">'+d((n.trans||t&&t.trans||u).call(c,"Unpublish",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-short btn-grey" data-dismiss="modal">'+d((n.trans||t&&t.trans||u).call(c,"Cancel",{name:"trans",hash:{},data:s}))+'</button>\n            </div>\n\n            <div id="working-wrapper" class="hidden">\n              <div id="unpublish-working">'+d((n.trans||t&&t.trans||u).call(c,"Working",{name:"trans",hash:{},data:s}))+' &hellip;</div>\n              <div class="progress">\n                <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="0" aria-valuemin="0"\n                  aria-valuemax="100" style="width: 0%;"></div>\n              </div>\n            </div>\n          </div>\n\n          <div class="hidden question-modal delete-published-story-modal">\n            <div class="prompt">\n              '+(null!=(r=(n.trans||t&&t.trans||u).call(c,"If you're unsure, it's better to <strong>unpublish</strong> your story. Unpublished stories can only be seen by you, so they don't get any new reads, votes, or comments.",{name:"trans",hash:{},data:s}))?r:"")+'\n            </div>\n            <div class="action-buttons">\n              <button class="btn btn-red on-delete-story">'+d((n.trans||t&&t.trans||u).call(c,"Delete",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-teal on-unpublish-story">'+d((n.trans||t&&t.trans||u).call(c,"Unpublish",{name:"trans",hash:{},data:s}))+'</button>\n              <button class="btn btn-grey" data-dismiss="modal">'+d((n.trans||t&&t.trans||u).call(c,"Cancel",{name:"trans",hash:{},data:s}))+'</button>\n            </div>\n          </div>\n\n          <div class="hidden question-modal delete-story-modal">\n            <div class="prompt">\n              <div>'+(null!=(r=(n.trans||t&&t.trans||u).call(c,"All <strong>parts</strong> for this story will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+"</div>\n              <div>"+(null!=(r=(n.trans||t&&t.trans||u).call(c,"All <strong>reads</strong> for this story will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+"</div>\n              <div>"+(null!=(r=(n.trans||t&&t.trans||u).call(c,"All <strong>votes</strong> for this story will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+"</div>\n              <div>"+(null!=(r=(n.trans||t&&t.trans||u).call(c,"All <strong>comments</strong> for this story will be <strong>deleted</strong>.",{name:"trans",hash:{},data:s}))?r:"")+'</div>\n            </div>\n\n            <form id="delete-story-form">\n              <div class="hidden alert alert-danger" role="alert">\n                '+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-warning",16,"wp-error-1",{name:"iconify",hash:{},data:s}))?r:"")+" <div>"+d((n.trans||t&&t.trans||u).call(c,"Please correct the following",{name:"trans",hash:{},data:s}))+'</div>\n                <ul class="messages"></ul>\n              </div>\n\n              <div class="form-group">\n                <input id="username" class="form-control input-lg enable" type="text" autocomplete="off" autocorrect="off"\n                  autocapitalize="off" placeholder="'+d((n.trans||t&&t.trans||u).call(c,"Username",{name:"trans",hash:{},data:s}))+'">\n              </div>\n              <div class="form-group last">\n                <input id="confirm-username" class="form-control input-lg enable" type="text" autocomplete="off"\n                  autocorrect="off" autocapitalize="off" placeholder="'+d((n.trans||t&&t.trans||u).call(c,"Confirm Username",{name:"trans",hash:{},data:s}))+'">\n              </div>\n\n              <div class="action-buttons two-btns">\n                <input type="submit" class="btn btn-long btn-red" value="'+d((n.trans||t&&t.trans||u).call(c,"Delete Forever",{name:"trans",hash:{},data:s}))+'">\n                <button class="btn btn-short btn-grey" data-dismiss="modal">'+d((n.trans||t&&t.trans||u).call(c,"Cancel",{name:"trans",hash:{},data:s}))+"</button>\n              </div>\n            </form>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s,i,l){var r;return null!=(r=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.isPublish:t,{name:"unless",hash:{},fn:e.program(2,s,0,i,l),inverse:e.noop,data:s}))?r:""},2:function(e,t,n,a,s,i,l){var r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression;return'    <div class="works-item-toc">\n      <h4 class="vcenter hidden">'+u((n.trans||t&&t.trans||c).call(o,"Table of Contents",{name:"trans",hash:{},data:s}))+'</h4>\n      <button class="btn btn-orange on-new-part">+ '+u((n.trans||t&&t.trans||c).call(o,"New Part",{name:"trans",hash:{},data:s}))+'</button>\n\n      <div class="parts-list text-left" data-drag="true">\n'+(null!=(r=n.each.call(o,null!=(r=null!=t?t.story:t)?r.parts:r,{name:"each",hash:{},fn:e.program(3,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"      </div>\n    </div>\n"},3:function(e,t,n,a,s,i,l){var r,o,c,u=null!=t?t:e.nullContext||{},d=n.helperMissing,h="function",p=e.escapeExpression,m=n.blockHelperMissing,f='          <div class="story-part" data-id="'+p(typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:d)===h?o.call(u,{name:"id",hash:{},data:s}):o)+'">\n            <div class="drag-handle vcenter">\n              '+(null!=(r=(n.iconify||t&&t.iconify||d).call(u,"fa-menu",28,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n            </div>\n            <div class="part-meta vcenter">\n              <div class="part-name col-xs-12">\n'+(null!=(r=n.if.call(u,null!=t?t.hasBannedImages:t,{name:"if",hash:{},fn:e.program(4,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'                <a href="/myworks/'+p(e.lambda(null!=(r=null!=l[1]?l[1].story:l[1])?r.id:r,t))+"/write/"+p(typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:d)===h?o.call(u,{name:"id",hash:{},data:s}):o)+'"\n                   class="auto-shorten on-navigate">'+p(typeof(o=null!=(o=n.title||(null!=t?t.title:t))?o:d)===h?o.call(u,{name:"title",hash:{},data:s}):o)+'</a>\n              </div>\n              <div class="part-detail">\n                <div class="col-xs-10 col-sm-5">\n                    <span class="publish-state';return o=null!=(o=n.draft||(null!=t?t.draft:t))?o:d,c={name:"draft",hash:{},fn:e.noop,inverse:e.program(6,s,0,i,l),data:s},r=typeof o===h?o.call(u,c):o,n.draft||(r=m.call(t,r,c)),null!=r&&(f+=r),o=null!=(o=n.deleted||(null!=t?t.deleted:t))?o:d,c={name:"deleted",hash:{},fn:e.program(8,s,0,i,l),inverse:e.noop,data:s},r=typeof o===h?o.call(u,c):o,n.deleted||(r=m.call(t,r,c)),null!=r&&(f+=r),f+=' ">\n'+(null!=(r=n.if.call(u,null!=t?t.deleted:t,{name:"if",hash:{},fn:e.program(10,s,0,i,l),inverse:e.program(12,s,0,i,l),data:s}))?r:"")+"                    </span>\n                  <span> - "+p((n.formatDate||t&&t.formatDate||d).call(u,null!=t?t.modifyDate:t,"MMM DD, YYYY",{name:"formatDate",hash:{},data:s}))+'</span>\n                </div>\n                <div class="col-xs-10 col-sm-5">\n',o=null!=(o=n.stats||(null!=t?t.stats:t))?o:d,c={name:"stats",hash:{},fn:e.program(17,s,0,i,l),inverse:e.noop,data:s},r=typeof o===h?o.call(u,c):o,n.stats||(r=m.call(t,r,c)),null!=r&&(f+=r),o=null!=(o=n.stats||(null!=t?t.stats:t))?o:d,c={name:"stats",hash:{},fn:e.noop,inverse:e.program(19,s,0,i,l),data:s},r=typeof o===h?o.call(u,c):o,n.stats||(r=m.call(t,r,c)),null!=r&&(f+=r),f+='                </div>\n              </div>\n            </div>\n            <div class="button-group vcenter dropdown">\n              <button class="btn btn-white dropdown-toggle" data-toggle="dropdown" role="button" aria-controls="profile-more-options-'+p(typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:d)===h?o.call(u,{name:"id",hash:{},data:s}):o)+'" aria-expanded="false" aria-label="'+p((n.trans||t&&t.trans||d).call(u,"More options",{name:"trans",hash:{},data:s}))+" "+p((n.trans||t&&t.trans||d).call(u,"button",{name:"trans",hash:{},data:s}))+'." aria-hidden="true">'+(null!=(r=(n.iconify||t&&t.iconify||d).call(u,"fa-more",18,"wp-neutral-2","fa-l",{name:"iconify",hash:{},data:s}))?r:"")+'</button>\n              <div class="triangle"></div>\n              <ul id="works-more-options-'+p(typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:d)===h?o.call(u,{name:"id",hash:{},data:s}):o)+'" class="dropdown-menu align-right"\n                  role="menu">\n                <li role="none">\n                  <a target="_blank" href="'+p((n.formatStoryUrl||t&&t.formatStoryUrl||d).call(u,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'" data-url="'+p((n.formatStoryUrl||t&&t.formatStoryUrl||d).call(u,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'"\n                     class="on-view-as-reader" data-id="'+p(typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:d)===h?o.call(u,{name:"id",hash:{},data:s}):o)+'" data-attr="wid-toc" role="menuitem">\n                    '+(null!=(r=(n.ifequal||t&&t.ifequal||d).call(u,null!=l[1]?l[1].lang:l[1],"en",{name:"ifequal",hash:{},fn:e.program(21,s,0,i,l),inverse:e.program(23,s,0,i,l),data:s}))?r:"")+'\n                  </a>\n                </li>\n                <li role="none">\n'+(null!=(r=n.unless.call(u,null!=t?t.draft:t,{name:"unless",hash:{},fn:e.program(25,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"                </li>\n",o=null!=(o=n.draft||(null!=t?t.draft:t))?o:d,c={name:"draft",hash:{},fn:e.noop,inverse:e.program(27,s,0,i,l),data:s},r=typeof o===h?o.call(u,c):o,n.draft||(r=m.call(t,r,c)),null!=r&&(f+=r),o=null!=(o=n.draft||(null!=t?t.draft:t))?o:d,c={name:"draft",hash:{},fn:e.program(29,s,0,i,l),inverse:e.noop,data:s},r=typeof o===h?o.call(u,c):o,n.draft||(r=m.call(t,r,c)),null!=r&&(f+=r),f+"              </ul>\n            </div>\n          </div>\n"},4:function(e,t,n,a,s){var i;return"                    "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-image-warning",18,"wp-warning-01",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},6:function(e,t,n,a,s){return" published"},8:function(e,t,n,a,s){return" deleted"},10:function(e,t,n,a,s){return"                        "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Deleted",{name:"trans",hash:{},data:s}))+"\n"},12:function(e,t,n,a,s){var i,l,r,o="";return l=null!=(l=n.draft||(null!=t?t.draft:t))?l:n.helperMissing,r={name:"draft",hash:{},fn:e.program(13,s,0),inverse:e.program(15,s,0),data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.draft||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(o+=i),o},13:function(e,t,n,a,s){return"                          "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Draft",{name:"trans",hash:{},data:s}))+"\n"},15:function(e,t,n,a,s){return"                          "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Published",{name:"trans",hash:{},data:s}))+"\n"},17:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'                    <div class="meta">\n                      <div class="col-xs-4">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-view",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.count||t&&t.count||r).call(l,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+'</div>\n                      <div class="col-xs-4">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.count||t&&t.count||r).call(l,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+'</div>\n                      <div class="col-xs-4">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-comment",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.count||t&&t.count||r).call(l,null!=t?t.commentCount:t,{name:"count",hash:{},data:s}))+"\n                      </div>\n                    </div>\n"},19:function(e,t,n,a,s){return'                    <div class="no-stats">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"no stats available",{name:"trans",hash:{},data:s}))+"</div>\n"},21:function(e,t,n,a,s){return e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"View as reader",{name:"trans",hash:{},data:s}))},23:function(e,t,n,a,s){return e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Preview",{name:"trans",hash:{},data:s}))},25:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'                    <a role="menuitem" href="" data-toggle="modal"\n                       class="on-unpublish-part"\n                       data-target="#details-modal"\n                       data-id="'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'">'+o((n.trans||t&&t.trans||r).call(l,"Unpublish",{name:"trans",hash:{},data:s}))+"</a>\n"},27:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'                  <li role="none">\n                    <a role="menuitem" href="" data-toggle="modal"\n                       data-target="#details-modal"\n                       class="on-delete-published-part" data-id="'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'">\n                      '+o((n.trans||t&&t.trans||r).call(l,"Delete Part",{name:"trans",hash:{},data:s}))+"\n                    </a>\n                  </li>\n"},29:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'                  <li role="none">\n                    <a role="menuitem" href="" data-toggle="modal"\n                       data-target="#details-modal"\n                       class="on-delete-part" data-id="'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'">\n                      '+o((n.trans||t&&t.trans||r).call(l,"Delete Part",{name:"trans",hash:{},data:s}))+"\n                    </a>\n                  </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r;return null!=(r=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.isNew:t,{name:"unless",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:""},useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return"              <p>"+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(l,"Your story can be found here",{name:"trans",hash:{},data:s}))+'</p>\n              <div class="taglist">\n'+(null!=(i=n.each.call(l,null!=(i=null!=t?t.group:t)?i.tags:i,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"              </div>\n"},2:function(e,t,n,a,s){var i=e.lambda,l=e.escapeExpression;return'                  <span class="tag"><a href="/stories/'+l(i(t,t))+'">#'+l(i(t,t))+"</a> </span>\n"},4:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return"              <p>"+o((n.trans||t&&t.trans||r).call(l,"Get your story discovered!",{name:"trans",hash:{},data:s}))+'</p><a href="'+o(e.lambda(null!=(i=null!=t?t.group:t)?i.url:i,t))+'">'+o((n.trans||t&&t.trans||r).call(l,"Add tags to your story.",{name:"trans",hash:{},data:s}))+"</a>\n"},6:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'        <div class="info col-xs-12">\n          <h4 class="title">'+o((n.trans||t&&t.trans||r).call(l,"Share what's great about your story",{name:"trans",hash:{},data:s}))+'</h4>\n          <div class="content">\n            <div class="message-wrapper">\n              <input class="broadcast-message" placeholder="'+o((n.trans||t&&t.trans||r).call(l,"Write a message...",{name:"trans",hash:{},data:s}))+'">\n              <button class="btn btn-orange on-post-message">'+o((n.trans||t&&t.trans||r).call(l,"Post",{name:"trans",hash:{},data:s}))+'</button>\n            </div>\n            <div class="message-info">'+o((n.trans||t&&t.trans||r).call(l,"This will post to your profile and notify your followers",{name:"trans",hash:{},data:s}))+'</div>\n            <a class="on-navigate profile-link hidden" href="/user/'+o("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:r)?i.call(l,{name:"username",hash:{},data:s}):i)+'/conversations">'+o((n.trans||t&&t.trans||r).call(l,"View on your profile",{name:"trans",hash:{},data:s}))+"</a>\n          </div>\n        </div>\n"},8:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'            <a data-gtm-action="share:'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'" class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:"")+'" '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">"+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,18,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"</a>\n"},9:function(e,t,n,a,s){return' social-share" target="_blank'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="modal-dialog" id="generic-modal">\n  <div class="modal-content">\n    <header class="modal-header">\n      <h2 class="modal-title text-center">'+c((n.trans||t&&t.trans||o).call(r,"Congratulations!",{name:"trans",hash:{},data:s}))+'</h1>\n      <div class="close" data-dismiss="modal">\n        '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n      </div>\n    </header>\n    <div class="modal-body clearfix">\n      <div class="col-xs-4">\n        <a href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-story-details cover pull-left on-cover">\n          <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=(i=null!=t?t.group:t)?i.cover:i,150,{name:"resizeCover",hash:{},data:s}))+'" alt="'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+'">\n        </a>\n      </div>\n      <div class="col-xs-8">\n        <div class="info col-xs-12">\n          <h4 class="title">'+c((n.trans||t&&t.trans||o).call(r,"You just published %s",null!=t?t.title:t,{name:"trans",hash:{},data:s}))+'!</h4>\n          <div class="content">\n'+(null!=(i=n.if.call(r,null!=(i=null!=t?t.group:t)?i.tags:i,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?i:"")+"          </div>\n        </div>\n\n"+(null!=(i=n.if.call(r,null!=t?t.showBroadcastMessaging:t,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+'\n        <h4 class="title">'+c((n.trans||t&&t.trans||o).call(r,"Share and get discovered:",{name:"trans",hash:{},data:s}))+'</h4>\n        <div class="social-share-links">\n'+(null!=(i=n.each.call(r,null!=t?t.links:t,{name:"each",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?i:"")+"        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.component:t,null!=t?t.componentId:t,{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'  <li id="'+c("function"==typeof(l=null!=(l=n.itemId||(null!=t?t.itemId:t))?l:o)?l.call(r,{name:"itemId",hash:{},data:s}):l)+'" class="autocomplete-item">\n    <a href="/search/'+c((n.urlEncodeWithSpace||t&&t.urlEncodeWithSpace||o).call(r,null!=t?t.term:t,{name:"urlEncodeWithSpace",hash:{},data:s}))+'" class="on-autocomplete-item" data-target="'+c("function"==typeof(l=null!=(l=n.term||(null!=t?t.term:t))?l:o)?l.call(r,{name:"term",hash:{},data:s}):l)+'">\n      '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-search",13,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+'\n      <span class="term">'+c("function"==typeof(l=null!=(l=n.term||(null!=t?t.term:t))?l:o)?l.call(r,{name:"term",hash:{},data:s}):l)+"</span>\n    </a>\n  </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.results:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return' class="hidden"'},3:function(e,t,n,a,s){return"/home"},5:function(e,t,n,a,s){var i,l,r,o="/";return l=null!=(l=n.nextUrl||(null!=t?t.nextUrl:t))?l:n.helperMissing,r={name:"nextUrl",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.nextUrl||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(o+=i),o},6:function(e,t,n,a,s){return"?nextUrl="+e.escapeExpression(e.lambda(t,t))},8:function(e,t,n,a,s){var i;return'  <div id="go-premium-button">\n   '+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"TryPremium","header",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n  </div>\n"},10:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'  <div id="profile-dropdown" class="button-group dropdown">\n    \n\n    <a href="#" data-toggle="dropdown" role="button" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"User",{name:"trans",hash:{},data:s}))+'">\n      <div class="avatar avatar-sm">\n'+(null!=(i=n.if.call(l,null!=(i=null!=(i=null!=t?t["current-user"]:t)?i.inbox:i)?i.unread:i,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?i:"")+"         "+o((n.connectAvatar||t&&t.connectAvatar||r).call(l,null!=(i=null!=t?t["current-user"]:t)?i.avatar:i,null!=(i=null!=t?t["current-user"]:t)?i.username:i,25,{name:"connectAvatar",hash:{},data:s}))+'\n      </div>\n      <span class="username hidden-xs '+(null!=(i=n.unless.call(l,(n.getCurrentUserAttr||t&&t.getCurrentUserAttr||r).call(l,"isPremium",{name:"getCurrentUserAttr",hash:{},data:s}),{name:"unless",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?i:"")+'">\n        '+o((n.simpleShorten||t&&t.simpleShorten||r).call(l,null!=(i=null!=t?t["current-user"]:t)?i.username:i,13,{name:"simpleShorten",hash:{},data:s}))+'\n      </span>\n      <span class="caret"></span>\n    </a>\n\n'+(null!=(i=e.invokePartial(a["desktop.components.header.partials.profile_menu"],t,{name:"desktop.components.header.partials.profile_menu",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"  </div>\n"},11:function(e,t,n,a,s){return'            <span class="notification-badge"></span>\n'},13:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t["current-user"]:t)?i.notifications:i)?i.unread:i,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?i:""},14:function(e,t,n,a,s){return'            <span class="notification-badge"></span>\n        '},16:function(e,t,n,a,s){return" hidden-sm hidden-md "},18:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'  <div id="login-menu" role="menu">\n    <a id="header-item-login" rel="nofollow" href="/login?nexturl='+r((n.urlEncode||t&&t.urlEncode||l).call(i,null!=t?t.currentUrl:t,{name:"urlEncode",hash:{},data:s}))+'" data-form="login" role="menuitem">'+r((n.trans||t&&t.trans||l).call(i,"Log in",{name:"trans",hash:{},data:s}))+'</a>\n    <a id="header-item-signup" rel="nofollow" href="/?nexturl='+r((n.urlEncode||t&&t.urlEncode||l).call(i,null!=t?t.currentUrl:t,{name:"urlEncode",hash:{},data:s}))+'" data-form="signup" role="menuitem">'+r((n.trans||t&&t.trans||l).call(i,"Sign Up",{name:"trans",hash:{},data:s}))+"</a>\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=n.blockHelperMissing,d=e.escapeExpression,h='<div role="banner" id="header"';return l=null!=(l=n.hideHeader||(null!=t?t.hideHeader:t))?l:c,r={name:"hideHeader",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.hideHeader||(i=u.call(t,i,r)),null!=i&&(h+=i),h+='>\n<nav>\n  <ul class="list-inline">\n    <li id=\'header-item-logo\'>\n      <a class="on-navigate" href="'+(null!=(i=n.if.call(o,null!=t?t["current-user"]:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+'" title="Wattpad Home" aria-label="'+d((n.trans||t&&t.trans||c).call(o,"Home",{name:"trans",hash:{},data:s}))+'">\n      &nbsp;\n      </a>\n   </li>\n\n    <li id="discover-dropdown" class="button-group dropdown">\n      <a href="#" data-toggle="dropdown">'+d((n.trans||t&&t.trans||c).call(o,"Browse",{name:"trans",hash:{},data:s}))+' <span class="caret"></span></a>\n'+(null!=(i=e.invokePartial(a["desktop.browse.browse_topics"],t,{name:"desktop.browse.browse_topics",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'    </li>\n\n    <li id="community-dropdown" class="button-group dropdown hidden-xs hidden-sm">\n      <a href="#" data-toggle="dropdown">'+d((n.trans||t&&t.trans||c).call(o,"Community",{name:"trans",hash:{},data:s}))+' <span class="caret"></span></a>\n'+(null!=(i=e.invokePartial(a["core.header.community_menu"],t,{name:"core.header.community_menu",data:s,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'    </li>\n  </ul>\n</nav>\n\n<div id="header-item-search" aria-label="'+d((n.trans||t&&t.trans||c).call(o,"Search",{name:"trans",hash:{},data:s}))+'">\n  <div>'+(null!=(i=e.invokePartial(a["core.header.search_field"],t,{name:"core.header.search_field",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</div>\n</div>\n\n<nav>\n  <ul class="list-inline">\n    <li class="button-group dropdown hidden-xs hidden-sm">\n      <a href="#" data-toggle="dropdown">'+d((n.trans||t&&t.trans||c).call(o,"Write",{name:"trans",hash:{},data:s}))+' <span class="caret"></span></a>\n'+(null!=(i=e.invokePartial(a["desktop.components.header.partials.create_menu"],t,{name:"desktop.components.header.partials.create_menu",data:s,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"    </li>\n  </ul>\n</nav>\n\n\n"+(null!=(i=n.unless.call(o,(n.getCurrentUserAttr||t&&t.getCurrentUserAttr||c).call(o,"isPremium",{name:"getCurrentUserAttr",hash:{},data:s}),{name:"unless",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(o,null!=t?t["current-user"]:t,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?i:""),l=null!=(l=n["current-user"]||(null!=t?t["current-user"]:t))?l:c,r={name:"current-user",hash:{},fn:e.noop,inverse:e.program(18,s,0),data:s},i="function"==typeof l?l.call(o,r):l,n["current-user"]||(i=u.call(t,i,r)),null!=i&&(h+=i),h+"</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'            <span class="badge">'+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t["current-user"]:t)?i.inbox:i)?i.unread:i,t))+"</span>\n"},3:function(e,t,n,a,s){return"on-navigate"},5:function(e,t,n,a,s){var i;return'            <span id="notifications-menu-badge" class="badge">'+e.escapeExpression((n.count||t&&t.count||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t["current-user"]:t)?i.notifications:i)?i.unread:i,{name:"count",hash:{},data:s}))+"</span>\n"},7:function(e,t,n,a,s){return'            <li><a class="on-navigate" href="/checkout">Checkout</a></li>\n            <li><a class="on-navigate" href="/manage_payment">Manage Payment</a></li>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression,c=e.lambda;return'<div class="triangle"></div>\n<div class="dropdown-menu dropdown-menu-right large" role="menu" aria-labelledby="profile-dropdown">\n    <ul aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Profile",{name:"trans",hash:{},data:s}))+'" class="header-list">\n        <li><a class="on-navigate" href="/user/'+o(c(null!=(i=null!=t?t["current-user"]:t)?i.username:i,t))+'">'+o((n.trans||t&&t.trans||r).call(l,"My Profile",{name:"trans",hash:{},data:s}))+'</a></li>\n        <li role="presentation" class="divider"></li>\n        <li><a href="/inbox">'+o((n.trans||t&&t.trans||r).call(l,"Inbox",{name:"trans",hash:{},data:s}))+"\n"+(null!=(i=n.if.call(l,null!=(i=null!=(i=null!=t?t["current-user"]:t)?i.inbox:i)?i.unread:i,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'        </a></li>\n        <li><a class="'+(null!=(i=n.unless.call(l,(n.isTestGroup||t&&t.isTestGroup||r).call(l,"SENTIMENT_SURVEY",{name:"isTestGroup",hash:{},data:s}),{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'" href="/notifications">'+o((n.trans||t&&t.trans||r).call(l,"Notifications",{name:"trans",hash:{},data:s}))+"\n"+(null!=(i=n.if.call(l,null!=(i=null!=(i=null!=t?t["current-user"]:t)?i.notifications:i)?i.unread:i,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+'        </a></li>\n        <li><a class="on-navigate" href="/library">'+o((n.trans||t&&t.trans||r).call(l,"Library",{name:"trans",hash:{},data:s}))+"</a></li>\n"+(null!=(i=n.if.call(l,null!=(i=null!=t?t.testGroups:t)?i.WEB_PAYMENTS:i,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+'        <li role="presentation" class="divider"></li>\n        <li><a href="/settings/language?jq=true" class="on-language"\n          data-ignore="true" >'+o((n.trans||t&&t.trans||r).call(l,"Language",{name:"trans",hash:{},data:s}))+": "+o(c(null!=(i=null!=t?t.contentLang:t)?i.name:i,t))+'</a></li>\n        <li><a href="//support.wattpad.com" >'+o((n.trans||t&&t.trans||r).call(l,"Help",{name:"trans",hash:{},data:s}))+'</a></li>\n        <li>\n          <a class="on-navigate" href="/settings">'+o((n.trans||t&&t.trans||r).call(l,"Settings",{name:"trans",hash:{},data:s}))+'</a>\n        </li>\n        <li><a href="/logout" class="on-logout">'+o((n.trans||t&&t.trans||r).call(l,"Log Out",{name:"trans",hash:{},data:s}))+"</a></li>\n    </ul>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return"/myworks/new"},3:function(e,t,n,a,s){return"/?nexturl=/myworks/new"},5:function(e,t,n,a,s){return"/myworks"},7:function(e,t,n,a,s){return"/?nexturl=/myworks"},9:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'      <li>\n        <a href="/writers/resources/">'+r((n.trans||t&&t.trans||l).call(i,"Helpful writer resources",{name:"trans",hash:{},data:s}))+'</a>\n      </li>\n      <li>\n        <a href="/writers/opportunities/">'+r((n.trans||t&&t.trans||l).call(i,"Wattpad programs & opportunities",{name:"trans",hash:{},data:s}))+"</a>\n      </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="triangle"></div>\n<div class="dropdown-menu large" aria-labelledby="create-dropdown">\n  <ul aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Write",{name:"trans",hash:{},data:s}))+'" class="header-list">\n    <li>\n      <a href="'+(null!=(i=n.if.call(l,null!=t?t["current-user"]:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'" rel="nofollow" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Create a new story",{name:"trans",hash:{},data:s}))+'">\n        '+o((n.connectImage||t&&t.connectImage||r).call(l,"/icons/create-story.svg",(n.trans||t&&t.trans||r).call(l,"Create a new story",{name:"trans",hash:{},data:s}),{name:"connectImage",hash:{},data:s}))+o((n.trans||t&&t.trans||r).call(l,"Create a new story",{name:"trans",hash:{},data:s}))+'\n      </a>\n    </li>\n    <li>\n      <a href="'+(null!=(i=n.if.call(l,null!=t?t["current-user"]:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?i:"")+'" rel="nofollow" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"My Stories",{name:"trans",hash:{},data:s}))+'">'+o((n.trans||t&&t.trans||r).call(l,"My Stories",{name:"trans",hash:{},data:s}))+'</a>\n    </li>\n    <li role="presentation" class="divider"></li>\n'+(null!=(i=(n.ifequal||t&&t.ifequal||r).call(l,null!=(i=null!=t?t.interfaceLang:t)?i.name:i,"English",{name:"ifequal",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:"")+'    <li>\n      <a href="/go/writing-contests/">'+o((n.trans||t&&t.trans||r).call(l,"Writing contests",{name:"trans",hash:{},data:s}))+"</a>\n    </li>\n  </ul>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'<div class="btn btn-white on-dismiss">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Dismiss",{name:"trans",hash:{},data:s}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="message '+c("function"==typeof(l=null!=(l=n.messageClass||(null!=t?t.messageClass:t))?l:o)?l.call(r,{name:"messageClass",hash:{},data:s}):l)+'">\n  <a href="'+c("function"==typeof(l=null!=(l=n.url||(null!=t?t.url:t))?l:o)?l.call(r,{name:"url",hash:{},data:s}):l)+'" target="_blank">'+c("function"==typeof(l=null!=(l=n.message||(null!=t?t.message:t))?l:o)?l.call(r,{name:"message",hash:{},data:s}):l)+"</a>\n</div>\n"+(null!=(i=n.if.call(r,null!=t?t.dismissable:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'  <div class="default">\n    <div class="message col-xs-12 col-md-8"> '+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Hi %s, please check your email <b>(%s)</b> to complete the sign-up process.",null!=t?t.username:t,null!=t?t.email:t,{name:"trans",hash:{},data:s}))?i:"")+' <a class="on-navigate"><span class="learn-more">'+o((n.trans||t&&t.trans||r).call(l,"Learn more",{name:"trans",hash:{},data:s}))+'</span></a>\n    </div>\n\n    <div class="controls col-xs-12 col-md-4">\n      <div class="alignment">\n        <a href="#" class="btn btn-grey on-changeemail"> '+o((n.trans||t&&t.trans||r).call(l,"Change email",{name:"trans",hash:{},data:s}))+'</a>\n        <a href="#" class="btn btn-orange on-verify"> '+o((n.trans||t&&t.trans||r).call(l,"Resend email",{name:"trans",hash:{},data:s}))+" </a>\n      </div>\n    </div>\n  </div>\n"},3:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'  <div class="success">\n    <div class="message success"> '+r((n.trans||t&&t.trans||l).call(i,"We've just sent an email to you. Please click on the link provided to confirm your email address with us.",{name:"trans",hash:{},data:s}))+'</div>\n      <div class="controls">\n        <a href="#" class="btn btn-orange on-dismiss"> '+r((n.trans||t&&t.trans||l).call(i,"Dismiss",{name:"trans",hash:{},data:s}))+" </a>\n      </div>\n  </div>\n"},5:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'  <div class="fail">\n    <div class="message error"> '+r((n.trans||t&&t.trans||l).call(i,"Oops, looks like we can't reach that email address.",{name:"trans",hash:{},data:s}))+' </div>\n      <div class="controls">\n        <a href="/settings" class="btn btn-grey"> '+r((n.trans||t&&t.trans||l).call(i,"Change email",{name:"trans",hash:{},data:s}))+" </a>\n      </div>\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return(null!=(i=n.if.call(l,null!=t?t.default:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.success:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.fail:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<div class="default">\n  <div class="message">\n\t'+(null!=(i=(n.trans||t&&t.trans||r).call(l,"<strong>Success!</strong> Your email is verified and sign-up is complete. Enjoy!",{name:"trans",hash:{},data:s}))?i:"")+'\n  </div>\n  <div class="controls on-close">\n    <span>'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove",12,"wp-neutral-5","on-close",{name:"iconify",hash:{},data:s}))?i:"")+"</span>\n  </div>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.default:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-remove",20,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},3:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-remove",25,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'<div class="on-dismiss">\n'+(null!=(i=n.if.call(l,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'</div>\n\n<div class="message">\n  '+e.escapeExpression((n.connectImage||t&&t.connectImage||n.helperMissing).call(l,"wattpad-presents/video-icon.png","Wattpad Presents",{name:"connectImage",hash:{klass:"icon"},data:s}))+'\n  <span class="text">\n    <span class="title">Wattpad Presents...</span>\n    <span class="subtitle">Videos based on popular stories!</span>\n  </span>\n</div>\n\n<a href="/presents" class="on-navigate">\n  <span class="learn-more">Watch Now</span>\n</a>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'<div class="default">\n  <div class="message">\n    '+r((n.trans||t&&t.trans||l).call(i,"Give feedback about the Wattpad experience and be the first to get new features. Join our beta program.",{name:"trans",hash:{},data:s}))+'\n    <a class="learn-more" href="//support.wattpad.com/hc/articles/201708720-How-do-I-Join-the-Beta-Testing-for-Wattpad-">\n      '+r((n.trans||t&&t.trans||l).call(i,"Learn More",{name:"trans",hash:{},data:s}))+'\n    </a>\n  </div>\n  <div class="controls">\n    <a href="#" class="btn btn-grey on-joinbeta"> '+r((n.trans||t&&t.trans||l).call(i,"Join Beta Program",{name:"trans",hash:{},data:s}))+'</a>\n    <a href="#" class="btn btn-grey on-dismiss"> '+r((n.trans||t&&t.trans||l).call(i,"Dismiss",{name:"trans",hash:{},data:s}))+" </a>\n  </div>\n</div>\n"},3:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'  <div class="success">\n    <div class="message success"> '+r((n.trans||t&&t.trans||l).call(i,"Welcome. You are now a member of Wattpad's web beta program.",{name:"trans",hash:{},data:s}))+'</div>\n    <div class="controls">\n      <a href="//support.wattpad.com/hc/articles/201708720-How-do-I-Join-the-Beta-Testing-for-Wattpad-">\n        '+r((n.trans||t&&t.trans||l).call(i,"For more information",{name:"trans",hash:{},data:s}))+'\n      </a>\n      <a href="#" class="btn btn-grey on-dismiss"> '+r((n.trans||t&&t.trans||l).call(i,"Dismiss",{name:"trans",hash:{},data:s}))+" </a>\n  </div>\n  </div>\n"},5:function(e,t,n,a,s){return'  <div class="fail">\n    <div class="message error"> '+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Sorry, we were unable to add you to the beta program.",{name:"trans",hash:{},data:s}))+" </div>\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return(null!=(i=n.if.call(l,null!=t?t.default:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.success:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.fail:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="survey-banner" data-survey-cookie="'+o("function"==typeof(i=null!=(i=n.cookie_id||(null!=t?t.cookie_id:t))?i:r)?i.call(l,{name:"cookie_id",hash:{},data:s}):i)+'" data-target="'+o("function"==typeof(i=null!=(i=n.url||(null!=t?t.url:t))?i:r)?i.call(l,{name:"url",hash:{},data:s}):i)+'">\n    <div class="message">\n      '+o((n.trans||t&&t.trans||r).call(l,"Do you want to help us improve our website? Take part in a study and tell us what you think.",{name:"trans",hash:{},data:s}))+'\n    </div>\n\t<div class="controls">\n\t\t<a href="#" class="btn btn-default on-click"> '+o((n.trans||t&&t.trans||r).call(l,"Click Here",{name:"trans",hash:{},data:s}))+'</a>\n\t\t<a href="#" class="btn btn-default on-dismiss"> '+o((n.trans||t&&t.trans||r).call(l,"Dismiss",{name:"trans",hash:{},data:s}))+" </a>\n\t</div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'  <div class="default">\n    <div class="message"> '+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Welcome home! %s Learn more %s about the new design for the Wattpad site.","<a href='#' class='btn-link on-learnmore' style='margin-right: 0px'>","</a>",{name:"trans",hash:{},data:s}))?i:"")+' </div>\n      <div class="controls">\n        <a href="#" class="btn btn-grey on-dismiss"> '+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Dismiss",{name:"trans",hash:{},data:s}))+" </a>\n      </div>\n  </div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'      <li><a href="#" class="on-back-to-mobile" title="'+r((n.trans||t&&t.trans||l).call(i,"Back to Mobile",{name:"trans",hash:{},data:s}))+'" aria-label="'+r((n.trans||t&&t.trans||l).call(i,"Back to Mobile",{name:"trans",hash:{},data:s}))+'"> '+r((n.trans||t&&t.trans||l).call(i,"Back to Mobile",{name:"trans",hash:{},data:s}))+"</a></li>\n"},3:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'      <li><a href="/privacy/settings" aria-label="'+r((n.trans||t&&t.trans||l).call(i,"Do Not Sell My Personal Information",{name:"trans",hash:{},data:s}))+'">'+r((n.trans||t&&t.trans||l).call(i,"Do Not Sell My Personal Information",{name:"trans",hash:{},data:s}))+"</a></li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<footer id="footer" role="contentinfo">\n  <ul class="footer-list main" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Footer Links",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(i=(n.isCookieSet||t&&t.isCookieSet||o).call(r,"mw-no",{name:"isCookieSet",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'    <li><a href="/paidstories" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Paid Stories",{name:"trans",hash:{},data:s}))+'">'+c((n.trans||t&&t.trans||o).call(r,"Paid Stories",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a class="on-premium" href="/premium" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Try Premium",{name:"trans",hash:{},data:s}))+'">'+c((n.trans||t&&t.trans||o).call(r,"Try Premium",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a href="/getmobile" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Get the App",{name:"trans",hash:{},data:s}))+'">'+c((n.trans||t&&t.trans||o).call(r,"Get the App",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a href="/settings/language?jq=true" class="on-language" rel="nofollow" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Language",{name:"trans",hash:{},data:s}))+'">'+c((n.trans||t&&t.trans||o).call(r,"Language",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a href="/writers" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Writers",{name:"trans",hash:{},data:s}))+'">'+c((n.trans||t&&t.trans||o).call(r,"Writers",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li aria-hidden="true" role="none">|</li>\n    <li><a href="http://business.wattpad.com" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Business",{name:"trans",hash:{},data:s}))+'">'+c((n.trans||t&&t.trans||o).call(r,"Business",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a href="https://company.wattpad.com/work-at-wattpad" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Jobs",{name:"trans",hash:{},data:s}))+'">'+c((n.trans||t&&t.trans||o).call(r,"Jobs",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a href="https://company.wattpad.com/press" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Press",{name:"trans",hash:{},data:s}))+'">'+c((n.trans||t&&t.trans||o).call(r,"Press",{name:"trans",hash:{},data:s}))+'</a></li>\n  </ul>\n  <ul class="footer-list legal" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Legal Footer Links",{name:"trans",hash:{},data:s}))+'">\n    <li><a href="/terms" rel="nofollow" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Terms",{name:"trans",hash:{},data:s}))+'">'+c((n.trans||t&&t.trans||o).call(r,"Terms",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a href="/privacy" rel="nofollow" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Privacy",{name:"trans",hash:{},data:s}))+'">'+c((n.trans||t&&t.trans||o).call(r,"Privacy",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li><a href="https://policies.wattpad.com/accessibility" rel="nofollow" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Accessibility",{name:"trans",hash:{},data:s}))+'">'+c((n.trans||t&&t.trans||o).call(r,"Accessibility",{name:"trans",hash:{},data:s}))+"</a></li>\n"+(null!=(i=n.if.call(r,(n.isTestGroup||t&&t.isTestGroup||o).call(r,"CAN_VIEW_CCPA",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'    <li><a href="https://support.wattpad.com" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Help",{name:"trans",hash:{},data:s}))+'">'+c((n.trans||t&&t.trans||o).call(r,"Help",{name:"trans",hash:{},data:s}))+'</a></li>\n    <li role="none">&copy; '+c("function"==typeof(l=null!=(l=n.currentYear||(null!=t?t.currentYear:t))?l:o)?l.call(r,{name:"currentYear",hash:{},data:s}):l)+" Wattpad</li>\n  </ul>\n</footer>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o="function",c=e.escapeExpression;return'            <div class="report-reason radio">\n              <label><input type="radio" class="on-option-selected" name="report-reason-option"\n                            value="'+c(typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:r)===o?i.call(l,{name:"name",hash:{},data:s}):i)+'" data-require-detail="'+c(typeof(i=null!=(i=n.moreDetail||(null!=t?t.moreDetail:t))?i:r)===o?i.call(l,{name:"moreDetail",hash:{},data:s}):i)+'" data-intext="'+c(typeof(i=null!=(i=n.intext||(null!=t?t.intext:t))?i:r)===o?i.call(l,{name:"intext",hash:{},data:s}):i)+'" data-tag="'+c(typeof(i=null!=(i=n.tag||(null!=t?t.tag:t))?i:r)===o?i.call(l,{name:"tag",hash:{},data:s}):i)+'">'+c(typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:r)===o?i.call(l,{name:"name",hash:{},data:s}):i)+"</label>\n            </div>\n"},3:function(e,t,n,a,s,i,l){var r;return null!=(r=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.extraOption:t,{name:"each",hash:{},fn:e.program(4,s,0,i,l),inverse:e.noop,data:s}))?r:""},4:function(e,t,n,a,s,i,l){var r,o=e.escapeExpression,c=null!=t?t:e.nullContext||{},u=n.helperMissing;return'            <div class="'+o(e.lambda(null!=l[1]?l[1].tag:l[1],t))+' option checkbox hide">\n              <label><input data-id="'+o("function"==typeof(r=null!=(r=n.id||(null!=t?t.id:t))?r:u)?r.call(c,{name:"id",hash:{},data:s}):r)+'" data-checktag="'+o("function"==typeof(r=null!=(r=n.checktag||(null!=t?t.checktag:t))?r:u)?r.call(c,{name:"checktag",hash:{},data:s}):r)+'" data-nochecktag="'+o("function"==typeof(r=null!=(r=n.nochecktag||(null!=t?t.nochecktag:t))?r:u)?r.call(c,{name:"nochecktag",hash:{},data:s}):r)+'" type="checkbox">'+o("function"==typeof(r=null!=(r=n.text||(null!=t?t.text:t))?r:u)?r.call(c,{name:"text",hash:{},data:s}):r)+"</label>\n            </div>\n"},6:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'          <div class="requester-contact-info hidden">\n            <span>'+o((n.trans||t&&t.trans||r).call(l,"Please leave your contact information so that we may reach you.",{name:"trans",hash:{},data:s}))+'</span>\n            <div class="form-group has-feedback" data-attr="name" id="requester-name">\n              <label '+(null!=(i=(n.supportsPlaceholder||t&&t.supportsPlaceholder||r).call(l,null!=t?t.device:t,{name:"supportsPlaceholder",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+' for="requester-name">Username</label>\n              <input class="form-control" name="report-name" type="text" placeholder="'+o((n.trans||t&&t.trans||r).call(l,"Name",{name:"trans",hash:{},data:s}))+'">\n              '+(null!=(i=(n.validationElements||t&&t.validationElements||r).call(l,16,{name:"validationElements",hash:{},data:s}))?i:"")+'\n            </div>\n            <div class="form-group has-feedback" data-attr="email" id="requester-email">\n              <label '+(null!=(i=(n.supportsPlaceholder||t&&t.supportsPlaceholder||r).call(l,null!=t?t.device:t,{name:"supportsPlaceholder",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+' for="requester-email">Username</label>\n              <input class="form-control" name="report-email" type="email" placeholder="'+o((n.trans||t&&t.trans||r).call(l,"Email",{name:"trans",hash:{},data:s}))+'">\n              '+(null!=(i=(n.validationElements||t&&t.validationElements||r).call(l,16,{name:"validationElements",hash:{},data:s}))?i:"")+"\n            </div>\n          </div>\n"},7:function(e,t,n,a,s){return'class="sr-only"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o,c,u=null!=t?t:e.nullContext||{},d=n.helperMissing,h=e.escapeExpression,p='<div class="modal-dialog modal-sm">\n\n  <div class="modal-content"> \n    <div class="modal-header">\n      <h3 class="modal-title">'+h("function"==typeof(o=null!=(o=n.title||(null!=t?t.title:t))?o:d)?o.call(u,{name:"title",hash:{},data:s}):o)+'</h3>\n      <div class="btn-prev on-prev hidden">'+(null!=(r=(n.iconify||t&&t.iconify||d).call(u,"fa-left",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'</div>\n      <div class="close top-right on-close" data-dismiss="modal">\n        '+(null!=(r=(n.iconify||t&&t.iconify||d).call(u,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n      </div>\n    </div>\n    <div class="modal-body">\n      <form data-ticket-form-id="'+h("function"==typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:d)?o.call(u,{name:"id",hash:{},data:s}):o)+'">\x3c!-- inline-block fix\n     --\x3e<div class="modal-body-content step-1">\n          <span>'+h((n.trans||t&&t.trans||d).call(u,"Select a reason",{name:"trans",hash:{},data:s}))+'</span>\n          <div class="form-group">\n'+(null!=(r=n.each.call(u,null!=t?t.offenses:t,{name:"each",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'          </div>\n        </div>\x3c!--\n\n     --\x3e<div class="modal-body-content step-1"  \n          <span>'+h((n.trans||t&&t.trans||d).call(u,"Reason:",{name:"trans",hash:{},data:s}))+' <strong class="reason-selected"></strong></span>\n          <div class="extra-option">\n'+(null!=(r=n.each.call(u,null!=t?t.offenses:t,{name:"each",hash:{},fn:e.program(3,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'          </div>\n          <textarea class="form-control details-input" role="textbox" aria-multiline="true" placeholder="'+h((n.trans||t&&t.trans||d).call(u,"Please provide more details",{name:"trans",hash:{},data:s}))+'"></textarea>\n        </div>\x3c!--\n     --\x3e<div class="modal-body-content step-1">\n';return o=null!=(o=n.isLoggedIn||(null!=t?t.isLoggedIn:t))?o:d,c={name:"isLoggedIn",hash:{},fn:e.noop,inverse:e.program(6,s,0,i,l),data:s},r="function"==typeof o?o.call(u,c):o,n.isLoggedIn||(r=n.blockHelperMissing.call(t,r,c)),null!=r&&(p+=r),p+'          <div class="report-success faded">\n            <h4>'+h((n.trans||t&&t.trans||d).call(u,"Report submitted",{name:"trans",hash:{},data:s}))+"</h4>\n            <span>"+h((n.trans||t&&t.trans||d).call(u,"Thanks for taking time to support a positive Wattpad community.",{name:"trans",hash:{},data:s}))+'</span>\n          </div>\n        </div>\x3c!--\n   --\x3e</form>\n    </div>\n    <div class="modal-footer">\n      <button class="btn btn-orange btn-next on-next" disabled="true">'+h((n.trans||t&&t.trans||d).call(u,"Submit a report",{name:"trans",hash:{},data:s}))+"</button>\n    </div>\n  </div>\n</div>\n"},useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div id="generic-modal" class="modal-dialog">\n    <div class="modal-content">\n        <header class="modal-header">\n            <div class="close" data-dismiss="modal">\n                '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove",28,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'\n            </div>\n        </header>\n        <div class="modal-body clearfix">\n            <div id="subscribe-cta" class="background">\n                <p class="title">'+o((n.trans||t&&t.trans||r).call(l,"Discover the best reading experience with Wattpad Premium",{name:"trans",hash:{},data:s}))+"</p>\n                "+o((n.trans||t&&t.trans||r).call(l,"Upgrade to discover a new layer of Wattpad with new themes, an ad-free experience, and to show support for the community you love.",{name:"trans",hash:{},data:s}))+'\n                <div class="strong">'+o((n.trans||t&&t.trans||r).call(l,"To get started, subscribe through the Wattpad app on your mobile device.",{name:"trans",hash:{},data:s}))+'</div>\n            </div>\n            <div id="how-to-subscribe">\n                <div class="row">\n                    <div class="col-sm-4">\n                        <div class="step-circle">\n                            <p>1</p>\n                        </div>\n                        <p class="step-instruction">'+o((n.trans||t&&t.trans||r).call(l,"Open the Wattpad app on your mobile device and click on the Go Premium button on the home page.",{name:"trans",hash:{},data:s}))+'</p>\n                    </div>\n                    <div class="col-sm-4">\n                        <div class="step-circle">\n                            <p>2</p>\n                        </div>\n                        <p class="step-instruction">'+o((n.trans||t&&t.trans||r).call(l,"Choose your Wattpad Premium plan.",{name:"trans",hash:{},data:s}))+'</p>\n                    </div>\n                    <div class="col-sm-4">\n                        <div class="step-circle">\n                            <p>3</p>\n                        </div>\n                        <p class="step-instruction">'+o((n.trans||t&&t.trans||r).call(l,"Once you purchase Wattpad Premium, your account will instantly be upgraded wherever you use Wattpad.",{name:"trans",hash:{},data:s}))+'\n                        </p>\n                    </div>\n                </div>\n                <div class="row instructions-images">\n                    <div class="col-sm-4">\n                        '+o((n.connectImage||t&&t.connectImage||r).call(l,"/premium-modal/step-1@2x.png","Open the app",{name:"connectImage",hash:{},data:s}))+'\n                    </div>\n                    <div class="col-sm-4">\n                        '+o((n.connectImage||t&&t.connectImage||r).call(l,"/premium-modal/step-2@2x.png","Select a plan",{name:"connectImage",hash:{},data:s}))+'\n                    </div>\n                    <div class="col-sm-4">\n                        '+o((n.connectImage||t&&t.connectImage||r).call(l,"/premium-modal/step-3@2x.png","You're premium!",{name:"connectImage",hash:{},data:s}))+'\n                    </div>\n                </div>\n            </div>\n        </div>\n        <footer class="modal-footer">\n            <div class="strong on-track-event" data-action-type="faq">'+o((n.trans||t&&t.trans||r).call(l,"Have any questions?",{name:"trans",hash:{},data:s}))+' <a href="https://premium.wattpad.com" target="_blank" rel="noopener noreferrer">'+o((n.trans||t&&t.trans||r).call(l,"Read our FAQ",{name:"trans",hash:{},data:s}))+"</a></div>\n        </footer>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"      "+e.escapeExpression("function"==typeof(i=null!=(i=n.heading||(null!=t?t.heading:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"heading",hash:{},data:s}):i)+"\n"},3:function(e,t,n,a,s){return"      "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"This page seems to be missing...",{name:"trans",hash:{},data:s}))+"\n"},5:function(e,t,n,a,s){var i;return"      "+e.escapeExpression("function"==typeof(i=null!=(i=n.subHeading||(null!=t?t.subHeading:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"subHeading",hash:{},data:s}):i)+"\n"},7:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return"      "+r((n.trans||t&&t.trans||l).call(i,"We couldn't find what you were looking for.",{name:"trans",hash:{},data:s}))+"\n      "+r((n.trans||t&&t.trans||l).call(i,"You could try searching for something else you love!",{name:"trans",hash:{},data:s}))+"\n"},9:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'            <div class="category-item topic-item col-md-4 col-xs-6">\n              <a class="on-navigate" href="/stories/'+o("function"==typeof(i=null!=(i=n.topic||(null!=t?t.topic:t))?i:r)?i.call(l,{name:"topic",hash:{},data:s}):i)+'" style="background-color:'+o("function"==typeof(i=null!=(i=n.background||(null!=t?t.background:t))?i:r)?i.call(l,{name:"background",hash:{},data:s}):i)+";color:"+o("function"==typeof(i=null!=(i=n.color||(null!=t?t.color:t))?i:r)?i.call(l,{name:"color",hash:{},data:s}):i)+'">\n                <span class="text">'+o((n.trans||t&&t.trans||r).call(l,null!=t?t.name:t,{name:"trans",hash:{},data:s}))+"</span>\n              </a>\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="error-404 col-sm-10 col-sm-offset-1">\n  <div class="header-wrapper">\n    <h1 class="heading">\n'+(null!=(i=n.if.call(r,null!=t?t.heading:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'    </h1>\n    <h3 class="subheading">\n'+(null!=(i=n.if.call(r,null!=t?t.subHeading:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?i:"")+'    </h3>\n    <div id="search-container">\n      <form class="form-horizontal dropdown" role="form" name="search" action="/search/" action="GET" autocomplete="off">\n        '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-search",21,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n        <input id="search-query" placeholder="'+c((n.trans||t&&t.trans||o).call(r,"Search Stories & People",{name:"trans",hash:{},data:s}))+'" name="q" type="text" role="search" spellcheck="false" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Search Stories & People",{name:"trans",hash:{},data:s}))+'" value="'+c("function"==typeof(l=null!=(l=n.searchTerm||(null!=t?t.searchTerm:t))?l:o)?l.call(r,{name:"searchTerm",hash:{},data:s}):l)+'">\n      </form>\n    </div>\n  </div>\n  <div class="body-wrapper">\n    <div class="row">\n        <div class="categories-grid col-md-12">\n          <div class="title col-xs-12"><h3>'+c((n.trans||t&&t.trans||o).call(r,"Browse Topics",{name:"trans",hash:{},data:s}))+"</h3></div>\n"+(null!=(i=n.each.call(r,null!=t?t.browseTopics:t,{name:"each",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:"")+'          <a class="on-navigate more col-md-4 col-xs-12" href="/home">'+c((n.trans||t&&t.trans||o).call(r,"Discover more",{name:"trans",hash:{},data:s}))+" "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-right",16,"wp-base-1",{name:"iconify",hash:{},data:s}))?i:"")+"</a>\n        </div>\n    </div>\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<a class="on-view-convo btn btn-sm btn-grey"\n  href=\''+o((n.formatStoryUrl||t&&t.formatStoryUrl||r).call(l,null!=(i=null!=(i=null!=t?t.data:t)?i.comment:i)?i.deeplink_url:i,{name:"formatStoryUrl",hash:{},data:s}))+"'>\n  "+o((n.trans||t&&t.trans||r).call(l,"View Conversation",{name:"trans",hash:{},data:s}))+"\n</a>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r,o=e.lambda,c=e.escapeExpression,u=null!=t?t:e.nullContext||{},d=n.helperMissing,h='<div class="user-meta">\n  <a class="on-user avatar avatar-lg"\n     data-username="'+c(o(null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.name:i,t))+'"\n     href="/user/'+c(o(null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.name:i,t))+'">\n    <img src="'+c(o(null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.avatar:i,t))+'">\n  </a>\n  <div class="clearfix">\n     <a class="on-user alt-link"\n     data-username="'+c(o(null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.name:i,t))+'"\n     href="/user/'+c(o(null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.name:i,t))+'">\n     <strong class="title">'+c(o(null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.name:i,t))+'</strong>\n   </a>\n\n   <div class="subtitle meta">\n     <span> '+c((n.sprintf||t&&t.sprintf||d).call(u,(n.ngettext||t&&t.ngettext||d).call(u,"%s Follower","%s Followers",(n.count||t&&t.count||d).call(u,null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.numFollowers:i,{name:"count",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||d).call(u,null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.numFollowers:i,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+" </span>\n"+(null!=(i=n.if.call(u,null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.hasWorks:i,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"   </div>\n\n";return l=null!=(l=n.isLoggedIn||(null!=t?t.isLoggedIn:t))?l:d,r={name:"isLoggedIn",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(u,r):l,n.isLoggedIn||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(h+=i),h+'    <a class="btn btn-grey btn-sm on-user"\n      data-username="'+c(o(null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.name:i,t))+'"\n      href="/user/'+c(o(null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.name:i,t))+'">\n      '+c((n.trans||t&&t.trans||d).call(u,"View Profile",{name:"trans",hash:{},data:s}))+"\n    </a>\n  </div>\n</div>\n"},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"       <span> "+e.escapeExpression((n.sprintf||t&&t.sprintf||r).call(l,(n.ngettext||t&&t.ngettext||r).call(l,"%s Work","%s Works",(n.count||t&&t.count||r).call(l,null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.numWorks:i,{name:"count",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||r).call(l,null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.numWorks:i,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+" </span>\n"},4:function(e,t,n,a,s){var i;return null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.name:i,{name:"isCurrentUser",hash:{},fn:e.noop,inverse:e.program(5,s,0),data:s}))?i:""},5:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t.meta:t)?i.user:i)?i.following:i,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?i:""},6:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'         <button class="btn btn-sm btn-teal on-unfollow-user">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-following",14,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Following",{name:"trans",hash:{},data:s}))+"</button>\n"},8:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'         <button class="btn btn-sm btn-white on-follow-user">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-follow",14,"wp-base-2-dark",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Follow",{name:"trans",hash:{},data:s}))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.meta:t)?i.user:i,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"      <span> "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-view",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.readCount:i,{name:"count",hash:{},data:s}))+" </span>\n"},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"      <span> "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.voteCount:i,{name:"count",hash:{},data:s}))+" </span>\n"},5:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.inLibrary:i,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?i:""},6:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'        <button class="btn btn-sm btn-teal on-remove-from-library">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-check",14,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Added to Library",{name:"trans",hash:{},data:s}))+"</button>\n"},8:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'        <button class="btn btn-sm btn-white on-add-to-library">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-plus",14,"wp-base-2-dark",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Add to Library",{name:"trans",hash:{},data:s}))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r,o=e.lambda,c=e.escapeExpression,u=null!=t?t:e.nullContext||{},d=n.helperMissing,h='<div class="story-meta">\n  <a class="on-navigate cover cover-sm"\n    href="'+c(o(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.url:i,t))+'">\n      <img src="'+c((n.resizeCover||t&&t.resizeCover||d).call(u,null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.cover:i,50,{name:"resizeCover",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    <a class="on-navigate alt-link"\n      href="'+c(o(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.url:i,t))+'">\n      <strong class="title">'+c(o(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,t))+'</strong>\n    </a>\n\n    <div class="subtitle meta">\n'+(null!=(i=n.if.call(u,null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.readCount:i,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(u,null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.voteCount:i,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"    </div>\n\n";return l=null!=(l=n.isLoggedIn||(null!=t?t.isLoggedIn:t))?l:d,r={name:"isLoggedIn",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(u,r):l,n.isLoggedIn||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(h+=i),h+"  </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"      "+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.dedicator:i)?i.name:i,t))+"\n"},3:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return'      <a class="on-user"\n        data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.dedicator:i)?i.name:i,t))+'"\n        href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.dedicator:i)?i.name:i,t))+'">\n        <strong>'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.dedicator:i)?i.name:i,t))+"</strong>\n      </a>\n"},5:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return"         <strong>"+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,t))+" - "+r(l(null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.title:i,t))+"</strong>\n"},7:function(e,t,n,a,s){var i;return"         <strong>"+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,t))+"</strong>\n"},9:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t.data:t)?i.dedicatee:i)?i.avatar:i,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(12,s,0),data:s}))?i:""},10:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return'        <a class="on-user"\n           data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.dedicatee:i)?i.name:i,t))+'"\n           href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.dedicatee:i)?i.name:i,t))+'">\n           <strong>'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.dedicatee:i)?i.name:i,t))+"</strong>\n        </a>\n"},12:function(e,t,n,a,s){var i;return"        "+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.dedicatee:i)?i.name:i,t))+"\n"},14:function(e,t,n,a,s){var i;return"       "+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.dedicatee:i)?i.name:i,t))+"\n"},16:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t.data:t)?i.dedicatee:i)?i.avatar:i,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.program(19,s,0),data:s}))?i:""},17:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.events.partials.user_event_user_meta"],t,{name:"core.events.partials.user_event_user_meta",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:""},19:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.events.partials.user_event_story_meta"],t,{name:"core.events.partials.user_event_story_meta",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:""},21:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.events.partials.user_event_story_meta"],t,{name:"core.events.partials.user_event_story_meta",data:s,indent:"  ",helpers:n,partials:a,decorators:e.decorators}))?i:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<header>\n <a class="on-user avatar avatar-sm"\n     data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.dedicator:i)?i.name:i,t))+'"\n     href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.dedicator:i)?i.name:i,t))+'">\n    <img src="'+r((n.resizeAvatar||t&&t.resizeAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.dedicator:i)?i.avatar:i,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n'+(null!=(i=n.if.call(o,null!=t?t.outgoing:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+"    "+r((n.trans||t&&t.trans||c).call(o,"dedicated",{name:"trans",hash:{},data:s}))+'\n    <a class="on-navigate"\n       href="'+r(l(null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.url:i,t))+'">\n'+(null!=(i=n.if.call(o,null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.title:i,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?i:"")+"    </a>\n    "+r((n.trans||t&&t.trans||c).call(o,"to",{name:"trans",hash:{},data:s}))+"\n"+(null!=(i=n.if.call(o,null!=t?t.outgoing:t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.program(14,s,0),data:s}))?i:"")+"  </div>\n  <time>"+r((n.fromNow||t&&t.fromNow||c).call(o,null!=t?t.createDate:t,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n\n<hr>\n"+(null!=(i=n.if.call(o,null!=t?t.outgoing:t,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.program(21,s,0),data:s}))?i:"")+"<br>\n\n"+(null!=(i=e.invokePartial(a["core.events.partials.user_event_footer"],t,{name:"core.events.partials.user_event_footer",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'<header>\n  <a class="on-user avatar avatar-sm avatar-logo"\n     data-username="wattpad"\n     href="/user/wattpad">\n    <img src="'+c("function"==typeof(l=null!=(l=n.assetServer||(null!=t?t.assetServer:t))?l:o)?l.call(r,{name:"assetServer",hash:{},data:s}):l)+'/img/mobile-web/white_wattpad_icon.png">\n  </a>\n  <div class="clearfix">\n    wattpad '+c((n.trans||t&&t.trans||o).call(r,"recommends",{name:"trans",hash:{},data:s}))+'\n     <a class="on-navigate"\n      href="'+c(u(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.url:i,t))+'">\n      <strong>'+c(u(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,t))+"</strong>\n    </a>\n  </div>\n  <time>"+c((n.fromNow||t&&t.fromNow||o).call(r,null!=t?t.createDate:t,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n<hr>\n"+(null!=(i=e.invokePartial(a["core.events.partials.user_event_story_meta"],t,{name:"core.events.partials.user_event_story_meta",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+"\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return"         <strong>"+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,t))+" - "+r(l(null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.title:i,t))+"</strong>\n"},3:function(e,t,n,a,s){var i;return"         <strong>"+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,t))+"</strong>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<header>\n  <a class="on-user avatar avatar-sm"\n     data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'"\n     href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n    <img src="'+r((n.resizeAvatar||t&&t.resizeAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    '+r((n.trans||t&&t.trans||c).call(o,"%s voted on",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,{name:"trans",hash:{},data:s}))+'\n    <a class="on-navigate"\n       href="'+r(l(null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.url:i,t))+'">\n'+(null!=(i=n.if.call(o,null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.title:i,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+"    </a>\n  </div>\n  <time>"+r((n.fromNow||t&&t.fromNow||c).call(o,null!=t?t.createDate:t,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n<hr>\n\n"+(null!=(i=e.invokePartial(a["core.events.partials.user_event_story_meta"],t,{name:"core.events.partials.user_event_story_meta",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a["core.events.partials.user_event_footer"],t,{name:"core.events.partials.user_event_footer",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return'      <a class="on-navigate"\n         href="'+r(l(null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.url:i,t))+'">\n         <strong>'+r(l(null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.title:i,t))+"</strong>\n      </a>\n    "+r((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"to",{name:"trans",hash:{},data:s}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<header>\n  <a class="on-user avatar avatar-sm"\n     data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'"\n     href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n    <img src="'+r((n.resizeAvatar||t&&t.resizeAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    '+r((n.trans||t&&t.trans||c).call(o,"%s posted",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,{name:"trans",hash:{},data:s}))+"\n"+(null!=(i=n.if.call(o,null!=t?t.isNew:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?i:"")+'    <a class="on-navigate"\n      href="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.url:i,t))+'">\n      <strong>'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,t))+"</strong>\n    </a>\n  </div>\n  <time>"+r((n.fromNow||t&&t.fromNow||c).call(o,null!=t?t.createDate:t,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n<hr>\n"+(null!=(i=e.invokePartial(a["core.events.partials.user_event_story_meta"],t,{name:"core.events.partials.user_event_story_meta",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a["core.events.partials.user_event_footer"],t,{name:"core.events.partials.user_event_footer",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<header>\n  <a class="on-user avatar avatar-sm"\n     data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'"\n     href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n    <img src="'+r((n.resizeAvatar||t&&t.resizeAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    '+r((n.trans||t&&t.trans||c).call(o,"%s added",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,{name:"trans",hash:{},data:s}))+'\n    <a class="on-navigate"\n      href="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.url:i,t))+'">\n      <strong>'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,t))+"</strong>\n    </a>\n    "+r((n.trans||t&&t.trans||c).call(o,"to",{name:"trans",hash:{},data:s}))+'\n    <a class="on-navigate"\n         href="/list/'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.list:i)?i.id:i,t))+'">\n       <strong>'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.list:i)?i.name:i,t))+"</strong>\n    </a>\n  </div>\n  <time>"+r((n.fromNow||t&&t.fromNow||c).call(o,null!=t?t.createDate:t,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n\n<hr>\n\n"+(null!=(i=e.invokePartial(a["core.events.partials.user_event_story_meta"],t,{name:"core.events.partials.user_event_story_meta",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a["core.events.partials.user_event_footer"],t,{name:"core.events.partials.user_event_footer",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+"\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<header>\n <a class="on-user avatar avatar-sm"\n     data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'"\n     href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n    <img src="'+r((n.resizeAvatar||t&&t.resizeAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    '+r((n.trans||t&&t.trans||c).call(o,"%s followed",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,{name:"trans",hash:{},data:s}))+'\n    <a class="on-user"\n       data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.followed:i)?i.name:i,t))+'"\n       href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.followed:i)?i.name:i,t))+'">\n       <strong>'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.followed:i)?i.name:i,t))+"</strong>\n    </a>\n  </div>\n  <time>"+r((n.fromNow||t&&t.fromNow||c).call(o,null!=t?t.createDate:t,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n\n<hr>\n\n"+(null!=(i=e.invokePartial(a["core.events.partials.user_event_user_meta"],t,{name:"core.events.partials.user_event_user_meta",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+"\n<br>\n\n"+(null!=(i=e.invokePartial(a["core.events.partials.user_event_footer"],t,{name:"core.events.partials.user_event_footer",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return"         <strong>"+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,t))+" - "+r(l(null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.title:i,t))+"</strong>\n"},3:function(e,t,n,a,s){var i;return"         <strong>"+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,t))+"</strong>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<header>\n  <a class="on-user avatar avatar-sm"\n     data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'"\n     href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n    <img src="'+r((n.resizeAvatar||t&&t.resizeAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    '+r((n.trans||t&&t.trans||c).call(o,"%s commented on",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,{name:"trans",hash:{},data:s}))+'\n    <a class="on-navigate"\n       href="'+r(l(null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.url:i,t))+'">\n'+(null!=(i=n.if.call(o,null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.title:i,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+"    </a>\n  </div>\n  <time>"+r((n.fromNow||t&&t.fromNow||c).call(o,null!=t?t.createDate:t,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n<hr>\n"+(null!=(i=e.invokePartial(a["core.events.partials.user_event_story_meta"],t,{name:"core.events.partials.user_event_story_meta",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+"<br>\n\n<blockquote>"+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.comment:i)?i.highlighted_text:i,200,{name:"simpleShorten",hash:{},data:s}))?i:"")+'</blockquote>\n\n<div class="reply">\n  <header>\n    <a class="on-user avatar avatar-sm"\n       data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+"\"\n       href='/user/"+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+"'>\n     <img src=\""+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,t))+'">\n    </a>\n  <div class="clearfix title"> '+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+" </div>\n  </header>\n  <pre>"+(null!=(i=(n.linkify||t&&t.linkify||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.comment:i)?i.body:i,{name:"linkify",hash:{},data:s}))?i:"")+"</pre>\n</div>\n\n"+(null!=(i=e.invokePartial(a["core.events.partials.user_event_footer"],t,{name:"core.events.partials.user_event_footer",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+"\n\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return"         <strong>"+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,t))+" - "+r(l(null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.title:i,t))+"</strong>\n"},3:function(e,t,n,a,s){var i;return"         <strong>"+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,t))+"</strong>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<header>\n  <a class="on-user avatar avatar-sm"\n     data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'"\n     href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n    <img src="'+r((n.resizeAvatar||t&&t.resizeAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n  <div class="clearfix">\n    '+r((n.trans||t&&t.trans||c).call(o,"%s commented on",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,{name:"trans",hash:{},data:s}))+'\n    <a class="on-story-navigate"\n       href="'+r(l(null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.url:i,t))+'">\n'+(null!=(i=n.if.call(o,null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.title:i,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+"    </a>\n  </div>\n  <time>"+r((n.fromNow||t&&t.fromNow||c).call(o,null!=t?t.createDate:t,{name:"fromNow",hash:{dropSuffix:!0},data:s}))+"</time>\n</header>\n<hr>\n"+(null!=(i=e.invokePartial(a["core.events.partials.user_event_story_meta"],t,{name:"core.events.partials.user_event_story_meta",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+'<br>\n\n<div class="reply">\n  <header>\n    <a class="on-user avatar avatar-sm"\n       data-username="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+"\"\n       href='/user/"+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+"'>\n     <img src=\""+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,t))+'">\n    </a>\n  <div class="clearfix title"> '+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+" </div>\n  <pre>"+(null!=(i=(n.linkify||t&&t.linkify||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.comment:i)?i.body:i,{name:"linkify",hash:{},data:s}))?i:"")+"</pre>\n</div>\n\n"+(null!=(i=e.invokePartial(a["core.events.partials.user_event_footer"],t,{name:"core.events.partials.user_event_footer",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+"\n\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<div class="button-group relative dropdown">\n    <button class="btn btn-text btn-options dropdown-toggle" data-toggle="dropdown">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-more",20,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+'</button>\n    <div class="triangle"></div>\n    <ul class="dropdown-menu align-right">\n        <li><a class="on-hide" role="button" href="#" data-action="deleteEvent"> '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove-alt",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Delete",{name:"trans",hash:{},data:s}))+"</a></li>\n    </ul>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.profile:t,{name:"isCurrentUser",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'  <a class="on-navigate" href="'+d((n.formatStoryUrl||t&&t.formatStoryUrl||u).call(c,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">\n      <div class="cover cover-xs pull-left">\n          <img src="'+d((n.resizeCover||t&&t.resizeCover||u).call(c,null!=t?t.cover:t,50,{name:"resizeCover",hash:{},data:s}))+'">\n      </div>\n      <div class="content">\n          <h5 class="h6">'+d("function"==typeof(o=null!=(o=n.title||(null!=t?t.title:t))?o:u)?o.call(c,{name:"title",hash:{},data:s}):o)+"</h5>\n          <small>"+d(e.lambda(null!=(r=null!=t?t.user:t)?r.name:r,t))+"</small>\n        "+(null!=(r=n.if.call(c,null!=t?t.outgoing:t,{name:"if",hash:{},fn:e.program(2,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n      </div>\n      <div class="meta">\n        '+(null!=(r=n.if.call(c,null!=t?t.readCount:t,{name:"if",hash:{},fn:e.program(4,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n        "+(null!=(r=n.if.call(c,null!=t?t.readCount:t,{name:"if",hash:{},fn:e.program(6,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n      </div>\n      <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+d("function"==typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+'">\n          '+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n          <span class="toggle-triangle"></span>\n          <span class="toggle-shadow"></span>\n      </button>\n  </a>\n'},2:function(e,t,n,a,s,i,l){var r;return"<p>"+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Dedicated to %s",null!=(r=null!=(r=null!=l[2]?l[2].data:l[2])?r.dedicatee:r)?r.name:r,{name:"trans",hash:{},data:s}))+"</p>"},4:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="reads">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-view",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+"</small>"},6:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="votes">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r;return null!=(r=n.blockHelperMissing.call(t,e.lambda(null!=(r=null!=t?t.data:t)?r.story:r,t),{name:"data.story",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:""},useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'  <a class="on-navigate" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=(i=null!=t?t.part:t)?i.url:i,{name:"formatStoryUrl",hash:{},data:s}))+'">\n    <div class="cover cover-xs pull-left">\n        <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,50,{name:"resizeCover",hash:{},data:s}))+'">\n    </div>\n    <div class="content">\n        <h5 class="h6">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+" - "+c(u(null!=(i=null!=t?t.part:t)?i.title:i,t))+"</h5>\n        <small>"+c(u(null!=(i=null!=t?t.user:t)?i.name:i,t))+'</small>\n    </div>\n    <div class="meta">\n        '+(null!=(i=n.if.call(r,null!=t?t.readCount:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"\n        "+(null!=(i=n.if.call(r,null!=t?t.readCount:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'\n    </div>\n  </a>\n\n  <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-toggle="tooltip" data-placement="left" title="'+c((n.trans||t&&t.trans||o).call(r,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n      '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n      <span class="toggle-triangle"></span>\n      <span class="toggle-shadow"></span>\n  </button>\n'},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="reads">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-view",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+"</small>"},4:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="votes">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.blockHelperMissing.call(t,e.lambda(null!=(i=null!=t?t.data:t)?i.story:i,t),{name:"data.story",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'  <a class="on-navigate" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">\n    <div class="cover cover-xs pull-left">\n        <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,50,{name:"resizeCover",hash:{},data:s}))+'">\n    </div>\n    <div class="content">\n        <h4 class="h6">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+"</h4>\n        <small>"+c(e.lambda(null!=(i=null!=t?t.user:t)?i.name:i,t))+'</small>\n    </div>\n    <div class="meta">\n        '+(null!=(i=n.if.call(r,null!=t?t.readCount:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"\n        "+(null!=(i=n.if.call(r,null!=t?t.voteCount:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'\n    </div>\n  </a>\n\n  <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-toggle="tooltip" data-placement="left" title="'+c((n.trans||t&&t.trans||o).call(r,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n      '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n      <span class="toggle-triangle"></span>\n      <span class="toggle-shadow"></span>\n  </button>\n'},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="reads">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-view",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+"</small>"},4:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="votes">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.blockHelperMissing.call(t,e.lambda(null!=(i=null!=t?t.data:t)?i.story:i,t),{name:"data.story",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c="function",u=e.escapeExpression;return'  <a class="on-navigate" href="/user/'+u(typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)===c?l.call(r,{name:"name",hash:{},data:s}):l)+'">\n    <div class="avatar avatar-md pull-left">\n        <img src="'+u((n.resizeAvatar||t&&t.resizeAvatar||o).call(r,null!=t?t.avatar:t,48,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </div>\n    <div class="content">\n        <h4 class="h5">'+u(typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)===c?l.call(r,{name:"name",hash:{},data:s}):l)+"</h4>\n        <small>\n            @"+u(typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)===c?l.call(r,{name:"name",hash:{},data:s}):l)+"\n            "+(null!=(i=n.if.call(r,null!=t?t.numWorks:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"\n            "+(null!=(i=n.if.call(r,null!=t?t.numFollowers:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'\n        </small>\n    </div>\n      <button class="btn btn-triangle btn-fan" data-target="'+u(typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)===c?l.call(r,{name:"name",hash:{},data:s}):l)+'" data-following="'+u(typeof(l=null!=(l=n.following||(null!=t?t.following:t))?l:o)===c?l.call(r,{name:"following",hash:{},data:s}):l)+'" data-toggle="tooltip" data-placement="left" title="'+u((n.trans||t&&t.trans||o).call(r,"Follow",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-follow",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n      </button>\n  </a>\n'},2:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return"&middot; "+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Work","%s Works",null!=t?t.numWorks:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numWorks:t,{name:"sprintf",hash:{},data:s}))},4:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return"&middot; "+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Follower","%s Followers",null!=t?t.numFollowers:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numFollowers:t,{name:"sprintf",hash:{},data:s}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.blockHelperMissing.call(t,e.lambda(null!=(i=null!=t?t.data:t)?i.followed:i,t),{name:"data.followed",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'    <h3 class="h6">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"%s dedicated %s story parts",null!=(i=null!=(i=null!=t?t.data:t)?i.dedicator:i)?i.name:i,null!=t?t.groupCount:t,{name:"trans",hash:{},data:s}))+"</h3>\n"},3:function(e,t,n,a,s){var i;return'    <h3 class="h6">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"%s received %s dedications",null!=(i=null!=(i=null!=t?t.data:t)?i.dedicatee:i)?i.name:i,null!=t?t.groupCount:t,{name:"trans",hash:{},data:s}))+"</h3>\n"},5:function(e,t,n,a,s){var i;return'    <li class="list-group-item">\n'+(null!=(i=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_dedicate_item"],t,{name:"core.feed_items.aggregates.item_views.feed_dedicate_item",data:s,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"    </li>\n"},7:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<button data-id="'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'" class="btn btn-text on-expand">'+o((n.trans||t&&t.trans||r).call(l,"See more",{name:"trans",hash:{},data:s}))+"</button>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+r(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.dedicator:i)?i.name:i,t))+'">\n      <img src="'+r((n.resizeAvatar||t&&t.resizeAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.dedicator:i)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n'+(null!=(i=n.if.call(o,null!=t?t.outgoing:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'    <time datetime="'+r("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:c)?l.call(o,{name:"createDate",hash:{},data:s}):l)+'">'+r((n.fromNow||t&&t.fromNow||c).call(o,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(i=e.invokePartial(a["core.feed_items.feed_item_options"],t,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</header>\n\n<ul class="list-group">\n'+(null!=(i=n.each.call(o,null!=t?t.group:t,{name:"each",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+'</ul>\n\n<footer class="panel-footer">\n  '+(null!=(i=n.if.call(o,null!=(i=null!=t?t.children:t)?i[0]:i,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+"\n</footer>\n\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'    <li class="list-group-item">\n'+(null!=(i=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_vote_item"],t,{name:"core.feed_items.aggregates.item_views.feed_vote_item",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"    </li>\n"},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<button data-id="'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'" class="btn btn-text on-expand">'+o((n.trans||t&&t.trans||r).call(l,"See more",{name:"trans",hash:{},data:s}))+"</button>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+r(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n      <img src="'+r((n.resizeAvatar||t&&t.resizeAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+r((n.trans||t&&t.trans||c).call(o,"%s voted on %s parts",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,null!=t?t.groupCount:t,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+r("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:c)?l.call(o,{name:"createDate",hash:{},data:s}):l)+'">'+r((n.fromNow||t&&t.fromNow||c).call(o,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(i=e.invokePartial(a["core.feed_items.feed_item_options"],t,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</header>\n\n<ul class="list-group">\n'+(null!=(i=n.each.call(o,null!=t?t.group:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'</ul>\n\n<footer class="panel-footer">\n  '+(null!=(i=n.if.call(o,null!=(i=null!=t?t.children:t)?i[0]:i,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n</footer>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return(null!=(r=n.if.call(c,null!=(r=null!=t?t.sample_covers:t)?r[0]:r,{name:"if",hash:{},fn:e.program(2,s,0,i,l),inverse:e.program(4,s,0,i,l),data:s}))?r:"")+'            <div class="content">\n                <h4 class="h3">'+d("function"==typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:u)?o.call(c,{name:"name",hash:{},data:s}):o)+"</h4>\n                <small>"+d((n.sprintf||t&&t.sprintf||u).call(c,(n.ngettext||t&&t.ngettext||u).call(c,"%s Story","%s Stories",null!=t?t.numStories:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numStories:t,{name:"sprintf",hash:{},data:s}))+"</small>\n            </div>\n            </a>\n"},2:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'                <a href="/list/'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+"-"+c((n.slugify||t&&t.slugify||o).call(r,null!=t?t.name:t,{name:"slugify",hash:{},data:s}))+'" class="header panel-heading" style="background-image: url('+c((n.resizeCoverAsBackground||t&&t.resizeCoverAsBackground||o).call(r,null!=(i=null!=t?t.sample_covers:t)?i[0]:i,640,{name:"resizeCoverAsBackground",hash:{},data:s}))+');">\n'},4:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'                <a href="/list/'+d("function"==typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+"-"+d((n.slugify||t&&t.slugify||u).call(c,null!=t?t.name:t,{name:"slugify",hash:{},data:s}))+'" class="header panel-heading" style="background-image: url('+d((n.resizeCoverAsBackground||t&&t.resizeCoverAsBackground||u).call(c,null!=(r=null!=l[1]?l[1].story:l[1])?r.cover:r,640,{name:"resizeCoverAsBackground",hash:{},data:s}))+');">\n'},6:function(e,t,n,a,s){var i;return'            <li class="list-group-item">\n'+(null!=(i=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_library_item"],t,{name:"core.feed_items.aggregates.item_views.feed_library_item",data:s,indent:"              ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"            </li>\n"},8:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<button data-id="'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'" class="btn btn-text on-expand">'+o((n.trans||t&&t.trans||r).call(l,"See more",{name:"trans",hash:{},data:s}))+"</button>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o,c=e.lambda,u=e.escapeExpression,d=null!=t?t:e.nullContext||{},h=n.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+u(c(null!=(r=null!=(r=null!=t?t.data:t)?r.user:r)?r.name:r,t))+'">\n      <img src="'+u((n.resizeAvatar||t&&t.resizeAvatar||h).call(d,null!=(r=null!=(r=null!=t?t.data:t)?r.user:r)?r.avatar:r,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+u((n.trans||t&&t.trans||h).call(d,"%s added %s stories to %s",null!=(r=null!=(r=null!=t?t.data:t)?r.user:r)?r.name:r,null!=t?t.groupCount:t,null!=(r=null!=(r=null!=t?t.data:t)?r.list:r)?r.name:r,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+u("function"==typeof(o=null!=(o=n.createDate||(null!=t?t.createDate:t))?o:h)?o.call(d,{name:"createDate",hash:{},data:s}):o)+'">'+u((n.fromNow||t&&t.fromNow||h).call(d,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(r=e.invokePartial(a["core.feed_items.feed_item_options"],t,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?r:"")+'</header>\n\n<div class="panel-body">\n    <div class="panel list">\n\n'+(null!=(r=n.blockHelperMissing.call(t,c(null!=(r=null!=t?t.data:t)?r.list:r,t),{name:"data.list",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n        <ul class="list-group">\n'+(null!=(r=n.each.call(d,null!=t?t.group:t,{name:"each",hash:{},fn:e.program(6,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'        </ul>\n\n    </div>\n</div>\n\n<footer class="panel-footer">\n  '+(null!=(r=n.if.call(d,null!=(r=null!=t?t.children:t)?r[0]:r,{name:"if",hash:{},fn:e.program(8,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n</footer>\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'    <li class="list-group-item">\n'+(null!=(i=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_follow_item"],t,{name:"core.feed_items.aggregates.item_views.feed_follow_item",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"    </li>\n"},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<button data-id="'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'" class="btn btn-text on-expand">'+o((n.trans||t&&t.trans||r).call(l,"See more",{name:"trans",hash:{},data:s}))+"</button>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+r(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n      <img src="'+r((n.resizeAvatar||t&&t.resizeAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+r((n.trans||t&&t.trans||c).call(o,"%s followed %s people",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,null!=t?t.groupCount:t,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+r("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:c)?l.call(o,{name:"createDate",hash:{},data:s}):l)+'">'+r((n.fromNow||t&&t.fromNow||c).call(o,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(i=e.invokePartial(a["core.feed_items.feed_item_options"],t,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</header>\n\n<ul class="list-group">\n'+(null!=(i=n.each.call(o,null!=t?t.group:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'</ul>\n\n<footer class="panel-footer">\n  '+(null!=(i=n.if.call(o,null!=(i=null!=t?t.children:t)?i[0]:i,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n</footer>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'    <a href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'" class="panel story on-navigate">\n        <div class="cover cover-md pull-left">\n            <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,123,{name:"resizeCover",hash:{},data:s}))+'">\n        </div>\n        <div class="content">\n            <h4 class="h3">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+"</h4>\n            <small>"+c(e.lambda(null!=(i=null!=t?t.user:t)?i.name:i,t))+" &middot; "+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Part","%s Parts",null!=t?t.numParts:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numParts:t,{name:"sprintf",hash:{},data:s}))+'</small>\n            <div class="meta">\n                '+(null!=(i=n.if.call(r,null!=t?t.readCount:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"\n                "+(null!=(i=n.if.call(r,null!=t?t.voteCount:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+"\n            </div>\n            <p>"+c((n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.description:t,140,!1,{name:"simpleShorten",hash:{},data:s}))+'</p>\n        </div>\n    </a>\n\n    <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n        '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n    </button>\n'},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="reads">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-view",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+"</small>"},4:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="votes">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/wattpad">\n      <img src="'+o((n.resizeAvatar||t&&t.resizeAvatar||r).call(l,(n.sprintf||t&&t.sprintf||r).call(l,"%s/useravatar/Wattpad.128.263229.jpg",null!=t?t.mediaServer:t,{name:"sprintf",hash:{},data:s}),36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+o((n.trans||t&&t.trans||r).call(l,"wattpad recommends...",{name:"trans",hash:{},data:s}))+"</h3>\n"+(null!=(i=e.invokePartial(a["core.feed_items.feed_item_options"],t,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</header>\n\n<div class="panel-body">\n\n'+(null!=(i=n.blockHelperMissing.call(t,e.lambda(null!=(i=null!=t?t.data:t)?i.story:i,t),{name:"data.story",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'\n</div>\n\n<footer class="panel-footer">\n    <a href="'+o((n.formatStoryUrl||t&&t.formatStoryUrl||r).call(l,null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.url:i,{name:"formatStoryUrl",hash:{},data:s}))+'" class="btn btn-text on-navigate">'+o((n.trans||t&&t.trans||r).call(l,"Story details",{name:"trans",hash:{},data:s}))+"</a>\n</footer>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s,i,l){var r;return null!=(r=n.blockHelperMissing.call(t,e.lambda(null!=(r=null!=t?t.data:t)?r.dedicatee:r,t),{name:"data.dedicatee",hash:{},fn:e.program(2,s,0,i,l),inverse:e.noop,data:s}))?r:""},2:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d="function",h=e.escapeExpression;return'        <a class="on-navigate" href="/user/'+h(typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:u)===d?o.call(c,{name:"name",hash:{},data:s}):o)+'">\n\n'+(null!=(r=n.if.call(c,null!=t?t.backgroundUrl:t,{name:"if",hash:{},fn:e.program(3,s,0,i,l),inverse:e.program(5,s,0,i,l),data:s}))?r:"")+'\n                <div class="avatar avatar-lg pull-left">\n                    <img src="'+h((n.resizeAvatar||t&&t.resizeAvatar||u).call(c,null!=t?t.avatar:t,72,{name:"resizeAvatar",hash:{},data:s}))+'">\n                </div>\n                <div class="content">\n                    <h4 class="h3">'+h(typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:u)===d?o.call(c,{name:"name",hash:{},data:s}):o)+"</h4>\n                    <small>\n                        @"+h(typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:u)===d?o.call(c,{name:"name",hash:{},data:s}):o)+"\n                        "+(null!=(r=n.if.call(c,null!=t?t.numWorks:t,{name:"if",hash:{},fn:e.program(7,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n                        "+(null!=(r=n.if.call(c,null!=t?t.numFollowers:t,{name:"if",hash:{},fn:e.program(9,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n                    </small>\n                </div>\n                <button class="btn btn-triangle btn-fan" data-target="'+h(typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:u)===d?o.call(c,{name:"name",hash:{},data:s}):o)+'" data-following="'+h(typeof(o=null!=(o=n.following||(null!=t?t.following:t))?o:u)===d?o.call(c,{name:"following",hash:{},data:s}):o)+'">\n                    '+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-follow",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n                    <span class="toggle-triangle"></span>\n                    <span class="toggle-shadow"></span>\n                </button>\n            </header>\n        <a/>\n'},3:function(e,t,n,a,s){return'            <header class="panel-heading" style="background-image: url( '+e.escapeExpression((n.profileBackground||t&&t.profileBackground||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.backgroundUrl:t,640,{name:"profileBackground",hash:{},data:s}))+' );">\n'},5:function(e,t,n,a,s,i,l){var r;return'            <header class="panel-heading" style="background-color: '+e.escapeExpression(e.lambda(null!=(r=null!=l[2]?l[2].data:l[2])?r.highlight_colour:r,t))+';">\n'},7:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return"&middot; "+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Work","%s Works",null!=t?t.numWorks:t,{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||l).call(i,null!=t?t.numWorks:t,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))},9:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return"&middot; "+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Follower","%s Followers",null!=t?t.numFollowers:t,{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||l).call(i,null!=t?t.numFollowers:t,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o,c,u=e.lambda,d=e.escapeExpression,h=null!=t?t:e.nullContext||{},p=n.helperMissing,m='<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+d(u(null!=(r=null!=(r=null!=t?t.data:t)?r.dedicator:r)?r.name:r,t))+'">\n      <img src="'+d((n.resizeAvatar||t&&t.resizeAvatar||p).call(h,null!=(r=null!=(r=null!=t?t.data:t)?r.dedicator:r)?r.avatar:r,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+d((n.trans||t&&t.trans||p).call(h,"%s dedicated %s - %s to %s",null!=(r=null!=(r=null!=t?t.data:t)?r.dedicator:r)?r.name:r,null!=(r=null!=(r=null!=t?t.data:t)?r.story:r)?r.title:r,null!=(r=null!=(r=null!=(r=null!=t?t.data:t)?r.story:r)?r.part:r)?r.title:r,null!=(r=null!=(r=null!=t?t.data:t)?r.dedicatee:r)?r.name:r,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+d("function"==typeof(o=null!=(o=n.createDate||(null!=t?t.createDate:t))?o:p)?o.call(h,{name:"createDate",hash:{},data:s}):o)+'">'+d((n.fromNow||t&&t.fromNow||p).call(h,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(r=e.invokePartial(a["core.feed_items.feed_item_options"],t,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?r:"")+'</header>\n\n<div class="panel-body">\n    <div class="panel dedication">\n\n';return o=null!=(o=n.outgoing||(null!=t?t.outgoing:t))?o:p,c={name:"outgoing",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s},r="function"==typeof o?o.call(h,c):o,n.outgoing||(r=n.blockHelperMissing.call(t,r,c)),null!=r&&(m+=r),m+'\n        <ul class="list-group">\n            <li class="list-group-item single-item">\n'+(null!=(r=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_vote_item"],t,{name:"core.feed_items.aggregates.item_views.feed_vote_item",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?r:"")+'            </li>\n        </ul>\n    </div>\n</div>\n\n<footer class="panel-footer">\n    <a href="'+d((n.formatStoryUrl||t&&t.formatStoryUrl||p).call(h,null!=(r=null!=(r=null!=t?t.data:t)?r.story:r)?r.url:r,{name:"formatStoryUrl",hash:{},data:s}))+'" class="btn btn-text on-navigate" data-story-id="'+d(u(null!=(r=null!=(r=null!=t?t.data:t)?r.story:r)?r.id:r,t))+'">\n        '+d((n.trans||t&&t.trans||p).call(h,"Story details",{name:"trans",hash:{},data:s}))+"\n    </a>\n</footer>\n\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'    <a href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'" class="panel vote on-navigate">\n        <div class="cover cover-xs pull-left">\n            <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,50,{name:"resizeCover",hash:{},data:s}))+'">\n        </div>\n        <div class="content">\n            <h4 class="h3">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+" - "+c(u(null!=(i=null!=t?t.part:t)?i.title:i,t))+"</h4>\n            <small>"+c(u(null!=(i=null!=t?t.user:t)?i.name:i,t))+" &middot; "+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Part","%s Parts",null!=t?t.numParts:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numParts:t,{name:"sprintf",hash:{},data:s}))+'</small>\n            <div class="meta">\n                '+(null!=(i=n.if.call(r,null!=t?t.readCount:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"\n                "+(null!=(i=n.if.call(r,null!=t?t.voteCount:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'\n            </div>\n        </div>\n    </a>\n    <button class="btn btn-triangle btn-library" data-icon="true" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-toggle="tooltip" data-placement="left" title="'+c((n.trans||t&&t.trans||o).call(r,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n    </button>\n'},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="reads">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-view",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+"</small>"},4:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<small class="votes">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.count||t&&t.count||r).call(l,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+"</small>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=e.lambda,o=e.escapeExpression,c=null!=t?t:e.nullContext||{},u=n.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+o(r(null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,t))+'">\n      <img src="'+o((n.resizeAvatar||t&&t.resizeAvatar||u).call(c,null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+o((n.trans||t&&t.trans||u).call(c,"%s voted on %s - %s",null!=(i=null!=(i=null!=t?t.data:t)?i.user:i)?i.name:i,null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.title:i,null!=(i=null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.part:i)?i.title:i,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+o("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:u)?l.call(c,{name:"createDate",hash:{},data:s}):l)+'">'+o((n.fromNow||t&&t.fromNow||u).call(c,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(i=e.invokePartial(a["core.feed_items.feed_item_options"],t,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</header>\n\n<div class="panel-body">\n\n'+(null!=(i=n.blockHelperMissing.call(t,r(null!=(i=null!=t?t.data:t)?i.story:i,t),{name:"data.story",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'\n</div>\n\n<footer class="panel-footer">\n    <a href="'+o((n.formatStoryUrl||t&&t.formatStoryUrl||u).call(c,null!=(i=null!=(i=null!=t?t.data:t)?i.story:i)?i.url:i,{name:"formatStoryUrl",hash:{},data:s}))+'" class="btn btn-text on-navigate">'+o((n.trans||t&&t.trans||u).call(c,"Story details",{name:"trans",hash:{},data:s}))+"</a>\n</footer>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return(null!=(r=n.if.call(c,null!=(r=null!=t?t.sample_covers:t)?r[0]:r,{name:"if",hash:{},fn:e.program(2,s,0,i,l),inverse:e.program(4,s,0,i,l),data:s}))?r:"")+'            <div class="content">\n                <h4 class="h3">'+d("function"==typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:u)?o.call(c,{name:"name",hash:{},data:s}):o)+"</h4>\n                <small>"+d((n.sprintf||t&&t.sprintf||u).call(c,(n.ngettext||t&&t.ngettext||u).call(c,"%s Story","%s Stories",null!=t?t.numStories:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numStories:t,{name:"sprintf",hash:{},data:s}))+"</small>\n            </div>\n        </a>\n"},2:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'        <a href="/list/'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+"-"+c((n.slugify||t&&t.slugify||o).call(r,null!=t?t.name:t,{name:"slugify",hash:{},data:s}))+'" class="header panel-heading" style="background-image: url('+c((n.resizeCoverAsBackground||t&&t.resizeCoverAsBackground||o).call(r,null!=(i=null!=t?t.sample_covers:t)?i[0]:i,640,{name:"resizeCoverAsBackground",hash:{},data:s}))+');">\n'},4:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'        <a href="/list/'+d("function"==typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+"-"+d((n.slugify||t&&t.slugify||u).call(c,null!=t?t.name:t,{name:"slugify",hash:{},data:s}))+'" class="header panel-heading" style="background-image: url('+d((n.resizeCoverAsBackground||t&&t.resizeCoverAsBackground||u).call(c,null!=(r=null!=l[1]?l[1].story:l[1])?r.cover:r,640,{name:"resizeCoverAsBackground",hash:{},data:s}))+');">\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o,c=e.lambda,u=e.escapeExpression,d=null!=t?t:e.nullContext||{},h=n.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+u(c(null!=(r=null!=(r=null!=t?t.data:t)?r.user:r)?r.name:r,t))+'">\n      <img src="'+u((n.resizeAvatar||t&&t.resizeAvatar||h).call(d,null!=(r=null!=(r=null!=t?t.data:t)?r.user:r)?r.avatar:r,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n\n    <h3 class="h6">'+u((n.trans||t&&t.trans||h).call(d,"%s added %s to %s",null!=(r=null!=(r=null!=t?t.data:t)?r.user:r)?r.name:r,null!=(r=null!=(r=null!=t?t.data:t)?r.story:r)?r.title:r,null!=(r=null!=(r=null!=t?t.data:t)?r.list:r)?r.name:r,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+u("function"==typeof(o=null!=(o=n.createDate||(null!=t?t.createDate:t))?o:h)?o.call(d,{name:"createDate",hash:{},data:s}):o)+'">'+u((n.fromNow||t&&t.fromNow||h).call(d,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(r=e.invokePartial(a["core.feed_items.feed_item_options"],t,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?r:"")+'</header>\n\n<div class="panel-body">\n    <article class="panel list">\n\n'+(null!=(r=n.blockHelperMissing.call(t,c(null!=(r=null!=t?t.data:t)?r.list:r,t),{name:"data.list",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n        <ul class="list-group">\n            <li class="list-group-item single-item">\n'+(null!=(r=e.invokePartial(a["core.feed_items.aggregates.item_views.feed_library_item"],t,{name:"core.feed_items.aggregates.item_views.feed_library_item",data:s,indent:"              ",helpers:n,partials:a,decorators:e.decorators}))?r:"")+'            </li>\n        </ul>\n\n    </article>\n</div>\n\n<footer class="panel-footer">\n    <a href="/list/'+u(c(null!=(r=null!=(r=null!=t?t.data:t)?r.list:r)?r.id:r,t))+'" class="btn btn-text on-navigate">\n      '+u((n.trans||t&&t.trans||h).call(d,"View reading list",{name:"trans",hash:{},data:s}))+"\n    </a>\n</footer>\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return(null!=(r=n.if.call(c,null!=t?t.backgroundUrl:t,{name:"if",hash:{},fn:e.program(2,s,0,i,l),inverse:e.program(4,s,0,i,l),data:s}))?r:"")+'        <div class="avatar avatar-lg pull-left">\n            <img src="'+d((n.resizeAvatar||t&&t.resizeAvatar||u).call(c,null!=t?t.avatar:t,72,{name:"resizeAvatar",hash:{},data:s}))+'">\n        </div>\n        <div class="content">\n            <h4 class="h3">'+d("function"==typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:u)?o.call(c,{name:"name",hash:{},data:s}):o)+"</h4>\n            <small>\n                @"+d("function"==typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:u)?o.call(c,{name:"name",hash:{},data:s}):o)+"\n                "+(null!=(r=n.if.call(c,null!=t?t.numWorks:t,{name:"if",hash:{},fn:e.program(6,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n                "+(null!=(r=n.if.call(c,null!=t?t.numFollowers:t,{name:"if",hash:{},fn:e.program(8,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n            </small>\n        </div>\n    </a>\n\n    <button class="btn btn-triangle btn-fan" data-target="'+d("function"==typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:u)?o.call(c,{name:"name",hash:{},data:s}):o)+'" data-following="'+d("function"==typeof(o=null!=(o=n.following||(null!=t?t.following:t))?o:u)?o.call(c,{name:"following",hash:{},data:s}):o)+'" data-toggle="tooltip" data-placement="left" title="'+d((n.trans||t&&t.trans||u).call(c,"Follow",{name:"trans",hash:{},data:s}))+'">\n        '+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-follow",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n        <span class="toggle-triangle"></span>\n        <span class="toggle-shadow"></span>\n    </button>\n'},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'        <a href="/user/'+o("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:r)?i.call(l,{name:"name",hash:{},data:s}):i)+'" class="panel on-navigate follow" style="background-image: url( '+o((n.profileBackground||t&&t.profileBackground||r).call(l,null!=t?t.backgroundUrl:t,640,{name:"profileBackground",hash:{},data:s}))+' );">\n'},4:function(e,t,n,a,s,i,l){var r,o,c=e.escapeExpression;return'        <a href="/user/'+c("function"==typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:s}):o)+'" class="panel on-navigate follow" style="background-color: '+c(e.lambda(null!=(r=null!=l[1]?l[1].data:l[1])?r.highlight_colour:r,t))+'">\n'},6:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return"&middot; "+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Work","%s Works",null!=t?t.numWorks:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numWorks:t,{name:"sprintf",hash:{},data:s}))},8:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return"&middot; "+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Follower","%s Followers",null!=t?t.numFollowers:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numFollowers:t,{name:"sprintf",hash:{},data:s}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o,c=e.lambda,u=e.escapeExpression,d=null!=t?t:e.nullContext||{},h=n.helperMissing;return'<header class="panel-heading">\n    <a class="send-avatar-event avatar avatar-sm2 on-navigate" href="/user/'+u(c(null!=(r=null!=(r=null!=t?t.data:t)?r.user:r)?r.name:r,t))+'">\n      <img src="'+u((n.resizeAvatar||t&&t.resizeAvatar||h).call(d,null!=(r=null!=(r=null!=t?t.data:t)?r.user:r)?r.avatar:r,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <h3 class="h6">'+u((n.trans||t&&t.trans||h).call(d,"%1$s followed %2$s",null!=(r=null!=(r=null!=t?t.data:t)?r.user:r)?r.name:r,null!=(r=null!=(r=null!=t?t.data:t)?r.followed:r)?r.name:r,{name:"trans",hash:{},data:s}))+'</h3>\n    <time datetime="'+u("function"==typeof(o=null!=(o=n.createDate||(null!=t?t.createDate:t))?o:h)?o.call(d,{name:"createDate",hash:{},data:s}):o)+'">'+u((n.fromNow||t&&t.fromNow||h).call(d,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"</time>\n"+(null!=(r=e.invokePartial(a["core.feed_items.feed_item_options"],t,{name:"core.feed_items.feed_item_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?r:"")+'</header>\n\n<div class="panel-body">\n\n'+(null!=(r=n.blockHelperMissing.call(t,c(null!=(r=null!=t?t.data:t)?r.followed:r,t),{name:"data.followed",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n</div>\n\n<footer class="panel-footer">\n  <a href="/user/'+u(c(null!=(r=null!=(r=null!=t?t.data:t)?r.followed:r)?r.name:r,t))+'" class="btn btn-text on-navigate">'+u((n.trans||t&&t.trans||h).call(d,"View profile",{name:"trans",hash:{},data:s}))+"</a>\n</footer>\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'  <div class="collection"></div>\n  <div class="show-more hidden center-text">\n    <button class="btn btn-link on-showmore">\n        <span class=\'show-more-message\'>\n            <span>'+o((n.trans||t&&t.trans||r).call(l,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n        </span>\n        <span class='loading-message'>\n            "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n            <span> "+o((n.trans||t&&t.trans||r).call(l,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n        </span>\n    </button>\n  </div>\n"},3:function(e,t,n,a,s){return'  <div class="collection">\n    <p class="no-item">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"No items available at the moment",{name:"trans",hash:{},data:s}))+"</p>\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{};return"<h5> "+e.escapeExpression("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:n.helperMissing)?l.call(r,{name:"title",hash:{},data:s}):l)+" </h5>\n<hr>\n"+(null!=(i=n.if.call(r,null!=t?t.hasItems:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+"\n\n\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'      <small class="x-small offensive">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-warning",13,"wp-error-1",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"this message may be\n        offensive",{name:"trans",hash:{},data:s}))+"</small>\n"},3:function(e,t,n,a,s){var i;return"      <pre>"+(null!=(i=(n.linkify||t&&t.linkify||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.body:t,{name:"linkify",hash:{},data:s}))?i:"")+"</pre>\n"},5:function(e,t,n,a,s){var i,l,r,o="";return l=null!=(l=n.beautifyUrlMetadata||(null!=t?t.beautifyUrlMetadata:t))?l:n.helperMissing,r={name:"beautifyUrlMetadata",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.beautifyUrlMetadata||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(o+=i),o},6:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.shared.beautify_url"],t,{name:"core.shared.beautify_url",data:s,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:""},8:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.canMute:t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.program(11,s,0),data:s}))?i:""},9:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'          <button class="on-mute-reply user-safety-operation btn-no-background btn-left-icon"  data-toggle="modal" data-action="muteUser">\n          '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"mute",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+" <span>"+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Mute %s",null!=t?t.feedItemMessageOptionsAuthor:t,{name:"trans",hash:{},data:s}))+"</span>\n          </button>\n"},11:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'          <button class="on-unmute-reply user-safety-operation btn-no-background btn-left-icon"  data-toggle="modal" data-action="unmuteUser">\n          '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"unmute",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+" <span> "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Unmute %s",null!=t?t.feedItemMessageOptionsAuthor:t,{name:"trans",hash:{},data:s}))+" </span>\n          </button>\n"},13:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'      \n          <button class="on-delete user-safety-operation btn-no-background btn-left-icon delete" >'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"trash",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+" <span>"+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Delete Message",{name:"trans",hash:{},data:s}))+"</span>\n          </button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=e.lambda,o=e.escapeExpression,c=null!=t?t:e.nullContext||{},u=n.helperMissing;return'<div class="panel-body message latest-replies reply-new">\n  <a class="avatar avatar-xs2 on-navigate" href="/user/'+o(r(null!=(i=null!=t?t.from:t)?i.name:i,t))+'">\n    <img src="'+o((n.resizeAvatar||t&&t.resizeAvatar||u).call(c,null!=(i=null!=t?t.from:t)?i.avatar:i,30,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n\n  <div class="message-wrapper">\n    <h3 class="h6 from-name"><a class="username on-navigate" href="/user/'+o(r(null!=(i=null!=t?t.from:t)?i.name:i,t))+'">'+o(r(null!=(i=null!=t?t.from:t)?i.name:i,t))+'</a></h3>\n    <div class="body dark-grey">\n'+(null!=(i=n.if.call(c,null!=t?t.isOffensive:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(c,null!=t?t.body:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(c,null!=t?t.beautifyUrlMetadata:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+'    </div>\n\n    <div class="reply-meta">\n      <time class="timestamp" datetime="'+o("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:u)?l.call(c,{name:"createDate",hash:{},data:s}):l)+'">'+o((n.fromNow||t&&t.fromNow||u).call(c,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+'</time>\n      <span class="bullet">&bull;</span>\n      <span class="reply-wrapper"><a class="on-reply" role="button" href="#">'+o((n.trans||t&&t.trans||u).call(c,"Reply",{name:"trans",hash:{},data:s}))+'</a></span>\n    </div>\n  </div>\n\n  <div class="button-group dropdown">\n    <button class="btn btn-text btn-options dropdown-toggle" data-toggle="dropdown">'+(null!=(i=(n.iconify||t&&t.iconify||u).call(c,"fa-more",20,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'</button>\n    <div class="triangle"></div>\n    <div class="dropdown-menu align-right">\n\n      <div class="user-safety-operations">\n'+(null!=(i=n.if.call(c,null!=t?t.showMuteOption:t,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?i:"")+'        <button class="on-report user-safety-operation btn-no-background btn-left-icon" > '+(null!=(i=(n.iconify||t&&t.iconify||u).call(c,"report",14,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+"  <span>"+o((n.trans||t&&t.trans||u).call(c,"Report Message",{name:"trans",hash:{},data:s}))+"</span></button>\n"+(null!=(i=n.if.call(c,null!=t?t.canDelete:t,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?i:"")+'\n      </div>\n    </div> \n  </div>\n\n  <div class="message-report-modal-reply">\n  </div>\n\n</div>\n'},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return'  <button type="button" class="on-reply btn btn-sm btn-grey"\n    data-target="#replies-'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.message:i)?i.id:i,t))+'"\n    data-id="'+r(l(null!=(i=null!=(i=null!=t?t.data:t)?i.message:i)?i.id:i,t))+'">\n      '+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t.data:t)?i.message:i)?i.numReplies:i,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?i:"")+"\n  </button>\n"},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return" "+e.escapeExpression((n.sprintf||t&&t.sprintf||r).call(l,(n.ngettext||t&&t.ngettext||r).call(l,"%s Reply","%s Replies",null!=(i=null!=(i=null!=t?t.data:t)?i.message:i)?i.numReplies:i,{name:"ngettext",hash:{},data:s}),null!=(i=null!=(i=null!=t?t.data:t)?i.message:i)?i.numReplies:i,{name:"sprintf",hash:{},data:s}))+" "},4:function(e,t,n,a,s){return" "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Reply",{name:"trans",hash:{},data:s}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isValidMessage:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'    <small class="x-small offensive">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-warning",13,"wp-error-1",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"this message may be offensive",{name:"trans",hash:{},data:s}))+"</small>\n"},3:function(e,t,n,a,s){var i;return"      <pre>"+(null!=(i=(n.linkify||t&&t.linkify||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.pinnedItem:t)?i.body:i,{name:"linkify",hash:{},data:s}))?i:"")+"</pre>\n"},5:function(e,t,n,a,s){var i;return null!=(i=n.blockHelperMissing.call(t,e.lambda(null!=(i=null!=t?t.pinnedItem:t)?i.beautifyUrlMetadata:i,t),{name:"pinnedItem.beautifyUrlMetadata",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:""},6:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.shared.beautify_url"],t,{name:"core.shared.beautify_url",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:""},8:function(e,t,n,a,s){return" hidden "},10:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=e.escapeExpression,c=e.lambda;return'  <div id="'+(null!=(i=n.if.call(r,null!=t?t.pinnedItem:t,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?i:"")+"replies-"+o("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:n.helperMissing)?l.call(r,{name:"id",hash:{},data:s}):l)+"\"\n      class='replies-list collapse'\n      data-id=\""+o(c(null!=(i=null!=t?t.pinnedItem:t)?i.id:i,t))+'"\n      data-profile-owner="'+o(c(null!=(i=null!=t?t.pinnedItem:t)?i.username:i,t))+'"\n      data-message-owner="'+o(c(null!=(i=null!=(i=null!=t?t.pinnedItem:t)?i.from:i)?i.name:i,t))+'">\n  </div>\n'},11:function(e,t,n,a,s){return"pinned-"},13:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.feed_items.feed_message_reply"],t,{name:"core.feed_items.feed_message_reply",data:s,indent:"  ",helpers:n,partials:a,decorators:e.decorators}))?i:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=e.lambda,o=e.escapeExpression,c=null!=t?t:e.nullContext||{},u=n.helperMissing;return'<div class="pinned-icon" data-toggle="tooltip" data-placement="top" title="last message from '+o(r(null!=(i=null!=(i=null!=t?t.pinnedItem:t)?i.from:i)?i.name:i,t))+'">'+(null!=(i=(n.iconify||t&&t.iconify||u).call(c,"fa-pin",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'</div>\n\n<header class="panel-heading message-heading">\n    <a class="avatar avatar-sm3 on-navigate" href="/user/'+o(r(null!=(i=null!=(i=null!=t?t.pinnedItem:t)?i.from:i)?i.name:i,t))+'">\n      <img src="'+o((n.resizeAvatar||t&&t.resizeAvatar||u).call(c,null!=(i=null!=(i=null!=t?t.pinnedItem:t)?i.from:i)?i.avatar:i,42,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n\n    <h3 class="h6 from-name">'+o(r(null!=(i=null!=(i=null!=t?t.pinnedItem:t)?i.from:i)?i.name:i,t))+'</h3>\n\n    <time class="timestamp" datetime="'+o(r(null!=(i=null!=t?t.pinnedItem:t)?i.createDate:i,t))+'">'+o((n.fromNow||t&&t.fromNow||u).call(c,null!=(i=null!=t?t.pinnedItem:t)?i.createDate:i,{name:"fromNow",hash:{},data:s}))+"</time>\n"+(null!=(i=e.invokePartial(a["core.feed_items.feed_item_message_options"],t,{name:"core.feed_items.feed_item_message_options",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</header>\n\n<div class="panel-body message dark-grey new-message">\n'+(null!=(i=n.if.call(c,null!=(i=null!=t?t.pinnedItem:t)?i.isOffensive:i,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(c,null!=(i=null!=t?t.pinnedItem:t)?i.body:i,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"</div>\n\n"+(null!=(i=n.if.call(c,null!=(i=null!=t?t.pinnedItem:t)?i.beautifyUrlMetadata:i,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+'\n<button class="btn btn-white btn-block btn-replies on-reply '+(null!=(i=n.if.call(c,null!=(i=null!=t?t.pinnedItem:t)?i.numReplies:i,{name:"if",hash:{},fn:e.noop,inverse:e.program(8,s,0),data:s}))?i:"")+'"\n  type="button" data-toggle="collapse" data-target="#replies-'+o("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:u)?l.call(c,{name:"id",hash:{},data:s}):l)+'">\n   '+(null!=(i=(n.iconify||t&&t.iconify||u).call(c,"fa-comment",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+(null!=(i=(n.sprintf||t&&t.sprintf||u).call(c,(n.ngettext||t&&t.ngettext||u).call(c,"View %s more reply","View %s more replies",null!=(i=null!=t?t.pinnedItem:t)?i.numReplies:i,{name:"ngettext",hash:{},data:s}),null!=(i=null!=t?t.pinnedItem:t)?i.numReplies:i,{name:"sprintf",hash:{},data:s}))?i:"")+"\n</button>\n\n"+(null!=(i=n.if.call(c,null!=(i=null!=t?t.pinnedItem:t)?i.isReply:i,{name:"if",hash:{},fn:e.noop,inverse:e.program(10,s,0),data:s}))?i:"")+"\n"+(null!=(i=n.each.call(c,null!=(i=null!=t?t.pinnedItem:t)?i.latestReplies:i,{name:"each",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?i:"")+"\n<footer class=\"panel-footer new-message\">\n  <a href class='btn btn-text btn-reply-link new-reply'>"+(null!=(i=(n.trans||t&&t.trans||u).call(c,"Reply",{name:"trans",hash:{},data:s}))?i:"")+"</a>\n</footer>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'    <div class="show-more hidden">\n        <button class="btn btn-sm btn-default btn-block on-showmore">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Show More",{name:"trans",hash:{},data:s}))+" </button>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.hasReplies:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'<div class="collection"></div>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){return'<ul class="list-group collection new-feed-messages"></ul>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'<a class="cover cover-md empty-cover"><div class="fixed-ratio fixed-ratio-cover"></div></a>\n'},3:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c="function",u=e.escapeExpression;return'\n<a class="cover cover-home on-navigate" data-target="'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-type="'+u(typeof(l=null!=(l=n.type||(null!=t?t.type:t))?l:o)===c?l.call(r,{name:"type",hash:{},data:s}):l)+'" href="/list/'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n  <div class="fixed-ratio fixed-ratio-lists">\n'+(null!=(i=n.if.call(r,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?i:"")+'  </div>\n</a>\n\n<div class="content" data-target="'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-type="'+u(typeof(l=null!=(l=n.type||(null!=t?t.type:t))?l:o)===c?l.call(r,{name:"type",hash:{},data:s}):l)+'">\n  <a class="title meta on-navigate" href="/list/'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'">'+(null!=(i=n.if.call(r,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s}))?i:"")+'</a>\n  <div class="num-stories meta">'+u((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Story","%s Stories",null!=t?t.numStories:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numStories:t,{name:"sprintf",hash:{},data:s}))+'</div>\n  <div class="tags meta">\n    '+(null!=(i=n.each.call(r,null!=t?t.tags:t,{name:"each",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?i:"")+"\n  </div>\n</div>\n\n"},4:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'    <img src="'+o((n.resizeCover||t&&t.resizeCover||r).call(l,null!=t?t.background:t,142,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((n.trans||t&&t.trans||r).call(l,"%1$s by %2$s",null!=t?t.name:t,null!=(i=null!=t?t.user:t)?i.name:i,{name:"trans",hash:{},data:s}))+'">\n'},6:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'    <img src="'+o((n.resizeCover||t&&t.resizeCover||r).call(l,null!=t?t.background:t,92,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((n.trans||t&&t.trans||r).call(l,"%1$s by %2$s",null!=t?t.name:t,null!=(i=null!=t?t.user:t)?i.name:i,{name:"trans",hash:{},data:s}))+'">\n'},8:function(e,t,n,a,s){var i;return null!=(i=(n.simpleShorten||t&&t.simpleShorten||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.name:t,35,!1,{name:"simpleShorten",hash:{},data:s}))?i:""},10:function(e,t,n,a,s){var i;return null!=(i=(n.simpleShorten||t&&t.simpleShorten||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.name:t,28,!1,{name:"simpleShorten",hash:{},data:s}))?i:""},12:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return" "+(null!=(i=(n.linkify||t&&t.linkify||r).call(l,(n.sprintf||t&&t.sprintf||r).call(l,"#%s",t,{name:"sprintf",hash:{},data:s}),{name:"linkify",hash:{},data:s}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.empty:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'      <li>\n          <a class="tag-item on-navigate" href="/stories/'+o((n.urlEncodeWithSpace||t&&t.urlEncodeWithSpace||r).call(l,null!=t?t.name:t,{name:"urlEncodeWithSpace",hash:{},data:s}))+'">'+o("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:r)?i.call(l,{name:"name",hash:{},data:s}):i)+"</a>\n      </li>\n"},3:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'    <span class="num-not-shown on-story-preview" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">'+c((n.trans||t&&t.trans||o).call(r,"+%s more",null!=(i=null!=t?t.tagMeta:t)?i.numNotShown:i,{name:"trans",hash:{},data:s}))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'<div class="tag-meta clearfix">\n  <ul class="tag-items">\n'+(null!=(i=n.each.call(l,null!=(i=null!=t?t.tagMeta:t)?i.tags:i,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"  </ul>\n\n"+(null!=(i=n.if.call(l,null!=(i=null!=t?t.tagMeta:t)?i.numNotShown:i,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'<a class="cover cover-home empty-cover-large">\n    <div class="fixed-ratio fixed-ratio-cover">\n    </div>\n</a>\n'},3:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<a class="send-cover-event'+(null!=(i=n.if.call(r,null!=t?t.isRecentlyRead:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?i:"")+' cover cover-home" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">\n    <div class="fixed-ratio fixed-ratio-cover">\n'+(null!=(i=n.if.call(r,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s}))?i:"")+"    </div>\n</a>\n"+(null!=(i=n.if.call(r,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.program(43,s,0),data:s}))?i:"")},4:function(e,t,n,a,s){return" on-continue-reading"},6:function(e,t,n,a,s){return" on-story-preview"},8:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'            <img src="'+o((n.resizeCover||t&&t.resizeCover||r).call(l,null!=t?t.cover:t,142,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((n.trans||t&&t.trans||r).call(l,"%1$s by %2$s",null!=t?t.title:t,null!=(i=null!=t?t.user:t)?i.name:i,{name:"trans",hash:{},data:s}))+'">\n'},10:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'            <img src="'+o((n.resizeCover||t&&t.resizeCover||r).call(l,null!=t?t.cover:t,92,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((n.trans||t&&t.trans||r).call(l,"%1$s by %2$s",null!=t?t.title:t,null!=(i=null!=t?t.user:t)?i.name:i,{name:"trans",hash:{},data:s}))+'">\n'},12:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'    <div class="content" data-target="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-type="'+c("function"==typeof(l=null!=(l=n.type||(null!=t?t.type:t))?l:o)?l.call(r,{name:"type",hash:{},data:s}):l)+'">\n'+(null!=(i=n.if.call(r,null!=t?t.isPaywalled:t,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?i:"")+'\n        <a class="title meta '+(null!=(i=n.if.call(r,null!=t?t.isRecentlyRead:t,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.program(17,s,0),data:s}))?i:"")+'" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">\n            '+c((n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.title:t,null!=t?t.titleCharLimit:t,!1,{name:"simpleShorten",hash:{},data:s}))+"\n        </a>\n\n"+(null!=(i=n.unless.call(r,null!=t?t.isProfileWorksView:t,{name:"unless",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(r,null!=t?t.promoted:t,{name:"if",hash:{},fn:e.program(24,s,0),inverse:e.program(26,s,0),data:s}))?i:"")+'\n        <div class="description">'+c((n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.description:t,null!=t?t.descCharLimit:t,!1,{name:"simpleShorten",hash:{},data:s}))+"</div>\n\n"+(null!=(i=n.if.call(r,null!=t?t.showTagRankings:t,{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.program(35,s,0),data:s}))?i:"")+"\n"+(null!=(i=n.if.call(r,null!=t?t.isProfileWorksView:t,{name:"if",hash:{},fn:e.program(37,s,0),inverse:e.noop,data:s}))?i:"")+"    </div>\n\n"},13:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'            <div class="supported-marker">\n                '+r((n.connectImage||t&&t.connectImage||l).call(i,"paid-content/supported-stories-badge.svg","Paid Stories Badge",{name:"connectImage",hash:{width:"18",height:"18"},data:s}))+"\n                "+r((n.trans||t&&t.trans||l).call(i,"Paid Story",{name:"trans",hash:{},data:s}))+"\n            </div>\n"},15:function(e,t,n,a,s){return"on-continue-reading"},17:function(e,t,n,a,s){return"on-story-preview"},19:function(e,t,n,a,s){var i;return'        <a class="username meta on-navigate" href="/user/'+e.escapeExpression(e.lambda(null!=(i=null!=t?t.user:t)?i.name:i,t))+'">\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.user:t)?i.fullname:i,{name:"if",hash:{},fn:e.program(20,s,0),inverse:e.program(22,s,0),data:s}))?i:"")+"        </a>\n"},20:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                "+(null!=(i=(n.trans||t&&t.trans||r).call(l,"by %s",(n.simpleShorten||t&&t.simpleShorten||r).call(l,null!=(i=null!=t?t.user:t)?i.fullname:i,30,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))?i:"")+"\n"},22:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"by %s",(n.simpleShorten||t&&t.simpleShorten||r).call(l,null!=(i=null!=t?t.user:t)?i.name:i,30,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n"},24:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'            <span class="meta promotion-description-story-reading">\n                '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-badge-promoted",13,"wp-base-1",{name:"iconify",hash:{},data:s}))?i:"")+"\n                "+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Promoted by %s",(n.sprintf||t&&t.sprintf||r).call(l,'<div class="lightbold">%s</div>',null!=t?t.sponsorName:t,{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?i:"")+"\n            </span>\n"},26:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'            <div class="meta social-meta">\n                <span class="read-count"\n'+(null!=(i=(n.greaterThan||t&&t.greaterThan||r).call(l,null!=t?t.readCount:t,999,{name:"greaterThan",hash:{},fn:e.program(27,s,0),inverse:e.noop,data:s}))?i:"")+">\n                    "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-view",15,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.count||t&&t.count||r).call(l,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+'\n                </span>\n\n                <span class="vote-count"\n'+(null!=(i=(n.greaterThan||t&&t.greaterThan||r).call(l,null!=t?t.voteCount:t,999,{name:"greaterThan",hash:{},fn:e.program(29,s,0),inverse:e.noop,data:s}))?i:"")+">\n                    "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",15,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.count||t&&t.count||r).call(l,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+'\n                </span>\n\n                <span class="part-count"\n'+(null!=(i=(n.greaterThan||t&&t.greaterThan||r).call(l,null!=t?t.numParts:t,999,{name:"greaterThan",hash:{},fn:e.program(31,s,0),inverse:e.noop,data:s}))?i:"")+">\n                    "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-list",15,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.count||t&&t.count||r).call(l,null!=t?t.numParts:t,{name:"count",hash:{},data:s}))+"\n                </span>\n            </div>\n"},27:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return'                      data-toggle="tooltip" data-placement="top" title="'+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Read","%s Reads",(n.format||t&&t.format||l).call(i,null!=t?t.readCount:t,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(n.format||t&&t.format||l).call(i,null!=t?t.readCount:t,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n                    '},29:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return'                      data-toggle="tooltip" data-placement="top" title="'+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Vote","%s Votes",(n.format||t&&t.format||l).call(i,null!=t?t.voteCount:t,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(n.format||t&&t.format||l).call(i,null!=t?t.voteCount:t,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n                    '},31:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return'                      data-toggle="tooltip" data-placement="top" title="'+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Part","%s Parts",(n.format||t&&t.format||l).call(i,null!=t?t.numParts:t,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(n.format||t&&t.format||l).call(i,null!=t?t.numParts:t,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n                    '},33:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'            <div class="tag-ranking">\n              '+c((n.connectImage||t&&t.connectImage||o).call(r,"/shared/ranking-medal-grey.png","ranking",{name:"connectImage",hash:{width:"22",height:"27",klass:"tag-ranking-medal"},data:s}))+"\n              <span>"+(null!=(i=(n.trans||t&&t.trans||o).call(r,"#%1$s in %2$s",(n.sprintf||t&&t.sprintf||o).call(r,"<b>%s</b>",null!=(i=null!=(i=null!=t?t.tagRankings:t)?i[0]:i)?i.rank:i,{name:"sprintf",hash:{},data:s}),(n.sprintf||t&&t.sprintf||o).call(r,"<b>%s</b>",(n.sanitize||t&&t.sanitize||o).call(r,null!=(i=null!=(i=null!=t?t.tagRankings:t)?i[0]:i)?i.name:i,{name:"sanitize",hash:{},data:s}),{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?i:"")+'</span>\n              <a href="'+c("function"==typeof(l=null!=(l=n.url||(null!=t?t.url:t))?l:o)?l.call(r,{name:"url",hash:{},data:s}):l)+'/rankings" class="on-ranking-navigate">'+c((n.trans||t&&t.trans||o).call(r,"See all rankings",{name:"trans",hash:{},data:s}))+"</a>\n            </div>\n"},35:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.tag_metadata"],t,{name:"core.tag_metadata",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?i:""},37:function(e,t,n,a,s){var i;return"        "+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.user:t)?i.name:i,{name:"isCurrentUser",hash:{},fn:e.program(38,s,0),inverse:e.noop,data:s}))?i:"")+"\n"},38:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.firstPartId:t,{name:"if",hash:{},fn:e.program(39,s,0),inverse:e.program(41,s,0),data:s}))?i:""},39:function(e,t,n,a,s){return'\n        <span class="work-state">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Published",{name:"trans",hash:{},data:s}))+"</span>\n"},41:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'        <span class="work-state draft">'+r((n.trans||t&&t.trans||l).call(i,"Draft",{name:"trans",hash:{},data:s}))+' <span class="text">('+r((n.trans||t&&t.trans||l).call(i,"only visible to you",{name:"trans",hash:{},data:s}))+")</span></span>\n        "},43:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'    <div class="content" data-target="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-type="'+c("function"==typeof(l=null!=(l=n.type||(null!=t?t.type:t))?l:o)?l.call(r,{name:"type",hash:{},data:s}):l)+'">\n'+(null!=(i=n.if.call(r,null!=t?t.isPaywalled:t,{name:"if",hash:{},fn:e.program(44,s,0),inverse:e.noop,data:s}))?i:"")+'\n        <a class="title meta '+(null!=(i=n.if.call(r,null!=t?t.isRecentlyRead:t,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.program(17,s,0),data:s}))?i:"")+'" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">'+c((n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.title:t,null!=t?t.titleCharLimit:t,!1,{name:"simpleShorten",hash:{},data:s}))+"</a>\n\n"+(null!=(i=n.unless.call(r,null!=t?t.isProfileWorksView:t,{name:"unless",hash:{},fn:e.program(46,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(r,null!=t?t.promoted:t,{name:"if",hash:{},fn:e.program(49,s,0),inverse:e.program(51,s,0),data:s}))?i:"")+'\n        <div class="description">'+c((n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.description:t,null!=t?t.descCharLimit:t,!1,{name:"simpleShorten",hash:{},data:s}))+"</div>\n\n"+(null!=(i=n.if.call(r,null!=t?t.showTagRankings:t,{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.program(35,s,0),data:s}))?i:"")+"\n"+(null!=(i=n.if.call(r,null!=t?t.isProfileWorksView:t,{name:"if",hash:{},fn:e.program(37,s,0),inverse:e.noop,data:s}))?i:"")+"    </div>\n"},44:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'            <div class="supported-marker meta">\n                '+r((n.connectImage||t&&t.connectImage||l).call(i,"paid-content/supported-stories-badge.svg","Paid Stories Badge",{name:"connectImage",hash:{},data:s}))+"\n                "+r((n.trans||t&&t.trans||l).call(i,"Paid Story",{name:"trans",hash:{},data:s}))+"\n            </div>\n"},46:function(e,t,n,a,s){var i;return'        <a class="username meta on-navigate" href="/user/'+e.escapeExpression(e.lambda(null!=(i=null!=t?t.user:t)?i.name:i,t))+'">\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.user:t)?i.fullname:i,{name:"if",hash:{},fn:e.program(47,s,0),inverse:e.program(22,s,0),data:s}))?i:"")+"        </a>\n"},47:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"by %s",(n.simpleShorten||t&&t.simpleShorten||r).call(l,null!=(i=null!=t?t.user:t)?i.fullname:i,30,!1,{name:"simpleShorten",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n"},49:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'            <span class="meta promotion-description-story-reading">\n                '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-badge-promoted",11,"wp-base-1",{name:"iconify",hash:{},data:s}))?i:"")+"\n                "+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Promoted by %s",(n.sprintf||t&&t.sprintf||r).call(l,'<div class="lightbold">%s</div>',null!=t?t.sponsorName:t,{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?i:"")+"\n            </span>\n"},51:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'            <div class="meta social-meta">\n                <span class="read-count"> '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-view",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.count||t&&t.count||r).call(l,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+' </span>\n                <span class="vote-count"> '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.count||t&&t.count||r).call(l,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+' </span>\n                <span class="part-count"> '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-list",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.count||t&&t.count||r).call(l,null!=t?t.numParts:t,{name:"count",hash:{},data:s}))+" </span>\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.empty:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:""},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'<div class="cover cover-md empty-cover"></div>\n'},3:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'\n<a href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'" class="avatar on-navigate">\n  <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||o).call(r,null!=t?t.avatar:t,140,{name:"resizeAvatar",hash:{},data:s}))+'">\n</a>\n\n<div class="content" data-target="'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'" data-type="users">\n  <a class="title meta on-navigate" href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'">\n    '+(null!=(i=n.if.call(r,null!=t?t.name:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?i:"")+'\n  </a>\n\n  <div class="user-stats meta">\n    <span>'+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Follower","%s Followers",null!=t?t.numFollowers:t,{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||o).call(r,null!=t?t.numFollowers:t,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'</span>\n  </div>\n</div>\n\n<button class="btn btn-white btn-follow btn-fan on-follow" data-target="'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'">\n  '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-follow",15,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n  <span class="follow-text">'+c((n.trans||t&&t.trans||o).call(r,"Follow",{name:"trans",hash:{},data:s}))+"</span>\n</button>\n\n"},4:function(e,t,n,a,s){var i;return null!=(i=(n.simpleShorten||t&&t.simpleShorten||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.name:t,null!=t?t.nameMaxLength:t,!1,{name:"simpleShorten",hash:{},data:s}))?i:""},6:function(e,t,n,a,s){var i;return null!=(i=(n.simpleShorten||t&&t.simpleShorten||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.username:t,null!=t?t.nameMaxLength:t,!1,{name:"simpleShorten",hash:{},data:s}))?i:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.empty:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'<div class="cover cover-md empty-cover"></div>\n'},3:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'\n<div class="avatar-container">\n  <a href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'" class="avatar on-navigate">\n    <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||o).call(r,null!=t?t.avatar:t,140,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </a>\n\n  <button class="btn btn-white btn-follow btn-fan on-follow" data-target="'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'">\n    '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-follow",15,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n    <span class="follow-text">'+c((n.trans||t&&t.trans||o).call(r,"Follow",{name:"trans",hash:{},data:s}))+'</span>\n  </button>\n</div>\n\n<div class="content" data-target="'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'" data-type="users">\n  <a class="title meta on-navigate" href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'">\n    '+(null!=(i=n.if.call(r,null!=t?t.name:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?i:"")+'\n  </a>\n\n  <div class="user-stats meta">\n    <span>'+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Work","%s Works",null!=t?t.numStoriesPublished:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numStoriesPublished:t,{name:"sprintf",hash:{},data:s}))+"</span>\n    <span>"+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Reading List","%s Reading Lists",null!=t?t.numLists:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numLists:t,{name:"sprintf",hash:{},data:s}))+"</span>\n    <span>"+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Follower","%s Followers",null!=t?t.numFollowers:t,{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||o).call(r,null!=t?t.numFollowers:t,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'</span>\n  </div>\n\n  <div class="description">'+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.description:t,null!=t?t.descMaxLength:t,!1,{name:"simpleShorten",hash:{},data:s}))?i:"")+"</div>\n</div>\n\n"},4:function(e,t,n,a,s){var i;return null!=(i=(n.simpleShorten||t&&t.simpleShorten||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.name:t,null!=t?t.nameMaxLength:t,!1,{name:"simpleShorten",hash:{},data:s}))?i:""},6:function(e,t,n,a,s){var i;return null!=(i=(n.simpleShorten||t&&t.simpleShorten||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.username:t,null!=t?t.nameMaxLength:t,!1,{name:"simpleShorten",hash:{},data:s}))?i:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.empty:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return"module-header-story-reading"},3:function(e,t,n,a,s){return"module-header"},5:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'        <a class="avatar on-avatar on-navigate" href="/user/'+r(l(null!=(i=null!=t?t.moduleUser:t)?i.name:i,t))+"\" data-target='"+r(l(null!=(i=null!=t?t.moduleUser:t)?i.name:i,t))+"'>\n"+(null!=(i=n.if.call(o,null!=t?t.sponsorAvatar:t,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?i:"")+"        </a>\n\n        <button class='btn btn-white btn-follow btn-fan on-follow' data-target='"+r(l(null!=(i=null!=t?t.moduleUser:t)?i.name:i,t))+"'>\n            "+(null!=(i=(n.iconify||t&&t.iconify||c).call(o,"fa-follow",15,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n            <span class="follow-text">'+r((n.trans||t&&t.trans||c).call(o,"Follow",{name:"trans",hash:{},data:s}))+"</span>\n        </button>\n"},6:function(e,t,n,a,s){return'                <img src="'+e.escapeExpression((n.resizeAvatar||t&&t.resizeAvatar||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.sponsorAvatar:t,60,{name:"resizeAvatar",hash:{},data:s}))+'">\n'},8:function(e,t,n,a,s){var i;return'                <img src="'+e.escapeExpression((n.resizeAvatar||t&&t.resizeAvatar||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.moduleUser:t)?i.avatar:i,60,{name:"resizeAvatar",hash:{},data:s}))+'">\n'},10:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'        <a class="module-title on-navigate" href="'+c("function"==typeof(l=null!=(l=n.moduleLink||(null!=t?t.moduleLink:t))?l:o)?l.call(r,{name:"moduleLink",hash:{},data:s}):l)+"\" data-target='"+c("function"==typeof(l=null!=(l=n.moduleTarget||(null!=t?t.moduleTarget:t))?l:o)?l.call(r,{name:"moduleTarget",hash:{},data:s}):l)+"'>\n            <span>"+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+"  "+(null!=(i=n.if.call(r,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?i:"")+"</span>\n        </a>\n"},11:function(e,t,n,a,s){var i;return" "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-right",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "},13:function(e,t,n,a,s){var i;return" "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-right",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "},15:function(e,t,n,a,s){var i;return'        <div class="module-title">'+e.escapeExpression("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:s}):i)+"</div>\n"},17:function(e,t,n,a,s){var i;return'        <div class="module-subtitle">\n            '+e.escapeExpression("function"==typeof(i=null!=(i=n.subtitle||(null!=t?t.subtitle:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"subtitle",hash:{},data:s}):i)+"\n        </div>\n"},19:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'    <div class="promotion-description">\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-badge-promoted",13,"wp-base-1",{name:"iconify",hash:{},data:s}))?i:"")+" "+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Promoted by %s",(n.sprintf||t&&t.sprintf||r).call(l,"<b>%s</b>",null!=t?t.sponsorName:t,{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?i:"")+"\n    </div>\n"},21:function(e,t,n,a,s){return"rtl"},23:function(e,t,n,a,s){return"ltr"},25:function(e,t,n,a,s){var i;return" invisible owl-carousel"+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.turnOffLooping:t,{name:"if",hash:{},fn:e.program(26,s,0),inverse:e.program(28,s,0),data:s}))?i:"")},26:function(e,t,n,a,s){return" no-loop"},28:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isUsers:t,{name:"if",hash:{},fn:e.program(29,s,0),inverse:e.noop,data:s}))?i:""},29:function(e,t,n,a,s){return" users"},31:function(e,t,n,a,s){var i;return null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t.data:t)?i.items:i)?i.lists:i,{name:"each",hash:{},fn:e.program(32,s,0),inverse:e.noop,data:s}))?i:""},32:function(e,t,n,a,s){var i;return'            <div class="discover-module-lists">\n'+(null!=(i=e.invokePartial(a["core.item_views.discover_module_lists"],t,{name:"core.item_views.discover_module_lists",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"            </div>\n"},34:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.promotedByUser:t,{name:"if",hash:{},fn:e.program(35,s,0),inverse:e.program(38,s,0),data:s}))?i:""},35:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=e.lambda,o=e.escapeExpression;return'\n            <div class="discover-module-stories-large promoted-blurb">\n                <div class="user-description">'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.moduleUser:t)?i.description:i,{name:"if",hash:{},fn:e.program(36,s,0),inverse:e.noop,data:s}))?i:"")+'</div>\n                <a href="/user/'+o(r(null!=(i=null!=t?t.moduleUser:t)?i.name:i,t))+'" class="avatar avatar-xs2 on-navigate">\n                    <img src="'+o((n.resizeAvatar||t&&t.resizeAvatar||n.helperMissing).call(l,null!=(i=null!=t?t.moduleUser:t)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n                </a>\n                <a href="/user/'+o(r(null!=(i=null!=t?t.moduleUser:t)?i.name:i,t))+'" class="user-name on-navigate">@'+o(r(null!=(i=null!=t?t.moduleUser:t)?i.name:i,t))+"</a>\n            </div>\n"},36:function(e,t,n,a,s){var i;return(null!=(i=(n.linkify||t&&t.linkify||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.moduleUser:t)?i.description:i,{name:"linkify",hash:{sanitization:"unsanitize"},data:s}))?i:"")+"..."},38:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.data:t)?i.smallStories:i,{name:"if",hash:{},fn:e.program(39,s,0),inverse:e.program(42,s,0),data:s}))?i:""},39:function(e,t,n,a,s){var i;return null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t.data:t)?i.items:i)?i.stories:i,{name:"each",hash:{},fn:e.program(40,s,0),inverse:e.noop,data:s}))?i:""},40:function(e,t,n,a,s){var i;return'                <div class="discover-module-stories-small">\n'+(null!=(i=e.invokePartial(a["core.item_views.discover_module_stories_small"],t,{name:"core.item_views.discover_module_stories_small",data:s,indent:"                    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"                </div>\n"},42:function(e,t,n,a,s){var i;return(null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t.data:t)?i.items:i)?i.stories:i,{name:"each",hash:{},fn:e.program(43,s,0),inverse:e.noop,data:s}))?i:"")+"        "},43:function(e,t,n,a,s){var i;return'                <div class="discover-module-stories-large">\n'+(null!=(i=e.invokePartial(a["core.item_views.discover_module_stories_large"],t,{name:"core.item_views.discover_module_stories_large",data:s,indent:"                    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing;return'<div class="'+(null!=(i=n.if.call(r,null!=t?t.fromStoryReading:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'">\n'+(null!=(i=n.if.call(r,null!=t?t.moduleUser:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(r,null!=t?t.moduleLink:t,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(15,s,0),data:s}))?i:"")+"\n"+(null!=(i=n.if.call(r,null!=t?t.subtitle:t,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?i:"")+"\n</div>\n\n"+(null!=(i=n.if.call(r,null!=t?t.promoted:t,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?i:"")+'\n<div style="direction:'+(null!=(i=n.if.call(r,(n.rtlLanguage||t&&t.rtlLanguage||o).call(r,null!=t?t.languageId:t,{name:"rtlLanguage",hash:{},data:s}),{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.program(23,s,0),data:s}))?i:"")+'"\n     class="collection'+(null!=(i=n.if.call(r,null!=t?t.isHome:t,{name:"if",hash:{},fn:e.program(25,s,0),inverse:e.noop,data:s}))?i:"")+'"\n     data-target="'+e.escapeExpression("function"==typeof(l=null!=(l=n.type||(null!=t?t.type:t))?l:o)?l.call(r,{name:"type",hash:{},data:s}):l)+'">\n\n'+(null!=(i=n.if.call(r,null!=(i=null!=t?t.data:t)?i.readingLists:i,{name:"if",hash:{},fn:e.program(31,s,0),inverse:e.program(34,s,0),data:s}))?i:"")+'</div>\n<div id="preview-modal"></div>\n'},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'  <div id="module-collection" class="collection">\n'+(null!=(i=n.each.call(l,null!=t?t.modules:t,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'  </div>\n\n  <div id="preview-modal"></div>\n\n  <div class="show-more center-text hidden">\n      <button class="btn btn-link on-showmore">\n          <span class=\'show-more-message\'>\n              <span>'+o((n.trans||t&&t.trans||r).call(l,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n              <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n          </span>\n          <span class='loading-message hidden'>\n              "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n              <span> "+o((n.trans||t&&t.trans||r).call(l,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n          </span>\n      </button>\n  </div>\n\n"},2:function(e,t,n,a,s){var i;return'      <div class="discover-module">\n'+(null!=(i=e.invokePartial(a["core.collection_views.discover_module"],t,{name:"core.collection_views.discover_module",data:s,indent:"          ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"      </div>\n"},4:function(e,t,n,a,s){return'  <p class="no-item">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"No recommendations available.",{name:"trans",hash:{},data:s}))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'<div id="home">\n'+(null!=(i=n.if.call(l,null!=t?t.hasRows:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?i:"")+"</div>\n\n"+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(l,"WPModal","modal-home",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=(n.simpleShorten||t&&t.simpleShorten||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.name:t,null!=t?t.nameMaxLength:t,!1,{name:"simpleShorten",hash:{},data:s}))?i:""},3:function(e,t,n,a,s){var i;return null!=(i=(n.simpleShorten||t&&t.simpleShorten||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.username:t,null!=t?t.nameMaxLength:t,!1,{name:"simpleShorten",hash:{},data:s}))?i:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="writer-avatar">\n  <a class="on-navigate" href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'">\n    <img src="'+c("function"==typeof(l=null!=(l=n.avatar||(null!=t?t.avatar:t))?l:o)?l.call(r,{name:"avatar",hash:{},data:s}):l)+'">\n  </a>\n</div>\n<div class="writer-info">\n  <div class="writer-name">\n    <a class="on-navigate" href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'">\n      '+(null!=(i=n.if.call(r,null!=t?t.name:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'\n    </a>\n  </div>\n\n  <div class="writer-meta">\n    <span class="works">'+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Work","%s Works",null!=t?t.numStoriesPublished:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numStoriesPublished:t,{name:"sprintf",hash:{},data:s}))+'</span>\n    <span class="reading-lists">'+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Reading List","%s Reading Lists",null!=t?t.numLists:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numLists:t,{name:"sprintf",hash:{},data:s}))+'</span>\n    <span class="followers">'+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Follower","%s Followers",null!=t?t.numFollowers:t,{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||o).call(r,null!=t?t.numFollowers:t,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'</span>\n  </div>\n\n  <div class="writer-description">\n    '+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.description:t,200,!1,{name:"simpleShorten",hash:{},data:s}))?i:"")+"\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'      <span class="lists-user">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Selected by %s",null!=(i=null!=t?t.user:t)?i.name:i,{name:"trans",hash:{},data:s}))+"</span>\n"},3:function(e,t,n,a,s,i,l){var r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=l[1]?l[1].isDesktop:l[1],{name:"if",hash:{},fn:e.program(4,s,0,i,l),inverse:e.program(6,s,0,i,l),data:s}))?r:""},4:function(e,t,n,a,s){var i=e.lambda,l=e.escapeExpression;return'            <a class="on-navigate" href="/stories/'+l(i(t,t))+'"><s>#</s>'+l(i(t,t))+"</a>\n"},6:function(e,t,n,a,s){return"           <s>#</s>"+e.escapeExpression(e.lambda(t,t))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'<div class="reading-list-cover">\n  <a class="on-navigate" href="/list/'+d("function"==typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+'">\n    <img src="'+d((n.resizeCover||t&&t.resizeCover||u).call(c,null!=t?t.background:t,122,{name:"resizeCover",hash:{},data:s}))+'" >\n  </a>\n</div>\n<div class="reading-list-info">\n  <div class="reading-list-title"><a class="on-navigate" href="/list/'+d("function"==typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:u)?o.call(c,{name:"id",hash:{},data:s}):o)+'">'+d("function"==typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:u)?o.call(c,{name:"name",hash:{},data:s}):o)+'</a></div>\n  <div class="meta">\n'+(null!=(r=n.unless.call(c,null!=t?t.isDesktop:t,{name:"unless",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'    <span class="num-stories">'+d((n.sprintf||t&&t.sprintf||u).call(c,(n.ngettext||t&&t.ngettext||u).call(c,"%s Story","%s Stories",null!=t?t.numStories:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numStories:t,{name:"sprintf",hash:{},data:s}))+'</span>\n    <span class="tags">\n'+(null!=(r=n.each.call(c,null!=t?t.tags:t,{name:"each",hash:{},fn:e.program(3,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"    </span>\n  </div>\n</div>\n"},useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'<a class="cover cover-home empty-cover-large">\n  <div class="fixed-ratio fixed-ratio-cover"></div>\n</a>\n\n'},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<a class="cover cover-home on-story on-navigate" href="'+o((n.formatStoryUrl||t&&t.formatStoryUrl||r).call(l,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">\n  <div class="fixed-ratio fixed-ratio-cover">\n    <img src="'+o((n.resizeCover||t&&t.resizeCover||r).call(l,null!=t?t.cover:t,92,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((n.trans||t&&t.trans||r).call(l,"%1$s by %2$s",null!=t?t.title:t,null!=(i=null!=t?t.user:t)?i.name:i,{name:"trans",hash:{},data:s}))+'">\n  </div>\n</a>\n\n<div class="content">\n  <a class="title meta on-story on-navigate" href="'+o((n.formatStoryUrl||t&&t.formatStoryUrl||r).call(l,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">'+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||r).call(l,null!=t?t.title:t,28,!1,{name:"simpleShorten",hash:{},data:s}))?i:"")+'</a>\n  <a class="category meta on-navigate" href="/stories/'+o((n.slugify||t&&t.slugify||r).call(l,null!=(i=null!=t?t.category:t)?i.name_english:i,{name:"slugify",hash:{},data:s}))+'">'+o(e.lambda(null!=(i=null!=t?t.category:t)?i.name:i,t))+'</a>\n\n  <div class="meta social-meta">\n    <span class="read-count">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-view",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.count||t&&t.count||r).call(l,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+'</span>\n    <span class="vote-count">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.count||t&&t.count||r).call(l,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+'</span>\n  </div>\n\n  <div class="description">'+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||r).call(l,null!=t?t.description:t,130,!1,{name:"simpleShorten",hash:{},data:s}))?i:"")+"</div>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.empty:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'    <li class="col-xs-3">\n      <a href="'+o("function"==typeof(i=null!=(i=n.url||(null!=t?t.url:t))?i:r)?i.call(l,{name:"url",hash:{},data:s}):i)+'" class="on-navigate">'+o("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:r)?i.call(l,{name:"name",hash:{},data:s}):i)+"</a>\n    </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return'<ul id="explore-tags" class="row">\n'+(null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.options:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"</ul>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"TagpagePaidStoriesContainer","tagpage-paid-stories",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},3:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.components.browse_tags"],t,{name:"core.components.browse_tags",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:""},5:function(e,t,n,a,s){var i;return'        <div class="browse-results">\n'+(null!=(i=e.invokePartial(a["desktop.browse.browse_results"],t,{name:"desktop.browse.browse_results",data:s,indent:"          ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="container">\n  <header class="background text-left">\n    <h1> '+c("function"==typeof(l=null!=(l=n.browseLabel||(null!=t?t.browseLabel:t))?l:o)?l.call(r,{name:"browseLabel",hash:{},data:s}):l)+" </h1>\n  </header>\n"+(null!=(i=n.if.call(r,(n.isTestGroup||t&&t.isTestGroup||o).call(r,"PAID_ROW_TAG_PAGES",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'  <div class="tags-container">\n    <div id="refine-by-msg">'+c((n.trans||t&&t.trans||o).call(r,"Refine by tag:",{name:"trans",hash:{},data:s}))+"</div>\n    "+(null!=(i=(n.reactComponent||t&&t.reactComponent||o).call(r,"TagCarousel","relatedTags",{name:"reactComponent",hash:{},data:s}))?i:"")+'\n  </div>\n  <div class="browse-content-container">\n    <div id="browse-header-container">\n'+(null!=(i=e.invokePartial(a["core.components.browse_header"],t,{name:"core.components.browse_header",data:s,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'    </div>\n    <main id="browse-content">\n'+(null!=(i=n.if.call(r,null!=t?t.showExploreList:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+"    </main>\n  </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return"    <h1>"+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Reset password",{name:"trans",hash:{},data:s}))+"</h1>\n"},3:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return"    <h1>"+r((n.trans||t&&t.trans||l).call(i,"Lost your password?",{name:"trans",hash:{},data:s}))+"</h1>\n    <span>"+r((n.trans||t&&t.trans||l).call(i,"Type your username or email below and we'll send you instructions on how to reset it.",{name:"trans",hash:{},data:s}))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return(null!=(i=n.if.call(l,null!=t?t.reset:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.forgot:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u='            <a class="on-login btn btn-link form-switch" data-form="login" data-label="top-right" rel="nofollow" href="/login';return l=null!=(l=n.nextUrl||(null!=t?t.nextUrl:t))?l:c,r={name:"nextUrl",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.nextUrl||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(u+=i),u+'">\n                '+e.escapeExpression((n.trans||t&&t.trans||c).call(o,"Log in",{name:"trans",hash:{},data:s}))+"\n            </a>\n"},2:function(e,t,n,a,s){return"?nextUrl="+e.escapeExpression(e.lambda(t,t))},4:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u='            <a class="btn btn-link" href="/';return l=null!=(l=n.nextUrl||(null!=t?t.nextUrl:t))?l:c,r={name:"nextUrl",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.nextUrl||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(u+=i),u+'">\n                '+e.escapeExpression((n.trans||t&&t.trans||c).call(o,"Sign up",{name:"trans",hash:{},data:s}))+"\n            </a>\n"},6:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'                <li class="col-xs-4 col-sm-3'+(null!=(i=n.if.call(r,null!=t?t.selected:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+"\">\n                    <a href='#' data-code=\""+c("function"==typeof(l=null!=(l=n.locale||(null!=t?t.locale:t))?l:o)?l.call(r,{name:"locale",hash:{},data:s}):l)+'">'+(null!=(i=n.if.call(r,null!=t?t.selected:t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:"")+" "+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+"</a>\n                </li>\n"},7:function(e,t,n,a,s){return" selected"},9:function(e,t,n,a,s){var i;return" "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-check",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="full-screen"></div>\n<div id="auth-header" class="container clearfix">\n    <a href="home">\n        '+o((n.connectImage||t&&t.connectImage||r).call(l,"/logos/wp-logo-orange.png","Wattpad",{name:"connectImage",hash:{klass:"wp-logo",width:123},data:s}))+'\n    </a>\n     \n    <div class="buttons-right">\n'+(null!=(i=n.if.call(l,null!=t?t.signup:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=n.if.call(l,null!=t?t.login:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'        <div class="button-group relative">\n            <button class="btn btn-link dropdown-toggle" data-toggle="dropdown"\n                    role="button" aria-controls="language-options" aria-expanded="false" aria-label="more options">\n                    '+o(e.lambda(null!=(i=null!=t?t.interfaceLang:t)?i.name:i,t))+" "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-down",16,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+'\n            </button>\n            <div class="triangle"></div>\n            <ul id="language-options" class="dropdown-menu align-right columns">\n'+(null!=(i=n.each.call(l,null!=t?t.translatedLangs:t,{name:"each",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+'            </ul>\n        </div>\n    </div>\n</div>\n<div class="container">\n    <div class="row">\n        <div class="col-sm-6 col-md-7 center-text">\n            '+o((n.connectImage||t&&t.connectImage||r).call(l,"/landing/hero-devices.png","devices",{name:"connectImage",hash:{id:"phone-image"},data:s}))+'\n        </div>\n        <div class="col-sm-6 col-md-5 login-page-form-header">\n            <main id="authentication-panel" class="panel panel-transparent">\n                <div class="login-modal-wrapper">\n'+(null!=(i=e.invokePartial(a["core.authentication.auth_form"],t,{name:"core.authentication.auth_form",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'                </div>\n            </main>\n        </div>\n    </div>\n</div>\n\n<div id="get-app-modal-container">\n'+(null!=(i=e.invokePartial(a["core.components.get_app"],t,{name:"core.components.get_app",data:s,indent:"  ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"</div>\n\n"+(null!=(i=(n.reactComponent||t&&t.reactComponent||r).call(l,"WPModal","signup-modal",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<footer id="auth-footer">\n    <div class="container">\n        <ul role="navigation" aria-label="Footer Links">\n            <li><a href="/about" title="About us" aria-label="About Us" rel="nofollow">'+o((n.trans||t&&t.trans||r).call(l,"About Us",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="/writers" title="Writers" aria-label="Writers">'+o((n.trans||t&&t.trans||r).call(l,"Writers",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="https://company.wattpad.com/work-at-wattpad" title="Jobs" aria-label="Jobs">'+o((n.trans||t&&t.trans||r).call(l,"Jobs",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="/go/directory" title="Directory" aria-label="Directory">'+o((n.trans||t&&t.trans||r).call(l,"Directory",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="http://business.wattpad.com" title="'+o((n.trans||t&&t.trans||r).call(l,"Business",{name:"trans",hash:{},data:s}))+'" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Business",{name:"trans",hash:{},data:s}))+'">'+o((n.trans||t&&t.trans||r).call(l,"Business",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="https://company.wattpad.com/press" title="Press" aria-label="Press">'+o((n.trans||t&&t.trans||r).call(l,"Press",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="/terms" title="Terms" aria-label="Terms" rel="nofollow">'+o((n.trans||t&&t.trans||r).call(l,"Terms",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="/privacy" title="Privacy" rel="nofollow" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Privacy",{name:"trans",hash:{},data:s}))+'">'+o((n.trans||t&&t.trans||r).call(l,"Privacy",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a href="https://policies.wattpad.com/accessibility" title="Accessibility" rel="nofollow" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Accessibility",{name:"trans",hash:{},data:s}))+'">'+o((n.trans||t&&t.trans||r).call(l,"Accessibility",{name:"trans",hash:{},data:s}))+'</a></li>\n        </ul>\n\n        <div class="social pull-right">\n            <a href="https://facebook.com/wattpad" rel="nofollow">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-facebook-square",24,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'</a>\n            <a href="https://twitter.com/wattpad" rel="nofollow">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-twitter",24,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"</a>\n        </div>\n    </div>\n</footer>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.forcedSignup:t,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:""},2:function(e,t,n,a,s){var i;return"    <span class='close on-close'>\n      "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n    </span>\n"},4:function(e,t,n,a,s){return'    <div class="bookmark">\n        '+e.escapeExpression((n.connectImage||t&&t.connectImage||n.helperMissing).call(null!=t?t:e.nullContext||{},"retargeting/d-bookmark-icon@1x.png","bookmark",{name:"connectImage",hash:{},data:s}))+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return(null!=(i=n.if.call(l,null!=t?t.modal:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.forcedSignup:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+"\n\n"+(null!=(i=e.invokePartial(a["core.authentication.auth_form"],t,{name:"core.authentication.auth_form",data:s,indent:"  ",helpers:n,partials:a,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<header class="panel-heading">\n  '+o((n.connectImage||t&&t.connectImage||r).call(l,"/shared/ic_terms.png","paper icon",{name:"connectImage",hash:{width:"55",height:"73",klass:"paper-icon"},data:s}))+"\n  <h4>"+o((n.trans||t&&t.trans||r).call(l,null!=t?t.title:t,{name:"trans",hash:{},data:s}))+'</h4>\n</header>\n\n<div class="panel-body">\n  <p>'+(null!=(i=(n.trans||t&&t.trans||r).call(l,null!=t?t.body:t,{name:"trans",hash:{},data:s}))?i:"")+'</p>\n  <div class="buttons-wrapper">\n      <a href="https://support.wattpad.com/hc/en-us/articles/360000812323-Updates-to-our-Terms-of-Service-and-Privacy-Policy" class="policies-link">  \n        <button class="btn btn-default learn-more"> \n          '+o((n.trans||t&&t.trans||r).call(l,"Learn more",{name:"trans",hash:{},data:s}))+'\n        </button>\n      </a>\n    <button class="btn btn-orange on-continue">'+o((n.trans||t&&t.trans||r).call(l,"Got it",{name:"trans",hash:{},data:s}))+"</button>\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing;return'    <button class="btn btn-no-background btn-remove on-dismiss"\n            data-target="'+e.escapeExpression("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+"</button>\n"},3:function(e,t,n,a,s){return'    <div class="background background-sm" style="background-image: url( \''+e.escapeExpression((n.profileBackground||t&&t.profileBackground||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.backgroundUrl:t,360,{name:"profileBackground",hash:{},data:s}))+"' );\"></div>\n"},5:function(e,t,n,a,s){var i;return'    <div class="background background-sm" '+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.highlight_colour:t,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+"></div>\n"},6:function(e,t,n,a,s){var i;return'style="background-color: '+e.escapeExpression("function"==typeof(i=null!=(i=n.highlight_colour||(null!=t?t.highlight_colour:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"highlight_colour",hash:{},data:s}):i)+'"'},8:function(e,t,n,a,s){var i;return"          "+e.escapeExpression("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:s}):i)+"\n"},10:function(e,t,n,a,s){var i;return"          "+e.escapeExpression("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"username",hash:{},data:s}):i)+"\n"},12:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"\n"+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||r).call(l,null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||r).call(l,null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.noop,inverse:e.program(15,s,0),data:s}))?i:"")+"\n"},13:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'        <a class="btn btn-block btn-md btn-teal on-navigate" href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'">\n          '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-user",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.trans||t&&t.trans||o).call(r,"View My Profile",{name:"trans",hash:{},data:s}))+"\n        </a>\n"},15:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression,d='        <button class="btn btn-fan btn-md btn-block '+(null!=(i=n.if.call(o,null!=t?t.following:t,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.program(18,s,0),data:s}))?i:"")+" ";return l=null!=(l=n.disabled||(null!=t?t.disabled:t))?l:c,r={name:"disabled",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.disabled||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(d+=i),d+'" data-target="'+u("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)?l.call(o,{name:"username",hash:{},data:s}):l)+'" data-following="'+u("function"==typeof(l=null!=(l=n.following||(null!=t?t.following:t))?l:c)?l.call(o,{name:"following",hash:{},data:s}):l)+'" role="button">\n'+(null!=(i=n.if.call(o,null!=t?t.following:t,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(24,s,0),data:s}))?i:"")+"        </button>\n"},16:function(e,t,n,a,s){return"btn-teal"},18:function(e,t,n,a,s){return"btn-white"},20:function(e,t,n,a,s){return"disabled"},22:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-following",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'<span class="truncate">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Following",{name:"trans",hash:{},data:s}))+"</span>\n"},24:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-follow",16,"wp-base-2-dark",{name:"iconify",hash:{},data:s}))?i:"")+'<span class="truncate">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Follow",{name:"trans",hash:{},data:s}))+"</span>\n"},26:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return"        <div>\n            <h5>"+o("function"==typeof(i=null!=(i=n.numStoriesPublished||(null!=t?t.numStoriesPublished:t))?i:r)?i.call(l,{name:"numStoriesPublished",hash:{},data:s}):i)+'</h5>\n            <small class="x-small">'+o((n.trans||t&&t.trans||r).call(l,"Works",{name:"trans",hash:{},data:s}))+"</small>\n        </div>\n"},28:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.numLists:t,{name:"if",hash:{},fn:e.program(29,s,0),inverse:e.noop,data:s}))?i:""},29:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return"        <div>\n            <h5>"+o("function"==typeof(i=null!=(i=n.numLists||(null!=t?t.numLists:t))?i:r)?i.call(l,{name:"numLists",hash:{},data:s}):i)+'</h5>\n            <small class="x-small">'+o((n.trans||t&&t.trans||r).call(l,"Lists",{name:"trans",hash:{},data:s}))+"</small>\n        </div>\n"},31:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return"        <div>\n            <h5>"+r((n.count||t&&t.count||l).call(i,null!=t?t.numFollowing:t,{name:"count",hash:{},data:s}))+'</h5>\n            <small class="x-small">'+r((n.trans||t&&t.trans||l).call(i,"Following",{name:"trans",hash:{},data:s}))+"</small>\n        </div>\n"},33:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return"        <div>\n            <h5>"+r((n.count||t&&t.count||l).call(i,null!=t?t.numFollowers:t,{name:"count",hash:{},data:s}))+'</h5>\n            <small class="x-small">'+r((n.trans||t&&t.trans||l).call(i,"Followers",{name:"trans",hash:{},data:s}))+"</small>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u="function",d=e.escapeExpression,h='<article class="user-card">\n'+(null!=(i=n.if.call(o,null!=t?t.showRemove:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(o,null!=t?t.backgroundUrl:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+'    <a class="avatar avatar-lg on-navigate" href="/user/'+d(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===u?l.call(o,{name:"username",hash:{},data:s}):l)+'">\n        <img src="'+d(typeof(l=null!=(l=n.avatar||(null!=t?t.avatar:t))?l:c)===u?l.call(o,{name:"avatar",hash:{},data:s}):l)+'"></a>\n    <div class="content">\n        <h5><a class="alt-link on-navigate" href="/user/'+d(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===u?l.call(o,{name:"username",hash:{},data:s}):l)+'">\n'+(null!=(i=n.if.call(o,null!=t?t.name:t,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s}))?i:"")+"        </a></h5>\n        <small>@"+d(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===u?l.call(o,{name:"username",hash:{},data:s}):l)+"</small>\n\n\n";return l=null!=(l=n.isLoggedIn||(null!=t?t.isLoggedIn:t))?l:c,r={name:"isLoggedIn",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s},i=typeof l===u?l.call(o,r):l,n.isLoggedIn||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(h+=i),h+"    </div>\n\n    <footer>\n"+(null!=(i=n.if.call(o,null!=t?t.numStoriesPublished:t,{name:"if",hash:{},fn:e.program(26,s,0),inverse:e.program(28,s,0),data:s}))?i:"")+"\n"+(null!=(i=n.if.call(o,null!=t?t.numFollowing:t,{name:"if",hash:{},fn:e.program(31,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(o,null!=t?t.numFollowers:t,{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.noop,data:s}))?i:"")+"    </footer>\n\n</article>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" truncate-width"},3:function(e,t,n,a,s){var i;return" "+e.escapeExpression("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:s}):i)+" "},5:function(e,t,n,a,s){var i;return" "+e.escapeExpression("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"username",hash:{},data:s}):i)+" "},7:function(e,t,n,a,s){return" <li>"+e.escapeExpression(e.lambda(t,t))+"</li> "},9:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<div class="follow">\n'+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||r).call(l,null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||r).call(l,null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.noop,inverse:e.program(12,s,0),data:s}))?i:"")+"\n</div>\n"},10:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'  <a class="btn btn-block btn-teal on-navigate" href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'">\n    '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-user",14,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'\n    <span class="truncate">'+c((n.trans||t&&t.trans||o).call(r,"View My Profile",{name:"trans",hash:{},data:s}))+"</span>\n  </a>\n"},12:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression,d='  <button class="btn btn-fan '+(null!=(i=n.if.call(o,null!=t?t.following:t,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.program(15,s,0),data:s}))?i:"")+" ";return l=null!=(l=n.disabled||(null!=t?t.disabled:t))?l:c,r={name:"disabled",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.disabled||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(d+=i),d+'" data-target="'+u("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)?l.call(o,{name:"username",hash:{},data:s}):l)+'" data-following="'+u("function"==typeof(l=null!=(l=n.following||(null!=t?t.following:t))?l:c)?l.call(o,{name:"following",hash:{},data:s}):l)+'" role="button">\n'+(null!=(i=n.if.call(o,null!=t?t.following:t,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.program(21,s,0),data:s}))?i:"")+"  </button>\n\n"+(null!=(i=n.if.call(o,null!=t?t.showRemoveFollowersOption:t,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?i:"")+"\n"},13:function(e,t,n,a,s){return"btn-teal"},15:function(e,t,n,a,s){return"btn-white"},17:function(e,t,n,a,s){return"disabled"},19:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"      "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-following",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'<span class="truncate">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Following",{name:"trans",hash:{},data:s}))+"</span>\n"},21:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"      "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-follow",16,"wp-base-2-dark",{name:"iconify",hash:{},data:s}))?i:"")+'<span class="truncate">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Follow",{name:"trans",hash:{},data:s}))+"</span>\n"},23:function(e,t,n,a,s){var i;return'  <button class="btn on-remove-follower">\n    '+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-remove",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+"\n  </button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u="function",d=e.escapeExpression,h=n.blockHelperMissing,p='<div class="pull-left">\n  <a class="avatar avatar-sm3 on-navigate" href="/user/'+d(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===u?l.call(o,{name:"username",hash:{},data:s}):l)+'">\n    <img alt="'+d(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===u?l.call(o,{name:"username",hash:{},data:s}):l)+'" src="'+d(typeof(l=null!=(l=n.avatar||(null!=t?t.avatar:t))?l:c)===u?l.call(o,{name:"avatar",hash:{},data:s}):l)+'">\n  </a>\n</div>\n\n<div class="user-data pull-left';return l=null!=(l=n.isLoggedIn||(null!=t?t.isLoggedIn:t))?l:c,r={name:"isLoggedIn",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},i=typeof l===u?l.call(o,r):l,n.isLoggedIn||(i=h.call(t,i,r)),null!=i&&(p+=i),p+='">\n  <a class="alt-link on-navigate fullname" href="/user/'+d(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===u?l.call(o,{name:"username",hash:{},data:s}):l)+'">\n    '+(null!=(i=n.if.call(o,null!=t?t.name:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+'\n    <span class="username">@'+d(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===u?l.call(o,{name:"username",hash:{},data:s}):l)+"</span>\n  </a>\n\n  <ul>\n    "+(null!=(i=n.each.call(o,null!=t?t.metadata:t,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+"\n  </ul>\n</div>\n\n",l=null!=(l=n.isLoggedIn||(null!=t?t.isLoggedIn:t))?l:c,r={name:"isLoggedIn",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s},i=typeof l===u?l.call(o,r):l,n.isLoggedIn||(i=h.call(t,i,r)),null!=i&&(p+=i),p},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l;return'    <div class="story-item hide" data-story-id="'+e.escapeExpression("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:n.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:s}):l)+'">\n'+(null!=(i=e.invokePartial(a["core.item_views.discover_module_stories_small"],t,{name:"core.item_views.discover_module_stories_small",hash:{hideAuthor:!0,titleCharLimit:30,isDesktop:!0,coverSize:"cover-md"},data:s,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<header class="panel-heading">\n  <div class="panel-title">\n    <a class="send-list-event on-navigate" href="/list/'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+"-"+c((n.slugify||t&&t.slugify||o).call(r,null!=t?t.name:t,{name:"slugify",hash:{},data:s}))+'">'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+"</a>\n    "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-right",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n  </div>\n\n  <ul class="metadata">\n    <li>'+c((n.trans||t&&t.trans||o).call(r,"Reading List",{name:"trans",hash:{},data:s}))+"</li>\n    <li>"+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Story","%s Stories",null!=t?t.numStories:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numStories:t,{name:"sprintf",hash:{},data:s}))+'</li>\n  </ul>\n</header>\n\n<div class="panel-body">\n  <div id="preview-modal"></div>\n'+(null!=(i=n.each.call(r,null!=t?t.storyItems:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'              <span class="rank">#'+o("function"==typeof(i=null!=(i=n.rank||(null!=t?t.rank:t))?i:r)?i.call(l,{name:"rank",hash:{},data:s}):i)+" in "+o("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:r)?i.call(l,{name:"name",hash:{},data:s}):i)+"</span>\n"},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return"        <time>"+o((n.trans||t&&t.trans||r).call(l,"Completed",{name:"trans",hash:{},data:s}))+" "+o((n.fromNow||t&&t.fromNow||r).call(l,null!=(i=null!=t?t.lastPublishedPart:t)?i.createDate:i,{name:"fromNow",hash:{},data:s}))+"</time>\n"},5:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return"        <time>"+o((n.trans||t&&t.trans||r).call(l,"Last updated",{name:"trans",hash:{},data:s}))+" "+o((n.fromNow||t&&t.fromNow||r).call(l,null!=(i=null!=t?t.lastPublishedPart:t)?i.createDate:i,{name:"fromNow",hash:{},data:s}))+"</time>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<a href="'+(null!=(i=(n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))?i:"")+'" data-index="'+c("function"==typeof(l=null!=(l=n.index||s&&s.index)?l:o)?l.call(r,{name:"index",hash:{},data:s}):l)+'" class="cover cover-sm center-block on-navigate">\n    <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,96,{name:"resizeCover",hash:{},data:s}))+'" aria-hidden="true" alt="'+c((n.trans||t&&t.trans||o).call(r,"%1$s by %2$s",null!=t?t.title:t,null!=(i=null!=t?t.user:t)?i.name:i,{name:"trans",hash:{},data:s}))+'">\n</a>\n<strong><a class="on-navigate" href="'+(null!=(i=(n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))?i:"")+'">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+'</a></strong>\n\n<div class="popover bottom">\n    <div class="arrow"></div>\n    <h3 class="popover-title"><a href="'+(null!=(i=(n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))?i:"")+'">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+'</a></h3>\n    <div class="popover-content">\n        <div class="meta">\n            <span class="reads">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-view",14,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+'</span>\n            <span class="votes">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-vote",14,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+'</span>\n            <span class="comments">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-comment",14,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.commentCount:t,{name:"count",hash:{},data:s}))+"</span>\n        </div>\n        <p>"+c((n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.description:t,105,{name:"simpleShorten",hash:{},data:s}))+'</p>\n        <div class="rankings">\n'+(null!=(i=n.each.call(r,null!=t?t.rankings:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'        </div>\n        <span class="rating rating-'+c("function"==typeof(l=null!=(l=n.rating||(null!=t?t.rating:t))?l:o)?l.call(r,{name:"rating",hash:{},data:s}):l)+'" aria-label="'+c((n.getStoryRating||t&&t.getStoryRating||o).call(r,null!=t?t.rating:t,{name:"getStoryRating",hash:{},data:s}))+'."></span>\n'+(null!=(i=n.if.call(r,null!=t?t.completed:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+"    </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){return'<div class=\'collection panel-body\'>\n\n</div>\n<div class="show-more hidden center-text">\n  <button class="btn btn-link on-showmore"><strong>'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Show More",{name:"trans",hash:{},data:s}))+"</strong></button>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" unread"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=n.helperMissing;return'<article class="notification follower panel'+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <a href="/user/'+c(o(null!=(i=null!=t?t.friend:t)?i.name:i,t))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||u).call(r,null!=(i=null!=t?t.friend:t)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="/user/'+c(o(null!=(i=null!=t?t.friend:t)?i.name:i,t))+'" class="on-notification-click content">\n        <div class="heading">'+(null!=(i=(n.trans||t&&t.trans||u).call(r,"Your Facebook friend <strong>%s</strong> has joined Wattpad",null!=(i=null!=t?t.friend:t)?i.name:i,{name:"trans",hash:{},data:s}))?i:"")+"</div>\n\n        "+(null!=(i=(n.iconify||t&&t.iconify||u).call(r,"fa-user",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+' <time datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:u)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.calendar||t&&t.calendar||u).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+"</time>\n    </a>\n</article>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<article class="notification aggregate message panel'+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <div class="on-expand" data-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n        <div class="count">'+c("function"==typeof(l=null!=(l=n.children||(null!=t?t.children:t))?l:o)?l.call(r,{name:"children",hash:{},data:s}):l)+'</div>\n        <div class="content">\n            <div class="heading">'+(null!=(i=(n.trans||t&&t.trans||o).call(r,"There are <strong>%s new comments</strong> on club thread <strong>%s</strong>",null!=t?t.children:t,null!=(i=null!=t?t.discussion:t)?i.discussion:i,{name:"trans",hash:{},data:s}))?i:"")+"</div>\n            "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-following",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'<time datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:o)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.calendar||t&&t.calendar||o).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+"</time>\n        </div>\n    </div>\n</article>\n\n"},2:function(e,t,n,a,s){return" unread"},4:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=n.helperMissing;return'\x3c!-- Individual Message --\x3e\n<article class="notification message panel '+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <a href="/user/'+c(o(null!=(i=null!=t?t.user:t)?i.name:i,t))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||u).call(r,null!=(i=null!=t?t.user:t)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="'+c(o(null!=(i=null!=t?t.discussion:t)?i.url:i,t))+'" class="content">\n        <div class="heading">\n            '+(null!=(i=(n.trans||t&&t.trans||u).call(r,"<strong>%s</strong> commented on club thread <strong>%s</strong>",null!=(i=null!=t?t.user:t)?i.name:i,null!=(i=null!=t?t.discussion:t)?i.discussion:i,{name:"trans",hash:{},data:s}))?i:"")+"\n            "+(null!=(i=(n.iconify||t&&t.iconify||u).call(r,"fa-users",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+' <time datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:u)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.calendar||t&&t.calendar||u).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+"</time>\n            <p>"+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||u).call(r,null!=(i=null!=t?t.discussion:t)?i.body:i,140,!0,{name:"simpleShorten",hash:{doUrl:!1,doTag:!1},data:s}))?i:"")+"</p>\n        </div>\n    </a>\n</article>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.children:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){return"<pre>\nNot supported!\n</pre>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" unread"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=n.helperMissing;return'<article class="notification upload panel'+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <a href="/user/'+c(o(null!=(i=null!=(i=null!=t?t.story:t)?i.user:i)?i.name:i,t))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||u).call(r,null!=(i=null!=(i=null!=t?t.story:t)?i.user:i)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="'+c(o(null!=(i=null!=(i=null!=t?t.story:t)?i.part:i)?i.url:i,t))+'" class="on-notification-click content">\n        <div class="heading">\n            '+(null!=(i=(n.trans||t&&t.trans||u).call(r,"<strong>%1$s</strong> updated <strong>%2$s</strong> - <strong>%3$s</strong>",null!=(i=null!=(i=null!=t?t.story:t)?i.user:i)?i.name:i,null!=(i=null!=t?t.story:t)?i.title:i,null!=(i=null!=(i=null!=t?t.story:t)?i.part:i)?i.title:i,{name:"trans",hash:{},data:s}))?i:"")+"\n        </div>\n\n        "+(null!=(i=(n.iconify||t&&t.iconify||u).call(r,"fa-story",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+' <time datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:u)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.calendar||t&&t.calendar||u).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+'</time>\n\n        <div class="cover cover-xxs">\n            <img src="'+c((n.resizeCover||t&&t.resizeCover||u).call(r,null!=(i=null!=t?t.story:t)?i.cover:i,30,{name:"resizeCover",hash:{},data:s}))+'">\n        </div>\n    </a>\n</article>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" unread"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=n.helperMissing;return'\x3c!-- Added to Reading List --\x3e\n<article class="notification list panel'+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <a href="/user/'+c(o(null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.name:i,t))+'" class="avatar avatar-sm2 on-navigate">\n      <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||u).call(r,null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="/list/'+c(o(null!=(i=null!=t?t.list:t)?i.id:i,t))+"-"+c((n.slugify||t&&t.slugify||u).call(r,null!=(i=null!=t?t.list:t)?i.name:i,{name:"slugify",hash:{},data:s}))+'" class="on-notification-click content">\n        <div class="heading">\n            '+(null!=(i=(n.trans||t&&t.trans||u).call(r,"<strong>%s</strong> added <strong>%s</strong> to <strong>%s</strong>",null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.name:i,null!=(i=null!=t?t.story:t)?i.title:i,null!=(i=null!=t?t.list:t)?i.name:i,{name:"trans",hash:{},data:s}))?i:"")+"\n        </div>\n        "+(null!=(i=(n.iconify||t&&t.iconify||u).call(r,"fa-story",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+' <time datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:u)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.calendar||t&&t.calendar||u).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+"</time>\n    </a>\n</article>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" unread"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=e.escapeExpression,c=n.helperMissing;return'\x3c!-- Individual Dedication --\x3e\n<article class="notification dedication panel'+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <a href="/user/'+o(e.lambda(null!=(i=null!=t?t.dedicator:t)?i.name:i,t))+'" class="avatar avatar-sm2 on-navigate">\n      <img src="'+o((n.resizeAvatar||t&&t.resizeAvatar||c).call(r,null!=(i=null!=t?t.dedicator:t)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="'+o((n.formatStoryUrl||t&&t.formatStoryUrl||c).call(r,null!=(i=null!=(i=null!=t?t.story:t)?i.part:i)?i.url:i,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-notification-click content">\n        <div class="heading">\n          '+(null!=(i=(n.trans||t&&t.trans||c).call(r,"<strong>%s</strong> dedicated <strong>%s - %s</strong> to you",null!=(i=null!=t?t.dedicator:t)?i.name:i,null!=(i=null!=t?t.story:t)?i.title:i,null!=(i=null!=(i=null!=t?t.story:t)?i.part:i)?i.title:i,{name:"trans",hash:{},data:s}))?i:"")+"\n        </div>\n        "+(null!=(i=(n.iconify||t&&t.iconify||c).call(r,"fa-dedicate",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+' <time datetime="'+o("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:c)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+o((n.calendar||t&&t.calendar||c).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+'</time>\n        <div class="cover cover-xxs">\n            <img src="'+o((n.resizeCover||t&&t.resizeCover||c).call(r,null!=(i=null!=t?t.story:t)?i.cover:i,28,{name:"resizeCover",hash:{},data:s}))+'">\n        </div>\n    </a>\n</article>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'  <article class="notification aggregate message panel'+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <div class="on-expand" data-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n      <div class="count">'+c("function"==typeof(l=null!=(l=n.children||(null!=t?t.children:t))?l:o)?l.call(r,{name:"children",hash:{},data:s}):l)+'</div>\n      <div class="content">\n        <div class="heading">\n          '+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"You have %s new announcement","You have %s new announcements",null!=t?t.children:t,{name:"ngettext",hash:{},data:s}),null!=t?t.children:t,{name:"sprintf",hash:{},data:s}))+"\n        </div>\n        "+c((n.connectImage||t&&t.connectImage||o).call(r,"shared/megaphone_grey.png","announcement notification",{name:"connectImage",hash:{height:"11px",width:"17px",id:"megaphone-icon"},data:s}))+'\n        <time datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:o)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.calendar||t&&t.calendar||o).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+"</time>\n      </div>\n    </div>\n  </article>\n\n"},2:function(e,t,n,a,s){return" unread"},4:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=n.helperMissing;return'<article class="notification message panel'+(null!=(i=n.if.call(r,null!=(i=null!=t?t.message:t)?i.isReply:i,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <a href="/user/'+c(o(null!=(i=null!=(i=null!=t?t.message:t)?i.from:i)?i.name:i,t))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||u).call(r,null!=(i=null!=(i=null!=t?t.message:t)?i.from:i)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <div class="content '+(null!=(i=n.unless.call(r,null!=t?t.isTruncated:t,{name:"unless",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+'">\n      <div class="heading">\n        <a href="/user/'+c(o(null!=(i=null!=(i=null!=t?t.message:t)?i.to:i)?i.name:i,t))+'" class="on-navigate">\n'+(null!=(i=n.if.call(r,null!=t?t.hasMentions:t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.program(18,s,0),data:s}))?i:"")+"        </a>\n      </div>\n\n"+(null!=(i=n.if.call(r,null!=(i=null!=t?t.message:t)?i.wasBroadcast:i,{name:"if",hash:{},fn:e.program(32,s,0),inverse:e.program(34,s,0),data:s}))?i:"")+'\n      <time datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:u)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.calendar||t&&t.calendar||u).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+'</time>\n\n      <p class="shown-message">\n        '+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||u).call(r,null!=(i=null!=t?t.message:t)?i.body:i,null!=t?t.maxTextLength:t,!0,{name:"simpleShorten",hash:{doUrl:!1,doTag:!1},data:s}))?i:"")+'\n        <span class="show-full'+(null!=(i=n.unless.call(r,null!=t?t.isTruncated:t,{name:"unless",hash:{},fn:e.program(36,s,0),inverse:e.noop,data:s}))?i:"")+'"><strong>'+c((n.trans||t&&t.trans||u).call(r,"more",{name:"trans",hash:{},data:s}))+'</strong></span>\n      </p>\n      <p class="hidden full-message">'+(null!=(i=(n.linkify||t&&t.linkify||u).call(r,null!=(i=null!=t?t.message:t)?i.body:i,{name:"linkify",hash:{},data:s}))?i:"")+"</p>\n\n    </div>\n</article>\n"},5:function(e,t,n,a,s){return" reply"},7:function(e,t,n,a,s){return"expanded-text"},9:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.message:t)?i.wasBroadcast:i,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(12,s,0),data:s}))?i:""},10:function(e,t,n,a,s){var i;return"              "+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"<strong>%s</strong> mentioned you on their feed",null!=(i=null!=(i=null!=t?t.message:t)?i.from:i)?i.name:i,{name:"trans",hash:{},data:s}))?i:"")+"\n"},12:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.theirFeed:t,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(13,s,0),data:s}))?i:""},13:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.toMe:t,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.program(16,s,0),data:s}))?i:""},14:function(e,t,n,a,s){var i;return"              "+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"<strong>%s</strong> mentioned you on your feed",null!=(i=null!=(i=null!=t?t.message:t)?i.from:i)?i.name:i,{name:"trans",hash:{},data:s}))?i:"")+"\n"},16:function(e,t,n,a,s){var i;return"              "+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"<strong>%1$s</strong> mentioned you on <strong>%2$s</strong>&#39;s feed",null!=(i=null!=(i=null!=t?t.message:t)?i.from:i)?i.name:i,null!=(i=null!=(i=null!=t?t.message:t)?i.to:i)?i.name:i,{name:"trans",hash:{},data:s}))?i:"")+"\n            "},18:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.message:t)?i.wasBroadcast:i,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.program(21,s,0),data:s}))?i:""},19:function(e,t,n,a,s){var i;return"            "+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"<strong>%s</strong> posted a new announcement",null!=(i=null!=(i=null!=t?t.message:t)?i.from:i)?i.name:i,{name:"trans",hash:{},data:s}))?i:"")+"\n"},21:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.toMe:t,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(27,s,0),data:s}))?i:""},22:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.message:t)?i.parentId:i,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.program(25,s,0),data:s}))?i:""},23:function(e,t,n,a,s){var i;return"              "+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"<strong>%s</strong> replied to a message on your feed",null!=(i=null!=(i=null!=t?t.message:t)?i.from:i)?i.name:i,{name:"trans",hash:{},data:s}))?i:"")+"\n"},25:function(e,t,n,a,s){var i;return"              "+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"<strong>%s</strong> posted a message to your feed",null!=(i=null!=(i=null!=t?t.message:t)?i.from:i)?i.name:i,{name:"trans",hash:{},data:s}))?i:"")+"\n"},27:function(e,t,n,a,s){var i;return(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.message:t)?i.parentId:i,{name:"if",hash:{},fn:e.program(28,s,0),inverse:e.program(30,s,0),data:s}))?i:"")+"          "},28:function(e,t,n,a,s){var i;return"              "+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"<strong>%1$s</strong> replied to a message on %2$s&#39;s feed",null!=(i=null!=(i=null!=t?t.message:t)?i.from:i)?i.name:i,null!=(i=null!=(i=null!=t?t.message:t)?i.to:i)?i.name:i,{name:"trans",hash:{},data:s}))?i:"")+"\n"},30:function(e,t,n,a,s){var i;return"              "+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"<strong>%1$s</strong> posted a message to %2$s&#39;s feed",null!=(i=null!=(i=null!=t?t.message:t)?i.from:i)?i.name:i,null!=(i=null!=(i=null!=t?t.message:t)?i.to:i)?i.name:i,{name:"trans",hash:{},data:s}))?i:"")+"\n"},32:function(e,t,n,a,s){return"        "+e.escapeExpression((n.connectImage||t&&t.connectImage||n.helperMissing).call(null!=t?t:e.nullContext||{},"shared/megaphone_grey.png","announcement notification",{name:"connectImage",hash:{height:"11px",width:"17px",id:"megaphone-icon"},data:s}))+"\n"},34:function(e,t,n,a,s){var i;return"        "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-inbox",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},36:function(e,t,n,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.children:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<article class="notification aggregate vote panel'+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <div class="on-expand" data-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n        <div class="count">'+c("function"==typeof(l=null!=(l=n.children||(null!=t?t.children:t))?l:o)?l.call(r,{name:"children",hash:{},data:s}):l)+'</div>\n        <div class="content">\n            <div class="heading">'+(null!=(i=(n.trans||t&&t.trans||o).call(r,"%s people voted on <strong>%s - %s</strong>",null!=t?t.children:t,null!=(i=null!=t?t.story:t)?i.title:i,null!=(i=null!=(i=null!=t?t.story:t)?i.part:i)?i.title:i,{name:"trans",hash:{},data:s}))?i:"")+"</div>\n            "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'<time datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:o)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.calendar||t&&t.calendar||o).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+"</time>\n        </div>\n    </div>\n</article>\n\n"},2:function(e,t,n,a,s){return" unread"},4:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=e.escapeExpression,c=n.helperMissing;return'<article class="notification vote panel'+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <a href="/user/'+o(e.lambda(null!=(i=null!=t?t.voter:t)?i.name:i,t))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+o((n.resizeAvatar||t&&t.resizeAvatar||c).call(r,null!=(i=null!=t?t.voter:t)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="'+o((n.formatStoryUrl||t&&t.formatStoryUrl||c).call(r,null!=(i=null!=(i=null!=t?t.story:t)?i.part:i)?i.url:i,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-notification-click content">\n        <div class="heading">'+(null!=(i=(n.trans||t&&t.trans||c).call(r,"<strong>%s</strong> voted on <strong>%s - %s</strong>",null!=(i=null!=t?t.voter:t)?i.name:i,null!=(i=null!=t?t.story:t)?i.title:i,null!=(i=null!=(i=null!=t?t.story:t)?i.part:i)?i.title:i,{name:"trans",hash:{},data:s}))?i:"")+"</div>\n        "+(null!=(i=(n.iconify||t&&t.iconify||c).call(r,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'<time datetime="'+o("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:c)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+o((n.calendar||t&&t.calendar||c).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+"</time>\n    </a>\n</article>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.children:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" unread"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=n.helperMissing;return'<article class="notification follower panel'+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <a href="/user/'+c(o(null!=(i=null!=t?t.followed:t)?i.name:i,t))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||u).call(r,null!=(i=null!=t?t.followed:t)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="/user/'+c(o(null!=(i=null!=t?t.followed:t)?i.name:i,t))+'" class="on-notification-click content">\n        <div class="heading">'+(null!=(i=(n.trans||t&&t.trans||u).call(r,"<strong>%s</strong> has approved your follow request",null!=(i=null!=t?t.followed:t)?i.name:i,{name:"trans",hash:{},data:s}))?i:"")+"</div>\n        "+(null!=(i=(n.iconify||t&&t.iconify||u).call(r,"fa-following",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+'<time datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:u)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.calendar||t&&t.calendar||u).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+"</time>\n    </a>\n</article>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<article class="notification aggregate follower panel'+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <div class="on-expand" data-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n        <div class="count">'+c("function"==typeof(l=null!=(l=n.children||(null!=t?t.children:t))?l:o)?l.call(r,{name:"children",hash:{},data:s}):l)+'</div>\n        <div class="content">\n            <div class="heading">'+(null!=(i=(n.trans||t&&t.trans||o).call(r,"You have <strong>%s new followers</strong>",null!=t?t.children:t,{name:"trans",hash:{},data:s}))?i:"")+"</div>\n            "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-following",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'<time datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:o)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.calendar||t&&t.calendar||o).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+"</time>\n        </div>\n    </div>\n</article>\n\n"},2:function(e,t,n,a,s){return" unread"},4:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=e.lambda,c=e.escapeExpression,u=n.helperMissing;return'<article class="notification follower panel'+(null!=(i=n.unless.call(r,null!=t?t.isRead:t,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <a href="/user/'+c(o(null!=(i=null!=t?t.follower:t)?i.name:i,t))+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||u).call(r,null!=(i=null!=t?t.follower:t)?i.avatar:i,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <a href="/user/'+c(o(null!=(i=null!=t?t.follower:t)?i.name:i,t))+'" class="on-notification-click content">\n        <div class="heading">'+(null!=(i=(n.trans||t&&t.trans||u).call(r,"<strong>%s</strong> followed you",null!=(i=null!=t?t.follower:t)?i.name:i,{name:"trans",hash:{},data:s}))?i:"")+"</div>\n        "+(null!=(i=(n.iconify||t&&t.iconify||u).call(r,"fa-following",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'<time datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:u)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.calendar||t&&t.calendar||u).call(r,null!=t?t.createDate:t,{name:"calendar",hash:{},data:s}))+"</time>\n    </a>\n</article>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.children:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="row">\n    <article class="col-sm-7 col-md-8" id="notification-feed-col">\n        <header><h1 class="h3">'+o((n.trans||t&&t.trans||r).call(l,"Notifications",{name:"trans",hash:{},data:s}))+'</h1></header>\n        <main id="notification-feed">\n            <div>'+(null!=(i=e.invokePartial(a["core.notifications.notifications"],t,{name:"core.notifications.notifications",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</div>\n        </main>\n    </article>\n    <article class="col-sm-5 col-md-4'+(null!=(i=n.unless.call(l,null!=t?t.hasRequests:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'" id="follow-requests-col">\n        <header><h1 class="h3">'+o((n.trans||t&&t.trans||r).call(l,"Follower Requests",{name:"trans",hash:{},data:s}))+'</h1></header>\n        <main id="follow-requests">\n            <div>'+(null!=(i=e.invokePartial(a["core.notifications.follow_requests"],t,{name:"core.notifications.follow_requests",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</div>\n        </main>\n    </article>\n    <div class="col-sm-5 col-md-4">\n        <div class="wp-component invite-panel-component">\n'+(null!=(i=e.invokePartial(a["core.invite_friends.components.invite_panel"],t,{name:"core.invite_friends.components.invite_panel",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'        </div>\n    </div>\n</div>\n<div id="expand-modal" class="modal fade" role="dialog" tabindex=\'-1\'>\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header notification aggregate panel">\n                <div class="count"></div>\n                <div class="content">\n                  <div class="heading"></div>\n                  <time></time>\n                </div>\n                <button type="button" class="close btn btn-text" data-dismiss="modal" aria-label="Close">\n                  '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n                </button>\n            </div>\n            <div class="modal-body"></div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-left-align btn-grey btn-block" data-dismiss="modal">'+o((n.trans||t&&t.trans||r).call(l,"Close",{name:"trans",hash:{},data:s}))+"</button>\n            </div>\n        </div>\n    </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"        "+(null!=(i=e.lambda(null!=(i=null!=t?t.notifications:t)?i.html:i,t))?i:"")+"\n"},3:function(e,t,n,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="collection">\n'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.notifications:t)?i.hasItems:i,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'    <div class="empty-message'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.notifications:t)?i.hasItems:i,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'">\n'+(null!=(i=e.invokePartial(a["core.notifications.items.notification_base"],t,{name:"core.notifications.items.notification_base",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'    </div>\n</div>\n<div class="show-more center-text'+(null!=(i=n.unless.call(l,null!=(i=null!=t?t.notifications:t)?i.hasMore:i,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <button class="on-showmore">\n        <span class=\'show-more-message\'>\n            <span>'+o((n.trans||t&&t.trans||r).call(l,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n        </span>\n        <span class='loading-message hidden'>\n            "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner"},data:s}))?i:"")+"\n            <span> "+o((n.trans||t&&t.trans||r).call(l,"Loading",{name:"trans",hash:{},data:s}))+' ...</span>\n        </span>\n    </button>\n</div>\n<div class="loading-spinner center-text hidden">\n  '+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t.device:t,{name:"iconifySpin",hash:{},data:s}))?i:"")+"\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"        <small>"+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"You ignored a follow request from %s. You can always approve the request here at any time.",null!=t?t.username:t,{name:"trans",hash:{},data:s}))?i:"")+"</small>\n"},3:function(e,t,n,a,s){var i;return'            <button class="btn btn-grey on-ignore on-request-addressed">'+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<article class="notification follow-request in-profile">\n    <a href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||o).call(r,null!=t?t.avatar:t,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <div class="content">\n        <a href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'" class="heading on-navigate">\n            '+(null!=(i=(n.trans||t&&t.trans||o).call(r,"<strong>%s</strong> wants to follow you",null!=t?t.username:t,{name:"trans",hash:{},data:s}))?i:"")+"\n        </a>\n"+(null!=(i=n.if.call(r,null!=t?t.followerIgnored:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'    </div>\n\n    <footer>\n        <div class="request-btns pull-right">\n            <button class="btn btn-teal on-approve on-request-addressed">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-check",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"</button>\n"+(null!=(i=n.if.call(r,null!=t?t.followerIgnored:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(3,s,0),data:s}))?i:"")+"        </div>\n    </footer>\n</article>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<article class="notification follow-request panel in-notifications">\n    <a href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'" class="avatar avatar-sm2 on-navigate">\n        <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||o).call(r,null!=t?t.avatar:t,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n    <div class="content">\n        <a href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'" class="heading on-navigate"><strong>'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'</strong></a>\n    </div>\n\n    <div class="request-btns">\n        <button class="btn btn-circle btn-teal on-approve">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-check",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'</button>\n        <button class="btn btn-circle btn-grey on-ignore">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"</button>\n    </div>\n</article>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="collection">\n    '+(null!=(i=e.lambda(null!=(i=null!=t?t.requests:t)?i.html:i,t))?i:"")+'\n</div>\n<div class="show-more center-text'+(null!=(i=n.unless.call(l,null!=(i=null!=t?t.requests:t)?i.hasMore:i,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'">\n    <button class="on-showmore">\n        <span class=\'show-more-message\'>\n            <span>'+o((n.trans||t&&t.trans||r).call(l,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n        </span>\n        <span class='loading-message hidden'>\n            "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n            <span> "+o((n.trans||t&&t.trans||r).call(l,"Loading",{name:"trans",hash:{},data:s}))+' ...</span>\n        </span>\n    </button>\n</div>\n<div class="loading-spinner center-text hidden">\n  '+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t.device:t,{name:"iconifySpin",hash:{},data:s}))?i:"")+"\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<a class="alt-link" href="'+o("function"==typeof(i=null!=(i=n.url||(null!=t?t.url:t))?i:r)?i.call(l,{name:"url",hash:{},data:s}):i)+'" target="_blank">\n  '+o("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:r)?i.call(l,{name:"name",hash:{},data:s}):i)+'<span class="sr-only"> (new window)</span></a>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'  <div class="description">\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.html_enabled:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?i:"")+"  </div>\n\n"},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"      <pre>"+(null!=(i=(n.preFormat||t&&t.preFormat||r).call(l,(n.linkify||t&&t.linkify||r).call(l,null!=t?t.description:t,{name:"linkify",hash:{sanitization:"unsanitize"},data:s}),{name:"preFormat",hash:{},data:s}))?i:"")+"</pre>\n"},4:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"      <pre>"+(null!=(i=(n.preFormat||t&&t.preFormat||r).call(l,(n.linkify||t&&t.linkify||r).call(l,null!=t?t.description:t,{name:"linkify",hash:{sanitization:"sanitize"},data:s}),{name:"preFormat",hash:{},data:s}))?i:"")+"</pre>\n"},6:function(e,t,n,a,s){var i;return null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:""},7:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'    <div class="no-description">\n      <div>'+r((n.trans||t&&t.trans||l).call(i,"Help people get to know you",{name:"trans",hash:{},data:s}))+'</div>\n      <button class="btn btn-orange on-edit">'+r((n.trans||t&&t.trans||l).call(i,"Add Description",{name:"trans",hash:{},data:s}))+"</button>\n    </div>\n"},9:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing;return'    <li class="location col-xs-12 col-sm-12">\n      <span class="user-meta-info-content">\n        '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-location",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+e.escapeExpression("function"==typeof(l=null!=(l=n.location||(null!=t?t.location:t))?l:o)?l.call(r,{name:"location",hash:{},data:s}):l)+"\n      </span>\n    </li>\n"},11:function(e,t,n,a,s){return"("+e.escapeExpression((n.formatDate||t&&t.formatDate||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.createDate:t,{name:"formatDate",hash:{},data:s}))+")"},13:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'  <hr />\n  <ul id="profile-links" class="list-unstyled row">\n\n'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.links:t)?i.website:i,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=(i=null!=t?t.links:t)?i.facebook:i,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=(i=null!=t?t.links:t)?i.smashwords:i,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?i:"")+"  </ul>\n"},14:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return'    <li class="website col-xs-12 col-sm-12">\n      '+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-link",18,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n      <span class="sr-only">website:</span>\n      <a class="alt-link" href="'+r(l(null!=(i=null!=(i=null!=t?t.links:t)?i.website:i)?i.url:i,t))+'" target="_blank" rel="nofollow noopener">\n        '+r(l(null!=(i=null!=(i=null!=t?t.links:t)?i.website:i)?i.name:i,t))+"\n      </a>\n    </li>\n"},16:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return'    <li class="facebook col-xs-12 col-sm-12">\n      '+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-facebook-square",18,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+'\n      <span class="sr-only">facebook:</span>\n      <a class="alt-link" href="'+r(l(null!=(i=null!=(i=null!=t?t.links:t)?i.facebook:i)?i.url:i,t))+'" target="_blank" rel="nofollow noopener">\n        '+r(l(null!=(i=null!=(i=null!=t?t.links:t)?i.facebook:i)?i.name:i,t))+"\n      </a>\n    </li>\n"},18:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return'    <li class="smashwords col-xs-12 col-sm-12">\n      '+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-link",18,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n      <span class="sr-only">smashwords:</span>\n      <a class="alt-link" href="'+r(l(null!=(i=null!=(i=null!=t?t.links:t)?i.smashwords:i)?i.url:i,t))+'" target="_blank" rel="nofollow noopener">\n        '+r(l(null!=(i=null!=(i=null!=t?t.links:t)?i.smashwords:i)?i.name:i,t))+"\n      </a>\n    </li>\n"},20:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'  <hr />\n  <div id="following-panel">\n    <div class="title">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(l,"Following",{name:"trans",hash:{},data:s}))+'</div>\n\n    <div class="users clearfix" data-section="following">\n'+(null!=(i=n.each.call(l,null!=t?t.userFollowings:t,{name:"each",hash:{},fn:e.program(21,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.numFollowingMobile:t,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.numFollowingTablet:t,{name:"if",hash:{},fn:e.program(25,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.numFollowingDesktop:t,{name:"if",hash:{},fn:e.program(27,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.numFollowingDesktopWide:t,{name:"if",hash:{},fn:e.program(29,s,0),inverse:e.noop,data:s}))?i:"")+"    </div>\n  </div>\n"},21:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'      <a class="avatar avatar-sm2 on-navigate pull-left hide" href="/user/'+o("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:r)?i.call(l,{name:"username",hash:{},data:s}):i)+'">\n        <img src="'+o((n.resizeAvatar||t&&t.resizeAvatar||r).call(l,null!=t?t.avatar:t,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n      </a>\n'},23:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'      <a href="/user/'+o("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:r)?i.call(l,{name:"username",hash:{},data:s}):i)+'/following" class="on-nav-item on-navigate num-following pull-left mobile-break hide">+'+o((n.count||t&&t.count||r).call(l,null!=t?t.numFollowingMobile:t,{name:"count",hash:{},data:s}))+"</a>\n"},25:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'      <a href="/user/'+o("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:r)?i.call(l,{name:"username",hash:{},data:s}):i)+'/following" class="on-nav-item on-navigate num-following pull-left tablet-break hide">+'+o((n.count||t&&t.count||r).call(l,null!=t?t.numFollowingTablet:t,{name:"count",hash:{},data:s}))+"</a>\n"},27:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'      <a href="/user/'+o("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:r)?i.call(l,{name:"username",hash:{},data:s}):i)+'/following" class="on-nav-item on-navigate num-following pull-left desktop-break hide">+'+o((n.count||t&&t.count||r).call(l,null!=t?t.numFollowingDesktop:t,{name:"count",hash:{},data:s}))+"</a>\n"},29:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'      <a href="/user/'+o("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:r)?i.call(l,{name:"username",hash:{},data:s}):i)+'/following" class="on-nav-item on-navigate num-following pull-left desktop-wide-break hide">+'+o((n.count||t&&t.count||r).call(l,null!=t?t.numFollowingDesktopWide:t,{name:"count",hash:{},data:s}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression,d='<div class="panel-body">\n'+(null!=(i=n.if.call(o,null!=t?t.description:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(6,s,0),data:s}))?i:"")+'\n  <ul class="list-unstyled user-meta-info row">\n'+(null!=(i=n.if.call(o,null!=t?t.location:t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:"")+'\n    <li class="date col-xs-12 col-sm-12">\n      <span class="user-meta-info-content">\n        <span>'+u((n.trans||t&&t.trans||c).call(o,"Joined",{name:"trans",hash:{},data:s}))+"</span>"+u((n.fromNow||t&&t.fromNow||c).call(o,null!=t?t.createDate:t,{name:"fromNow",hash:{fullDate:!0},data:s}))+"\n\n        ";return l=null!=(l=n.isAmbassador||(null!=t?t.isAmbassador:t))?l:c,r={name:"isAmbassador",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.isAmbassador||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(d+=i),d+"\n      </span>\n    </li>\n  </ul>\n\n"+(null!=(i=n.if.call(o,null!=t?t.links:t,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(o,null!=t?t.userFollowings:t,{name:"if",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?i:"")+'\n  <hr />\n  <div id="profile-share-links">\n    <div class="title">'+u((n.trans||t&&t.trans||c).call(o,"Share profile",{name:"trans",hash:{},data:s}))+"</div>\n    "+(null!=(i="function"==typeof(l=null!=(l=n.socialShareSection||(null!=t?t.socialShareSection:t))?l:c)?l.call(o,{name:"socialShareSection",hash:{},data:s}):l)?i:"")+"\n  </div>\n\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"\n"+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?i:"")+"\n"},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression,c=e.lambda;return"<header>"+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-pin",22,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+o((n.trans||t&&t.trans||r).call(l,"Last Message",{name:"trans",hash:{},data:s}))+'</header>\n\n<div class="panel panel-default2">\n  <a href="/user/'+o(c(null!=(i=null!=t?t.from:t)?i.name:i,t))+'" class="avatar avatar-sm3 pull-left on-navigate">\n    '+o((n.connectAvatar||t&&t.connectAvatar||r).call(l,null!=(i=null!=t?t.from:t)?i.avatar:i,null!=(i=null!=t?t.from:t)?i.name:i,32,{name:"connectAvatar",hash:{},data:s}))+'\n  </a>\n  <a class="username on-navigate" href="/user/'+o(c(null!=(i=null!=t?t.from:t)?i.name:i,t))+'">'+o(c(null!=(i=null!=t?t.from:t)?i.name:i,t))+'</a>\n\n  <span class="latest-msg-date">'+o((n.fromNow||t&&t.fromNow||r).call(l,null!=t?t.createDate:t,{name:"fromNow",hash:{},data:s}))+"</span>\n\n  <pre>"+(null!=(i=(n.preFormat||t&&t.preFormat||r).call(l,(n.simpleShorten||t&&t.simpleShorten||r).call(l,null!=t?t.body:t,200,!0,{name:"simpleShorten",hash:{},data:s}),!0,{name:"preFormat",hash:{},data:s}))?i:"")+'</pre>\n\n  <a class="btn btn-grey on-navigate on-view-conversations" href="/user/'+o(c(null!=(i=null!=t?t.from:t)?i.name:i,t))+'/conversations">\n    '+o((n.trans||t&&t.trans||r).call(l,"View all Conversations",{name:"trans",hash:{},data:s}))+"\n  </a>\n</div>\n\n"},4:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression,c=e.lambda;return'<div class="panel">\n  <hr />\n\n  <div class="section-header">'+o((n.trans||t&&t.trans||r).call(l,"Last Message",{name:"trans",hash:{},data:s}))+'</div>\n\n  <div class="user-info">\n    <a href="/user/'+o(c(null!=(i=null!=t?t.from:t)?i.name:i,t))+'" class="avatar avatar-sm3 pull-left on-navigate">\n      '+o((n.connectAvatar||t&&t.connectAvatar||r).call(l,null!=(i=null!=t?t.from:t)?i.avatar:i,null!=(i=null!=t?t.from:t)?i.name:i,32,{name:"connectAvatar",hash:{},data:s}))+'\n    </a>\n    <a class="username on-navigate" href="/user/'+o(c(null!=(i=null!=t?t.from:t)?i.name:i,t))+'">'+o(c(null!=(i=null!=t?t.from:t)?i.name:i,t))+'</a>\n\n    <span class="latest-msg-date">'+o((n.fromNow||t&&t.fromNow||r).call(l,null!=t?t.createDate:t,{name:"fromNow",hash:{},data:s}))+"</span>\n  </div>\n\n  <pre>"+(null!=(i=(n.preFormat||t&&t.preFormat||r).call(l,(n.simpleShorten||t&&t.simpleShorten||r).call(l,null!=t?t.body:t,200,!0,{name:"simpleShorten",hash:{},data:s}),!0,{name:"preFormat",hash:{},data:s}))?i:"")+'</pre>\n\n  <button class="btn btn-grey btn-block btn-left-align on-navigate on-view-conversations" href="/user/'+o(c(null!=(i=null!=t?t.from:t)?i.name:i,t))+'/conversations">\n    '+o((n.trans||t&&t.trans||r).call(l,"View all Conversations",{name:"trans",hash:{},data:s}))+"\n  </button>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.id:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<a href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.pinnedItem:t)?i.from:i)?i.name:i,t))+'" class="avatar avatar-sm3 pull-left on-navigate">\n  '+r((n.connectAvatar||t&&t.connectAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.pinnedItem:t)?i.from:i)?i.avatar:i,null!=(i=null!=(i=null!=t?t.pinnedItem:t)?i.from:i)?i.name:i,32,{name:"connectAvatar",hash:{},data:s}))+'\n</a>\n<a class="username on-navigate" href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.pinnedItem:t)?i.from:i)?i.name:i,t))+'">'+r(l(null!=(i=null!=(i=null!=t?t.pinnedItem:t)?i.from:i)?i.name:i,t))+'</a>\n<small class="from-now">'+r((n.fromNow||t&&t.fromNow||c).call(o,null!=(i=null!=t?t.pinnedItem:t)?i.createDate:i,{name:"fromNow",hash:{},data:s}))+'</small>\n\n<pre class="body">'+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||c).call(o,null!=(i=null!=t?t.pinnedItem:t)?i.body:i,200,{name:"simpleShorten",hash:{},data:s}))?i:"")+'</pre>\n\n<a class="btn btn-md btn-block btn-grey btn-left-align on-navigate" href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.pinnedItem:t)?i.from:i)?i.name:i,t))+'/conversations"> '+r((n.trans||t&&t.trans||c).call(o,"View all conversations",{name:"trans",hash:{},data:s}))+"</a> \n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.pinnedItem:t)?i.id:i,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return"<header>"+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Follow Request",{name:"trans",hash:{},data:s}))+'</header>\n\n<div class="request-item-container panel panel-default2">\n  <div class="follow-request-item">'+(null!=(i=e.invokePartial(a["core.profile.profile_follow_request_item"],t,{name:"core.profile.profile_follow_request_item",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+"</div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'  <a class="btn btn-more btn-grey btn-block on-update-feed" href="/user/'+o("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:r)?i.call(l,{name:"username",hash:{},data:s}):i)+'">\n    '+o((n.trans||t&&t.trans||r).call(l,"See latest activity.",{name:"trans",hash:{},data:s}))+"\n  </a>\n"},3:function(e,t,n,a,s){return'  <div class="title-wrapper" id="feed-title">\n    <h4 class="title"><span class="title-text">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Recent Activity",{name:"trans",hash:{},data:s}))+"</span></h4>\n  </div>\n"},5:function(e,t,n,a,s){var i;return'<div class="feed-item-new panel pinned-item">\n'+(null!=(i=e.invokePartial(a["core.feed_items.feed_pinned_message"],t,{name:"core.feed_items.feed_pinned_message",data:s,indent:"\t",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c="";return l=null!=(l=n.showActivityOutofDate||(null!=t?t.showActivityOutofDate:t))?l:n.helperMissing,r={name:"showActivityOutofDate",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.showActivityOutofDate||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(c+=i),c+(null!=(i=n.if.call(o,null!=t?t.isFeed:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(o,null!=t?t.shouldRenderPinned:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=e.invokePartial(a["desktop.components.incremental_list"],t,{name:"desktop.components.incremental_list",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="panel panel-default2">\n  <header class="panel-heading">\n'+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||o).call(r,null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'\n    <div class="panel-title">\n      '+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Reading List","%s Reading Lists",null!=t?t.totalLists:t,{name:"ngettext",hash:{},data:s}),null!=t?t.totalLists:t,{name:"sprintf",hash:{},data:s}))+'\n    </div>\n  </header>\n\n  <hr />\n\n  <div class="panel-body">\n    <div id="lists-item-view">'+(null!=(i="function"==typeof(l=null!=(l=n.listsItemViewContent||(null!=t?t.listsItemViewContent:t))?l:o)?l.call(r,{name:"listsItemViewContent",hash:{},data:s}):l)?i:"")+'</div>\n  </div>\n\n  <div class="show-more center-text hidden">\n    <button class="btn btn-grey on-showmore">\n      <span class=\'show-more-message\'>\n        <span>'+c((n.trans||t&&t.trans||o).call(r,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n        <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n      </span>\n      <span class='loading-message hidden'>\n        "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||o).call(r,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n        <span>"+c((n.trans||t&&t.trans||o).call(r,"Loading...",{name:"trans",hash:{},data:s}))+"</span>\n      </span>\n    </button>\n  </div>\n</div>\n\n"},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'    <a href="/list" class="settings on-navigate">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-settings",24,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"</a>\n    "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-plus",24,"wp-neutral-2","settings on-create-list",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},4:function(e,t,n,a,s){var i;return null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:""},5:function(e,t,n,a,s){return'<div class="panel panel-default2 empty-placeholder">\n  <header class="panel-heading">\n    <div class="panel-title"></div>\n    <div class="panel-subtitle"></div>\n  </header>\n\n  <div class="panel-body">\n    <div class="no-reading-list">\n      <button class="btn btn-md btn-orange on-create-list">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Create Reading List",{name:"trans",hash:{},data:s}))+'</button>\n    </div>\n\n    <div class="story-cover">\n      <div class="fixed-ratio fixed-ratio-cover">\n      </div>\n    </div>\x3c!--\n\n --\x3e<div class="story-cover">\n      <div class="fixed-ratio fixed-ratio-cover">\n      </div>\n    </div>\x3c!--\n\n --\x3e<div class="story-cover">\n      <div class="fixed-ratio fixed-ratio-cover">\n      </div>\n    </div>\x3c!--\n\n --\x3e<div class="story-cover">\n      <div class="fixed-ratio fixed-ratio-cover">\n      </div>\n    </div>\n  </div>\n</div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.totalLists:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div id="preview-modal"></div>\n\n<div class="panel panel-default2">\n\n  <header class="panel-heading">\n'+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||o).call(r,null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'\n    <div class="panel-title">\n      '+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"Story by %s","Stories by %s",null!=t?t.totalWorks:t,{name:"ngettext",hash:{},data:s}),null!=t?t.name:t,{name:"sprintf",hash:{},data:s}))+'\n    </div>\n\n    <ul class="metadata">\n      <li>'+c((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Published Story","%s Published Stories",null!=t?t.numPublished:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numPublished:t,{name:"sprintf",hash:{},data:s}))+"</li>\n\n"+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||o).call(r,null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'    </ul>\n  </header>\n\n  <div class="panel-body">\n    <div id="works-item-view">'+(null!=(i="function"==typeof(l=null!=(l=n.worksItemViewContent||(null!=t?t.worksItemViewContent:t))?l:o)?l.call(r,{name:"worksItemViewContent",hash:{},data:s}):l)?i:"")+'</div>\n  </div>\n\n  <div class="show-more center-text hidden">\n    <button class="btn btn-grey on-showmore">\n      <span class=\'show-more-message\'>\n        <span>'+c((n.trans||t&&t.trans||o).call(r,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n        <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n      </span>\n      <span class='loading-message hidden'>\n        "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||o).call(r,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n        <span> "+c((n.trans||t&&t.trans||o).call(r,"Loading...",{name:"trans",hash:{},data:s}))+"</span>\n      </span>\n    </button>\n  </div>\n</div>\n"},2:function(e,t,n,a,s){var i;return'    <a href="/myworks" class="settings on-navigate">'+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-settings",24,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"</a>\n"},4:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.numDrafts:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:""},5:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return"      <li>\n      "+r((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Draft","%s Drafts",null!=t?t.numDrafts:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numDrafts:t,{name:"sprintf",hash:{},data:s}))+" ("+r((n.trans||t&&t.trans||l).call(i,"only visible to you",{name:"trans",hash:{},data:s}))+")\n      </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.totalWorks:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'        <img src="'+e.escapeExpression("function"==typeof(i=null!=(i=n.avatar||(null!=t?t.avatar:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"avatar",hash:{},data:s}):i)+'" alt="">\n'},3:function(e,t,n,a,s){var i;return"        "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-user",26,"wp-neutral-2","vhcenter",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},5:function(e,t,n,a,s){return"sr-only"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="avatar avatar-md">\n'+(null!=(i=n.if.call(r,null!=t?t.avatar:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'</div>\n<div class="message">\n    <label class="control-label '+(null!=(i=(n.supportsPlaceholder||t&&t.supportsPlaceholder||o).call(r,null!=t?t.device:t,{name:"supportsPlaceholder",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+'" for="'+c("function"==typeof(l=null!=(l=n.viewId||(null!=t?t.viewId:t))?l:o)?l.call(r,{name:"viewId",hash:{},data:s}):l)+'">'+c("function"==typeof(l=null!=(l=n.placeholder||(null!=t?t.placeholder:t))?l:o)?l.call(r,{name:"placeholder",hash:{},data:s}):l)+'</label>\n    <textarea id="'+c("function"==typeof(l=null!=(l=n.viewId||(null!=t?t.viewId:t))?l:o)?l.call(r,{name:"viewId",hash:{},data:s}):l)+'" class="form-control count-input" data-limit="2000" data-counter="post-counter" data-name="PostContent" role="textbox" aria-multiline="true" placeholder="'+c("function"==typeof(l=null!=(l=n.placeholder||(null!=t?t.placeholder:t))?l:o)?l.call(r,{name:"placeholder",hash:{},data:s}):l)+'"></textarea>\n    <div class="warning hidden">\n      '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-warning",14,"wp-lighterror",{name:"iconify",hash:{},data:s}))?i:"")+'\n      <span class="text">'+c((n.trans||t&&t.trans||o).call(r,"There was a problem posting your message, please try again later.",{name:"trans",hash:{},data:s}))+'</span>\n    </div>\n    <div class="post-ui hidden">\n        <button class="btn btn-sm btn-orange pull-right on-post">'+c((n.trans||t&&t.trans||o).call(r,"Post",{name:"trans",hash:{},data:s}))+'</button>\n        <span class="post-counter hidden pull-right"><span></span>/2000</span>\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'        <img src="'+e.escapeExpression("function"==typeof(i=null!=(i=n.avatar||(null!=t?t.avatar:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"avatar",hash:{},data:s}):i)+'">\n'},3:function(e,t,n,a,s){var i;return"        "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-user",26,"wp-neutral-2","vhcenter",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},5:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'          <div class="broadcast">\n              <input class="on-broadcast-checkbox broadcast-checkbox" type="checkbox">\n              <label class="broadcast-checkbox-label">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Announce this to my followers",{name:"trans",hash:{},data:s}))+"</label>\n              "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-info",14,"wp-wp-neutral-2","on-broadcast-info broadcast-info",{name:"iconify",hash:{},data:s}))?i:"")+"\n          </div>\n"},7:function(e,t,n,a,s){return'id="broadcast-submit"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="avatar avatar-md">\n'+(null!=(i=n.if.call(r,null!=t?t.avatar:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'</div>\n<div class="message new-message-view clearfix">\n    <textarea class="form-control count-input new-textarea" role="textbox" data-limit="2000" data-counter="post-counter" data-name="PostContent" aria-multiline="true">'+c("function"==typeof(l=null!=(l=n.placeholder||(null!=t?t.placeholder:t))?l:o)?l.call(r,{name:"placeholder",hash:{},data:s}):l)+'</textarea>\n    <div class="warning hidden">\n      '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-warning",14,"wp-lighterror",{name:"iconify",hash:{},data:s}))?i:"")+'\n      <span class="text">'+c((n.trans||t&&t.trans||o).call(r,"There was a problem posting your message, please try again later.",{name:"trans",hash:{},data:s}))+'</span>\n    </div>\n    <div class="post-ui hidden">\n'+(null!=(i=n.if.call(r,null!=t?t.canBroadcast:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+"        <button "+(null!=(i=n.if.call(r,null!=t?t.canBroadcast:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+' class="btn btn-sm btn-orange btn-right-align on-post pull-right">'+c((n.trans||t&&t.trans||o).call(r,"Post",{name:"trans",hash:{},data:s}))+'</button>\n        <span class="post-counter hidden pull-right"><span></span>/2000</span>\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'<span class="pull-right on-dismiss">\n  '+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-remove",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"\n</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.dismissable:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'<p class="error-msg">\n  '+(null!=(i=e.lambda(null!=(i=null!=t?t.error:t)?i.message:i,t))?i:"")+"\n</p>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return"                    "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Select your premium theme",{name:"trans",hash:{},data:s}))+"\n"},3:function(e,t,n,a,s){return"                    "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Select your theme",{name:"trans",hash:{},data:s}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<div id="subscription-modal"></div>\n<div id="theme-settings">\n    <div class="about-themes panel panel-default panel-default2">\n        <div class="panel-body">\n            <div class="title">\n'+(null!=(i=n.if.call(l,(n.getCurrentUserAttr||t&&t.getCurrentUserAttr||r).call(l,"isPremium",{name:"getCurrentUserAttr",hash:{},data:s}),{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+"            </div>\n            <hr>\n            "+(null!=(i=(n.reactComponent||t&&t.reactComponent||r).call(l,"ThemeSettings","premium-theme",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n        </div>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return"<br>\n<div>"+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-lock",36,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"</div>\n<h4>"+o((n.trans||t&&t.trans||r).call(l,"Private Profile",{name:"trans",hash:{},data:s}))+'</h4>\n<div class="disclaimer">'+o((n.trans||t&&t.trans||r).call(l,"This profile is private. You need to follow this user to see their information.",{name:"trans",hash:{},data:s}))+"</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l;return'<div class="col-sm-4 col-lg-5 follower-request-container">\n    <section id="profile-request">'+(null!=(i="function"==typeof(l=null!=(l=n.requestContent||(null!=t?t.requestContent:t))?l:n.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"requestContent",hash:{},data:s}):l)?i:"")+'</section>\n</div>\n<div class="col-sm-8 col-lg-7 profile-disclaimer-container">\n'},3:function(e,t,n,a,s){return'<div class="col-sm-12 profile-disclaimer-container">\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.followerRequested:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+(null!=(i=e.invokePartial(a["core.profile.private_profile_disclaimer"],t,{name:"core.profile.private_profile_disclaimer",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.showAdminOptions:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:""},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression,c=e.lambda;return'        <section id="profile-admin" class="bg-danger">\n          <header>\n            <h3>'+o((n.trans||t&&t.trans||r).call(l,"Admin",{name:"trans",hash:{},data:s}))+'</h3>\n          </header>\n\n          <div class="description">\n            '+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.email:i,t))+" ("+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.age:i,t))+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.gender:i,t))+')\n            <hr>\n            <a href="https://admin.wattpad.com/admin/manage_user.php?&id='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'">Manage user tool</a>\n            <hr>\n            <a href="https://www.wattpad.com/staff/writer_summary?username='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.username:i,t))+'">User Overview Report</a>\n            <hr>\n\n            <a href="http://redash.wattpad.com/queries/1229?p_userid='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'" class="text-danger">\n              Login Date / IP\n            </a>\n            <hr>\n\n            '+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.categories:i,t))+"\n            <hr>\n\n            Programs: <ul>"+(null!=(i=n.each.call(l,null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.programs:i,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"</ul>\n            <hr>\n\n            Has Mobile App: "+(null!=(i=n.if.call(l,null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.mobileApp:i,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?i:"")+"\n            <hr>\n\n            Currently Featured: "+(null!=(i=n.if.call(l,null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.isFeatured:i,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?i:"")+"\n            <hr>\n\n            Is Premium: "+(null!=(i=n.if.call(l,null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.isPremium:i,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?i:"")+"\n            <hr>\n\n            Wallet Coins: "+(null!=(i=n.each.call(l,null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.wallet:i,{name:"each",hash:{},fn:e.program(10,s,0),inverse:e.program(12,s,0),data:s}))?i:"")+'\n            <hr>\n\n            <a href="https://admin.wattpad.com/admin/db/users.php?PME_sys_rec='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&PME_sys_operation=Change" class="text-danger">details</a> |\n            <a href="/admin/becomeuser?id='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'" class="text-danger">become user - only for T&S use</a> |\n            <a href="https://admin.wattpad.com/admin/user_library?username='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.username:i,t))+'" class="text-danger">view library</a>\n            <hr>\n\n            <a href="https://admin.wattpad.com/admin/sendMessagesWattpad.php?username='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.username:i,t))+'">Send Message To '+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.username:i,t))+' As Wattpad</a>\n            <hr>\n\n            <a href="https://admin.wattpad.com/admin/view_messages_from_wattpad_to_user.php?username='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.username:i,t))+'">View Conversation Between Wattpad And '+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.username:i,t))+'</a>\n            <hr>\n\n            <a href="/admin/mute_list?id='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&type=muted" class="text-danger">muted</a> |\n            <a href="/admin/mute_list?id='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&type=mutedby" class="text-danger">muted by</a>\n            <hr>\n\n            <a href="/admin/block_list?id='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&type=blocked" class="text-danger">blocked</a> |\n            <a href="/admin/block_list?id='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&type=blockedby" class="text-danger">blocked by</a>\n            <hr>\n\n            Activities:\n              <a href="https://admin.wattpad.com/admin/db/comments.php?PME_sys_qf2='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'" class="text-danger">comments</a> |\n              <a href="https://admin.wattpad.com/admin/db/messages.php?PME_sys_qf1='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'" class="text-danger">messages</a> |\n              <a href="https://admin.wattpad.com/admin/user_changes?username='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.username:i,t))+'" class="text-danger">change history</a>\n            <hr>\n\n            Stories:\n              <a href="/mystories?display_user='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.username:i,t))+'" class="text-danger">manage</a> |\n              <a href="/contentreview?username='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.username:i,t))+'" class="text-danger">review</a> |\n              <a href="/contentreview?username='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.username:i,t))+'&deleted=1&spam=1" class="text-danger">deleted</a> |\n              <a href="https://admin.wattpad.com/admin/restore_all?id='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'" class="text-danger">restore all</a>\n            <hr>\n\n            Timeout:\n'+(null!=(i=n.if.call(l,null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.timeout:i,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.program(16,s,0),data:s}))?i:"")+'            | <a href="/admin/user_timeouts.php?username='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.username:i,t))+'" class="text-danger">view history</a>\n            <hr>\n\n'+(null!=(i=n.if.call(l,null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.ambassador:i,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.program(20,s,0),data:s}))?i:"")+"            <hr>\n\n"+(null!=(i=n.if.call(l,null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.isAuthor:i,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(24,s,0),data:s}))?i:"")+"            <hr>\n\n"+(null!=(i=(n.ifequal||t&&t.ifequal||r).call(l,null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.vetted:i,"v",{name:"ifequal",hash:{},fn:e.program(26,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=(n.ifequal||t&&t.ifequal||r).call(l,null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.vetted:i,"f",{name:"ifequal",hash:{},fn:e.program(28,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=(n.ifequal||t&&t.ifequal||r).call(l,null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.vetted:i,"c",{name:"ifequal",hash:{},fn:e.program(30,s,0),inverse:e.noop,data:s}))?i:"")+"            <hr>\n            \n            <h4>"+o((n.trans||t&&t.trans||r).call(l,"Admin notes",{name:"trans",hash:{},data:s}))+'</h4>\n            <hr>\n\n            <span style="white-space: pre-line;">'+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.notes:i,t))+' </span>\n            <hr>\n\n            <a href="https://admin.wattpad.com/admin/manage_user.php?&id='+o(c(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'">Add/Delete notes</a>\n          </div>\n        </section>\n'},3:function(e,t,n,a,s){var i;return"\n            "+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+"\n            "},4:function(e,t,n,a,s){var i;return"<li>"+e.escapeExpression("function"==typeof(i=null!=(i=n.key||s&&s.key)?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"key",hash:{},data:s}):i)+"</ li>"},6:function(e,t,n,a,s){return"Yes"},8:function(e,t,n,a,s){return"No"},10:function(e,t,n,a,s){return e.escapeExpression(e.lambda(null!=t?t.amount:t,t))+" "},12:function(e,t,n,a,s){return" None "},14:function(e,t,n,a,s){var i;return"                "+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.timeout:i,t))+"\n"},16:function(e,t,n,a,s){return"                None\n"},18:function(e,t,n,a,s){var i;return'            IS AMBASSADOR <a href="/admin/userflag.php?flag=moderator&id='+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&action=clear" class="text-danger">[set non-ambassador]</a>\n'},20:function(e,t,n,a,s){var i;return'            IS <strong>NOT</strong> AMBASSADOR <a href="/admin/userflag.php?flag=moderator&id='+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&action=set" class="text-danger">[set ambassador]</a>\n'},22:function(e,t,n,a,s){var i;return'            VERIFIED <a href="/admin/userflag.php?flag=author&id='+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&action=clear" class="text-danger">[set non-verified]</a>\n'},24:function(e,t,n,a,s){var i;return'            NOT VERIFIED <a href="/admin/userflag.php?flag=author&id='+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&action=set" class="text-danger">[set verified]</a>\n'},26:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return'            VETTED: <a href="/admin/user_vetted.php?id='+r(l(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&action=c" class="text-danger">[set not vetted]</a> <a href="/admin/user_vetted.php?id='+r(l(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&action=f" class="text-danger">[set failed]</a>\n'},28:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return'            FAILED: <a href="/admin/user_vetted.php?id='+r(l(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&action=v" class="text-danger">[set vetted]</a> <a href="/admin/user_vetted.php?id='+r(l(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&action=c" class="text-danger">[set not vetted]</a>\n'},30:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return'            NOT VETTED: <a href="/admin/user_vetted.php?id='+r(l(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&action=v" class="text-danger">[set vetted]</a> <a href="/admin/user_vetted.php?id='+r(l(null!=(i=null!=(i=null!=t?t.admin:t)?i.profile:i)?i.id:i,t))+'&action=f" class="text-danger">[set failed]</a>\n'},32:function(e,t,n,a,s){var i,l,r,o="";return l=null!=(l=n.isPremiumEligible||(null!=t?t.isPremiumEligible:t))?l:n.helperMissing,r={name:"isPremiumEligible",hash:{},fn:e.program(33,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.isPremiumEligible||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(o+=i),o},33:function(e,t,n,a,s){var i;return'        <section id="profile-theme">\n'+(null!=(i=e.invokePartial(a["core.profile.theme_settings"],t,{name:"core.profile.theme_settings",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"        </section>\n"},35:function(e,t,n,a,s){var i,l;return'        <section id="authentication-panel" class="panel panel-default2">\n            <div class="signup-modal">\n                '+(null!=(i="function"==typeof(l=null!=(l=n.signupContent||(null!=t?t.signupContent:t))?l:n.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"signupContent",hash:{},data:s}):l)?i:"")+"\n            </div>\n        </section>\n"},37:function(e,t,n,a,s){var i,l;return'        <section id="profile-pinned-item">'+(null!=(i="function"==typeof(l=null!=(l=n.pinnedItemContent||(null!=t?t.pinnedItemContent:t))?l:n.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"pinnedItemContent",hash:{},data:s}):l)?i:"")+"</section>\n"},39:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||n.helperMissing).call(l,"PROFILE_QUESTS",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(40,s,0),inverse:e.noop,data:s}))?i:""},40:function(e,t,n,a,s){var i;return"                "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"EmbeddedQuests","embedded-quests",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u="function",d='<div class="col-sm-12 col-md-4">\n\n'+(null!=(i=n.if.call(o,null!=t?t.admin:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'        <br>\n        <section id="profile-request">'+(null!=(i=typeof(l=null!=(l=n.requestContent||(null!=t?t.requestContent:t))?l:c)===u?l.call(o,{name:"requestContent",hash:{},data:s}):l)?i:"")+'</section>\n        <section id="profile-about">'+(null!=(i=typeof(l=null!=(l=n.aboutContent||(null!=t?t.aboutContent:t))?l:c)===u?l.call(o,{name:"aboutContent",hash:{},data:s}):l)?i:"")+"</section>\n"+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||c).call(o,null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.program(32,s,0),inverse:e.noop,data:s}))?i:"")+"\n";return l=null!=(l=n.isLoggedIn||(null!=t?t.isLoggedIn:t))?l:c,r={name:"isLoggedIn",hash:{},fn:e.noop,inverse:e.program(35,s,0),data:s},i=typeof l===u?l.call(o,r):l,n.isLoggedIn||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(d+=i),d+"\n"+(null!=(i=(n.isWattpad||t&&t.isWattpad||c).call(o,null!=t?t.username:t,{name:"isWattpad",hash:{},fn:e.noop,inverse:e.program(37,s,0),data:s}))?i:"")+'    </div>\n\n    <div class="col-sm-8">\n        <br>\n'+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||c).call(o,null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.program(39,s,0),inverse:e.noop,data:s}))?i:"")+'        <section id="profile-works">'+(null!=(i=typeof(l=null!=(l=n.worksContent||(null!=t?t.worksContent:t))?l:c)===u?l.call(o,{name:"worksContent",hash:{},data:s}):l)?i:"")+'</section>\n        <section id="profile-lists">'+(null!=(i=typeof(l=null!=(l=n.listsContent||(null!=t?t.listsContent:t))?l:c)===u?l.call(o,{name:"listsContent",hash:{},data:s}):l)?i:"")+'</section>\n        <section id="profile-message" class="message-user"></section>\n    </div>\n'},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'      <div class="wattpad-empty">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Conversation has been disabled on this profile.",{name:"trans",hash:{},data:s}))+"</div>\n"},3:function(e,t,n,a,s){var i,l;return'      <section id="profile-messages">'+(null!=(i="function"==typeof(l=null!=(l=n.messagesContent||(null!=t?t.messagesContent:t))?l:n.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"messagesContent",hash:{},data:s}):l)?i:"")+"</section>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return'<div class="col-sm-8 col-lg-7" id="profile-message-wrapper">\n'+(null!=(i=(n.isWattpad||t&&t.isWattpad||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.username:t,{name:"isWattpad",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+"</div>"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["mobile.profile.profile_follow_modal"],t,{name:"mobile.profile.profile_follow_modal",data:s,indent:"  ",helpers:n,partials:a,decorators:e.decorators}))?i:""},3:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["desktop.profile.profile_follow_modal"],t,{name:"desktop.profile.profile_follow_modal",data:s,indent:"  ",helpers:n,partials:a,decorators:e.decorators}))?i:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:""},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<section class="modal profile-modal fade" id="userTimeout" tabindex="-1" role="dialog" aria-labelledby="userTimeout" aria-hidden="true">\n    <div class="modal-dialog modal-sm">\n        <div class="modal-content">\n            <header class="modal-header">\n                <div class="pull-right top-right close" data-dismiss="modal">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'</div>\n                <h3 class="modal-title" id="myModalLabel">User Time-Out</h3>\n            </header>\n            <div class="modal-body">\n                <p>Duration:</p>\n                <select id="timeout-duration">\n                    <option value="86400">1 Day</option>\n                    <option value="172800">2 Days</option>\n                </select>\n                <p>Reason:</p>\n                <textarea class="form-control" role="textbox" aria-multiline="true" id="timeout-reason" name="timeout-reason" rows="10" cols="46"></textarea>\n            </div>\n            <footer class="modal-footer">\n                <button type="button" class="btn btn-orange on-timeout-user">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Save",{name:"trans",hash:{},data:s}))+"</button>\n            </footer>\n        </div>\n    </div>\n</section>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<section class="modal profile-modal fade" id="userClose" tabindex="-1" role="dialog" aria-labelledby="userClose" aria-hidden="true">\n    <div class="modal-dialog modal-sm">\n        <div class="modal-content">\n            <header class="modal-header">\n                <div class="pull-right top-right close" data-dismiss="modal">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'</div>\n                <h3 class="modal-title" id="myModalLabel">Close User Account</h3>\n            </header>\n            <div class="modal-body">\n                <p>Select Reason:</p>\n                <select id="close-reason">\n                    <option value="banned_explicit">Banned - Explicit</option>\n                    <option value="banned_self_harm">Banned - Self Harm</option>\n                    <option value="copyright">Copyright Infringement</option>\n                    <option value="csem">CSEM found</option>\n                    <option value="csem_image_moderation">CSEM found by image moderation</option>\n                    <option value="cyberbullying_harassment">Cyberbullying/Harassment</option>\n                    <option value="extremism">Extremism</option>\n                    <option value="poaching">Poaching</option>\n                    <option value="previous_account_closed">Previous account closed</option>\n                    <option value="sexual_messaging">Sexual Messaging</option>\n                    <option value="spam">Spam</option>\n                    <option value="underage">Underage</option>\n                </select>\n            </div>\n            <footer class="modal-footer">\n                <a role="button" href="#" class="btn btn-orange on-close-user-account">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Close Account",{name:"trans",hash:{},data:s}))+"</a>\n            </footer>\n        </div>\n    </div>\n</section>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<section class="modal profile-modal fade" id="userMute" tabindex="-1" role="dialog" aria-labelledby="userModal" aria-hidden="true">\n    <div class="modal-dialog modal-sm">\n        <div class="modal-content">\n            <header class="modal-header">\n                <div class="pull-right top-right close" data-dismiss="modal">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'</div>\n                <h3 class="modal-title" id="myModalLabel">Ignore User</h3>\n            </header>\n            <div class="modal-body">\n                <p>Both you and this user will be prevented from:</p>\n                <ul>\n                    <li>Messaging each other</li>\n                    <li>Commenting on each other\'s stories</li>\n                    <li>Dedicating stories to each other</li>\n                    <li>Following and tagging each other</li>\n                </ul>\n                <p><strong>Note:</strong><br />You will still be able to view each other\'s stories.</p>\n            </div>\n            <footer class="modal-footer">\n                <a href="//support.wattpad.com/hc/articles/201463560" class="pull-left"><small>More Info</small></a>\n                <a role="button" href="#" class="btn btn-orange on-mute-user">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Continue",{name:"trans",hash:{},data:s}))+"</a>\n            </footer>\n        </div>\n    </div>\n</section>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression,c="function";return'<div id="edit-profile" class="hidden edit-profile container">\n    <br><br>\n    <form class="form-horizontal" role="form">\n\n        \x3c!-- Temp remove until v3 API support is updated --\x3e\n        <div class="row form-group location">\n            <label for="update-location" class="control-label col-sm-3">'+o((n.trans||t&&t.trans||r).call(l,"Location",{name:"trans",hash:{},data:s}))+'</label>\n            <div class="col-sm-6">\n                <input id="update-location" type="text" class="form-control" data-field="location" value="'+o(typeof(i=null!=(i=n.location||(null!=t?t.location:t))?i:r)===c?i.call(l,{name:"location",hash:{},data:s}):i)+'" placeholder="'+o((n.trans||t&&t.trans||r).call(l,"Enter your location",{name:"trans",hash:{},data:s}))+'">\n            </div>\n        </div>\n\n        <div class="row form-group description">\n            <label for="update-location" class="control-label col-sm-3">'+o((n.trans||t&&t.trans||r).call(l,"About",{name:"trans",hash:{},data:s}))+'</label>\n            <div class="col-sm-6">\n                <textarea id="update-description" class="form-control count-input" data-field="description" data-name="Description" data-limit="2000" data-counter="description-counter" rows="10">'+o(typeof(i=null!=(i=n.description||(null!=t?t.description:t))?i:r)===c?i.call(l,{name:"description",hash:{},data:s}):i)+'</textarea>\n                <div class="description-counter pull-right"><span>'+o(typeof(i=null!=(i=n.aboutCount||(null!=t?t.aboutCount:t))?i:r)===c?i.call(l,{name:"aboutCount",hash:{},data:s}):i)+'</span>/2000</div>\n            </div>\n        </div>\n\n        <div class="row form-group website">\n            <label for="update-website" class="control-label col-sm-3">'+o((n.trans||t&&t.trans||r).call(l,"My Website",{name:"trans",hash:{},data:s}))+'</label>\n            <div class="col-sm-6">\n                <input id="update-website" type="text" class="form-control" data-field="website" value="'+o(typeof(i=null!=(i=n.website||(null!=t?t.website:t))?i:r)===c?i.call(l,{name:"website",hash:{},data:s}):i)+'" placeholder="'+o((n.trans||t&&t.trans||r).call(l,"Enter a link to your personal website",{name:"trans",hash:{},data:s}))+'">\n            </div>\n        </div>\n\n        \x3c!--<div class="row form-group facebook">\n            <label for="update-facebook" class="control-label col-sm-3">'+o((n.trans||t&&t.trans||r).call(l,"Link with Facebook",{name:"trans",hash:{},data:s}))+'</label>\n            <div class="col-sm-6">\n                <input id="update-facebook" type="text" class="form-control" data-field="facebook" value="'+o(typeof(i=null!=(i=n.facebook||(null!=t?t.facebook:t))?i:r)===c?i.call(l,{name:"facebook",hash:{},data:s}):i)+'" placeholder="'+o((n.trans||t&&t.trans||r).call(l,"Connect with Facebook",{name:"trans",hash:{},data:s}))+'">\n            </div>\n        </div>\n\n        <div class="row form-group twitter">\n            <label for="update-twitter" class="control-label col-sm-3">'+o((n.trans||t&&t.trans||r).call(l,"Link with Twitter",{name:"trans",hash:{},data:s}))+'</label>\n            <div class="col-sm-6">\n                <input id="update-twitter" type="text" class="form-control" data-field="twitter" value="'+o(typeof(i=null!=(i=n.twitter||(null!=t?t.twitter:t))?i:r)===c?i.call(l,{name:"twitter",hash:{},data:s}):i)+'" placeholder="'+o((n.trans||t&&t.trans||r).call(l,"Connect with Twitter",{name:"trans",hash:{},data:s}))+'">\n            </div>\n        </div>\n\n        <div class="row form-group smashwords">\n            <label for="update-smashwords" class="control-label col-sm-3">'+o((n.trans||t&&t.trans||r).call(l,"Smashwords",{name:"trans",hash:{},data:s}))+'</label>\n            <div class="col-sm-6">\n                <input id="update-smashwords" type="text" class="form-control" data-field="smashwords" value="'+o(typeof(i=null!=(i=n.smashwords||(null!=t?t.smashwords:t))?i:r)===c?i.call(l,{name:"smashwords",hash:{},data:s}):i)+'" placeholder="'+o((n.trans||t&&t.trans||r).call(l,"Add your Smashwords Profile",{name:"trans",hash:{},data:s}))+'">\n            </div>\n        </div>\n        --\x3e\n\n    </form>\n\n    <br>\n    <br>\n    <br>\n</div>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'<div id="follower-modal"></div>\n'},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||n.helperMissing).call(l,"PAID_CONTENT",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:""},4:function(e,t,n,a,s){var i;return(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"WPModal",null!=t?t.username:t,{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},6:function(e,t,n,a,s){return'<header class="background background-lg" style="background-image: url( \''+e.escapeExpression((n.profileBackground||t&&t.profileBackground||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.backgroundUrl:t,1920,{name:"profileBackground",hash:{},data:s}))+"' );\">\n"},8:function(e,t,n,a,s){var i;return'  <header class="background background-lg" '+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.highlight_colour:t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:"")+">\n"},9:function(e,t,n,a,s){var i;return'style="background-color: '+e.escapeExpression("function"==typeof(i=null!=(i=n.highlight_colour||(null!=t?t.highlight_colour:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"highlight_colour",hash:{},data:s}):i)+'"\n    '},11:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'      <h1 class="profile-name h3" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"%s's profile",null!=t?t.name:t,{name:"trans",hash:{},data:s}))+'">\n        '+o("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:r)?i.call(l,{name:"name",hash:{},data:s}):i)+"\n      </h1>\n"},13:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'      <h1 class="profile-name h3" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"%s's profile",null!=t?t.username:t,{name:"trans",hash:{},data:s}))+'">\n        '+o("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:r)?i.call(l,{name:"username",hash:{},data:s}):i)+"\n      </h1>\n"},15:function(e,t,n,a,s){return"scroll-to-element"},17:function(e,t,n,a,s){return"on-followers"},19:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'data-toggle="tooltip" data-placement="top"\n        title="'+r((n.format||t&&t.format||l).call(i,null!=t?t.numFollowers:t,{name:"format",hash:{},data:s}))+" "+r((n.trans||t&&t.trans||l).call(i,"Followers",{name:"trans",hash:{},data:s}))+'" '},21:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'          <nav>\n            <ul>\n              <li data-section="about" class="'+(null!=(i=n.if.call(r,null!=t?t.active_about:t,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?i:"")+'">\n                <a href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'" class="on-nav-item">'+c((n.trans||t&&t.trans||o).call(r,"About",{name:"trans",hash:{},data:s}))+'</a>\n              </li>\n              <li data-section="conversations" class="'+(null!=(i=n.if.call(r,null!=t?t.active_activity:t,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?i:"")+'">\n                <a href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'/conversations" class="on-nav-item">'+c((n.trans||t&&t.trans||o).call(r,"Conversations",{name:"trans",hash:{},data:s}))+'</a>\n              </li>\n              <li data-section="following" class="'+(null!=(i=n.if.call(r,null!=t?t.active_following:t,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?i:"")+'">\n                <a href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'/following" class="on-nav-item">'+c((n.trans||t&&t.trans||o).call(r,"Following",{name:"trans",hash:{},data:s}))+"</a>\n              </li>\n"+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||o).call(r,null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.program(24,s,0),inverse:e.noop,data:s}))?i:"")+"            </ul>\n          </nav>\n"},22:function(e,t,n,a,s){return"active"},24:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||n.helperMissing).call(l,"PROFILE_QUESTS",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(25,s,0),inverse:e.noop,data:s}))?i:""},25:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'              <li data-section="quests" class="'+(null!=(i=n.if.call(r,null!=t?t.active_quests:t,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?i:"")+'">\n                <a href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'/quests" class="on-nav-item">'+c((n.trans||t&&t.trans||o).call(r,"Quests",{name:"trans",hash:{},data:s}))+"</a>\n              </li>\n"},27:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.showAdminOptions:t,{name:"if",hash:{},fn:e.program(28,s,0),inverse:e.program(30,s,0),data:s}))?i:""},28:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing;return'            <a class="btn btn-red" role="button"\n              href="/user/'+e.escapeExpression("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-lock",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'</a>\n            <a class="btn btn-red on-change-invalid-image" role="button" href="#" data-imagetype="avatar">\n              '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-camera",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+' Avatar\n            </a>\n            <a class="btn btn-red on-change-invalid-image" role="button" href="#" data-imagetype="banner">\n              '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-camera",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+" Background\n            </a>\n\n"},30:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing;return'            <a class="btn btn-red" role="button"\n              href="/user/'+e.escapeExpression("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'/admin">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-unlock",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"</a>\n"},32:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return(null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||r).call(l,"PAID_CONTENT",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.noop,data:s}))?i:"")+'\n            <button class="btn btn-white on-edit-profile">\n              '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-settings",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+' <span class="hidden-xs">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Edit Profile",{name:"trans",hash:{},data:s}))+"</span>\n            </button>\n"},33:function(e,t,n,a,s){var i;return'            <span class="user-balance">\n              '+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"WalletWithOnboarding","profile",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n            </span>\n"},35:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u="\n"+(null!=(i=n.if.call(o,null!=t?t.isPrivate:t,{name:"if",hash:{},fn:e.program(36,s,0),inverse:e.program(41,s,0),data:s}))?i:"")+"\n            "+(null!=(i=n.if.call(o,null!=t?t.isPrivateToMe:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(56,s,0),data:s}))?i:"")+'\n\n            <div class="button-group inline-block relative">\n\n'+(null!=(i=n.if.call(o,(n.isTestGroup||t&&t.isTestGroup||c).call(o,"BLOCK_MVP",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.noop,inverse:e.program(59,s,0),data:s}))?i:"");return l=null!=(l=n.isAmbassador||(null!=t?t.isAmbassador:t))?l:c,r={name:"isAmbassador",hash:{},fn:e.noop,inverse:e.program(63,s,0),data:s},i="function"==typeof l?l.call(o,r):l,n.isAmbassador||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(u+=i),u+"\n              "+(null!=(i=n.if.call(o,(n.isTestGroup||t&&t.isTestGroup||c).call(o,"BLOCK_MVP",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(65,s,0),inverse:e.noop,data:s}))?i:"")+"\n\n              "+(null!=(i=n.if.call(o,(n.isTestGroup||t&&t.isTestGroup||c).call(o,"BLOCK_MVP",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(68,s,0),inverse:e.noop,data:s}))?i:"")+"\n\n"+(null!=(i=n.if.call(o,(n.isTestGroup||t&&t.isTestGroup||c).call(o,"BLOCK_MVP",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.noop,inverse:e.program(72,s,0),data:s}))?i:"")+"            </div>\n"},36:function(e,t,n,a,s){var i;return(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.followingRequested:t,{name:"if",hash:{},fn:e.program(37,s,0),inverse:e.program(39,s,0),data:s}))?i:"")+"\n"},37:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'            <button class="btn btn-teal on-following-request" data-action="unfollow" role="button" aria-pressed="true"\n              data-gtm="profile|unfollow">\n              '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-following-request",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+' <span\n                class="hidden-xs">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Requested",{name:"trans",hash:{},data:s}))+"</span>\n            </button>\n\n"},39:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'            <button class="btn btn-white on-following-request" data-action="follow" role="button" aria-pressed="false"\n              data-gtm="profile|follow">\n              '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-follow",16,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+' <span class="hidden-xs">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Request",{name:"trans",hash:{},data:s}))+"</span>\n            </button>\n"},41:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression,d='            <button\n              class="btn btn-fan '+(null!=(i=n.if.call(o,null!=t?t.following:t,{name:"if",hash:{},fn:e.program(42,s,0),inverse:e.program(44,s,0),data:s}))?i:"")+" ";return l=null!=(l=n.disabled||(null!=t?t.disabled:t))?l:c,r={name:"disabled",hash:{},fn:e.program(46,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.disabled||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(d+=i),d+' on-follow-user"\n              data-target="'+u("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)?l.call(o,{name:"username",hash:{},data:s}):l)+'" data-following="'+u("function"==typeof(l=null!=(l=n.following||(null!=t?t.following:t))?l:c)?l.call(o,{name:"following",hash:{},data:s}):l)+'"\n              data-gtm="'+(null!=(i=n.if.call(o,null!=t?t.following:t,{name:"if",hash:{},fn:e.program(48,s,0),inverse:e.program(50,s,0),data:s}))?i:"")+'">\n'+(null!=(i=n.if.call(o,null!=t?t.following:t,{name:"if",hash:{},fn:e.program(52,s,0),inverse:e.program(54,s,0),data:s}))?i:"")+"            </button>\n"},42:function(e,t,n,a,s){return"btn-teal"},44:function(e,t,n,a,s){return"btn-white"},46:function(e,t,n,a,s){return"disabled"},48:function(e,t,n,a,s){return"profile|unfollow"},50:function(e,t,n,a,s){return"profile|follow"},52:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"              "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-following no-right-padding",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'<span class="hidden-xs truncate">\n                '+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Following",{name:"trans",hash:{},data:s}))+"</span>\n"},54:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"              "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-follow no-right-padding",16,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+'<span class="hidden-xs truncate">\n                '+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Follow",{name:"trans",hash:{},data:s}))+"</span>\n"},56:function(e,t,n,a,s){var i;return null!=(i=(n.isWattpad||t&&t.isWattpad||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.username:t,{name:"isWattpad",hash:{},fn:e.noop,inverse:e.program(57,s,0),data:s}))?i:""},57:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'\n\n            <a role="button" href="#" class="btn btn-white on-message" data-gtm="profile|message">\n              '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-inbox no-right-padding",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n              <span class="hidden-xs hidden-sm">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Message",{name:"trans",hash:{},data:s}))+"</span>\n            </a>\n\n            "},59:function(e,t,n,a,s){var i;return"\n              "+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isPrivateToMe:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(60,s,0),data:s}))?i:"")+"\n"},60:function(e,t,n,a,s){var i,l,r;return l=null!=(l=n.isAmbassador||(null!=t?t.isAmbassador:t))?l:n.helperMissing,r={name:"isAmbassador",hash:{},fn:e.program(61,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.isAmbassador||(i=n.blockHelperMissing.call(t,i,r)),null!=i?i:""},61:function(e,t,n,a,s){var i;return'\n              <button class="btn btn-white dropdown-toggle" data-toggle="dropdown" role="button"\n                aria-controls="profile-more-options" aria-expanded="false" aria-label="more options">\n                '+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-more",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n              </button>\n              "},63:function(e,t,n,a,s){var i;return"              "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"ProfileMoreOptionsButton","options",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},65:function(e,t,n,a,s){var i,l,r;return l=null!=(l=n.isAmbassador||(null!=t?t.isAmbassador:t))?l:n.helperMissing,r={name:"isAmbassador",hash:{},fn:e.program(66,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.isAmbassador||(i=n.blockHelperMissing.call(t,i,r)),null!=i?i:""},66:function(e,t,n,a,s){var i;return"\n              "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"ProfileMoreOptionsButton","options",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n               "},68:function(e,t,n,a,s){var i,l,r;return l=null!=(l=n.isAdmin||(null!=t?t.isAdmin:t))?l:n.helperMissing,r={name:"isAdmin",hash:{},fn:e.program(69,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.isAdmin||(i=n.blockHelperMissing.call(t,i,r)),null!=i?i:""},69:function(e,t,n,a,s){var i;return"\n"+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.showAdminOptions:t,{name:"if",hash:{},fn:e.program(70,s,0),inverse:e.noop,data:s}))?i:"")+" "},70:function(e,t,n,a,s){var i,l,r,o="";return l=null!=(l=n.isAmbassador||(null!=t?t.isAmbassador:t))?l:n.helperMissing,r={name:"isAmbassador",hash:{},fn:e.noop,inverse:e.program(63,s,0),data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.isAmbassador||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(o+=i),o+"              "},72:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'              <div class="triangle"></div>\n\n              <ul id="profile-more-options" class="dropdown-menu align-right">\n                '+(null!=(i=n.if.call(r,null!=t?t.isPrivateToMe:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(73,s,0),data:s}))?i:"")+'\n\n                <li><a role="button" href="#" data-toggle="modal" class="on-report" data-gtm="profile|report">\n                    '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-warning",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.trans||t&&t.trans||o).call(r,"Report",{name:"trans",hash:{},data:s}))+" "+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+"\n                  </a></li>\n\n                "+(null!=(i=n.if.call(r,null!=t?t.isPrivateToMe:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(77,s,0),data:s}))?i:"")+"\n              </ul>\n"},73:function(e,t,n,a,s){var i,l,r;return l=null!=(l=n.isLoggedIn||(null!=t?t.isLoggedIn:t))?l:n.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(74,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.isLoggedIn||(i=n.blockHelperMissing.call(t,i,r)),null!=i?i:""},74:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'\n                <li class="mute'+(null!=(i=n.if.call(l,null!=t?t.isMuted:t,{name:"if",hash:{},fn:e.program(75,s,0),inverse:e.noop,data:s}))?i:"")+'">\n                  <a role="button" href="#" data-toggle="modal" data-target="#userMute"\n                    data-gtm="profile|mute">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-mute",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.trans||t&&t.trans||r).call(l,"Mute",{name:"trans",hash:{},data:s}))+'</a>\n                </li>\n\n                <li class="unmute'+(null!=(i=n.unless.call(l,null!=t?t.isMuted:t,{name:"unless",hash:{},fn:e.program(75,s,0),inverse:e.noop,data:s}))?i:"")+'">\n                  <a role="button" href="#" class="on-unmute-user"\n                    data-gtm="profile|unmute">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-unmute",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.trans||t&&t.trans||r).call(l,"Undo Mute",{name:"trans",hash:{},data:s}))+"</a>\n                </li>\n                "},75:function(e,t,n,a,s){return" hide"},77:function(e,t,n,a,s){var i,l,r;return l=null!=(l=n.isAmbassador||(null!=t?t.isAmbassador:t))?l:n.helperMissing,r={name:"isAmbassador",hash:{},fn:e.program(78,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.isAmbassador||(i=n.blockHelperMissing.call(t,i,r)),null!=i?i:""},78:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'\n                <li><a role="button" href="#" data-toggle="modal" data-target="#userClose"\n                    data-gtm="profile|close_account">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove-alt",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n                    "+o((n.trans||t&&t.trans||r).call(l,"Close Account",{name:"trans",hash:{},data:s}))+'</a></li>\n                <li><a role="button" href="#" data-toggle="modal" data-target="#userTimeout"\n                    data-gtm="profile|time_out">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-clock",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.trans||t&&t.trans||r).call(l,"Time-out",{name:"trans",hash:{},data:s}))+"</a>\n                </li>\n                "},80:function(e,t,n,a,s){var i;return"  "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"Toast","unmute-info",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},82:function(e,t,n,a,s){var i;return"  "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"Toast","unblock-info",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression,d="function",h=(null!=(i=n.if.call(o,null!=t?t.numFollowers:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||c).call(o,null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'\n<div id="edit-controls" class="hidden faded edit-profile clearfix">\n  <div class="container">\n    <strong>'+u((n.trans||t&&t.trans||c).call(o,"Currently editing your profile",{name:"trans",hash:{},data:s}))+'</strong>\n    <div class="actions pull-right">\n      <button class="btn btn-orange on-edit-save">'+u((n.trans||t&&t.trans||c).call(o,"Save Changes",{name:"trans",hash:{},data:s}))+'</button>\n      <button class="btn btn-grey on-edit-cancel">'+u((n.trans||t&&t.trans||c).call(o,"Cancel",{name:"trans",hash:{},data:s}))+"</button>\n    </div>\n  </div>\n</div>\n\n"+(null!=(i=n.if.call(o,null!=t?t.backgroundUrl:t,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?i:"")+'    <div id="edit-overlay" class="hidden faded edit-profile"></div>\n\n    <div id="edit-background" class="hidden faded edit-profile center-block">\n      <span class="loading faded"></span>\n      <button class="btn btn-glass">'+(null!=(i=(n.iconify||t&&t.iconify||c).call(o,"fa-camera",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"\n        "+u((n.trans||t&&t.trans||c).call(o,"Change Background Image",{name:"trans",hash:{},data:s}))+'</button>\n    </div>\n\n    <div class="avatar avatar-profile center-block">\n      '+(null!=(i=(n.reactComponent||t&&t.reactComponent||c).call(o,"Avatar","display",{name:"reactComponent",hash:{},data:s}))?i:"")+'\n\n      <div id="edit-avatar" class="hidden faded edit-profile">\n        <span class="loading-bg faded"></span>\n        <span class="loading faded"></span>\n        <button>'+(null!=(i=(n.iconify||t&&t.iconify||c).call(o,"fa-camera",60,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'</button>\n      </div>\n    </div>\n\n    <div class="badges">\n'+(null!=(i=n.if.call(o,null!=t?t.name:t,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?i:"")+"\n"+(null!=(i=e.invokePartial(a["core.components.user_badges"],t,{name:"core.components.user_badges",hash:{badgeSize:"20"},data:s,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'    </div>\n\n    <p id="alias" aria-label="also known as '+u(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===d?l.call(o,{name:"username",hash:{},data:s}):l)+'.">@'+u(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===d?l.call(o,{name:"username",hash:{},data:s}):l)+'</p>\n\n    <div id="edit-name" class="hidden faded edit-profile center-block">\n      <input type="text" class="form-control" data-field="name" value="'+u(typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:c)===d?l.call(o,{name:"name",hash:{},data:s}):l)+'"\n        placeholder="'+u((n.trans||t&&t.trans||c).call(o,"Full name",{name:"trans",hash:{},data:s}))+'">\n    </div>\n\n    <div class="row header-metadata">\n      <div class="col-xs-4 '+(null!=(i=n.if.call(o,null!=t?t.numStoriesPublished:t,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?i:"")+'" data-id="profile-works">\n        <p>'+u((n.count||t&&t.count||c).call(o,null!=t?t.numStoriesPublished:t,{name:"count",hash:{},data:s}))+"</p>\n        <p>"+u((n.npgettext||t&&t.npgettext||c).call(o,"Profile Metadata","Work","Works",null!=t?t.numStoriesPublished:t,{name:"npgettext",hash:{},data:s}))+'</p>\n      </div>\n      <div class="col-xs-4 '+(null!=(i=n.if.call(o,null!=t?t.numLists:t,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?i:"")+'" data-id="profile-lists">\n        <p>'+u((n.count||t&&t.count||c).call(o,null!=t?t.numLists:t,{name:"count",hash:{},data:s}))+"</p>\n        <p>"+u((n.npgettext||t&&t.npgettext||c).call(o,"Profile Metadata","Reading List","Reading Lists",null!=t?t.numLists:t,{name:"npgettext",hash:{},data:s}))+'</p>\n      </div>\n      <div class="col-xs-4 '+(null!=(i=n.if.call(o,null!=t?t.numFollowers:t,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?i:"")+'"\n        '+(null!=(i=(n.greaterThan||t&&t.greaterThan||c).call(o,null!=t?t.numFollowers:t,999,{name:"greaterThan",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?i:"")+'>\n        <p class="followers-count">'+u((n.count||t&&t.count||c).call(o,null!=t?t.numFollowers:t,{name:"count",hash:{},data:s}))+"</p>\n        <p>"+u((n.npgettext||t&&t.npgettext||c).call(o,"Profile Metadata","Follower","Followers",null!=t?t.numFollowers:t,{name:"npgettext",hash:{},data:s}))+'</p>\n      </div>\n    </div>\n\n    <div id="page-navigation" class="sub-navigation">\n      <div id="edit-navblock" class="hidden faded edit-profile"></div>\n\n      <div class="container">\n        <div class="navigation-content">\n\n'+(null!=(i=n.if.call(o,null!=t?t.isPrivateToMe:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(21,s,0),data:s}))?i:"")+'\n          <div class="actions" role="menu">\n\n';return l=null!=(l=n.isAdmin||(null!=t?t.isAdmin:t))?l:c,r={name:"isAdmin",hash:{},fn:e.program(27,s,0),inverse:e.noop,data:s},i=typeof l===d?l.call(o,r):l,n.isAdmin||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(h+=i),h+"\n"+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||c).call(o,null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.program(32,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||c).call(o,null!=t?t.username:t,{name:"isCurrentUser",hash:{},fn:e.noop,inverse:e.program(35,s,0),data:s}))?i:"")+'          </div>\n        </div>\n      </div>\n    </div>\n  </header>\n\n  <main id="content" class="container" role="main">'+(null!=(i=typeof(l=null!=(l=n.mainContent||(null!=t?t.mainContent:t))?l:c)===d?l.call(o,{name:"mainContent",hash:{},data:s}):l)?i:"")+'</main>\n\n  <div class="profile-options-modal">\n'+(null!=(i=e.invokePartial(a["desktop.profile.profile_mute_modal"],t,{name:"desktop.profile.profile_mute_modal",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a["desktop.profile.profile_close_modal"],t,{name:"desktop.profile.profile_close_modal",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a["desktop.profile.profile_timeout_modal"],t,{name:"desktop.profile.profile_timeout_modal",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"  </div>\n\n"+(null!=(i=n.if.call(o,null!=t?t.recentlyUnmuted:t,{name:"if",hash:{},fn:e.program(80,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(o,null!=t?t.recentlyUnblocked:t,{name:"if",hash:{},fn:e.program(82,s,0),inverse:e.noop,data:s}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'<div class="full-screen background-1"></div>\n<div class="container">\n  <div class="onboardingModal step1 modal fade in" role="dialog" data-backdrop="static" data-keyboard="false" style="display:block;">\n    <div class="modal-dialog">\n      <form class="form-horizontal" role="form" method="POST">\n        <div class="modal-content">\n          <div class="modal-header">\n            <center>'+r((n.connectImage||t&&t.connectImage||l).call(i,"/logos/wp-logo-orange.png","Wattpad",{name:"connectImage",hash:{klass:"wp-logo",width:"174"},data:s}))+'</center>\n          </div>\n          <div class="modal-body">\n            <h2 class="text-center" id="personal-greeting"> '+r((n.trans||t&&t.trans||l).call(i,"Hi %s",null!=t?t.username:t,{name:"trans",hash:{},data:s}))+' </h2>\n            <p class="text-center" id="gender-select-copy"> '+r((n.trans||t&&t.trans||l).call(i,"To get the best Wattpad experience, tell us about yourself!",{name:"trans",hash:{},data:s}))+" <br /> "+r((n.trans||t&&t.trans||l).call(i,"Your response will be kept private.",{name:"trans",hash:{},data:s}))+'</p>\n            <div class="gender-selector" id="inputGender">\n              <div class="opt male" value="male">\n                <input id="male-icon" type="radio" name="gender-icon" value="male" />\n                <label class="gender-card male-icon" for="male-icon"></label>\n                <label class="gender-text" for="male-icon" value="male">'+r((n.trans||t&&t.trans||l).call(i,"He",{name:"trans",hash:{},data:s}))+'</label>\n              </div>\n              <div class="opt female" value="female">\n                <input id="female-icon" type="radio" name="gender-icon" value="female" />\n                <label class="gender-card female-icon" for="female-icon"></label>\n                <label class="gender-text" for="female-icon" value="female">'+r((n.trans||t&&t.trans||l).call(i,"She",{name:"trans",hash:{},data:s}))+'</label>\n              </div>\n              <div class="opt other" value="other">\n                  <input id="other-icon" type="radio" name="gender-icon" value="other" />\n                  <label class="gender-card other-icon" for="other-icon"></label>\n                  <label class="gender-text" for="other-icon" value="other">'+r((n.trans||t&&t.trans||l).call(i,"They",{name:"trans",hash:{},data:s}))+'</label>\n              </div>\n          </div>\n          </div>\n          <div class="modal-footer">\n            <center><button class="btn btn-orange on-continue continue-button disabled">'+r((n.trans||t&&t.trans||l).call(i,"Next",{name:"trans",hash:{},data:s}))+"</button></center>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.story:t)?i.tagRankings:i,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:""},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'\n<div class="tag-ranking">\n  '+o((n.connectImage||t&&t.connectImage||r).call(l,"/shared/ranking-medal.png","ranking",{name:"connectImage",hash:{width:"22",height:"27",klass:"tag-ranking-medal"},data:s}))+"\n  <span>"+(null!=(i=(n.trans||t&&t.trans||r).call(l,"#%1$s in %2$s",(n.sprintf||t&&t.sprintf||r).call(l,"<b>%s</b>",null!=(i=null!=(i=null!=(i=null!=t?t.story:t)?i.tagRankings:i)?i[0]:i)?i.rank:i,{name:"sprintf",hash:{},data:s}),(n.sprintf||t&&t.sprintf||r).call(l,"<b>%s</b>",(n.sanitize||t&&t.sanitize||r).call(l,null!=(i=null!=(i=null!=(i=null!=t?t.story:t)?i.tagRankings:i)?i[0]:i)?i.name:i,{name:"sanitize",hash:{},data:s}),{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?i:"")+'</span>\n  <a href="'+o(e.lambda(null!=(i=null!=t?t.story:t)?i.url:i,t))+'/rankings" class="on-ranking-navigate">'+o((n.trans||t&&t.trans||r).call(l,"See all rankings",{name:"trans",hash:{},data:s}))+"</a>\n</div>\n"},4:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'  <div>\n    <span data-toggle="tooltip" data-html="true" data-delay=\'{"show": 0, "hide":2000}\' data-placement="auto"\n      title="'+o((n.trans||t&&t.trans||r).call(l,"Story may contain graphic depictions of violence, sexuality, strong language, and/or other mature themes.",{name:"trans",hash:{},data:s}))+" <a target='_blank' href='/guidelines'>"+o((n.trans||t&&t.trans||r).call(l,"Learn more about our content guidelines",{name:"trans",hash:{},data:s}))+'</a>" >\n      '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-info",22,"wp-neutral-2","pull-left",{name:"iconify",hash:{},data:s}))?i:"")+"</span>\n      <span> "+o((n.getStoryRating||t&&t.getStoryRating||r).call(l,null!=(i=null!=t?t.story:t)?i.rating:i,{name:"getStoryRating",hash:{},data:s}))+" </span>\n  </div>\n"},6:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"<div>"+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,(n.getCopyrightIcon||t&&t.getCopyrightIcon||r).call(l,null!=(i=null!=t?t.story:t)?i.copyright:i,{name:"getCopyrightIcon",hash:{},data:s}),22,"wp-neutral-2","pull-left",{name:"iconify",hash:{},data:s}))?i:"")+" <span> "+e.escapeExpression((n.getCopyright||t&&t.getCopyright||r).call(l,null!=(i=null!=t?t.story:t)?i.copyright:i,{name:"getCopyright",hash:{},data:s}))+" </span></div>\n"},8:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return"<div>"+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t.story:t)?i.sourceLink:i)?i.icon:i,22,"wp-base-2-dark","pull-left",{name:"iconify",hash:{},data:s}))?i:"")+'\n  <a class="btn btn-link" href="'+r(l(null!=(i=null!=(i=null!=t?t.story:t)?i.sourceLink:i)?i.url:i,t))+'" target="_blank"> '+r(l(null!=(i=null!=(i=null!=t?t.story:t)?i.sourceLink:i)?i.label:i,t))+" </a>\n</div>\n"},10:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return"<div>"+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-warning",22,"wp-base-2-dark","pull-left",{name:"iconify",hash:{},data:s}))?i:"")+'\n  <a href="'+c("function"==typeof(l=null!=(l=n.reportUrl||(null!=t?t.reportUrl:t))?l:o)?l.call(r,{name:"reportUrl",hash:{},data:s}):l)+'" class="btn btn-link on-navigate">\n    '+c((n.trans||t&&t.trans||o).call(r,"Report this story",{name:"trans",hash:{},data:s}))+"\n  </a>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return(null!=(i=n.if.call(l,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?i:"")+"\n\n"+(null!=(i=(n.greaterThan||t&&t.greaterThan||n.helperMissing).call(l,null!=(i=null!=t?t.story:t)?i.rating:i,3,{name:"greaterThan",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=(i=null!=t?t.story:t)?i.copyright:i,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=(i=null!=(i=null!=t?t.story:t)?i.sourceLink:i)?i.url:i,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.unless.call(l,null!=(i=null!=t?t.story:t)?i.deleted:i,{name:"unless",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?i:"")},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class=\'cover-container\'>\n  <a class="on-navigate cover cover-md on-story-item" href="'+o((n.formatStoryUrl||t&&t.formatStoryUrl||r).call(l,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">\n      <div class="fixed-ratio fixed-ratio-cover">\n          <img src="'+o((n.resizeCover||t&&t.resizeCover||r).call(l,null!=t?t.cover:t,256,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:r)?i.call(l,{name:"title",hash:{},data:s}):i)+'">\n      </div>\n  </a>\n</div>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"BrowseStoryItem",null!=t?t.id:t,{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c="function",u=e.escapeExpression;return'<div data-story-id="'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'" class="addToLibraryModal modal fade" aria-hidden="true" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <header class="modal-header">\n        <h1 class="modal-title">'+u(typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)===c?l.call(r,{name:"title",hash:{},data:s}):l)+"</h1>\n        <h2>"+u((n.trans||t&&t.trans||o).call(r,"Add to Reading List",{name:"trans",hash:{},data:s}))+'</h2>\n        <div class="close" data-dismiss="modal">\n          '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",17,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'\n        </div>\n      </header>\n\n      <div class="modal-body">\n        <ul id="add-to-list" class="lists-menu list-unstyled" data-story-id="'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'"></ul>\n        <ul class="lists-menu list-unstyled">\n          <li><a class="create-list-button" href data-target=".addToLibraryListNameModal[data-story-id='+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+']" data-toggle="modal">\n            '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-plus",14,"wp-base-1",{name:"iconify",hash:{},data:s}))?i:"")+'\n            <span class="reading-list-name">'+u((n.trans||t&&t.trans||o).call(r,"New Reading List",{name:"trans",hash:{},data:s}))+'</span>\n          </a></li>\n        </ul>\n      </div>\n\n    </div>\n  </div>\n</div>\n<div data-story-id="'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'" class="addToLibraryListNameModal modal fade" aria-hidden="true" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <header class="modal-header">\n        <h1 class="modal-title">'+u((n.trans||t&&t.trans||o).call(r,"New Reading List",{name:"trans",hash:{},data:s}))+'</h1>\n      </header>\n\n      <div class="modal-body">\n        <div class="inputs">\n          <div class="error-feedback">\n            '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-warning",16,"wp-errorbackground",{name:"iconify",hash:{},data:s}))?i:"")+"\n            "+u((n.trans||t&&t.trans||o).call(r,"Please name your reading list",{name:"trans",hash:{},data:s}))+'\n          </div>\n          <input type="text" class="form-control list-name" placeholder="'+u((n.trans||t&&t.trans||o).call(r,"Enter Reading List name",{name:"trans",hash:{},data:s}))+'">\n        </div>\n      </div>\n      <div class="buttons clearfix">\n        <button type="button" class="btn btn-md btn-grey" data-dismiss="modal">'+u((n.trans||t&&t.trans||o).call(r,"Cancel",{name:"trans",hash:{},data:s}))+'</button>\n        <button type="button" class="on-create-list btn btn-md btn-orange" data-story-id="'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-dismiss="modal">'+u((n.trans||t&&t.trans||o).call(r,"Create",{name:"trans",hash:{},data:s}))+"</button>\n      </div>\n\n    </div>\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return"                            "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Free Preview",{name:"trans",hash:{},data:s}))+"\n"},3:function(e,t,n,a,s){return"                            "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Read",{name:"trans",hash:{},data:s}))+"\n"},5:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'                <p class="description">'+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||r).call(l,null!=t?t.description:t,220,!1,{name:"simpleShorten",hash:{},data:s}))?i:"")+'\n                  <a class="on-story-details">  <span class="read-more">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"More",{name:"trans",hash:{},data:s}))+"</span></a>\n                </p>\n"},7:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'                    <div class="tag-ranking">\n                      '+c((n.connectImage||t&&t.connectImage||o).call(r,"/shared/ranking-medal.png","ranking",{name:"connectImage",hash:{width:"22",height:"27",klass:"tag-ranking-medal"},data:s}))+"\n                      <span>"+(null!=(i=(n.trans||t&&t.trans||o).call(r,"#%1$s in %2$s",(n.sprintf||t&&t.sprintf||o).call(r,"<b>%s</b>",null!=(i=null!=(i=null!=t?t.tagRankings:t)?i[0]:i)?i.rank:i,{name:"sprintf",hash:{},data:s}),(n.sprintf||t&&t.sprintf||o).call(r,"<b>%s</b>",(n.sanitize||t&&t.sanitize||o).call(r,null!=(i=null!=(i=null!=t?t.tagRankings:t)?i[0]:i)?i.name:i,{name:"sanitize",hash:{},data:s}),{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?i:"")+'</span>\n                      <a href="'+c("function"==typeof(l=null!=(l=n.url||(null!=t?t.url:t))?l:o)?l.call(r,{name:"url",hash:{},data:s}):l)+'/rankings" class="on-ranking-navigate">'+c((n.trans||t&&t.trans||o).call(r,"See all rankings",{name:"trans",hash:{},data:s}))+"</a>\n                    </div>\n"},9:function(e,t,n,a,s){var i;return"                    "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"TagMeta",null!=t?t.id:t,{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},11:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                    "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-check",12,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+' <span class="completed text">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"completed",{name:"trans",hash:{},data:s}))+"</span>\n"},13:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                    "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-more",12,"wp-base-1",{name:"iconify",hash:{},data:s}))?i:"")+' <span class="ongoing text">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"ongoing",{name:"trans",hash:{},data:s}))+"</span>\n"+(null!=(i=n.if.call(l,null!=t?t.modifyDate:t,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.program(16,s,0),data:s}))?i:"")},14:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'                        <time datetime="'+r((n.fromNow||t&&t.fromNow||l).call(i,null!=t?t.modifyDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+'">\n                            '+r((n.trans||t&&t.trans||l).call(i,"Updated %s",(n.fromNow||t&&t.fromNow||l).call(i,null!=t?t.modifyDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}),{name:"trans",hash:{},data:s}))+"\n                        </time>\n"},16:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.lastPublishedPart:t)?i.createDate:i,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?i:""},17:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'                                <time datetime="'+o((n.fromNow||t&&t.fromNow||r).call(l,null!=(i=null!=t?t.lastPublishedPart:t)?i.createDate:i,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+'">\n                                    '+o((n.trans||t&&t.trans||r).call(l,"Updated %s",(n.fromNow||t&&t.fromNow||r).call(l,null!=(i=null!=t?t.lastPublishedPart:t)?i.createDate:i,{name:"fromNow",hash:{fuzzyTime:!0},data:s}),{name:"trans",hash:{},data:s}))+"\n                                </time>\n"},19:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'                    <div class="mature">\n                        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-info",10,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Mature",{name:"trans",hash:{},data:s}))+"\n                    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="modal fade browse-preview" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n    <div class="modal-content">\n        <div class="modal-header clearfix">\n            <button type="button" class="close close-white" data-dismiss="modal" aria-label="Close">\n                '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",28,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'\n            </button>\n            <button type="button" class="close close-mobile" data-dismiss="modal" aria-label="Close">\n                '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",28,"wp-neutral-1",{name:"iconify",hash:{},data:s}))?i:"")+'\n            </button>\n        </div>\n        <div class="modal-body clearfix">\n            <a href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-story-details cover cover-lg pull-left on-cover">\n                <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,368,{name:"resizeCover",hash:{},data:s}))+'" alt="'+c((n.trans||t&&t.trans||o).call(r,"%1$s by %2$s",null!=t?t.title:t,null!=(i=null!=t?t.user:t)?i.name:i,{name:"trans",hash:{},data:s}))+'">\n            </a>\n            <div class="content">\n                <h3 class="modal-title"><a href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'" class="modal-title on-story-details">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+'</a></h3>\n\n                <div class="meta">\n                    <span> '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-view",10,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+" </span>\n                    <span> "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-vote",10,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+" </span>\n                    <span> "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-list",10,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c("function"==typeof(l=null!=(l=n.numParts||(null!=t?t.numParts:t))?l:o)?l.call(r,{name:"numParts",hash:{},data:s}):l)+' </span>\n                </div>\n\n                <div class="actions">\n                    <button class="on-start-reading btn btn-sm btn-inline btn-orange btn-left-align">\n'+(null!=(i=n.if.call(r,null!=t?t.isPaidPreview:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'                    </button>\n                    <div class="button-group relative inline-block">\n                        <button data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" class="btn-story-lists btn btn-sm btn-inline btn-orange btn-left-align btn-right-align">\n                            '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-plus",10,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"\n\n                        </button>\n"+(null!=(i=e.invokePartial(a["core.components.add_to_library_dropdown"],t,{name:"core.components.add_to_library_dropdown",data:s,indent:"                        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"                    </div>\n                </div>\n\n"+(null!=(i=n.if.call(r,null!=t?t.description:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(r,null!=t?t.showTagRankings:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s}))?i:"")+'\n                <div class="info">\n'+(null!=(i=n.if.call(r,null!=t?t.completed:t,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?i:"")+"\n"+(null!=(i=n.if.call(r,null!=t?t.mature:t,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?i:"")+"                </div>\n\n            </div>\n        </div>\n    </div>\n</div>\n\n"+(null!=(i=e.invokePartial(a["core.components.add_to_library_modal"],t,{name:"core.components.add_to_library_modal",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-right",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:""},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'        <div class="tag-module-tags">\n            <a class="on-navigate" href="/tags/'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'"><s>#</s>'+o("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+"</a>\n        </div>\n"},5:function(e,t,n,a,s,i,l){var r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression;return"\n"+(null!=(r=n.if.call(o,null!=t?t.showHotListHeader:t,{name:"if",hash:{},fn:e.program(6,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n<div class='collection'>\n"+(null!=(r=n.each.call(o,null!=t?t.stories:t,{name:"each",hash:{},fn:e.program(11,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'</div>\n\n<div class="show-more center-text hidden">\n    <button class="btn btn-link on-showmore">\n        <span class=\'show-more-message\'>\n            <span>'+u((n.trans||t&&t.trans||c).call(o,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n        </span>\n        <span class='loading-message hidden'>\n            "+(null!=(r=(n.iconifySpin||t&&t.iconifySpin||c).call(o,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?r:"")+"\n            <span> "+u((n.trans||t&&t.trans||c).call(o,"Loading",{name:"trans",hash:{},data:s}))+' ...</span>\n        </span>\n    </button>\n</div>\n\n<div id="preview-modal"></div>\n\n'},6:function(e,t,n,a,s){var i;return"  <div id='hot-list-header'>\n"+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.appendStoriesSuffix:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s}))?i:"")+"  </div>\n"},7:function(e,t,n,a,s){var i;return"      <p> "+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"The Top %1$s: Best %2$s Stories","<span>1000</span>",null!=t?t.categoryNameForHotListHeader:t,{name:"trans",hash:{},data:s}))?i:"")+"</p>\n"},9:function(e,t,n,a,s){var i;return"      <p> "+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"The Top %1$s: Best %2$s","<span>1000</span>",null!=t?t.categoryNameForHotListHeader:t,{name:"trans",hash:{},data:s}))?i:"")+"</p>\n"},11:function(e,t,n,a,s,i,l){var r;return'        <div class="browse-story-item '+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.completed:t,{name:"if",hash:{},fn:e.program(12,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n'+(null!=(r=e.invokePartial(a["core.item_views.browse_story_item"],t,{name:"core.item_views.browse_story_item",hash:{showRank:null!=l[1]?l[1].showHotListHeader:l[1]},data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?r:"")+"        </div>\n"},12:function(e,t,n,a,s){return"completed"},14:function(e,t,n,a,s){return'<p class="no-item">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"No stories available.",{name:"trans",hash:{},data:s}))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o=null!=t?t:e.nullContext||{};return'<div id="category-tags" class="sub-navigation">\n  '+(null!=(r=n.if.call(o,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n  <div class="scrollable">\n    <div class="collection">\n'+(null!=(r=n.each.call(o,null!=t?t.tags:t,{name:"each",hash:{},fn:e.program(3,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"    </div>\n  </div>\n</div>\n\n"+(null!=(r=n.if.call(o,null!=t?t.hasStories:t,{name:"if",hash:{},fn:e.program(5,s,0,i,l),inverse:e.program(14,s,0,i,l),data:s}))?r:"")},usePartial:!0,useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"<div class='collection'>\n"+(null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.stories:t,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"</div>\n"},2:function(e,t,n,a,s){var i;return'\t<div class="browse-story-item '+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.completed:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'">\n'+(null!=(i=e.invokePartial(a["core.item_views.browse_story_item"],t,{name:"core.item_views.browse_story_item",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"  </div>\n"},3:function(e,t,n,a,s){return"completed"},5:function(e,t,n,a,s){return'<p class="no-item">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"No stories available.",{name:"trans",hash:{},data:s}))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.hasStories:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(5,s,0),data:s}))?i:""},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=e.invokePartial(a["core.item_views.comment_item_options"],t,{name:"core.item_views.comment_item_options",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+"\n"+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"CommentItem",null!=t?t.id:t,{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return(null!=(i=n.if.call(l,null!=t?t.isDeepLinkView:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"    <div class='collection'>\n"+(null!=(i=n.each.call(l,null!=t?t.comments:t,{name:"each",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'    </div>\n    <div class="show-more hidden center-text">\n        <button class="btn on-showmore">\n        <span class=\'show-more-message\'>\n            <span>'+o((n.trans||t&&t.trans||r).call(l,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-1\"></span>\n        </span>\n        <span class='loading-message hidden'>\n            "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n            <span> "+o((n.trans||t&&t.trans||r).call(l,"Loading",{name:"trans",hash:{},data:s}))+' ...</span>\n        </span>\n        </button>\n    </div>\n    <div class="loading-spinner center-text hidden">\n        '+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t.device:t,{name:"iconifySpin",hash:{},data:s}))?i:"")+"\n    </div>\n"},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'    <div class="single-comment-warning">\n      '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-warning",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" <small>"+o((n.trans||t&&t.trans||r).call(l,"You are viewing a single comment thread.",{name:"trans",hash:{},data:s}))+'</small>\n      <p><button class="btn btn-small btn-white on-return-all-comments">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-left",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.trans||t&&t.trans||r).call(l,"Return to all comments",{name:"trans",hash:{},data:s}))+"</button></p>\n    </div>\n"},4:function(e,t,n,a,s){var i,l;return'            <div class="comment" id="comment-'+e.escapeExpression("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:n.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:s}):l)+'">\n'+(null!=(i=e.invokePartial(a["core.item_views.comment_item"],t,{name:"core.item_views.comment_item",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"            </div>\n"},6:function(e,t,n,a,s){return"    <div class='collection'>\n        <p class=\"no-item\">"+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"No comments listed yet.",{name:"trans",hash:{},data:s}))+"</p>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return'\n<div class="post-comment"></div>\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.hasComments:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(6,s,0),data:s}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="show-more hidden center-text">\n  <button class="btn on-showmore">\n      <span class=\'show-more-message\'>\n          <span>'+o((n.trans||t&&t.trans||r).call(l,"Show more...",{name:"trans",hash:{},data:s}))+"</span>\n      </span>\n      <span class='loading-message hidden'>\n          "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n          <span> "+o((n.trans||t&&t.trans||r).call(l,"Loading",{name:"trans",hash:{},data:s}))+' ...</span>\n      </span>\n  </button>\n</div>\n<div class="loading-spinner center-text hidden">\n  '+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t.device:t,{name:"iconifySpin",hash:{},data:s}))?i:"")+"\n</div>\n<div class='collection'>\n"+(null!=(i=n.each.call(l,null!=t?t.comments:t,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"</div>\n"},2:function(e,t,n,a,s){var i,l;return'    <div class="comment" id="comment-'+e.escapeExpression("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:n.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:s}):l)+'">\n'+(null!=(i=e.invokePartial(a["core.item_views.comment_item"],t,{name:"core.item_views.comment_item",data:s,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"    </div>\n"},4:function(e,t,n,a,s){return'<div class="collection">\n  <p class="no-item">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"No comments listed yet.",{name:"trans",hash:{},data:s}))+"</p>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.hasComments:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?i:"")+'<div class="post-comment"></div>\n'},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" hidden"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="show-more center-text'+(null!=(i=n.if.call(l,null!=t?t.hasMore:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?i:"")+'">\n  <button class="btn on-showmore" role="button">\n    <span class="show-more-message">\n      <span>'+o((n.trans||t&&t.trans||r).call(l,"Show more...",{name:"trans",hash:{},data:s}))+'</span>\n    </span>\n    <span class="loading-message hidden">\n    '+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n    <span>"+o((n.trans||t&&t.trans||r).call(l,"Loading...",{name:"trans",hash:{},data:s}))+"</span>\n    </span>\n  </button>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'      <div class="single-comment-warning">\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-warning",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" <small>"+o((n.trans||t&&t.trans||r).call(l,"You are viewing a single comment thread.",{name:"trans",hash:{},data:s}))+'</small>\n        <p><button class="btn btn-small btn-white on-return-all-comments">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-left",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.trans||t&&t.trans||r).call(l,"Return to all comments",{name:"trans",hash:{},data:s}))+"</button></p>\n      </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="modal-dialog">\n  <div class="modal-content">\n    <header class="modal-header">\n      <h1 class="modal-title">'+o((n.trans||t&&t.trans||r).call(l,"Comments",{name:"trans",hash:{},data:s}))+'</h1>\n      <div class="close" data-dismiss="modal">\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove",22,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'\n      </div>\n    </header>\n    <div class="modal-body comments-modal-body">\n'+(null!=(i=n.if.call(l,null!=t?t.isDeepLinkView:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'\n      <div class="paragraph">\n        <div class="paragraph-text">\n        <pre>'+(null!=(i=(n.parseEmbeddedMedia||t&&t.parseEmbeddedMedia||r).call(l,null!=t?t.paragraphText:t,400,{name:"parseEmbeddedMedia",hash:{},data:s}))?i:"")+'</pre>\n        </div>\n        <ul class="paragraph-meta">\n          <li>'+o((n.trans||t&&t.trans||r).call(l,"From %s",null!=(i=null!=t?t.storyPart:t)?i.title:i,{name:"trans",hash:{},data:s}))+'</li>\n          <li><a href="'+o((n.formatStoryUrl||t&&t.formatStoryUrl||r).call(l,null!=(i=null!=t?t.storyGroup:t)?i.url:i,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-navigate">'+o(e.lambda(null!=(i=null!=t?t.storyGroup:t)?i.title:i,t))+'</a></li>\n        </ul>\n      </div>\n\n      <div class="post-comment"></div>\n\n      <div id="inline-comments" class=\'collection comments\'></div>\n\n'+(null!=(i=e.invokePartial(a["core.mixins.show_more"],t,{name:"core.mixins.show_more",data:s,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"    </div>\n  </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression,o=null!=t?t:e.nullContext||{};return'        <li data-part-id="'+r(l(null!=t?t.id:t,t))+'">\n            <a href="'+r((n.formatStoryUrl||t&&t.formatStoryUrl||n.helperMissing).call(o,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-navigate-part">\n              '+(null!=(i=n.if.call(o,null!=t?t.isBlocked:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"\n              "+r(l(null!=t?t.title:t,t))+"\n"+(null!=(i=n.if.call(o,null!=t?t.deleted:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=n.if.call(o,null!=t?t.draft:t,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+"            </a>\n        </li>\n"},2:function(e,t,n,a,s){var i;return null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-lock",16,"wp-neutral-2","pull-right",{name:"iconify",hash:{},data:s}))?i:""},4:function(e,t,n,a,s){return'                <span class="deleted-tag">('+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Deleted",{name:"trans",hash:{},data:s}))+")</span>\n"},6:function(e,t,n,a,s){return'                <span class="draft-tag">('+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Draft",{name:"trans",hash:{},data:s}))+")</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return'<div>\n    <ul class="table-of-contents">\n'+(null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.story:t)?i.parts:i,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"    </ul>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"%s yrs old",null!=(i=null!=t?t.author:t)?i.age:i,{name:"trans",hash:{},data:s}))},3:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.author:t)?i.country:i,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:""},4:function(e,t,n,a,s){return"&middot;"},6:function(e,t,n,a,s){var i;return e.escapeExpression(e.lambda(null!=(i=null!=t?t.author:t)?i.country:i,t))},8:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.part:t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:""},9:function(e,t,n,a,s){var i,l=e.escapeExpression;return'                <li><a href="/admin/db/text.php?PME_sys_rec='+l(e.lambda(null!=(i=null!=t?t.part:t)?i.id:i,t))+'&PME_sys_operation=Change">'+l((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Ranking Details",{name:"trans",hash:{},data:s}))+"</a></li>\n"},11:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return(null!=(i=n.if.call(r,null!=t?t.part:t,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.program(14,s,0),data:s}))?i:"")+'            <li><a href="'+c("function"==typeof(l=null!=(l=n.translateLink||(null!=t?t.translateLink:t))?l:o)?l.call(r,{name:"translateLink",hash:{},data:s}):l)+'">'+c((n.trans||t&&t.trans||o).call(r,"Translate",{name:"trans",hash:{},data:s}))+"</a></li>\n            "+(null!=(i=n.if.call(r,null!=t?t.part:t,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?i:"")+"\n"},12:function(e,t,n,a,s){var i,l=e.escapeExpression;return'            <li><a class="on-options-edit-part" href="/mystories?compose=true&id='+l(e.lambda(null!=(i=null!=t?t.part:t)?i.id:i,t))+'">'+l((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Edit Story Part",{name:"trans",hash:{},data:s}))+"</a></li>\n"},14:function(e,t,n,a,s){var i,l=e.escapeExpression;return'            <li><a class="on-options-edit-details" href="/myworks/'+l(e.lambda(null!=(i=null!=t?t.story:t)?i.id:i,t))+'">'+l((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Edit Story Details",{name:"trans",hash:{},data:s}))+"</a></li>\n"},16:function(e,t,n,a,s){var i,l=e.escapeExpression;return'<li><a href="/api/alltext?id='+l(e.lambda(null!=(i=null!=t?t.part:t)?i.id:i,t))+'">'+l((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Plain Text",{name:"trans",hash:{},data:s}))+"</a></li>"},18:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'            <li><a href="'+o("function"==typeof(i=null!=(i=n.reportLink||(null!=t?t.reportLink:t))?i:r)?i.call(l,{name:"reportLink",hash:{},data:s}):i)+'">'+o((n.trans||t&&t.trans||r).call(l,"Report Story",{name:"trans",hash:{},data:s}))+'</a></li>\n            <li><a class="on-options-hot-list-review" href="#">'+o((n.trans||t&&t.trans||r).call(l,"Hot List Review",{name:"trans",hash:{},data:s}))+"</a></li>\n"},20:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'        <li class="story-admin-dropdown-row options-row">\n            <strong class="row-name">'+o((n.trans||t&&t.trans||r).call(l,"Paid Story",{name:"trans",hash:{},data:s}))+':</strong>\n            <span class="row-controls"><ul class="option-items">\n                <li><a target="_blank" rel="noopener noreferrer" href="/admin/paid_stories_manager?storyId='+o(e.lambda(null!=(i=null!=t?t.story:t)?i.id:i,t))+'">'+o((n.trans||t&&t.trans||r).call(l,"Manage",{name:"trans",hash:{},data:s}))+'</a></li>\n            </ul></span>\n            <span class="response-status pull-right"></span>\n        </li>\n'},22:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'    <li class="story-admin-dropdown-row options-row">\n        <strong class="row-name">'+o((n.trans||t&&t.trans||r).call(l,"Download:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls"><ul class="option-items">\n        '+(null!=(i=n.if.call(l,null!=t?t.part:t,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?i:"")+'\n        <li><a href="/apiv2/storytext?group_id='+o(e.lambda(null!=(i=null!=t?t.story:t)?i.id:i,t))+'&no_format=false&include_deleted=true&include_drafts=true&include_private=true&output=zip">'+o((n.trans||t&&t.trans||r).call(l,"Story Group",{name:"trans",hash:{},data:s}))+"</a></li>\n        </ul></span>\n    </li>\n"},23:function(e,t,n,a,s){var i,l=e.escapeExpression;return'<li><a href="/apiv2/storytext?id='+l(e.lambda(null!=(i=null!=t?t.part:t)?i.id:i,t))+'&no_format=false&include_deleted=true&include_drafts=true&include_private=true&output=zip">'+l((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Story Part",{name:"trans",hash:{},data:s}))+"</a></li>"},25:function(e,t,n,a,s,i,l){var r;return null!=(r=n.unless.call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.story:t)?r.draft:r,{name:"unless",hash:{},fn:e.program(26,s,0,i,l),inverse:e.noop,data:s}))?r:""},26:function(e,t,n,a,s,i,l){var r,o,c,u=null!=t?t:e.nullContext||{},d=n.helperMissing,h=e.escapeExpression,p=n.blockHelperMissing,m='\n    <li class="story-admin-dropdown-row language-row">\n        <strong class="row-name">'+h((n.trans||t&&t.trans||d).call(u,"Language:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls">\n            <select id="story-language-select" class="form-control">\n';return o=null!=(o=n.languages||(null!=t?t.languages:t))?o:d,c={name:"languages",hash:{},fn:e.program(27,s,0,i,l),inverse:e.noop,data:s},r="function"==typeof o?o.call(u,c):o,n.languages||(r=p.call(t,r,c)),null!=r&&(m+=r),m+='            </select>\n        </span>\n        <span class="response-status pull-right"></span>\n    </li>\n    <li class="story-admin-dropdown-row category-row">\n        <strong class="row-name">'+h((n.trans||t&&t.trans||d).call(u,"Category:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls">\n            <select id="story-category-select" class="form-control">\n                <option value="-1">'+h((n.trans||t&&t.trans||d).call(u,"Select a category",{name:"trans",hash:{},data:s}))+"</option>\n",o=null!=(o=n.categories||(null!=t?t.categories:t))?o:d,c={name:"categories",hash:{},fn:e.program(29,s,0,i,l),inverse:e.noop,data:s},r="function"==typeof o?o.call(u,c):o,n.categories||(r=p.call(t,r,c)),null!=r&&(m+=r),m+'            </select>\n        </span>\n        <span class="response-status pull-right"></span>\n    </li>\n    <li class="story-admin-dropdown-row cover-row">\n        <strong class="row-name">'+h((n.trans||t&&t.trans||d).call(u,"Cover:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls">\n            <ul class="option-items">\n                <li>\n                    <div class=\'button\' data-file-upload="drop">\n                        <a class="file-select" role="button" href="#">\n                            '+h((n.trans||t&&t.trans||d).call(u,"Upload",{name:"trans",hash:{},data:s}))+'\n                        </a>\n                        <input accept="image/jpeg, image/png, image/gif" type="file" name="file">\n                    </div>\n                </li>\n                <li><a class="on-cover-remove" href="#">'+h((n.trans||t&&t.trans||d).call(u,"Remove",{name:"trans",hash:{},data:s}))+'</a></li>\n                <li><a href="/banner?id='+h(e.lambda(null!=(r=null!=t?t.story:t)?r.id:r,t))+'">'+h((n.trans||t&&t.trans||d).call(u,"Banner",{name:"trans",hash:{},data:s}))+'</a></li>\n            </ul>\n\n        </span>\n        <span class="response-status pull-right"></span>\n    </li>\n    '},27:function(e,t,n,a,s,i,l){var r;return"                "+(null!=(r=(n.select||t&&t.select||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.id:t,null!=t?t.name:t,null!=(r=null!=l[1]?l[1].story:l[1])?r.language:r,{name:"select",hash:{},data:s}))?r:"")+"\n"},29:function(e,t,n,a,s,i,l){var r;return"                "+(null!=(r=(n.select||t&&t.select||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.id:t,null!=t?t.name:t,null!=(r=null!=(r=null!=l[1]?l[1].story:l[1])?r.categories:r)?r[0]:r,t,{name:"select",hash:{},data:s}))?r:"")+"\n"},31:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression,c=e.lambda;return'    <li class="story-admin-dropdown-row rating-row">\n        <strong class="row-name">'+o((n.trans||t&&t.trans||r).call(l,"Rating:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls">\n            <ul class="option-items">\n                <li><a href="/admin/community_reports?model_type=2&model_id='+o(c(null!=(i=null!=t?t.story:t)?i.id:i,t))+'">'+o((n.trans||t&&t.trans||r).call(l,"Reports",{name:"trans",hash:{},data:s}))+'</a></li>\n                <li><a href="/admin/story_rating_history.php?story_id='+o(c(null!=(i=null!=t?t.story:t)?i.id:i,t))+(null!=(i=n.if.call(l,null!=t?t.part:t,{name:"if",hash:{},fn:e.program(32,s,0),inverse:e.noop,data:s}))?i:"")+'">'+o((n.trans||t&&t.trans||r).call(l,"History",{name:"trans",hash:{},data:s}))+"</a></li>\n            </ul>\n        </span>\n    </li>\n"},32:function(e,t,n,a,s){var i;return"&part_id="+e.escapeExpression(e.lambda(null!=(i=null!=t?t.part:t)?i.id:i,t))},34:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'    <li class="story-admin-dropdown-row total-reads-row">\n        <strong class="row-name">'+o((n.trans||t&&t.trans||r).call(l,"Total Reads By Author:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls">\n            <ul class="option-items">\n                <li>'+o(e.lambda(null!=(i=null!=t?t.author:t)?i.totalReads:i,t))+" ("+o((n.count||t&&t.count||r).call(l,null!=(i=null!=t?t.author:t)?i.totalReads:i,{name:"count",hash:{},data:s}))+")</li>\n            </ul>\n        </span>\n    </li>\n"},36:function(e,t,n,a,s){var i,l=e.escapeExpression,r=e.lambda;return'    <li class="story-admin-dropdown-row admin-notes">\n        <strong class="row-name">'+l((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Admin Notes:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls">\n            <ul class="option-items">\n                 <div class="author-info clearfix">\n                <li style="white-space: pre-line;">'+l(r(null!=(i=null!=t?t.author:t)?i.notes:i,t))+'</li>\n                <li><a href="https://admin.wattpad.com/admin/manage_user.php?&username='+l(r(null!=(i=null!=t?t.author:t)?i.username:i,t))+'">Add/Delete notes</a></li>\n            </div>\n             </ul>    \n        </span>\n    </li>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression,d=e.lambda;return'<div class="author-info clearfix">\n    <span class="avatar avatar-md pull-left">'+u((n.connectAvatar||t&&t.connectAvatar||c).call(o,null!=(r=null!=t?t.author:t)?r.avatar:r,null!=(r=null!=t?t.author:t)?r.username:r,48,{name:"connectAvatar",hash:{},data:s}))+'</span>\n    <span class="author-info-text"><strong>'+u(d(null!=(r=null!=t?t.author:t)?r.username:r,t))+'</strong></span>\n\n    <span class="author-info-text">\n        '+(null!=(r=n.if.call(o,null!=(r=null!=t?t.author:t)?r.age:r,{name:"if",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n        "+(null!=(r=n.if.call(o,null!=(r=null!=t?t.author:t)?r.age:r,{name:"if",hash:{},fn:e.program(3,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n        "+(null!=(r=n.if.call(o,null!=(r=null!=t?t.author:t)?r.country:r,{name:"if",hash:{},fn:e.program(6,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n    </span>\n\n</div>\n<ul class="lists-menu">\n    <li class="story-admin-dropdown-row error-row hidden">\n        <div class="alert alert-danger" role="alert"></div>\n    </li>\n\n    <li class="story-admin-dropdown-row review-row">\n        <strong class="row-name">'+u((n.trans||t&&t.trans||c).call(o,"Review:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls">\n            <ul class="option-items">\n                <li><a href="/contentreview?groupid='+u(d(null!=(r=null!=t?t.story:t)?r.id:r,t))+'">'+u((n.trans||t&&t.trans||c).call(o,"Story",{name:"trans",hash:{},data:s}))+"</a></li>\n"+(null!=(r=n.if.call(o,null!=t?t.isAdmin:t,{name:"if",hash:{},fn:e.program(8,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'            </ul>\n        </span>\n    </li>\n\n    <li class="story-admin-dropdown-row options-row">\n        <strong class="row-name">'+u((n.trans||t&&t.trans||c).call(o,"Options:",{name:"trans",hash:{},data:s}))+'</strong>\n        <span class="row-controls"><ul class="option-items">\n'+(null!=(r=n.if.call(o,null!=t?t.isAdmin:t,{name:"if",hash:{},fn:e.program(11,s,0,i,l),inverse:e.program(18,s,0,i,l),data:s}))?r:"")+'        </ul></span>\n        <span class="response-status pull-right"></span>\n    </li>\n\n'+(null!=(r=n.if.call(o,null!=t?t.isAdmin:t,{name:"if",hash:{},fn:e.program(20,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=n.if.call(o,null!=t?t.isStaff:t,{name:"if",hash:{},fn:e.program(22,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n    "+(null!=(r=n.unless.call(o,null!=(r=null!=t?t.story:t)?r.deleted:r,{name:"unless",hash:{},fn:e.program(25,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=n.if.call(o,null!=t?t.isAdmin:t,{name:"if",hash:{},fn:e.program(31,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=n.if.call(o,null!=t?t.isAdmin:t,{name:"if",hash:{},fn:e.program(34,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=n.if.call(o,null!=t?t.isAdmin:t,{name:"if",hash:{},fn:e.program(36,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"</ul>\n"},useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'            <div class="supported-marker">\n                '+r((n.connectImage||t&&t.connectImage||l).call(i,"paid-content/supported-stories-badge-white.svg","Paid Stories Badge",{name:"connectImage",hash:{},data:s}))+"\n                "+r((n.trans||t&&t.trans||l).call(i,"Paid Story",{name:"trans",hash:{},data:s}))+"\n            </div>\n"},3:function(e,t,n,a,s){var i;return"            <span class='banned-overlay'>      \n              "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"warning-triangle",60,"wp-warning-01","warning-icon",{name:"iconify",hash:{},data:s}))?i:"")+"   \n            </span>\n"},5:function(e,t,n,a,s){return'<span class="deleted-tag">('+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Deleted",{name:"trans",hash:{},data:s}))+")</span>"},7:function(e,t,n,a,s){return'<span class="draft-tag">('+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Draft",{name:"trans",hash:{},data:s}))+")</span>"},9:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"            "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-badge-promoted",14,"wp-base-1",{name:"iconify",hash:{},data:s}))?i:"")+"\n            "+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Promoted by %s",(n.sprintf||t&&t.sprintf||r).call(l,'<a class="lightbold on-sponsor-navigate" href="/user/%s" data-click-url="%s">%s</a>',null!=(i=null!=t?t.story:t)?i.sponsorName:i,null!=(i=null!=t?t.story:t)?i.clickUrl:i,null!=(i=null!=t?t.story:t)?i.sponsorName:i,{name:"sprintf",hash:{},data:s}),{name:"trans",hash:{},data:s}))?i:"")+"\n"},11:function(e,t,n,a,s){return"              <span>"+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Completed",{name:"trans",hash:{},data:s}))+"</span>\n"},13:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'              <span class="hidden-xs">'+o((n.trans||t&&t.trans||r).call(l,"Ongoing",{name:"trans",hash:{},data:s}))+" - </span> "+o((n.trans||t&&t.trans||r).call(l,"Updated",{name:"trans",hash:{},data:s}))+" "+o((n.fromNow||t&&t.fromNow||r).call(l,null!=(i=null!=(i=null!=t?t.story:t)?i.lastPublishedPart:i)?i.createDate:i,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+"\n"},15:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.story:t)?i.draft:i,{name:"unless",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?i:""},16:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'\n        <div id="share-tools" class="hidden-xs hidden-sm">\n'+(null!=(i=n.each.call(l,null!=t?t.socialShareVisible:t,{name:"each",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?i:"")+'          <div class="button-group relative inline-block">\n            <button class="btn btn-no-background dropdown-toggle"\n                    data-toggle="dropdown">'+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(l,"fa-more",24,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'</button>\n            <div class="triangle"></div>\n            <ul class="dropdown-menu dropdown-menu-right">\n'+(null!=(i=n.each.call(l,null!=t?t.socialShareHidden:t,{name:"each",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?i:"")+"            </ul>\n          </div>\n        </div>\n      "},17:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'          <a class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?i:"")+'" '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">\n            "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,24,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"\n          </a>\n"},18:function(e,t,n,a,s){return' social-share" rel="nofollow" target="_blank'},20:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'              <li><a class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?i:"")+'" '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">\n                "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,20,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c("function"==typeof(l=null!=(l=n.label||(null!=t?t.label:t))?l:o)?l.call(r,{name:"label",hash:{},data:s}):l)+"\n              </a></li>\n"},22:function(e,t,n,a,s){var i;return e.escapeExpression((n.formatStoryUrl||t&&t.formatStoryUrl||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t.story:t)?i.firstPart:i)?i.url:i,{name:"formatStoryUrl",hash:{},data:s}))},24:function(e,t,n,a,s){var i;return e.escapeExpression((n.formatStoryUrl||t&&t.formatStoryUrl||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=(i=null!=t?t.story:t)?i.parts:i)?i[0]:i)?i.url:i,{name:"formatStoryUrl",hash:{},data:s}))},26:function(e,t,n,a,s){return"                            "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Free Preview",{name:"trans",hash:{},data:s}))+"\n"},28:function(e,t,n,a,s){return"                            "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Read",{name:"trans",hash:{},data:s}))+"\n"},30:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.story:t)?i.draft:i,{name:"unless",hash:{},fn:e.program(31,s,0),inverse:e.noop,data:s}))?i:""},31:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u='\n                    <div class="button-group relative inline-block">\n                        <button class="btn btn-orange btn-sm btn-left-align btn-right-align btn-story-lists"\n                                data-story-id="'+e.escapeExpression(e.lambda(null!=(i=null!=t?t.story:t)?i.id:i,t))+'">\n                                '+(null!=(i=(n.iconify||t&&t.iconify||c).call(o,"fa-plus",9,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"\n                        </button>\n";return l=null!=(l=n.story||(null!=t?t.story:t))?l:c,r={name:"story",hash:{},fn:e.program(32,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.story||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(u+=i),u+"                    </div>\n                  "},32:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.components.add_to_library_dropdown"],t,{name:"core.components.add_to_library_dropdown",data:s,indent:"                          ",helpers:n,partials:a,decorators:e.decorators}))?i:""},34:function(e,t,n,a,s){var i;return'                    <div id="admin-panel" class="button-group relative inline-block">\n                        <button class="btn btn-red btn-sm dropdown-toggle on-admin-dropdown">'+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-lock",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'</button>\n                        <div class="triangle"></div>\n                    </div>\n'},36:function(e,t,n,a,s){return'class="active"'},38:function(e,t,n,a,s){var i;return'                      <div class="story-parts">\n'+(null!=(i=e.invokePartial(a["core.story_landing.story_parts"],t,{name:"core.story_landing.story_parts",data:s,indent:"                        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"                      </div>\n"},40:function(e,t,n,a,s){var i;return'            <div id="authentication-panel" class="panel">\n                <div class="signup-modal">\n'+(null!=(i=e.invokePartial(a["core.signup_prompt"],t,{name:"core.signup_prompt",data:s,indent:"                  ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"                </div>\n            </div>\n"},42:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"WPModal","modal-landing",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression,c=e.lambda;return'<header class="background background-lg" style="background-image: url('+o((n.resizeCoverAsBackground||t&&t.resizeCoverAsBackground||r).call(l,null!=(i=null!=t?t.story:t)?i.cover:i,1920,{name:"resizeCoverAsBackground",hash:{},data:s}))+');">\n    <div class="container">\n'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.story:t)?i.isPaywalled:i,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'        <div class="cover cover-lg">\n          <img src="'+o((n.resizeCover||t&&t.resizeCover||r).call(l,null!=(i=null!=t?t.story:t)?i.cover:i,180,{name:"resizeCover",hash:{},data:s}))+'" height="281" width="180" alt="'+o(c(null!=(i=null!=t?t.story:t)?i.title:i,t))+'">\n'+(null!=(i=n.if.call(l,null!=t?t.writerPreviewHasBannedCover:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"        </div>\n        <h1>"+o(c(null!=(i=null!=t?t.story:t)?i.title:i,t))+"\n            "+(null!=(i=n.if.call(l,null!=(i=null!=t?t.story:t)?i.deleted:i,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+"\n            "+(null!=(i=n.if.call(l,null!=(i=null!=t?t.story:t)?i.draft:i,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+'</h1>\n\n        <div class="meta">\n            <span data-toggle="tooltip" data-placement="bottom" title="'+o((n.sprintf||t&&t.sprintf||r).call(l,(n.ngettext||t&&t.ngettext||r).call(l,"%s Read","%s Reads",null!=(i=null!=t?t.story:t)?i.readCount:i,{name:"ngettext",hash:{},data:s}),(n.format||t&&t.format||r).call(l,null!=(i=null!=t?t.story:t)?i.readCount:i,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'">\n              '+o((n.sprintf||t&&t.sprintf||r).call(l,(n.ngettext||t&&t.ngettext||r).call(l,"%s Read","%s Reads",null!=(i=null!=t?t.story:t)?i.readCount:i,{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||r).call(l,null!=(i=null!=t?t.story:t)?i.readCount:i,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'</span>\n            <span data-toggle="tooltip" data-placement="bottom" title="'+o((n.sprintf||t&&t.sprintf||r).call(l,(n.ngettext||t&&t.ngettext||r).call(l,"%s Vote","%s Votes",null!=(i=null!=t?t.story:t)?i.voteCount:i,{name:"ngettext",hash:{},data:s}),(n.format||t&&t.format||r).call(l,null!=(i=null!=t?t.story:t)?i.voteCount:i,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'" >\n              '+o((n.sprintf||t&&t.sprintf||r).call(l,(n.ngettext||t&&t.ngettext||r).call(l,"%s Vote","%s Votes",null!=(i=null!=t?t.story:t)?i.voteCount:i,{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||r).call(l,null!=(i=null!=t?t.story:t)?i.voteCount:i,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+"</span>\n            <span>"+o((n.trans||t&&t.trans||r).call(l,"%s Part Story",null!=(i=null!=t?t.story:t)?i.numParts:i,{name:"trans",hash:{},data:s}))+'</span>\n        </div>\n\n        <div class="promotion-description-story-details">\n'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.story:t)?i.promoted:i,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:"")+'        </div>\n\n        <div class="author-info clearfix">\n            <a href="/user/'+o(c(null!=(i=null!=(i=null!=t?t.story:t)?i.user:i)?i.username:i,t))+'" class="avatar avatar-md pull-left send-author-event on-navigate">\n              '+o((n.connectAvatar||t&&t.connectAvatar||r).call(l,null!=(i=null!=(i=null!=t?t.story:t)?i.user:i)?i.avatar:i,null!=(i=null!=(i=null!=t?t.story:t)?i.user:i)?i.name:i,48,{name:"connectAvatar",hash:{},data:s}))+"\n            </a>\n            <strong>"+o((n.trans||t&&t.trans||r).call(l,"By",{name:"trans",hash:{},data:s}))+' <a class="send-author-event on-navigate" href="/user/'+o(c(null!=(i=null!=(i=null!=t?t.story:t)?i.user:i)?i.username:i,t))+'">'+o(c(null!=(i=null!=(i=null!=t?t.story:t)?i.user:i)?i.username:i,t))+'</a></strong>\n            <small data-toggle="tooltip" data-placement="top"\n                   title="'+o((n.trans||t&&t.trans||r).call(l,"First published:",{name:"trans",hash:{},data:s}))+" "+o((n.fromNow||t&&t.fromNow||r).call(l,null!=(i=null!=(i=null!=t?t.story:t)?i.firstPublishedPart:i)?i.createDate:i,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+'">\n'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.story:t)?i.completed:i,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?i:"")+"            </small>\n        </div>\n\n      "+(null!=(i=n.unless.call(l,null!=(i=null!=t?t.story:t)?i.deleted:i,{name:"unless",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?i:"")+'\n    </div>\n</header>\n\n<div class="container">\n    <div class="row">\n\n        <main class="col-sm-12 col-md-8">\n            <div class="panel">\n                <div class="story-controls" role="menu">\n                    <a href="'+(null!=(i=n.if.call(l,null!=(i=null!=(i=null!=t?t.story:t)?i.firstPart:i)?i.url:i,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(24,s,0),data:s}))?i:"")+'"}\n                       class="btn btn-orange btn-sm btn-inline on-story-navigate">\n'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.story:t)?i.isPaidPreview:i,{name:"if",hash:{},fn:e.program(26,s,0),inverse:e.program(28,s,0),data:s}))?i:"")+"                    </a>\n                  "+(null!=(i=n.unless.call(l,null!=(i=null!=t?t.story:t)?i.deleted:i,{name:"unless",hash:{},fn:e.program(30,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.showAdminPanel:t,{name:"if",hash:{},fn:e.program(34,s,0),inverse:e.noop,data:s}))?i:"")+'                </div>\n             \n                <h2 class="description"><pre>'+o(c(null!=(i=null!=t?t.story:t)?i.description:i,t))+"</pre></h2>\n\n                "+(null!=(i=(n.reactComponent||t&&t.reactComponent||r).call(l,"TagGrid","storyTags",{name:"reactComponent",hash:{},data:s}))?i:"")+'\n\n                <section id="story-tabs">\n                  <header class="tab-menu sub-navigation clearfix">\n                    <nav>\n                      <ul>\n\n                        <li data-section="parts" '+(null!=(i=n.if.call(l,null!=(i=null!=t?t.active:t)?i.parts:i,{name:"if",hash:{},fn:e.program(36,s,0),inverse:e.noop,data:s}))?i:"")+'>\n                      <a href="#" class="on-tab-nav">'+o((n.trans||t&&t.trans||r).call(l,"Table of Contents",{name:"trans",hash:{},data:s}))+'</a>\n                      </li>\n                        <li data-section="details" class="hidden-md hidden-lg">\n                      <a href="#" class="on-tab-nav">'+o((n.trans||t&&t.trans||r).call(l,"Details",{name:"trans",hash:{},data:s}))+'</a>\n                      </li>\n                      </ul>\n                    </nav>\n                  </header>\n                  <div id="tab-content" class="clearfix">\n'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.active:t)?i.parts:i,{name:"if",hash:{},fn:e.program(38,s,0),inverse:e.noop,data:s}))?i:"")+'                  </div>\n               </section>\n            </div>\n        </main>\n\n        <aside class="col-sm-12 col-md-4">\n'+(null!=(i=n.if.call(l,null!=t?t.isLogged:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(40,s,0),data:s}))?i:"")+"\n            "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{storyGroup:null!=t?t.story:t,experience:"storylanding",parentClass:"ad-unit panel panel-basic",unit:"storylanding_top"},data:s}))?i:"")+'\n            <div id="story-details" class="panel hidden-xs hidden-sm">\n              <div class="story-details">\n'+(null!=(i=e.invokePartial(a["core.story_landing.story_details"],t,{name:"core.story_landing.story_details",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'              </div>\n            </div>\n\n            <div class="panel promoted-story-panel hidden">\n                <div class="panel-heading">\n                    <h4 class="panel-title">'+o((n.trans||t&&t.trans||r).call(l,"Promoted stories",{name:"trans",hash:{},data:s}))+'</h4>\n                </div>\n                <div id="similar-stories" class="promoted-stories panel-body"></div>\n            </div>\n\n            <div class="panel">\n                <div class="panel-heading">\n                    <h4 class="panel-title">'+o((n.trans||t&&t.trans||r).call(l,"You'll also like",{name:"trans",hash:{},data:s}))+'</h4>\n                </div>\n                <div id="similar-stories" class="similar-stories panel-body">\n                    <div class="stories">'+(null!=(i=e.invokePartial(a["core.collection_views.stories_similar"],t,{name:"core.collection_views.stories_similar",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+"</div>\n                </div>\n            </div>\n\n\n        </aside>\n\n    </div>\n    "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{lazy:!0,storyGroup:null!=t?t.story:t,experience:"storylanding",parentClass:"ad-unit",unit:"storylanding_bottom"},data:s}))?i:"")+"\n</div>\n"+(null!=(i=n.if.call(l,null!=(i=null!=t?t.story:t)?i.isPaywalled:i,{name:"if",hash:{},fn:e.program(42,s,0),inverse:e.noop,data:s}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-left",22,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},3:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-left",19,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},5:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<ul>\n  <li class="first">\n      <a href="/stories/'+c((n.urlEncodeWithSpace||t&&t.urlEncodeWithSpace||o).call(r,null!=t?t.name:t,{name:"urlEncodeWithSpace",hash:{},data:s}))+'/hot" class="on-rank-navigate" data-rank="'+c("function"==typeof(l=null!=(l=n.rank||(null!=t?t.rank:t))?l:o)?l.call(r,{name:"rank",hash:{},data:s}):l)+'" data-name="'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'">\n      <span class="rank">\n        <span class="rank-number-symbol">#</span>\n        <span class="rank-number">'+c("function"==typeof(l=null!=(l=n.rank||(null!=t?t.rank:t))?l:o)?l.call(r,{name:"rank",hash:{},data:s}):l)+'</span>\n      </span>\n\n      <span class="rank-tag">'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'</span>\n      <span class="rank-total">\n        '+c((n.trans||t&&t.trans||o).call(r,"out of %s stories",(n.count||t&&t.count||o).call(r,null!=t?t.total:t,{name:"count",hash:{},data:s}),{name:"trans",hash:{},data:s}))+'\n      </span>\n\n      <span class="right-side">\n        '+c((n.connectImage||t&&t.connectImage||o).call(r,"/shared/ranking-medal.png","ranking",{name:"connectImage",hash:{width:"22",height:"27",klass:"tag-ranking-medal"},data:s}))+"\n        "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-right",14,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+"\n      </span>\n    </a>\n  </li>\n</ul>\n"},7:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'  <li>\n      <a href="/stories/'+c((n.urlEncodeWithSpace||t&&t.urlEncodeWithSpace||o).call(r,null!=t?t.name:t,{name:"urlEncodeWithSpace",hash:{},data:s}))+'/hot" class="on-rank-navigate" data-rank="'+c("function"==typeof(l=null!=(l=n.rank||(null!=t?t.rank:t))?l:o)?l.call(r,{name:"rank",hash:{},data:s}):l)+'" data-name="'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'">\n      <span class="rank">\n        <span class="rank-number-symbol">#</span>\n        <span class="rank-number">'+c("function"==typeof(l=null!=(l=n.rank||(null!=t?t.rank:t))?l:o)?l.call(r,{name:"rank",hash:{},data:s}):l)+'</span>\n      </span>\n\n      <span class="rank-tag">'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'</span>\n\n      <span class="right-side">\n        <span class="rank-total">\n          '+c((n.trans||t&&t.trans||o).call(r,"out of %s stories",(n.count||t&&t.count||o).call(r,null!=t?t.total:t,{name:"count",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n        </span>\n\n        "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-right",14,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+"\n      </span>\n    </a>\n  </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<a href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.storyUrl:t,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-navigate back-to-story">\n'+(null!=(i=n.if.call(r,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+"</a>\n<h1>"+c((n.trans||t&&t.trans||o).call(r,"Story Rankings",{name:"trans",hash:{},data:s}))+"</h1>\n\n<h2>"+c("function"==typeof(l=null!=(l=n.storyTitle||(null!=t?t.storyTitle:t))?l:o)?l.call(r,{name:"storyTitle",hash:{},data:s}):l)+"</h2>\n\n<h3>"+c((n.trans||t&&t.trans||o).call(r,"Most Impressive Ranking",{name:"trans",hash:{},data:s}))+"</h3>\n"+(null!=(i=n.with.call(r,null!=t?t.topRank:t,{name:"with",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+"\n<h3>"+c((n.trans||t&&t.trans||o).call(r,"Other Rankings",{name:"trans",hash:{},data:s}))+"</h3>\n<ul>\n"+(null!=(i=n.each.call(r,null!=t?t.otherRankings:t,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+"</ul>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return' data-toggle="dropdown" '},3:function(e,t,n,a,s){return' data-toggle="modal" data-target="#table-of-contents" '},5:function(e,t,n,a,s){var i;return'data-toggle="tooltip" data-placement="bottom" title="'+e.escapeExpression((n.sanitize||t&&t.sanitize||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.group:t)?i.title:i,{name:"sanitize",hash:{},data:s}))+'"'},7:function(e,t,n,a,s){return'<span class="deleted-tag">('+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Deleted",{name:"trans",hash:{},data:s}))+")</span>"},9:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["desktop.story_reading.table_of_contents"],t,{name:"desktop.story_reading.table_of_contents",data:s,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:""},11:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["mobile.story_reading.table_of_contents"],t,{name:"mobile.story_reading.table_of_contents",data:s,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:""},13:function(e,t,n,a,s){return'  <div class="preview-alert">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Previewing %s",null!=t?t.title:t,{name:"trans",hash:{},data:s}))+"</div>\n"},15:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?i:""},16:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.group:t)?i.isPaywalled:i,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?i:""},17:function(e,t,n,a,s){var i;return'                <div class="button-group relative inline-block">\n                    <div class="wallet-container">\n                        '+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"Wallet",null!=(i=null!=t?t.group:t)?i.id:i,{name:"reactComponent",hash:{},data:s}))?i:"")+"\n                    </div>\n                </div>\n"},19:function(e,t,n,a,s){var i;return'    <div id="admin-panel" class="button-group relative inline-block hidden-mobile">\n        <button class="btn btn-link dropdown-toggle on-admin-dropdown">\n            '+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-lock",16,"wp-base-1-dark",{name:"iconify",hash:{},data:s}))?i:"")+'\n        </button>\n        <div class="triangle"></div>\n    </div>\n'},21:function(e,t,n,a,s){var i;return'    <div class="button-group relative inline-block hidden-mobile">\n\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isPreview:t,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(24,s,0),data:s}))?i:"")+"\n    </div>\n"},22:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'        <button class="btn btn-orange on-publish">'+c((n.trans||t&&t.trans||o).call(r,"Publish",{name:"trans",hash:{},data:s}))+'</button>\n        <a class="on-navigate btn btn-grey on-write" href="/myworks/'+c(e.lambda(null!=(i=null!=t?t.group:t)?i.id:i,t))+"/write/"+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">'+c((n.trans||t&&t.trans||o).call(r,"Back to writing",{name:"trans",hash:{},data:s}))+"</a>\n"},24:function(e,t,n,a,s){var i,l,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'        <a class="btn btn-link" href="/myworks/'+r(e.lambda(null!=(i=null!=t?t.group:t)?i.id:i,t))+"/write/"+r("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:c)?l.call(o,{name:"id",hash:{},data:s}):l)+'">\n          '+(null!=(i=(n.iconify||t&&t.iconify||c).call(o,"fa-edit",16,"wp-base-1-dark",{name:"iconify",hash:{},data:s}))?i:"")+'\n          <span class="hidden-mobile hidden-xs hidden-sm story-edit">'+r((n.trans||t&&t.trans||c).call(o,"Edit part",{name:"trans",hash:{},data:s}))+"</span>\n        </a>\n"},26:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.group:t)?i.draft:i,{name:"unless",hash:{},fn:e.program(27,s,0),inverse:e.noop,data:s}))?i:""},27:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.isPreview:t,{name:"unless",hash:{},fn:e.program(28,s,0),inverse:e.noop,data:s}))?i:""},28:function(e,t,n,a,s){var i,l,r,o=e.escapeExpression,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d='\n    <div class="button-group relative inline-block">\n        <button class="btn btn-story-lists btn-sm btn-orange" data-story-id="'+o(e.lambda(null!=(i=null!=t?t.group:t)?i.id:i,t))+'" aria-label="'+o((n.trans||t&&t.trans||u).call(c,"Add to List",{name:"trans",hash:{},data:s}))+'">\n            '+(null!=(i=(n.iconify||t&&t.iconify||u).call(c,"fa-plus",10,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"\n        </button>\n";return l=null!=(l=n.group||(null!=t?t.group:t))?l:u,r={name:"group",hash:{},fn:e.program(29,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(c,r):l,n.group||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(d+=i),d+"    </div>\n    "},29:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.components.add_to_library_dropdown"],t,{name:"core.components.add_to_library_dropdown",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?i:""},31:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.draft:t,{name:"unless",hash:{},fn:e.program(32,s,0),inverse:e.noop,data:s}))?i:""},32:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'\n    <div class="button-group relative inline-block">\n        <button class="btn btn-link on-vote" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n'+(null!=(i=n.if.call(r,null!=t?t.voted:t,{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.program(35,s,0),data:s}))?i:"")+'        </button>\n        <div id="vote-tool-tip" data-toggle="tooltip" data-placement="bottom" data-original-title= "'+c((n.trans||t&&t.trans||o).call(r,"There was an error registering your vote",{name:"trans",hash:{},data:s}))+'"></div>\n    </div>\n    '},33:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"            "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",16,"wp-base-1",{name:"iconify",hash:{},data:s}))?i:"")+'\n            <span class="hidden-mobile hidden-xs hidden-sm story-vote">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Voted",{name:"trans",hash:{},data:s}))+"</span>\n"},35:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"            "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n            <span class="hidden-mobile hidden-xs hidden-sm story-vote">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Vote",{name:"trans",hash:{},data:s}))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div id="funbar-story" class="dropdown">\n  <button id="funbar-part-details" type="button" class="btn btn-toc dropdown-toggle"\n          '+(null!=(i=n.if.call(l,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'>\n      <span class="toc-full">\n        <span class="cover cover-xxs" '+(null!=(i=n.if.call(l,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+'>\n          <img src="'+o((n.resizeCover||t&&t.resizeCover||r).call(l,null!=(i=null!=t?t.group:t)?i.cover:i,27,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((n.sanitize||t&&t.sanitize||r).call(l,null!=(i=null!=t?t.group:t)?i.title:i,{name:"sanitize",hash:{},data:s}))+'">\n        </span>\n\n        <span class="info">\n          <h2 class="title h5">\n            '+o(e.lambda(null!=(i=null!=t?t.group:t)?i.title:i,t))+"\n            "+(null!=(i=n.if.call(l,null!=t?t.deleted:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+'\n          </h2>\n          <span class="author h6">'+o((n.trans||t&&t.trans||r).call(l,"by %s",null!=(i=null!=(i=null!=t?t.group:t)?i.user:i)?i.username:i,{name:"trans",hash:{},data:s}))+"</span>\n        </span>\n\n        "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-down",20,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n      </span>\n  </button>\n\n"+(null!=(i=n.if.call(l,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.program(11,s,0),data:s}))?i:"")+"\n</div>\n\n"+(null!=(i=n.if.call(l,null!=t?t.isPreview:t,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?i:"")+'\n<div id="funbar-controls">\n'+(null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||r).call(l,"PAID_CONTENT",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.showAdminPanel:t,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.isAuthor:t,{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.noop,data:s}))?i:"")+"\n    "+(null!=(i=n.unless.call(l,null!=(i=null!=t?t.group:t)?i.deleted:i,{name:"unless",hash:{},fn:e.program(26,s,0),inverse:e.noop,data:s}))?i:"")+"\n    "+(null!=(i=n.unless.call(l,null!=t?t.deleted:t,{name:"unless",hash:{},fn:e.program(31,s,0),inverse:e.noop,data:s}))?i:"")+'\n\n</div>\n\n<div id="funbar-reading-progress">\n  <div id="progressbar"></div>\n  <div id="progresstooltip" data-toggle="tooltip" data-placement=\'bottom\'></div>\n</div>\n'},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<a class="on-navigate" href="/user/'+o("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:r)?i.call(l,{name:"username",hash:{},data:s}):i)+'/conversations">'+o((n.trans||t&&t.trans||r).call(l,"View on your profile",{name:"trans",hash:{},data:s}))+"</a>\n        "},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<a class="on-navigate" href="/user/'+o("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:r)?i.call(l,{name:"username",hash:{},data:s}):i)+'/conversations">'+o((n.trans||t&&t.trans||r).call(l,"View on your profile",{name:"trans",hash:{},data:s}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="modal-dialog" id="generic-modal">\n  <div class="modal-content">\n    <header class="modal-header">\n      <h2 class="modal-title text-center">'+o((n.trans||t&&t.trans||r).call(l,"Post to Your Profile",{name:"trans",hash:{},data:s}))+'</h1>\n      <div class="close" data-dismiss="modal">\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n      </div>\n    </header>\n    <div class="modal-body clearfix">\n      <div class="post-comment"></div>\n\n      <div class="success-message text-center hidden">\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-check",12,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n        "+o((n.trans||t&&t.trans||r).call(l,"Your message has been posted!",{name:"trans",hash:{},data:s}))+"\n\n        "+(null!=(i=n.if.call(l,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'      </div>\n\n      <div class="feed-item-new panel">\n'+(null!=(i=e.invokePartial(a["core.shared.beautify_url"],t,{name:"core.shared.beautify_url",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"      </div>\n    </div>\n  </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.dismissibleBanner:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:""},2:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.fatBanner:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:""},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'      <div class="bottom-banner nondismissible">\n        <div class="row">\n          <div class="col-xs-12 col-sm-4">\n            <span class="wattpad-logo"></span>\n            <span class="logo-text">'+o((n.trans||t&&t.trans||r).call(l,"Wattpad App - Read, Write, Connect",{name:"trans",hash:{},data:s}))+'</span>\n          </div>\n        </div>\n        <div class="row">\n          <a class="open-app" href="'+o("function"==typeof(i=null!=(i=n.branchLink||(null!=t?t.branchLink:t))?i:r)?i.call(l,{name:"branchLink",hash:{},data:s}):i)+'" data-gtm="Download|bottom_banner|open_app">\n            <span class="open-app-text">'+o((n.trans||t&&t.trans||r).call(l,"Start Reading",{name:"trans",hash:{},data:s}))+'</span>\n          </a>\n        </div>\n        <div class="row login">\n          <a class="on-navigate bottom-login login-text" data-form="login">'+o((n.trans||t&&t.trans||r).call(l,"Log in with Browser",{name:"trans",hash:{},data:s}))+"</a>\n        </div>\n      </div>\n"},5:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'      <div class="bottom-banner dismissible">\n        <div class="bottom-content"><img src="'+o((n.resizeCover||t&&t.resizeCover||r).call(l,null!=t?t.bottomBannerImage:t,27,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o((n.sanitize||t&&t.sanitize||r).call(l,null!=t?t.bottomBannerTitle:t,{name:"sanitize",hash:{},data:s}))+'"><span class="bottom-message">'+o((n.trans||t&&t.trans||r).call(l,"Where stories live. Discover now",{name:"trans",hash:{},data:s}))+'</span></div>\n        <div class="bottom-controls">\n          <button class="btn bottom-login" data-form="login">'+o((n.trans||t&&t.trans||r).call(l,"Log in",{name:"trans",hash:{},data:s}))+'</button><button class="btn bottom-signup" data-form="signup">'+o((n.trans||t&&t.trans||r).call(l,"Sign Up",{name:"trans",hash:{},data:s}))+'</button>\n        </div>\n        <div class="dismiss">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"</div>\n      </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.showBottomBanner:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s,i,l){var r,o,c,u=null!=t?t:e.nullContext||{},d=n.helperMissing,h=e.escapeExpression,p='        <li class="';return o=null!=(o=n.active||(null!=t?t.active:t))?o:d,c={name:"active",hash:{},fn:e.program(2,s,0,i,l),inverse:e.noop,data:s},r="function"==typeof o?o.call(u,c):o,n.active||(r=n.blockHelperMissing.call(t,r,c)),null!=r&&(p+=r),p+'">\n            <a class="on-navigate'+(null!=(r=n.if.call(u,null!=t?t.isBlocked:t,{name:"if",hash:{},fn:e.program(4,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'" href="'+h((n.formatStoryUrl||t&&t.formatStoryUrl||d).call(u,null!=t?t.url:t,{name:"formatStoryUrl",hash:{locals:l[1]},data:s}))+'">\n              <div class="part-title">\n                  '+h(e.lambda(null!=t?t.title:t,t))+"\n                  "+(null!=(r=n.if.call(u,null!=t?t.deleted:t,{name:"if",hash:{},fn:e.program(6,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n                  "+(null!=(r=n.if.call(u,null!=t?t.draft:t,{name:"if",hash:{},fn:e.program(8,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n              </div>\n              "+(null!=(r=n.if.call(u,null!=t?t.isBlocked:t,{name:"if",hash:{},fn:e.program(10,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n            </a>\n        </li>\n"},2:function(e,t,n,a,s){return"active"},4:function(e,t,n,a,s){return" blocked"},6:function(e,t,n,a,s){return'<span class="deleted-tag">('+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Deleted",{name:"trans",hash:{},data:s}))+")</span>"},8:function(e,t,n,a,s){return'<span class="draft-tag">('+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Draft",{name:"trans",hash:{},data:s}))+")</span>"},10:function(e,t,n,a,s){var i;return null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-lock",16,"wp-neutral-2","pull-right",{name:"iconify",hash:{},data:s}))?i:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression;return'<div class="dropdown-menu pull-left">\n    <div class="toc-header text-center">\n        <h6><a class="on-navigate" href="'+u((n.formatStoryUrl||t&&t.formatStoryUrl||c).call(o,null!=(r=null!=t?t.group:t)?r.url:r,{name:"formatStoryUrl",hash:{},data:s}))+'">'+u(e.lambda(null!=(r=null!=t?t.group:t)?r.title:r,t))+"</a></h6>\n        <small>"+u((n.trans||t&&t.trans||c).call(o,"Table of contents",{name:"trans",hash:{},data:s}))+'</small>\n    </div>\n\n    <ul class="table-of-contents">\n'+(null!=(r=n.each.call(o,null!=(r=null!=t?t.group:t)?r.parts:r,{name:"each",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"    </ul>\n</div>\n"},useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'    <div class="media-wrapper">\n'},3:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.media:t)?i.length:i,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?i:""},4:function(e,t,n,a,s){return'        <div class="media-wrapper">\n'},6:function(e,t,n,a,s){return'        <div class="media-wrapper hidden">\n'},8:function(e,t,n,a,s){return'style="background-color: #827C78;background-image: url('+e.escapeExpression((n.resizeCoverAsBackground||t&&t.resizeCoverAsBackground||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.bgCover:t,1920,{name:"resizeCoverAsBackground",hash:{},data:s}))+');"'},10:function(e,t,n,a,s){return" hasStoryInfo"},12:function(e,t,n,a,s,i,l){var r,o=null!=t?t:e.nullContext||{};return(null!=(r=n.if.call(o,null!=t?t.isEditable:t,{name:"if",hash:{},fn:e.program(13,s,0,i,l),inverse:e.program(15,s,0,i,l),data:s}))?r:"")+(null!=(r=n.each.call(o,null!=t?t.media:t,{name:"each",hash:{},fn:e.program(17,s,0,i,l),inverse:e.noop,data:s}))?r:"")+(null!=(r=n.if.call(o,null!=t?t.isEditable:t,{name:"if",hash:{},fn:e.program(35,s,0,i,l),inverse:e.program(37,s,0,i,l),data:s}))?r:"")+(null!=(r=n.if.call(o,null!=t?t.isEditable:t,{name:"if",hash:{},fn:e.program(39,s,0,i,l),inverse:e.noop,data:s}))?r:"")},13:function(e,t,n,a,s){var i;return"                  "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-left",24,"wp-neutral-2","btn btn-link on-prev-media hidden-xs invisible",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},15:function(e,t,n,a,s){var i;return"                  "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-left",24,"wp-neutral-5","btn btn-link on-prev-media hidden-xs invisible",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},17:function(e,t,n,a,s,i,l){var r,o=null!=t?t:e.nullContext||{};return(null!=(r=n.if.call(o,null!=t?t.storyInfo:t,{name:"if",hash:{},fn:e.program(18,s,0,i,l),inverse:e.noop,data:s}))?r:"")+(null!=(r=n.if.call(o,null!=t?t.video:t,{name:"if",hash:{},fn:e.program(27,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=n.if.call(o,null!=t?t.photo:t,{name:"if",hash:{},fn:e.program(30,s,0,i,l),inverse:e.noop,data:s}))?r:"")},18:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'                    <div class="media-item story-info'+(null!=(r=n.if.call(c,s&&s.index,{name:"if",hash:{},fn:e.program(19,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n                        <img class= "cover" src="'+d((n.resizeCover||t&&t.resizeCover||u).call(c,null!=t?t.cover:t,140,{name:"resizeCover",hash:{},data:s}))+'" alt="'+d(e.lambda(null!=l[2]?l[2].title:l[2],t))+'"/>\n                        <div class="text">\n                            <p class="item-header">'+d((n.trans||t&&t.trans||u).call(c,"YOU ARE READING",{name:"trans",hash:{},data:s}))+'</p>\n                            <h3 class="item-title">'+d("function"==typeof(o=null!=(o=n.title||(null!=t?t.title:t))?o:u)?o.call(c,{name:"title",hash:{},data:s}):o)+'</h3>\n                            <a class="item-category on-navigate" href=\'/stories/'+d((n.slugify||t&&t.slugify||u).call(c,null!=t?t.categoryEnglish:t,{name:"slugify",hash:{},data:s}))+"'>"+d("function"==typeof(o=null!=(o=n.category||(null!=t?t.category:t))?o:u)?o.call(c,{name:"category",hash:{},data:s}):o)+'</a>\n                            <p class="item-description">'+d((n.simpleShorten||t&&t.simpleShorten||u).call(c,null!=t?t.description:t,250,!1,{name:"simpleShorten",hash:{},data:s}))+"</p>\n"+(null!=(r=n.if.call(c,null!=l[1]?l[1].isDesktop:l[1],{name:"if",hash:{},fn:e.program(21,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"                        </div>\n"+(null!=(r=n.unless.call(c,null!=l[1]?l[1].isDesktop:l[1],{name:"unless",hash:{},fn:e.program(24,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"                    </div>\n"},19:function(e,t,n,a,s){return" hidden"},21:function(e,t,n,a,s,i,l){var r;return'                                <p class="item-tags">\n'+(null!=(r=n.each.call(null!=t?t:e.nullContext||{},null!=(r=null!=l[1]?l[1].group:l[1])?r.tags:r,{name:"each",hash:{},fn:e.program(22,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"                                </p>\n"},22:function(e,t,n,a,s){var i=e.lambda,l=e.escapeExpression;return'                                        <span class="tag"><a class="on-navigate" href="/stories/'+l(i(t,t))+'"><s>#</s><strong>'+l(i(t,t))+"</strong></a></span>\n"},24:function(e,t,n,a,s,i,l){var r;return'                            <div class="item-tags">\n                                <div class="collection">\n'+(null!=(r=n.each.call(null!=t?t:e.nullContext||{},null!=(r=null!=l[1]?l[1].group:l[1])?r.tags:r,{name:"each",hash:{},fn:e.program(25,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"                                </div>\n                            </div>\n"},25:function(e,t,n,a,s){var i=e.lambda,l=e.escapeExpression;return'                                            <span class="pill"><a class="on-navigate" href="/stories/'+l(i(t,t))+'">'+l(i(t,t))+"</a></span>\n"},27:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'                    <div class="media-item video on-video '+(null!=(i=n.if.call(r,s&&s.index,{name:"if",hash:{},fn:e.program(28,s,0),inverse:e.noop,data:s}))?i:"")+'" data-youtube="'+c("function"==typeof(l=null!=(l=n.ref||(null!=t?t.ref:t))?l:o)?l.call(r,{name:"ref",hash:{},data:s}):l)+'">\n                        <img src="https://img.youtube.com/vi/'+c("function"==typeof(l=null!=(l=n.ref||(null!=t?t.ref:t))?l:o)?l.call(r,{name:"ref",hash:{},data:s}):l)+'/0.jpg"/>\n                        <div class="play">\n                            <span class="fa fa-stack-1x triangle-right">&#x25b6;</span>\n                        </div>\n                    </div>\n'},28:function(e,t,n,a,s){return"hidden"},30:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'                    <div class="media-item image '+(null!=(r=n.if.call(c,s&&s.index,{name:"if",hash:{},fn:e.program(28,s,0,i,l),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=n.unless.call(c,null!=l[1]?l[1].isWriterPreview:l[1],{name:"unless",hash:{},fn:e.program(31,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n                        <img data-index="'+d("function"==typeof(o=null!=(o=n.index||s&&s.index)?o:u)?o.call(c,{name:"index",hash:{},data:s}):o)+'" src="'+d("function"==typeof(o=null!=(o=n.ref||(null!=t?t.ref:t))?o:u)?o.call(c,{name:"ref",hash:{},data:s}):o)+'" alt="'+d(e.lambda(null!=l[2]?l[2].title:l[2],t))+'"/>\n'+(null!=(r=n.if.call(c,null!=l[1]?l[1].isEditable:l[1],{name:"if",hash:{},fn:e.program(33,s,0,i,l),inverse:e.noop,data:s}))?r:"")+(null!=(r=n.if.call(c,null!=l[1]?l[1].isWriterPreview:l[1],{name:"if",hash:{},fn:e.program(33,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"                    </div>\n"},31:function(e,t,n,a,s){return" on-full-size-banner "},33:function(e,t,n,a,s){return'                                <span class=\'banned-overlay hidden\'>\n                                    <div id="header-banned-image-warning" class="hidden" contenteditable="false">\n                                        <div class="placeholder"></div>\n                                    </div>\n                                </span>\n'},35:function(e,t,n,a,s){var i;return"                    "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-right",24,"wp-neutral-2","btn btn-link on-next-media hidden-xs invisible",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},37:function(e,t,n,a,s){var i;return"                    "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-right",24,"wp-neutral-5","btn btn-link on-next-media hidden-xs invisible",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},39:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'                    <div class="btn-primary btn-icon edit-media on-show-media-menu">\n                        '+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(l,"edit",16,"wp-neutral-2","fa-4x edit-media on-show-media-menu",'fill="#222222" stroke="#ffffff"',{name:"iconify",hash:{},data:s}))?i:"")+'\n                    </div>\n\n                    <div class="popover bottom media-menu">\n                        <div class="arrow"></div>\n                        <div class="media-menu-content">\n'+(null!=(i=n.if.call(l,null!=t?t.hasVideo:t,{name:"if",hash:{},fn:e.program(40,s,0),inverse:e.program(42,s,0),data:s}))?i:"")+(null!=(i=n.if.call(l,null!=t?t.hasPhoto:t,{name:"if",hash:{},fn:e.program(44,s,0),inverse:e.program(46,s,0),data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.hasVideo:t,{name:"if",hash:{},fn:e.program(48,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=n.if.call(l,null!=t?t.hasPhoto:t,{name:"if",hash:{},fn:e.program(50,s,0),inverse:e.noop,data:s}))?i:"")+"                        </div>\n                    </div>\n"},40:function(e,t,n,a,s){return'                                <a href="#" class="on-replace-video">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Replace video",{name:"trans",hash:{},data:s}))+"</a>\n"},42:function(e,t,n,a,s){return'                                <a href="#" class="on-add-video">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Add YouTube video",{name:"trans",hash:{},data:s}))+"</a>\n"},44:function(e,t,n,a,s){return'                                 <a href="#" class="on-replace-image">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Replace image",{name:"trans",hash:{},data:s}))+"</a>\n"},46:function(e,t,n,a,s){return'                                <a href="#" class="on-add-image">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Add image",{name:"trans",hash:{},data:s}))+"</a>\n"},48:function(e,t,n,a,s){return'                                <a href="#" class="on-remove-video remove-options">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Remove video",{name:"trans",hash:{},data:s}))+"</a>\n"},50:function(e,t,n,a,s){return'                              <a href="#" class="on-remove-image remove-options">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Remove image",{name:"trans",hash:{},data:s}))+"</a>\n"},52:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isEditable:t,{name:"if",hash:{},fn:e.program(53,s,0),inverse:e.noop,data:s}))?i:""},53:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'                    <div class="btn-group media-buttons" role="group">\n                        <button type="button" class="btn btn-white btn-lg btn-writer-media on-add-image" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Insert image",{name:"trans",hash:{},data:s}))+'">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-image",36,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'</button>\n                        <button type="button" class="btn btn-white btn-lg btn-writer-media on-add-video" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Insert YouTube video",{name:"trans",hash:{},data:s}))+'">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-video",36,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"</button>\n"+(null!=(i=n.if.call(l,null!=t?t.showTips:t,{name:"if",hash:{},fn:e.program(54,s,0),inverse:e.noop,data:s}))?i:"")+"                    </div>\n"},54:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'                            <div class="popover writer-tooltip fade left in" role="tooltip" id="header-media-tooltip" style="top: 59px; left: 322px; display: block;"><div class="arrow"></div><h3 class="popover-title">'+r((n.trans||t&&t.trans||l).call(i,"Add header media",{name:"trans",hash:{},data:s}))+'</h3><div class="popover-content"><div class="main-content">'+r((n.trans||t&&t.trans||l).call(i,"Set the mood for your story by adding multimedia.",{name:"trans",hash:{},data:s}))+'</div><div class="tooltip-footer"><a href="">'+r((n.trans||t&&t.trans||l).call(i,"Learn More",{name:"trans",hash:{},data:s}))+'</a><button class="btn btn-orange on-okay">'+r((n.trans||t&&t.trans||l).call(i,"OK",{name:"trans",hash:{},data:s}))+"</button></div></div></div>\n"},56:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'                <div class="media-fields">\n                  <div class="input-group input-group-lg photo-url hide">\n                    <input type="text" name="photoURL" class="photo-url-field form-control" value="'+o("function"==typeof(i=null!=(i=n.photoURL||(null!=t?t.photoURL:t))?i:r)?i.call(l,{name:"photoURL",hash:{},data:s}):i)+'" placeholder="'+o((n.trans||t&&t.trans||r).call(l,"Paste image URL",{name:"trans",hash:{},data:s}))+'" />\n                    <span class="input-group-btn">\n                        <button class="btn btn-grey on-submit-photo" type="button">'+o((n.trans||t&&t.trans||r).call(l,"Add",{name:"trans",hash:{},data:s}))+'</button>\n                    </span>\n                  </div>\n                  <div class="input-group input-group-lg video-url hide">\n                    <input type="text" name="videoURL" class="video-url-field form-control" value="'+o("function"==typeof(i=null!=(i=n.videoURL||(null!=t?t.videoURL:t))?i:r)?i.call(l,{name:"videoURL",hash:{},data:s}):i)+'" placeholder="'+o((n.trans||t&&t.trans||r).call(l,"Paste YouTube URL",{name:"trans",hash:{},data:s}))+'" />\n                    <span class="input-group-btn">\n                        <button class="btn btn-grey on-submit-video" type="button">'+o((n.trans||t&&t.trans||r).call(l,"Add",{name:"trans",hash:{},data:s}))+'</button>\n                    </span>\n                    <span class="input-group-btn">\n                        <button class="btn btn-grey media-fields-underlay on-cancel" type="button">'+o((n.trans||t&&t.trans||r).call(l,"Cancel",{name:"trans",hash:{},data:s}))+"</button>\n                    </span>\n                  </div>\n                </div>\n"},58:function(e,t,n,a,s){var i;return null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.media:t,{name:"each",hash:{},fn:e.program(59,s,0),inverse:e.noop,data:s}))?i:""},59:function(e,t,n,a,s){var i;return'                <li class="on-carousel-clicked '+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},s&&s.index,{name:"if",hash:{},fn:e.noop,inverse:e.program(60,s,0),data:s}))?i:"")+'"></li>\n'},60:function(e,t,n,a,s){return"active"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.lambda,d=e.escapeExpression;return(null!=(r=n.if.call(o,null!=t?t.isEditable:t,{name:"if",hash:{},fn:e.program(1,s,0,i,l),inverse:e.program(3,s,0,i,l),data:s}))?r:"")+'    <div class="hover-wrapper"  '+(null!=(r=n.if.call(o,null!=t?t.showCover:t,{name:"if",hash:{},fn:e.program(8,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'>\n        <div class="background-lg media background'+(null!=(r=n.if.call(o,null!=t?t.storyInfoFlag:t,{name:"if",hash:{},fn:e.program(10,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n'+(null!=(r=n.if.call(o,null!=(r=null!=t?t.media:t)?r.length:r,{name:"if",hash:{},fn:e.program(12,s,0,i,l),inverse:e.program(52,s,0,i,l),data:s}))?r:"")+(null!=(r=n.if.call(o,null!=t?t.isEditable:t,{name:"if",hash:{},fn:e.program(56,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n            <ol class="carousel-indicators">\n                <li class="icon-container">'+(null!=(r=(n.iconify||t&&t.iconify||c).call(o,"fa-flag",12,"wp-neutral-3 on-report-image-banner",{name:"iconify",hash:{},data:s}))?r:"")+"</li>\n"+(null!=(r=n.if.call(o,null!=t?t.showCarousel:t,{name:"if",hash:{},fn:e.program(58,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n                <li class="icon-container">\n                    <a href="'+d(u(null!=(r=null!=t?t.media:t)?r.facebook:r,t))+'" class="social-share" id="share-header-media-facebook"\n                       data-gtm-action="shareinlinemedia:facebook" data-share-channel="facebook" target="_blank"\n                       title="'+d((n.trans||t&&t.trans||c).call(o,"Share on Facebook",{name:"trans",hash:{},data:s}))+'">\n                        '+(null!=(r=(n.iconify||t&&t.iconify||c).call(o,"fa-facebook",12,"wp-neutral-5 on-share-image-banner facebook",{name:"iconify",hash:{},data:s}))?r:"")+'\n                    </a>\n                </li>\n                <li class="icon-container">\n                    <a href="'+d(u(null!=(r=null!=t?t.media:t)?r.pinterest:r,t))+'" class="social-share" id="share-header-media-pinterest"\n                       data-gtm-action="shareinlinemedia:pinterest" data-share-channel="pinterest" target="_blank"\n                       title="'+d((n.trans||t&&t.trans||c).call(o,"Share on Pinterest",{name:"trans",hash:{},data:s}))+'">\n                        '+(null!=(r=(n.iconify||t&&t.iconify||c).call(o,"fa-pinterest",12,"wp-neutral-5 on-share-image-banner pinterest",{name:"iconify",hash:{},data:s}))?r:"")+'\n                    </a>\n                </li>\n            </ol>\n        </div>\n    </div>\n    <div class="file-upload hidden">\n        <input accept=".jpeg,image/jpeg, image/png, image/gif" type="file" name="file">\n    </div>\n    <div class="media-fields-underlay"></div>\n</div>\n'},useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div id="sp'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+"-pg"+c("function"==typeof(l=null!=(l=n.pageNumber||(null!=t?t.pageNumber:t))?l:o)?l.call(r,{name:"pageNumber",hash:{},data:s}):l)+'"\n     data-page-number="'+c("function"==typeof(l=null!=(l=n.pageNumber||(null!=t?t.pageNumber:t))?l:o)?l.call(r,{name:"pageNumber",hash:{},data:s}):l)+'"\n     class="page col-sm-12 col-md-10 col-lg-8 col-md-offset-1 col-lg-offset-2'+(null!=(i=n.if.call(r,null!=t?t.isHeightZero:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'">\n\n    <div class="panel panel-reading" dir=\''+(null!=(i=n.if.call(r,(n.rtlLanguage||t&&t.rtlLanguage||o).call(r,null!=(i=null!=(i=null!=t?t.group:t)?i.language:i)?i.id:i,{name:"rtlLanguage",hash:{},data:s}),{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?i:"")+"'>\n"+(null!=(i=n.unless.call(r,null!=t?t.isMicroPart:t,{name:"unless",hash:{},fn:e.program(8,s,0),inverse:e.program(16,s,0),data:s}))?i:"")+"    </div>\n\n"+(null!=(i=n.unless.call(r,null!=t?t.isMicroPart:t,{name:"unless",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?i:"")+"</div>\n\n"+(null!=(i=n.if.call(r,null!=t?t.cta:t,{name:"if",hash:{},fn:e.program(24,s,0),inverse:e.noop,data:s}))?i:"")+"\n\n\n"},2:function(e,t,n,a,s){return" height-zero "},4:function(e,t,n,a,s){return"rtl"},6:function(e,t,n,a,s){return"ltr"},8:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"            <pre>\n              "+(null!=(i=(n.renderTrinityAudioPlayer||t&&t.renderTrinityAudioPlayer||r).call(l,null!=t?t.id:t,null!=t?t.group:t,{name:"renderTrinityAudioPlayer",hash:{},data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||r).call(l,"OUTSTREAM_ELIGIBLE",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.program(14,s,0),data:s}))?i:"")+"            </pre>\n"},9:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.firstPage:t,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(12,s,0),data:s}))?i:""},10:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                        "+(null!=(i=(n.insertAdUnit||t&&t.insertAdUnit||r).call(l,(n.parseEmbeddedMedia||t&&t.parseEmbeddedMedia||r).call(l,null!=t?t.text:t,720,{name:"parseEmbeddedMedia",hash:{},data:s}),{name:"insertAdUnit",hash:{storyGroup:null!=t?t.group:t,experience:"reading"},data:s}))?i:"")+"\n"},12:function(e,t,n,a,s){var i;return"                        "+(null!=(i=(n.parseEmbeddedMedia||t&&t.parseEmbeddedMedia||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.text:t,720,{name:"parseEmbeddedMedia",hash:{},data:s}))?i:"")+"\n"},14:function(e,t,n,a,s){var i;return"                    "+(null!=(i=(n.parseEmbeddedMedia||t&&t.parseEmbeddedMedia||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.text:t,720,{name:"parseEmbeddedMedia",hash:{},data:s}))?i:"")+"\n"},16:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"            <pre>\n              "+(null!=(i=(n.renderTrinityAudioPlayer||t&&t.renderTrinityAudioPlayer||r).call(l,null!=t?t.id:t,null!=t?t.group:t,{name:"renderTrinityAudioPlayer",hash:{},data:s}))?i:"")+"\n              "+(null!=(i=(n.parseEmbeddedMedia||t&&t.parseEmbeddedMedia||r).call(l,null!=t?t.text:t,720,{name:"parseEmbeddedMedia",hash:{},data:s}))?i:"")+"\n            </pre>\n"},18:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.lastPage:t,{name:"unless",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?i:""},19:function(e,t,n,a,s){var i,l,r,o="";return l=null!=(l=n.isLoggedIn||(null!=t?t.isLoggedIn:t))?l:n.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(20,s,0),inverse:e.program(22,s,0),data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.isLoggedIn||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(o+=i),o},20:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{lazy:!0,storyGroup:null!=t?t.group:t,adTextClass:"panel-title",adText:(n.trans||t&&t.trans||r).call(l,"Story continues below",{name:"trans",hash:{},data:s}),parentClass:"reading-widget col-xs-12",experience:"reading",unit:"readinglong_mid_mweb"},data:s}))?i:"")+"\n"},22:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{lazy:!0,storyGroup:null!=t?t.group:t,adTextClass:"panel-title",adText:(n.trans||t&&t.trans||r).call(l,"Story continues below",{name:"trans",hash:{},data:s}),parentClass:"reading-widget col-xs-12",experience:"reading",unit:"readinglong_mid_loggedout_mweb"},data:s}))?i:"")+"\n"},24:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.story_reading.cta"],t,{name:"core.story_reading.cta",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:""},26:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div id="sp'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+"-pg"+c("function"==typeof(l=null!=(l=n.pageNumber||(null!=t?t.pageNumber:t))?l:o)?l.call(r,{name:"pageNumber",hash:{},data:s}):l)+'"\n     data-page-number="'+c("function"==typeof(l=null!=(l=n.pageNumber||(null!=t?t.pageNumber:t))?l:o)?l.call(r,{name:"pageNumber",hash:{},data:s}):l)+'"\n     class="page highlighter'+(null!=(i=n.if.call(r,null!=t?t.isHeightZero:t,{name:"if",hash:{},fn:e.program(27,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=n.if.call(r,null!=t?t.firstPage:t,{name:"if",hash:{},fn:e.program(29,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=n.if.call(r,null!=t?t.lastPage:t,{name:"if",hash:{},fn:e.program(31,s,0),inverse:e.noop,data:s}))?i:"")+'">\n\n    <div class="col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3 panel panel-reading"\n        dir="'+(null!=(i=n.if.call(r,(n.rtlLanguage||t&&t.rtlLanguage||o).call(r,null!=(i=null!=(i=null!=t?t.group:t)?i.language:i)?i.id:i,{name:"rtlLanguage",hash:{},data:s}),{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?i:"")+'">\n        <pre>\n          '+(null!=(i=(n.renderTrinityAudioPlayer||t&&t.renderTrinityAudioPlayer||o).call(r,null!=t?t.id:t,null!=t?t.group:t,{name:"renderTrinityAudioPlayer",hash:{},data:s}))?i:"")+"\n"+(null!=(i=n.if.call(r,(n.isTestGroup||t&&t.isTestGroup||o).call(r,"OUTSTREAM_ELIGIBLE",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.program(36,s,0),data:s}))?i:"")+'        </pre>\n    </div>\n\n    <div class="col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-md-4 col-md-offset-0 col-lg-3 col-lg-offset-0 right-rail '+(null!=(i=(n.isDevice||t&&t.isDevice||o).call(r,"desktop",{name:"isDevice",hash:{},fn:e.program(38,s,0),inverse:e.noop,data:s}))?i:"")+'">\n'+(null!=(i=n.if.call(r,null!=t?t.firstPage:t,{name:"if",hash:{},fn:e.program(41,s,0),inverse:e.program(43,s,0),data:s}))?i:"")+"     </div>\n</div>\n"},27:function(e,t,n,a,s){return" height-zero"},29:function(e,t,n,a,s){return" first-page"},31:function(e,t,n,a,s){return" last-page"},33:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.firstPage:t,{name:"if",hash:{},fn:e.program(34,s,0),inverse:e.program(14,s,0),data:s}))?i:""},34:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                    "+(null!=(i=(n.insertAdUnit||t&&t.insertAdUnit||r).call(l,(n.parseEmbeddedMedia||t&&t.parseEmbeddedMedia||r).call(l,null!=t?t.text:t,720,{name:"parseEmbeddedMedia",hash:{},data:s}),{name:"insertAdUnit",hash:{storyGroup:null!=t?t.group:t,experience:"reading"},data:s}))?i:"")+"\n"},36:function(e,t,n,a,s){var i;return"                "+(null!=(i=(n.parseEmbeddedMedia||t&&t.parseEmbeddedMedia||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.text:t,720,{name:"parseEmbeddedMedia",hash:{},data:s}))?i:"")+"\n"},38:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.firstPage:t,{name:"unless",hash:{},fn:e.program(39,s,0),inverse:e.noop,data:s}))?i:""},39:function(e,t,n,a,s){return" sticky-ad-container"},41:function(e,t,n,a,s){var i;return(null!=(i=e.invokePartial(a["core.story_reading.part_similar"],t,{name:"core.story_reading.part_similar",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"\n"},43:function(e,t,n,a,s){var i;return null!=(i=(n.isDevice||t&&t.isDevice||n.helperMissing).call(null!=t?t:e.nullContext||{},"tablet",{name:"isDevice",hash:{},fn:e.program(44,s,0),inverse:e.noop,data:s}))?i:""},44:function(e,t,n,a,s){var i,l,r,o="";return l=null!=(l=n.isLoggedIn||(null!=t?t.isLoggedIn:t))?l:n.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(45,s,0),inverse:e.program(47,s,0),data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.isLoggedIn||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(o+=i),o},45:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                    "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{adTextClass:"panel-title hidden-md hidden-lg",adText:(n.ternary||t&&t.ternary||r).call(l,null!=t?t.lastPage:t,"",(n.trans||t&&t.trans||r).call(l,"Story continues below",{name:"trans",hash:{},data:s}),{name:"ternary",hash:{},data:s}),storyGroup:null!=t?t.group:t,experience:"reading",parentClass:"reading-widget col-xs-12",unit:"readinglong_mid"},data:s}))?i:"")+"\n"},47:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                    "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{adTextClass:"panel-title hidden-md hidden-lg",adText:(n.ternary||t&&t.ternary||r).call(l,null!=t?t.lastPage:t,"",(n.trans||t&&t.trans||r).call(l,"Story continues below",{name:"trans",hash:{},data:s}),{name:"ternary",hash:{},data:s}),storyGroup:null!=t?t.group:t,experience:"reading",parentClass:"reading-widget col-xs-12",unit:"readinglong_mid_loggedout"},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return"\n"+(null!=(i=(n.isDevice||t&&t.isDevice||n.helperMissing).call(null!=t?t:e.nullContext||{},"mobile",{name:"isDevice",hash:{},fn:e.program(1,s,0),inverse:e.program(26,s,0),data:s}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"      "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{adTextClass:"panel-title hidden-md hidden-lg",adText:(n.ternary||t&&t.ternary||r).call(l,null!=t?t.isMicroPart:t,"",(n.trans||t&&t.trans||r).call(l,"Story continues below",{name:"trans",hash:{},data:s}),{name:"ternary",hash:{},data:s}),storyGroup:null!=t?t.group:t,experience:"reading",parentClass:"reading-widget col-xs-12",unit:(n.ternary||t&&t.ternary||r).call(l,null!=t?t.isMicroPart:t,"readingshort_top","readinglong_top",{name:"ternary",hash:{},data:s})},data:s}))?i:"")+"\n"},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"    "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{adTextClass:"panel-title hidden-md hidden-lg",adText:(n.ternary||t&&t.ternary||r).call(l,null!=t?t.isMicroPart:t,"",(n.trans||t&&t.trans||r).call(l,"Story continues below",{name:"trans",hash:{},data:s}),{name:"ternary",hash:{},data:s}),storyGroup:null!=t?t.group:t,experience:"reading",parentClass:"reading-widget col-xs-12",unit:(n.ternary||t&&t.ternary||r).call(l,null!=t?t.isMicroPart:t,"readingshort_top_loggedout","readinglong_top_loggedout",{name:"ternary",hash:{},data:s})},data:s}))?i:"")+"\n"},5:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'    <div class="reading-widget hidden-xxs col-xs-12 col-sm-12 col-md-12 col-lg-12 hidden promoted-stories-container">\n      <h4 class="panel-title">'+r((n.trans||t&&t.trans||l).call(i,"Promoted stories",{name:"trans",hash:{},data:s}))+'</h4>\n      <div id="similar-stories" class="promoted-stories"></div>\n    </div>\n    <div class="reading-widget hidden-xxs col-xs-12 col-sm-12 col-md-12 col-lg-12 hidden similar-stories-container">\n      <h4 class="panel-title">'+r((n.trans||t&&t.trans||l).call(i,"You'll also like",{name:"trans",hash:{},data:s}))+'</h4>\n      <div id="similar-stories" class="similar-stories"></div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'\n<div class="row">\n'+(null!=(i=n.unless.call(l,null!=t?t.anonymousUser:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.anonymousUser:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n\n"+(null!=(i=n.unless.call(l,null!=t?t.isMicroPart:t,{name:"unless",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+"</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return"<div class='col-xs-12 col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3'>\n  <header class='panel panel-reading'>\n    <h3 class=\"part-restart-chapter\">"+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+"</h3>  \n    <a href='"+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+"' class='on-navigate restart-part'>\n      <div class='part-title'>\n        "+c((n.trans||t&&t.trans||o).call(r,"Start from the beginning",{name:"trans",hash:{},data:s}))+" "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-up",12,"wp-neutral-2","up-icon pull-right",{name:"iconify",hash:{},data:s}))?i:"")+"\n      </div>\n    </a>\n  </header>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){return'<div class="discover-module recommended-stories-view"></div>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.nextPage:t,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:""},2:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'    <a class="on-navigate" href="'+o((n.formatStoryUrl||t&&t.formatStoryUrl||r).call(l,null!=(i=null!=t?t.nextPart:t)?i.url:i,{name:"formatStoryUrl",hash:{},data:s}))+'" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Continue reading next part",{name:"trans",hash:{},data:s}))+'">\n'},4:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'        <a class="on-load-more-page load-more-page next-up grey" href="'+c("function"==typeof(l=null!=(l=n.nextPage||(null!=t?t.nextPage:t))?l:o)?l.call(r,{name:"nextPage",hash:{},data:s}):l)+'" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Load More Pages",{name:"trans",hash:{},data:s}))+'">\n            '+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||o).call(r,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{color:"wp-neutral-2"},data:s}))?i:"")+"\n            <span>"+c((n.trans||t&&t.trans||o).call(r,"Load More Pages",{name:"trans",hash:{},data:s}))+"...</span>\n        </a>\n"},6:function(e,t,n,a,s){var i,l=e.escapeExpression,r=null!=t?t:e.nullContext||{},o=n.helperMissing;return'        <a href="'+l(e.lambda(null!=(i=null!=t?t.nextPart:t)?i.url:i,t))+'" class="on-navigate next-part-link" aria-label="'+l((n.trans||t&&t.trans||o).call(r,"Continue reading next part",{name:"trans",hash:{},data:s}))+'">\n          <div class="next-up next-part orange'+(null!=(i=n.if.call(r,null!=t?t.nextPage:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+'">\n            <span>'+l((n.trans||t&&t.trans||o).call(r,"Continue reading next part",{name:"trans",hash:{},data:s}))+"</span>\n            "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-right",16,"wp-neutral-5","next-up-icon",{name:"iconify",hash:{},data:s}))?i:"")+"\n          </div>\n        </a>\n"},7:function(e,t,n,a,s){return" hidden"},9:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'        <div class="next-up next-part orange'+(null!=(i=n.if.call(l,null!=t?t.nextPage:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+'">\n            <div class="next-up-title">\n'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.group:t)?i.completed:i,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(12,s,0),data:s}))?i:"")+"                <strong>"+e.escapeExpression(e.lambda(null!=(i=null!=t?t.group:t)?i.title:i,t))+"</strong>\n"+(null!=(i=n.unless.call(l,null!=(i=null!=t?t.group:t)?i.completed:i,{name:"unless",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?i:"")+"            </div>\n        </div>\n"},10:function(e,t,n,a,s){return"                    <div>"+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Finished Reading",{name:"trans",hash:{},data:s}))+"</div>\n"},12:function(e,t,n,a,s){return"                    <div>"+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"To be Continued...",{name:"trans",hash:{},data:s}))+"</div>\n"},14:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return"                    <div>"+e.escapeExpression((n.trans||t&&t.trans||l).call(i,"Last updated: %s",(n.fromNow||t&&t.fromNow||l).call(i,null!=t?t.modifyDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}),{name:"trans",hash:{},data:s}))+"</div>\n"},16:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.nextPage:t,{name:"unless",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?i:""},17:function(e,t,n,a,s){return"    </a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return"\n"+(null!=(i=n.if.call(l,null!=t?t.nextPart:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"<div>\n"+(null!=(i=n.if.call(l,null!=t?t.nextPage:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.nextPart:t,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(9,s,0),data:s}))?i:"")+"</div>\n"+(null!=(i=n.if.call(l,null!=t?t.nextPart:t,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?i:"")},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'            <div class="supported-marker">\n                '+r((n.connectImage||t&&t.connectImage||l).call(i,"paid-content/supported-stories-badge.svg","Paid Stories Badge",{name:"connectImage",hash:{},data:s}))+"\n                "+r((n.trans||t&&t.trans||l).call(i,"Paid Story",{name:"trans",hash:{},data:s}))+"\n            </div>\n"},3:function(e,t,n,a,s){var i;return null!=(i=(n.greaterThan||t&&t.greaterThan||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.freePartsUntilPaywall:t,-1,{name:"greaterThan",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:""},4:function(e,t,n,a,s){var i;return'                <div class="free-parts-warning">\n'+(null!=(i=(n.ifequal||t&&t.ifequal||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.freePartsUntilPaywall:t,0,{name:"ifequal",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?i:"")+"                </div>\n"},5:function(e,t,n,a,s){return"                        "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"This is the last free part",{name:"trans",hash:{},data:s}))+"\n"},7:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return"                        "+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"There is %s more free part","There are %s more free parts",null!=t?t.freePartsUntilPaywall:t,{name:"ngettext",hash:{},data:s}),null!=t?t.freePartsUntilPaywall:t,{name:"sprintf",hash:{},data:s}))+"\n"},9:function(e,t,n,a,s){return'<span class="deleted-tag">('+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Deleted",{name:"trans",hash:{},data:s}))+")</span>"},11:function(e,t,n,a,s){return'<span class="draft-tag">('+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Draft",{name:"trans",hash:{},data:s}))+")</span>"},13:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return'                  data-toggle="tooltip" data-placement="bottom" title="'+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Read","%s Reads",(n.format||t&&t.format||l).call(i,null!=t?t.readCount:t,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(n.format||t&&t.format||l).call(i,null!=t?t.readCount:t,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n'},15:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return'                  data-toggle="tooltip" data-placement="bottom" title="'+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Vote","%s Votes",(n.format||t&&t.format||l).call(i,null!=t?t.voteCount:t,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(n.format||t&&t.format||l).call(i,null!=t?t.voteCount:t,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n'},17:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return'                  data-toggle="tooltip" data-placement="bottom" title="'+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Comment","%s Comments",(n.format||t&&t.format||l).call(i,null!=t?t.commentCount:t,{name:"format",hash:{},data:s}),{name:"ngettext",hash:{},data:s}),(n.format||t&&t.format||l).call(i,null!=t?t.commentCount:t,{name:"format",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+'"\n'},19:function(e,t,n,a,s){return" hidden-lg"},21:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'                <li class="story-extra dedication btn btn-link">\n                    '+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(l,"Dedicated to",{name:"trans",hash:{},data:s}))+"\n"+(null!=(i=n.if.call(l,null!=(i=null!=t?t.dedication:t)?i.url:i,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(24,s,0),data:s}))?i:"")+"                </li>\n"},22:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression;return'                        <a href="'+r(l(null!=(i=null!=t?t.dedication:t)?i.url:i,t))+'">'+r(l(null!=(i=null!=t?t.dedication:t)?i.name:i,t))+"</a>\n"},24:function(e,t,n,a,s){var i;return"                        <strong>"+e.escapeExpression(e.lambda(null!=(i=null!=t?t.dedication:t)?i.name:i,t))+"</strong>\n"},26:function(e,t,n,a,s){var i,l,r,o="";return l=null!=(l=n.isLoggedIn||(null!=t?t.isLoggedIn:t))?l:n.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(27,s,0),inverse:e.program(29,s,0),data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.isLoggedIn||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(o+=i),o},27:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"        "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{lazy:!0,storyGroup:null!=t?t.group:t,parentClass:"header-advertisement",experience:"reading",unit:(n.ternary||t&&t.ternary||r).call(l,null!=t?t.isMicroPart:t,"readingshort_top_mweb","readinglong_top_mweb",{name:"ternary",hash:{},data:s})},data:s}))?i:"")+"\n"},29:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"        "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{lazy:!0,storyGroup:null!=t?t.group:t,parentClass:"header-advertisement",experience:"reading",unit:(n.ternary||t&&t.ternary||r).call(l,null!=t?t.isMicroPart:t,"readingshort_top_loggedout_mweb","readinglong_top_loggedout_mweb",{name:"ternary",hash:{},data:s})},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="col-sm-12 col-md-7 col-lg-8 col-md-offset-1 col-lg-offset-2">\n    <header class="panel panel-reading text-center">\n'+(null!=(i=n.if.call(r,null!=(i=null!=t?t.group:t)?i.isPaywalled:i,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(r,null!=t?t.isPaidPreview:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'\n        <h1 class="h2">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+"\n            "+(null!=(i=n.if.call(r,null!=t?t.deleted:t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:"")+"\n            "+(null!=(i=n.if.call(r,null!=t?t.draft:t,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?i:"")+'</h1>\n\n        <div class="story-stats">\n            <span class="reads"\n'+(null!=(i=(n.greaterThan||t&&t.greaterThan||o).call(r,null!=t?t.readCount:t,999,{name:"greaterThan",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?i:"")+"                >\n                "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-view",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+'\n            </span>\n\n            <span class="votes"\n'+(null!=(i=(n.greaterThan||t&&t.greaterThan||o).call(r,null!=t?t.voteCount:t,999,{name:"greaterThan",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?i:"")+"                >\n                "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-vote",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+'\n            </span>\n\n            <span class="comments on-comments"\n'+(null!=(i=(n.greaterThan||t&&t.greaterThan||o).call(r,null!=t?t.commentCount:t,999,{name:"greaterThan",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?i:"")+"                >\n                "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-comment",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n                <a href='#'>"+c((n.count||t&&t.count||o).call(r,null!=t?t.commentCount:t,{name:"count",hash:{},data:s}))+'</a>\n            </span>\n        </div>\n\n        <div class="author'+(null!=(i=n.unless.call(r,null!=(i=null!=t?t.nextPart:t)?i.isBlocked:i,{name:"unless",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?i:"")+'">\n            <a class="on-navigate avatar avatar-sm center-block" href="/user/'+c(e.lambda(null!=(i=null!=(i=null!=t?t.group:t)?i.user:i)?i.username:i,t))+'">\n                <img class="on-hover" data-toggle="tooltip" data-placement="right" title="'+c((n.trans||t&&t.trans||o).call(r,"Writer: %s",null!=(i=null!=(i=null!=t?t.group:t)?i.user:i)?i.username:i,{name:"trans",hash:{},data:s}))+'" alt="'+c((n.trans||t&&t.trans||o).call(r,"Writer: %s",null!=(i=null!=(i=null!=t?t.group:t)?i.user:i)?i.username:i,{name:"trans",hash:{},data:s}))+'" src="'+c((n.resizeAvatar||t&&t.resizeAvatar||o).call(r,null!=(i=null!=(i=null!=t?t.group:t)?i.user:i)?i.avatar:i,16,{name:"resizeAvatar",hash:{},data:s}))+'">\n            </a>\n            '+(null!=(i=(n.trans||t&&t.trans||o).call(r,"by <a class='on-navigate' href='/user/%s'>%s</a>",null!=(i=null!=(i=null!=t?t.group:t)?i.user:i)?i.username:i,null!=(i=null!=(i=null!=t?t.group:t)?i.user:i)?i.username:i,{name:"trans",hash:{},data:s}))?i:"")+'</a>\n        </div>\n\n\n        <div class="meta">\n            <ul class="story-extras">\n'+(null!=(i=n.if.call(r,null!=(i=null!=t?t.dedication:t)?i.name:i,{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.noop,data:s}))?i:"")+"            </ul>\n        </div>\n    </header>\n</div>\n"+(null!=(i=(n.isDevice||t&&t.isDevice||o).call(r,"mobile",{name:"isDevice",hash:{},fn:e.program(26,s,0),inverse:e.noop,data:s}))?i:"")},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'        <div class="paywall-container">\n            '+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"StoryPartPaywall",null!=t?t.id:t,{name:"reactComponent",hash:{},data:s}))?i:"")+"\n        </div>\n"},3:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c='    <div class="'+(null!=(i=n.if.call(o,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'">\n\n        <div class="row part-content">\n            <div class="col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3 part-col part-navigation">\n'+(null!=(i=n.unless.call(o,null!=(i=null!=t?t.nextPart:t)?i.isBlocked:i,{name:"unless",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+'            </div>\n        </div>\n\n        <div class="row part-content">\n            <div class="col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3 part-col">\n'+(null!=(i=e.invokePartial(a["core.story_reading.part_actions"],t,{name:"core.story_reading.part_actions",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'            </div>\n        </div>\n\n        <div class="row part-content">\n            <div class="col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3 part-col">\n'+(null!=(i=e.invokePartial(a["core.story_reading.part_comments"],t,{name:"core.story_reading.part_comments",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'            </div>\n            <div class="col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-md-4 col-md-offset-0 col-lg-3 col-lg-offset-0 comments right-rail">\n                <div class="reading-widget comments-ad-unit"></div>\n            </div>\n        </div>\n    </div>\n\n'+(null!=(i=n.if.call(o,null!=t?t.anonymousUser:t,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(11,s,0),data:s}))?i:"")+"\n";return l=null!=(l=n.isLoggedIn||(null!=t?t.isLoggedIn:t))?l:n.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(13,s,0),inverse:e.program(15,s,0),data:s},i="function"==typeof l?l.call(o,r):l,n.isLoggedIn||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(c+=i),c},4:function(e,t,n,a,s){return"container"},6:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.story_reading.part_navigation"],t,{name:"core.story_reading.part_navigation",data:s,indent:"                    ",helpers:n,partials:a,decorators:e.decorators}))?i:""},8:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isMicroPart:t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:""},9:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'                <div class="hidden container promoted-stories-container similar-stories-footer">\n                    <div class="row">\n                        <div class="discover-rows">\n                            <div id="similar-stories" class="promoted-stories">\n                                <div class="section-heading">'+r((n.trans||t&&t.trans||l).call(i,"Promoted stories",{name:"trans",hash:{},data:s}))+'</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="hidden container similar-stories-container similar-stories-footer">\n                    <div class="row">\n                        <div class="discover-rows">\n                            <div id="similar-stories" class="similar-stories">\n                                <div class="section-heading">'+r((n.trans||t&&t.trans||l).call(i,"You'll also like",{name:"trans",hash:{},data:s}))+"</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n"},11:function(e,t,n,a,s){var i;return'        <div class="part-recommendations-container">\n            <div class="row">\n                <div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-md-11 col-md-offset-1 col-lg-11 col-lg-offset-1 discover-rows">\n                    <div class="collection">\n                        <div class="discover-module promoted-recommended-stories-view hidden"></div>\n                        <div class="colWrap no-promoted-section">\n'+(null!=(i=e.invokePartial(a["core.story_reading.part_recommendations"],t,{name:"core.story_reading.part_recommendations",data:s,indent:"                            ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n"},13:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"        "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{storyGroup:null!=t?t.group:t,experience:"reading",parentClass:"ad-unit",unit:(n.ternary||t&&t.ternary||r).call(l,null!=t?t.isMicroPart:t,"readingshort_bottom","readinglong_bottom",{name:"ternary",hash:{},data:s})},data:s}))?i:"")+"\n"},15:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"        "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{storyGroup:null!=t?t.group:t,experience:"reading",parentClass:"ad-unit",unit:(n.ternary||t&&t.ternary||r).call(l,null!=t?t.isMicroPart:t,"readingshort_bottom_loggedout","readinglong_bottom_loggedout",{name:"ternary",hash:{},data:s})},data:s}))?i:"")+"\n"},17:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c="";return l=null!=(l=n.isLoggedIn||(null!=t?t.isLoggedIn:t))?l:n.helperMissing,r={name:"isLoggedIn",hash:{},fn:e.program(18,s,0),inverse:e.program(20,s,0),data:s},i="function"==typeof l?l.call(o,r):l,n.isLoggedIn||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(c+=i),c+"\n"+(null!=(i=n.unless.call(o,null!=(i=null!=t?t.nextPart:t)?i.isBlocked:i,{name:"unless",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?i:"")+'\n    <div class="container">\n        <div class="row part-content">\n            <div class="col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3">\n'+(null!=(i=e.invokePartial(a["core.story_reading.part_actions"],t,{name:"core.story_reading.part_actions",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'            </div>\n        </div>\n    </div>\n\n    <div class="container">\n        <div class="row part-content">\n            <div class="col-sm-10 col-sm-offset-1 col-md-7 col-md-offset-1 col-lg-6 col-lg-offset-3">\n'+(null!=(i=e.invokePartial(a["core.story_reading.part_comments"],t,{name:"core.story_reading.part_comments",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"            </div>\n        </div>\n    </div>\n\n"+(null!=(i=n.if.call(o,null!=t?t.anonymousUser:t,{name:"if",hash:{},fn:e.program(24,s,0),inverse:e.program(26,s,0),data:s}))?i:"")},18:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"        "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{storyGroup:null!=t?t.group:t,experience:"reading",parentClass:"center-block ad-unit",unit:(n.ternary||t&&t.ternary||r).call(l,null!=t?t.isMicroPart:t,"readingshort_bottom_mweb","readinglong_bottom_mweb",{name:"ternary",hash:{},data:s})},data:s}))?i:"")+"\n"},20:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"        "+(null!=(i=(n.advertisement||t&&t.advertisement||r).call(l,{name:"advertisement",hash:{storyGroup:null!=t?t.group:t,experience:"reading",parentClass:"center-block ad-unit",unit:(n.ternary||t&&t.ternary||r).call(l,null!=t?t.isMicroPart:t,"readingshort_bottom_loggedout_mweb","readinglong_bottom_loggedout_mweb",{name:"ternary",hash:{},data:s})},data:s}))?i:"")+"\n"},22:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.story_reading.part_navigation"],t,{name:"core.story_reading.part_navigation",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:""},24:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'        <div class="hidden promoted-stories-container">\n            <h4 class="section-heading">'+r((n.trans||t&&t.trans||l).call(i,"Promoted stories",{name:"trans",hash:{},data:s}))+'</h4>\n            <div id="similar-stories" class="promoted-stories"></div>\n        </div>\n        <div class="hidden similar-stories-container">\n            <h4 class="section-heading">'+r((n.trans||t&&t.trans||l).call(i,"You'll also like",{name:"trans",hash:{},data:s}))+'</h4>\n            <div id="similar-stories" class="similar-stories"></div>\n        </div>\n'},26:function(e,t,n,a,s){var i;return'        <div class="part-recommendations-container promoted-recommended-stories container hidden">\n            <div class="row">\n                <div class="col-sm-10 col-sm-offset-1 col-md-12 col-md-offset-0 discover-rows">\n                    <div class="collection">\n                        <div class="discover-module promoted-recommended-stories-view"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="part-recommendations-container container">\n            <div class="row">\n                <div class="col-sm-10 col-sm-offset-1 col-md-12 col-md-offset-0 discover-rows">\n                    <div class="collection">\n'+(null!=(i=e.invokePartial(a["core.story_reading.part_recommendations"],t,{name:"core.story_reading.part_recommendations",data:s,indent:"                        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"                    </div>\n                </div>\n            </div>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return"<footer>\n"+(null!=(i=n.if.call(l,null!=(i=null!=t?t.nextPart:t)?i.isBlocked:i,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=n.if.call(l,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n\n"+(null!=(i=n.if.call(l,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?i:"")+"</footer>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.story_reading.part_header_new"],t,{name:"core.story_reading.part_header_new",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:""},3:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.story_reading.part_restart"],t,{name:"core.story_reading.part_restart",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:""},5:function(e,t,n,a,s){var i;return'        <div class="paywall-container">\n            '+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"StoryPartPaywall",null!=t?t.id:t,{name:"reactComponent",hash:{},data:s}))?i:"")+"\n        </div>\n"},7:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'        <div class="container" id="'+(null!=(i=(n.isDevice||t&&t.isDevice||n.helperMissing).call(l,"desktop",{name:"isDevice",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?i:"")+'">\n            <div '+(null!=(i=n.unless.call(l,null!=t?t.isAdmin:t,{name:"unless",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?i:"")+' class="row part-content">\n                <div class="col-md-1 col-lg-3 hidden-sm hidden-xs'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.nextPart:t)?i.isBlocked:i,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?i:"")+' left-rail">\n'+(null!=(i=n.if.call(l,null!=t?t.isDesktop:t,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?i:"")+"                </div>\n\n"+(null!=(i=e.invokePartial(a["core.story_reading.part_text_container"],t,{name:"core.story_reading.part_text_container",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'                <div id="tooltip-container"></div>\n            </div>\n        </div>\n'},8:function(e,t,n,a,s){return"sticky-end"},10:function(e,t,n,a,s){return'oncontextmenu="return false;"'},12:function(e,t,n,a,s){return" hidden"},14:function(e,t,n,a,s){var i;return'                        <div id="sticky-nav">\n'+(null!=(i=e.invokePartial(a["desktop.story_reading.part_author_info"],t,{name:"desktop.story_reading.part_author_info",data:s,indent:"                            ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+(null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.deleted:t,{name:"unless",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?i:"")+"                        </div>\n"},15:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.components.share_tools"],t,{name:"core.components.share_tools",data:s,indent:"                                ",helpers:n,partials:a,decorators:e.decorators}))?i:""},17:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.story_reading.part_footer_new"],t,{name:"core.story_reading.part_footer_new",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:""},19:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"WPModal","modal-reading",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<article id="sp'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'"\n         data-part-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'"\n         data-part-url="'+c("function"==typeof(l=null!=(l=n.url||(null!=t?t.url:t))?l:o)?l.call(r,{name:"url",hash:{},data:s}):l)+'"\n         class="story-part">\n    <div id="media-container">\n'+(null!=(i=e.invokePartial(a["core.story_reading.media_banner"],t,{name:"core.story_reading.media_banner",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'    </div>\n\n    <div class="container">\n        <div class="row part-header">\n'+(null!=(i=n.if.call(r,null!=t?t.firstPage:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+"        </div>\n    </div>\n\n"+(null!=(i=n.if.call(r,null!=t?t.currentPartIsBlocked:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?i:"")+"\n"+(null!=(i=n.unless.call(r,null!=t?t.currentPartIsBlocked:t,{name:"unless",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?i:"")+"</article>\n\n"+(null!=(i=n.if.call(r,null!=(i=null!=t?t.group:t)?i.isPaywalled:i,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'class="container"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return'<div id="comments-container" '+(null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.isDesktop:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'>\n    <div class="row">\n        <div class="col-sm-12 col-md-12 col-lg-12 col-lg-offset-0">\n            <section id="comments">\n                <div class="comments">\n                </div>\n            </section>\n        </div>\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.group:t)?i.draft:i,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:""},2:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u='\n    <div class="button-group">\n        <button class="btn btn-text dropdown-toggle btn-story-lists" data-story-id="'+e.escapeExpression(e.lambda(null!=(i=null!=t?t.group:t)?i.id:i,t))+'">\n            '+(null!=(i=(n.iconify||t&&t.iconify||c).call(o,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n            <span class="btn-library-text">'+(null!=(i=(n.trans||t&&t.trans||c).call(o,"Add",{name:"trans",hash:{},data:s}))?i:"")+"</span>\n        </button>\n";return l=null!=(l=n.group||(null!=t?t.group:t))?l:c,r={name:"group",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.group||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(u+=i),u+"    </div>\n    "},3:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.components.add_to_library_dropdown"],t,{name:"core.components.add_to_library_dropdown",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?i:""},5:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.draft:t,{name:"unless",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:""},6:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'\n    <div class="button-group">\n        <button class="btn btn-text on-vote footer-vote" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n'+(null!=(i=n.if.call(r,null!=t?t.voted:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s}))?i:"")+'        </button>\n    </div>\n    </div>\n\n    <div class="share-tools scrolling">\n'+(null!=(i=n.each.call(r,null!=t?t.socialShareVisible:t,{name:"each",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?i:"")+'\n        <div class="button-group relative inline-block more">\n            <button class="btn btn-no-background dropdown-toggle btn-left-align" data-toggle="dropdown" aria-label="'+c((n.trans||t&&t.trans||o).call(r,"Open More Story Options",{name:"trans",hash:{},data:s}))+'">\n                '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-more",18,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n            </button>\n            <div class="triangle"></div>\n            <ul class="dropdown-menu align-right">\n'+(null!=(i=n.each.call(r,null!=t?t.socialShareHidden:t,{name:"each",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?i:"")+"            </ul>\n        </div>\n    </div>\n"},7:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",16,"wp-base-1",{name:"iconify",hash:{},data:s}))?i:"")+'\n                <span class="vote-text">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Voted",{name:"trans",hash:{},data:s}))+"</span>\n"},9:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"                "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n                <span class="vote-text">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Vote",{name:"trans",hash:{},data:s}))+"</span>\n"},11:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'            <a data-gtm-action="share:'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'" class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?i:"")+'" aria-hidden="true" '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">\n                "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,18,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"\n            </a>\n"},12:function(e,t,n,a,s){return' social-share" target="_blank'},14:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'                    <li>\n                        <a data-gtm-action="share:'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'" rel="nofollow" class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?i:"")+'" '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">\n                            "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,20,"wp-neutral-2","pull-left",{name:"iconify",hash:{},data:s}))?i:"")+" "+c("function"==typeof(l=null!=(l=n.label||(null!=t?t.label:t))?l:o)?l.call(r,{name:"label",hash:{},data:s}):l)+"\n                        </a>\n                    </li>\n"},16:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression,c=e.lambda;return'    <a href="'+o((n.addProtocolToUrl||t&&t.addProtocolToUrl||r).call(l,null!=(i=null!=t?t.source:t)?i.url:i,{name:"addProtocolToUrl",hash:{},data:s}))+'" class="btn btn-text btn-md" target="_blank" title="'+o(c(null!=(i=null!=t?t.source:t)?i.label:i,t))+'">\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-link",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o(c(null!=(i=null!=t?t.source:t)?i.label:i,t))+"\n    </a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'<div id="part-footer-actions" class="actions" role="menu">\n\n    <div class="footer-actions">\n    '+(null!=(i=n.unless.call(l,null!=(i=null!=t?t.group:t)?i.deleted:i,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n\n    "+(null!=(i=n.unless.call(l,null!=t?t.deleted:t,{name:"unless",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+"\n\n"+(null!=(i=n.if.call(l,null!=(i=null!=t?t.source:t)?i.url:i,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?i:"")+"\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" hide-marker"},3:function(e,t,n,a,s){return"    "+e.escapeExpression((n.count||t&&t.count||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.commentCount:t,{name:"count",hash:{},data:s}))+"\n"},5:function(e,t,n,a,s){return"    +\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'<span class="comment-marker'+(null!=(i=n.unless.call(l,null!=t?t.commentCount:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+' on-inline-comments-modal">\n  <span class="num-comment">\n'+(null!=(i=n.if.call(l,null!=t?t.commentCount:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+"  </span>\n  "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(l,"fa-comment-count",28,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n</span>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="share-tools vertical hidden-xs hidden-sm">\n    <div class="title">'+o((n.trans||t&&t.trans||r).call(l,"Share",{name:"trans",hash:{},data:s}))+"</div>\n"+(null!=(i=n.each.call(l,null!=t?t.socialShareVisible:t,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'\n    <div class="button-group relative inline-block dropup">\n        <button class="btn btn-no-background dropdown-toggle btn-left-align" data-toggle="dropdown" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Open More Story Options",{name:"trans",hash:{},data:s}))+'">\n            '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-more",24,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n        </button>\n        <div class="triangle"></div>\n        <ul class="dropdown-menu">\n'+(null!=(i=n.each.call(l,null!=t?t.socialShareHidden:t,{name:"each",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+'        </ul>\n    </div>\n</div>\n<div class="share-tools horizontal scrolling hidden-xs hidden-sm">\n    <div class="title">'+o((n.trans||t&&t.trans||r).call(l,"Send",{name:"trans",hash:{},data:s}))+'</div>\n    <div class="send-to-friend">\n        <input type="text" class="form-control send-input" id="exampleInputAmount" placeholder="email or mobile #">\n        <button class="btn btn-block btn-teal on-send" type="button" disabled>Send to Friend</button>\n    </div>\n\n    <div class="title">'+o((n.trans||t&&t.trans||r).call(l,"Share",{name:"trans",hash:{},data:s}))+"</div>\n"+(null!=(i=n.each.call(l,null!=t?t.socialShareVisible:t,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+'\n    <div class="button-group relative inline-block">\n        <button class="btn btn-no-background dropdown-toggle btn-left-align" data-toggle="dropdown" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Open More Story Options",{name:"trans",hash:{},data:s}))+'">\n            '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-more",24,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n        </button>\n        <div class="triangle"></div>\n        <ul class="dropdown-menu">\n'+(null!=(i=n.each.call(l,null!=t?t.socialShareHidden:t,{name:"each",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:"")+"        </ul>\n    </div>\n</div>\n"},2:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'    <a data-gtm-action="share:'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'" class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'" aria-hidden="true" '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">\n        "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,24,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"\n    </a>\n"},3:function(e,t,n,a,s){return' social-share" target="_blank'},5:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'            <li>\n                <a data-gtm-action="share:'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'" rel="nofollow" class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'" '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">\n                    "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,20,"wp-neutral-2","pull-left",{name:"iconify",hash:{},data:s}))?i:"")+" "+c("function"==typeof(l=null!=(l=n.label||(null!=t?t.label:t))?l:o)?l.call(r,{name:"label",hash:{},data:s}):l)+"\n                </a>\n            </li>\n"},7:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'        <a data-gtm-action="share:'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'" class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'" aria-hidden="true" '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">\n            "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,24,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+"\n        </a>\n"},9:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'                <li>\n                    <a data-gtm-action="share:'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'" rel="nofollow" class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'" '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">\n                        "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,20,"wp-neutral-2","pull-left",{name:"iconify",hash:{},data:s}))?i:"")+" "+c("function"==typeof(l=null!=(l=n.label||(null!=t?t.label:t))?l:o)?l.call(r,{name:"label",hash:{},data:s}):l)+"\n                    </a>\n                </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.draft:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=e.escapeExpression,r=null!=t?t:e.nullContext||{},o=n.helperMissing;return'        <button class="btn btn-fan btn-white" data-target="'+l(e.lambda(null!=(i=null!=(i=null!=t?t.group:t)?i.user:i)?i.username:i,t))+'">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-follow",16,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+' <span class="follow-text">'+l((n.trans||t&&t.trans||o).call(r,"Follow",{name:"trans",hash:{},data:s}))+"</span></button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=e.lambda,r=e.escapeExpression,o=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<div class="author-info center-text hidden-sm hidden-md">\n    <div class="avatar avatar-lg center-block">\n        <a class="on-navigate" href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.group:t)?i.user:i)?i.username:i,t))+'">\n            <img src="'+r((n.resizeAvatar||t&&t.resizeAvatar||c).call(o,null!=(i=null!=(i=null!=t?t.group:t)?i.user:i)?i.avatar:i,128,{name:"resizeAvatar",hash:{},data:s}))+'">\n        </a>\n    </div>\n    <div class="info">\n        <a class="on-navigate" href="/user/'+r(l(null!=(i=null!=(i=null!=t?t.group:t)?i.user:i)?i.username:i,t))+'">\n            <span class="center-block">'+(null!=(i=(n.trans||t&&t.trans||c).call(o,"by <strong>%s</strong>",null!=(i=null!=(i=null!=t?t.group:t)?i.user:i)?i.username:i,{name:"trans",hash:{},data:s}))?i:"")+"</span>\n        </a>\n"+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||c).call(o,null!=(i=null!=(i=null!=t?t.group:t)?i.user:i)?i.username:i,{name:"isCurrentUser",hash:{},fn:e.noop,inverse:e.program(1,s,0),data:s}))?i:"")+"    </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'oncontextmenu="return false;"'},3:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'            <a data-gtm-action="share:'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+'" class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'" '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">\n                "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,12,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+"\n            </a>\n"},4:function(e,t,n,a,s){return' social-share" target="_blank'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'<div id="funbar-container">\n    <div id="funbar">\n'+(null!=(i=e.invokePartial(a["core.story_reading.funbar"],t,{name:"core.story_reading.funbar",data:s,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'    </div>\n</div>\n\n<main id="parts-container-new" '+(null!=(i=n.unless.call(l,null!=t?t.isAdmin:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+">\n"+(null!=(i=e.invokePartial(a["core.story_reading.part_container_new"],t,{name:"core.story_reading.part_container_new",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'    <div class="image-options-container hide">\n        <span class="icon-container">'+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(l,"fa-flag",12,"wp-neutral-3 on-report-image",{name:"iconify",hash:{},data:s}))?i:"")+'</span>       \n        <div class="social-icons-container" id="media-share">\n'+(null!=(i=n.each.call(l,null!=t?t.mediaShare:t,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'        </div>\n    </div>\n</main>\n<div id="bottom-banner-container">\n'+(null!=(i=e.invokePartial(a["core.shared.bottom_banner"],t,{name:"core.shared.bottom_banner",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'</div>\n\n<div id="post-publish-modal"></div>\n<div id="inline-comments-modal"></div>\n'},usePartial:!0,useData:!0})},function(e,t,n){"use strict";(function(e){var t=n(8);e.exports=function(n){if("string"!=typeof n)throw new TypeError("storyId must be a string");return function(){if(t()){return e.require("../server/config").application.hybeStoryIds}var n,a;return null===(n=window)||void 0===n||null===(a=n.wattpad)||void 0===a?void 0:a.hybeStoryIds}().includes(n)}}).call(this,n(2)(e))},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'    <button type="button" class="btn btn-link btn-teal on-copy">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Copy Embed Code",{name:"trans",hash:{},data:s}))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<button type="button" class="btn btn-link pull-right close" data-dismiss="modal">\n    <span aria-hidden="true" class="fa fa-remove"></span><span class="sr-only">'+c((n.trans||t&&t.trans||o).call(r,"Close",{name:"trans",hash:{},data:s}))+'</span>\n</button>\n<div id="quote-embed-modal">\n    <h4>'+c((n.trans||t&&t.trans||o).call(r,"Embed Preview",{name:"trans",hash:{},data:s}))+'</h4>\n    <iframe id="quote-embed-iframe" src="https://embed.wattpad.com/quote/'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+"?quote_text="+c((n.urlEncode||t&&t.urlEncode||o).call(r,null!=t?t.quoteText:t,{name:"urlEncode",hash:{},data:s}))+'"\n            frameborder="0" allowfullscreen=""></iframe>\n    <div class="on-select embed-code">\n      <span id="embed-url">\n          &lt;iframe width="500" height="280" frameborder="0" allowfullscreen=""\n          src="https://embed.wattpad.com/quote/'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+"?quote_text="+c((n.urlEncode||t&&t.urlEncode||o).call(r,null!=t?t.quoteText:t,{name:"urlEncode",hash:{},data:s}))+'"\n          &gt;&lt;/iframe&gt;\n      </span>\n    </div>\n'+(null!=(i=n.if.call(r,null!=t?t.copyExec:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'      <span class="btn btn-default on-open-embed" role="button" href="#">\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-code",16,"wp-readinggrey",{name:"iconify",hash:{},data:s}))?i:"")+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Embed",{name:"trans",hash:{},data:s}))+"\n      </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<div class="highlight-tooltip">\n  <div class="highlight-options arrow_box">\n'+(null!=(i=n.if.call(l,null!=t?t.embedQuote:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'\n    <span class="btn btn-default on-facebook-share" role="button" href="#">\n      <div class="facebook-quote-icon">\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-facebook",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"\n      </div>\n      "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Share",{name:"trans",hash:{},data:s}))+"\n    </span>\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(7,s,0),data:s}))?i:""},2:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression,d='    <header class="panel-heading">\n      <h4 class="text-light all-caps" id="header-left">'+u((n.sprintf||t&&t.sprintf||c).call(o,(n.ngettext||t&&t.ngettext||c).call(o,"%s Story","%s Stories",null!=t?t.numStories:t,{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||c).call(o,null!=t?t.numStories:t,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+" "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||c).call(o,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"hidden searching"},data:s}))?i:"")+'</h4>\n      <div class="button-group relative inline-block">\n          <button class="btn btn-text on-show-filter-modal">\n              '+u((n.trans||t&&t.trans||c).call(o,"Filters",{name:"trans",hash:{},data:s}))+' \n          </button>\n      </div>\n    </header>\n    <ul class="list-group">\n'+(null!=(i=n.each.call(o,null!=t?t.stories:t,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+'    </ul>\n    <footer class="panel-footer light';return l=null!=(l=n.showMore||(null!=t?t.showMore:t))?l:c,r={name:"showMore",hash:{},fn:e.noop,inverse:e.program(5,s,0),data:s},i="function"==typeof l?l.call(o,r):l,n.showMore||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(d+=i),d+'">\n        <button class="btn btn-block btn-grey on-showmore">\n            <span class="show-more-message">\n                <span>'+u((n.trans||t&&t.trans||c).call(o,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n                <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n            </span>\n            <span class='loading-message hidden'>\n                "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||c).call(o,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n                <span> "+u((n.trans||t&&t.trans||c).call(o,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n            </span>\n        </button>\n    </footer>\n"+(null!=(i=e.invokePartial(a["core.components.search_filter_modal"],t,{name:"core.components.search_filter_modal",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")},3:function(e,t,n,a,s){var i;return'        <li class="list-group-item">\n'+(null!=(i=e.invokePartial(a["core.search.partials.results_story_item"],t,{name:"core.search.partials.results_story_item",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"        </li>\n"},5:function(e,t,n,a,s){return" hidden"},7:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||n.helperMissing).call(l,"NEW_SEARCH_STORY_CARD_CONTAINER",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s}))?i:""},8:function(e,t,n,a,s){var i;return"      "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"StoryCardContainer","story-card-container",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},10:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression,d='      <header class="panel-heading">\n          <h4 class="text-light all-caps" id="header-left">'+u((n.sprintf||t&&t.sprintf||c).call(o,(n.ngettext||t&&t.ngettext||c).call(o,"%s Story","%s Stories",null!=t?t.numStories:t,{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||c).call(o,null!=t?t.numStories:t,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+" "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||c).call(o,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"hidden searching"},data:s}))?i:"")+'</h4>\n          <div class="button-group relative inline-block">\n              <button class="btn btn-text dropdown-toggle" data-toggle="dropdown">\n                  '+u((n.trans||t&&t.trans||c).call(o,"Filters",{name:"trans",hash:{},data:s}))+' &nbsp;<span class="caret"></span>\n              </button>\n'+(null!=(i=n.unless.call(o,null!=t?t.isMobile:t,{name:"unless",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?i:"")+'          </div>\n      </header>\n      <ul class="list-group">\n'+(null!=(i=n.each.call(o,null!=t?t.stories:t,{name:"each",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?i:"")+'      </ul>\n      <footer class="panel-footer light';return l=null!=(l=n.showMore||(null!=t?t.showMore:t))?l:c,r={name:"showMore",hash:{},fn:e.noop,inverse:e.program(5,s,0),data:s},i="function"==typeof l?l.call(o,r):l,n.showMore||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(d+=i),d+'">\n          <button class="btn btn-block btn-grey on-showmore">\n              <span class="show-more-message">\n                  <span>'+u((n.trans||t&&t.trans||c).call(o,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n                  <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n              </span>\n              <span class='loading-message hidden'>\n                  "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||c).call(o,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n                  <span> "+u((n.trans||t&&t.trans||c).call(o,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n              </span>\n          </button>\n      </footer>\n"},11:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'                  <div class="triangle"></div>\n                  <ul class="dropdown-menu dropdown-menu-right">\n                      <li>\n                        <h4>'+o((n.trans||t&&t.trans||r).call(l,"Last Updated",{name:"trans",hash:{},data:s}))+'</h4>\n                        <select id="last-updated-filters">\n                          '+(null!=(i=(n.select||t&&t.select||r).call(l,"any",(n.trans||t&&t.trans||r).call(l,"Anytime",{name:"trans",hash:{},data:s}),null!=t?t.age:t,{name:"select",hash:{},data:s}))?i:"")+"\n                          "+(null!=(i=(n.select||t&&t.select||r).call(l,"24",(n.trans||t&&t.trans||r).call(l,"Today",{name:"trans",hash:{},data:s}),null!=t?t.age:t,{name:"select",hash:{},data:s}))?i:"")+"\n                          "+(null!=(i=(n.select||t&&t.select||r).call(l,"168",(n.trans||t&&t.trans||r).call(l,"This Week",{name:"trans",hash:{},data:s}),null!=t?t.age:t,{name:"select",hash:{},data:s}))?i:"")+"\n                          "+(null!=(i=(n.select||t&&t.select||r).call(l,"720",(n.trans||t&&t.trans||r).call(l,"This Month",{name:"trans",hash:{},data:s}),null!=t?t.age:t,{name:"select",hash:{},data:s}))?i:"")+"\n                          "+(null!=(i=(n.select||t&&t.select||r).call(l,"8760",(n.trans||t&&t.trans||r).call(l,"This Year",{name:"trans",hash:{},data:s}),null!=t?t.age:t,{name:"select",hash:{},data:s}))?i:"")+"\n                        </select>\n                      </li>\n                      <li>\n                        <h4>"+o((n.trans||t&&t.trans||r).call(l,"Length",{name:"trans",hash:{},data:s}))+'</h4>\n                        <select id="content-length-filters">\n                          '+(null!=(i=(n.select||t&&t.select||r).call(l,"any",(n.trans||t&&t.trans||r).call(l,"Any Length",{name:"trans",hash:{},data:s}),null!=t?t.length:t,{name:"select",hash:{},data:s}))?i:"")+"\n                          "+(null!=(i=(n.select||t&&t.select||r).call(l,"1-10",(n.trans||t&&t.trans||r).call(l,"1 - 10 Parts",{name:"trans",hash:{},data:s}),null!=t?t.length:t,{name:"select",hash:{},data:s}))?i:"")+"\n                          "+(null!=(i=(n.select||t&&t.select||r).call(l,"10-20",(n.trans||t&&t.trans||r).call(l,"10 - 20 Parts",{name:"trans",hash:{},data:s}),null!=t?t.length:t,{name:"select",hash:{},data:s}))?i:"")+"\n                          "+(null!=(i=(n.select||t&&t.select||r).call(l,"20-50",(n.trans||t&&t.trans||r).call(l,"20 - 50 Parts",{name:"trans",hash:{},data:s}),null!=t?t.length:t,{name:"select",hash:{},data:s}))?i:"")+"\n                          "+(null!=(i=(n.select||t&&t.select||r).call(l,">50",(n.trans||t&&t.trans||r).call(l,"> 50 Parts",{name:"trans",hash:{},data:s}),null!=t?t.length:t,{name:"select",hash:{},data:s}))?i:"")+"\n                        </select>\n                      </li>\n                      <li>\n                          <h4>"+o((n.trans||t&&t.trans||r).call(l,"Content",{name:"trans",hash:{},data:s}))+'</h4>\n                          <a href="#" role="button" class="on-setfilter search-filter'+(null!=(i=n.blockHelperMissing.call(t,e.lambda(null!=(i=null!=(i=null!=t?t.stories:t)?i.filters:i)?i.complete:i,t),{name:"stories.filters.complete",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?i:"")+'" data-filter="complete" >'+o((n.trans||t&&t.trans||r).call(l,"Only show completed",{name:"trans",hash:{},data:s}))+" "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-circle-empty",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-circle-filled",14,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+"</a>\n                      </li>\n"+(null!=(i=n.if.call(l,null!=t?t.isMatureUser:t,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?i:"")+"                  </ul>\n"},12:function(e,t,n,a,s){return" active"},14:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'                      <li>\n                          <a href="#" role="button" class="on-setfilter search-filter'+(null!=(i=n.blockHelperMissing.call(t,e.lambda(null!=(i=null!=(i=null!=t?t.stories:t)?i.filters:i)?i.mature:i,t),{name:"stories.filters.mature",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?i:"")+'" data-filter="mature">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Include mature",{name:"trans",hash:{},data:s}))+" "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-circle-empty",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-circle-filled",14,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+"</a>\n                      </li>\n"},16:function(e,t,n,a,s){var i;return'          <li class="list-group-item">\n'+(null!=(i=e.invokePartial(a["core.search.partials.results_story_item"],t,{name:"core.search.partials.results_story_item",data:s,indent:"              ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"          </li>\n"},18:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.searchTerm:t,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?i:""},19:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"SearchNoResults","search-no-results-stories",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.numStories:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(18,s,0),data:s}))?i:"")+"\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"StoryCard",null!=t?t.id:t,{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"  "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"ProfileCardContainer","profile-card-container",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},3:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.searchTerm:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:""},4:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"SearchNoResults","search-no-results-people",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.numUsers:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:s}):i)},3:function(e,t,n,a,s){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"username",hash:{},data:s}):i)},5:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return e.escapeExpression((n.sprintf||t&&t.sprintf||r).call(l,(n.ngettext||t&&t.ngettext||r).call(l,"%s Work","%s Works",null!=t?t.numStoriesPublished:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numStoriesPublished:t,{name:"sprintf",hash:{},data:s}))+"\n        "+(null!=(i=n.if.call(l,null!=t?t.numFollowers:t,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+"\n"},6:function(e,t,n,a,s){return" &middot; "},8:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing;return" "+e.escapeExpression((n.sprintf||t&&t.sprintf||l).call(i,(n.ngettext||t&&t.ngettext||l).call(i,"%s Follower","%s Followers",null!=t?t.numFollowers:t,{name:"ngettext",hash:{},data:s}),(n.count||t&&t.count||l).call(i,null!=t?t.numFollowers:t,{name:"count",hash:{},data:s}),{name:"sprintf",hash:{},data:s}))+" "},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<a href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'" class="on-result person-result" data-id="'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'">\n    <div class="avatar avatar-md pull-left">\n        <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||o).call(r,null!=t?t.avatar:t,48,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </div>\n    <div class="content">\n        <div class="name-and-badges">\n            <h5>'+(null!=(i=n.if.call(r,null!=t?t.name:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'</h5>\n            <div class="badges">\n'+(null!=(i=e.invokePartial(a["core.components.user_badges"],t,{name:"core.components.user_badges",hash:{badgeSize:"14"},data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'            </div>\n        </div>\n        <small class="username">@'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'</small>\n        <small class="meta">\n        '+(null!=(i=n.if.call(r,null!=t?t.numStoriesPublished:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+"        "+(null!=(i=n.if.call(r,null!=t?t.numFollowers:t,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?i:"")+"\n        </small>\n    </div>\n</a>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.isMobile:t,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:""},2:function(e,t,n,a,s){return'class="new-search-page" '},4:function(e,t,n,a,s){var i;return'        <div id="blank-search" class="container">\n'+(null!=(i=e.invokePartial(a["core.search.partials.blank_search"],t,{name:"core.search.partials.blank_search",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"        </div>\n"},6:function(e,t,n,a,s){return" hidden"},8:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.isMobile:t,{name:"unless",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:""},9:function(e,t,n,a,s){return" new-row"},11:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return"                    <section "+(null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||n.helperMissing).call(l,"NEW_SEARCH_FILTERS",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?i:"")+" "+(null!=(i=n.if.call(l,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.program(17,s,0),data:s}))?i:"")+' >\n                        <div id="authentication-panel" class="panel panel-basic">\n                            <div class="signup-modal">\n'+(null!=(i=e.invokePartial(a["core.signup_prompt"],t,{name:"core.signup_prompt",data:s,indent:"                                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"                            </div>\n                        </div>\n                    </section>\n"},12:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.isMobile:t,{name:"unless",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?i:""},13:function(e,t,n,a,s){return'id="section-authentication"'},15:function(e,t,n,a,s){return'class="col-sm-12 col-md-4"'},17:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return null!=(i=n.unless.call(l,(n.isTestGroup||t&&t.isTestGroup||n.helperMissing).call(l,"NEW_SEARCH_FILTERS",{name:"isTestGroup",hash:{},data:s}),{name:"unless",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?i:""},19:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.isMobile:t,{name:"unless",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?i:""},20:function(e,t,n,a,s){var i;return'                        <div id="search-filters-container">\n'+(null!=(i=e.invokePartial(a["core.search.partials.search_filters"],t,{name:"core.search.partials.search_filters",data:s,indent:"                            ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"                        </div>\n"},22:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isLogged:t,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.program(25,s,0),data:s}))?i:""},23:function(e,t,n,a,s){return"col-sm-12"},25:function(e,t,n,a,s){return"col-sm-12 col-md-8"},27:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return null!=(i=n.unless.call(l,(n.isTestGroup||t&&t.isTestGroup||n.helperMissing).call(l,"NEW_SEARCH_FILTERS",{name:"isTestGroup",hash:{},data:s}),{name:"unless",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?i:""},29:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.search.partials.results_stories"],t,{name:"core.search.partials.results_stories",data:s,indent:"                            ",helpers:n,partials:a,decorators:e.decorators}))?i:""},31:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||n.helperMissing).call(l,"NEW_SEARCH_FILTERS",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(32,s,0),inverse:e.program(34,s,0),data:s}))?i:""},32:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.search.partials.stories_list"],t,{name:"core.search.partials.stories_list",data:s,indent:"                                ",helpers:n,partials:a,decorators:e.decorators}))?i:""},34:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.search.partials.results_stories"],t,{name:"core.search.partials.results_stories",data:s,indent:"                                ",helpers:n,partials:a,decorators:e.decorators}))?i:""},36:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.isMobile:t,{name:"unless",hash:{},fn:e.program(37,s,0),inverse:e.noop,data:s}))?i:""},37:function(e,t,n,a,s){return'                    <div class="right-ele"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<div id="search-page" '+(null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||r).call(l,"NEW_SEARCH_FILTERS",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'>\n\n    <header id="search-controls">\n        <div id="search-header">\n            <div class="container">\n'+(null!=(i=e.invokePartial(a["core.search.partials.search_header"],t,{name:"core.search.partials.search_header",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'            </div>\n        </div>\n        <div id="search-tabs-container">\n'+(null!=(i=e.invokePartial(a["core.search.partials.search_tabs"],t,{name:"core.search.partials.search_tabs",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"        </div>\n    </header>\n"+(null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||r).call(l,"NEW_SEARCH_LAYOUT",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'    <main class="container'+(null!=(i=n.unless.call(l,null!=t?t.searchTerm:t,{name:"unless",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+'">\n        <div class="row'+(null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||r).call(l,"NEW_SEARCH_FILTERS",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?i:"")+'">\n            <div class="left">\n'+(null!=(i=n.if.call(l,null!=t?t.isLogged:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(11,s,0),data:s}))?i:"")+(null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||r).call(l,"NEW_SEARCH_FILTERS",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?i:"")+'            </div>\n            <section id="section-results-stories" class="results '+(null!=(i=n.if.call(l,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(27,s,0),data:s}))?i:"")+(null!=(i=(n.ifequal||t&&t.ifequal||r).call(l,null!=t?t.resultType:t,"people",{name:"ifequal",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+'" >\n                <article id="results-stories">\n                    <div class="feed-item-new panel new-container">\n'+(null!=(i=n.if.call(l,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(29,s,0),inverse:e.program(31,s,0),data:s}))?i:"")+'                    </div>\n                </article>\n            </section>\n\n            <section id="section-results-people" class="'+(null!=(i=n.if.call(l,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.program(27,s,0),data:s}))?i:"")+(null!=(i=(n.ifequal||t&&t.ifequal||r).call(l,null!=t?t.resultType:t,"stories",{name:"ifequal",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+'">\n                <div id="results-people" class="results'+(null!=(i=(n.ifequal||t&&t.ifequal||r).call(l,null!=t?t.resultType:t,"stories",{name:"ifequal",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+'">\n                    <div id="results-people-region" class="results-people-update">\n                        <div class="feed-item-new panel">\n'+(null!=(i=e.invokePartial(a["core.search.partials.results_people"],t,{name:"core.search.partials.results_people",data:s,indent:"                          ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"                        </div>\n                    </div>\n                </div>\n            </section>\n"+(null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||r).call(l,"NEW_SEARCH_FILTERS",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(36,s,0),inverse:e.noop,data:s}))?i:"")+"        </div>\n    </main>\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"SearchTabs","search-tabs",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.searchTerm:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"FiltersContainer","filters-container",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"  "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"StoryCardContainer","story-card-container",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},3:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.searchTerm:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:""},4:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"SearchNoResults","search-no-results-stories",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.numStories:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"BlankSearch","blank-search",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.searchTerm:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return" \n  "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"EducationalBanner","educational-banner",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},3:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:""},4:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.numStories:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:""},5:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'        <div class="tags">\n          <span class="refine-label">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Refine by",{name:"trans",hash:{},data:s}))+":</span>\n          "+(null!=(i=(n.reactComponent||t&&t.reactComponent||r).call(l,"TagCarousel","relatedTags",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n        </div>\n"},7:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.numStories:t,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?i:""},8:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'      <div class="tags">\n        <span class="refine-label">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Refine by",{name:"trans",hash:{},data:s}))+":</span>\n        "+(null!=(i=(n.reactComponent||t&&t.reactComponent||r).call(l,"TagCarousel","relatedTags",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n      </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return(null!=(i=n.if.call(l,null!=t?t.bannerMessages:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,(n.isTestGroup||t&&t.isTestGroup||n.helperMissing).call(l,"NEW_SEARCH_FILTERS",{name:"isTestGroup",hash:{},data:s}),{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(7,s,0),data:s}))?i:"")+"\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"RecentSearches","recent-searches",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.searchTerm:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:""},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return"    "+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(null!=t?t:e.nullContext||{},"BrowseCategories","browse-categories",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return(null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.searchTerm:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return" active"},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'            <li>\n              <a href="#" role="button" class="on-setfilter search-filter'+(null!=(i=n.blockHelperMissing.call(t,e.lambda(null!=(i=null!=(i=null!=t?t.stories:t)?i.filters:i)?i.mature:i,t),{name:"stories.filters.mature",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'" data-filter="mature">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-circle-empty",17,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+" "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-circle-filled",17,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Include mature",{name:"trans",hash:{},data:s}))+"</a>\n            </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="search-filter-modal modal" aria-hidden="true" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <header class="modal-header">\n        <h1 class="modal-title">'+o((n.trans||t&&t.trans||r).call(l,"Search Filters",{name:"trans",hash:{},data:s}))+'</h1>\n        <div class="close" data-dismiss="modal">\n          '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove",18,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n        </div>\n      </header>\n      <div class="modal-body">\n        <div>\n          <h4>'+o((n.trans||t&&t.trans||r).call(l,"Last Updated",{name:"trans",hash:{},data:s}))+'</h4>\n          <select id="last-updated-filters">\n            '+(null!=(i=(n.select||t&&t.select||r).call(l,"any",(n.trans||t&&t.trans||r).call(l,"Anytime",{name:"trans",hash:{},data:s}),null!=t?t.age:t,{name:"select",hash:{},data:s}))?i:"")+"\n            "+(null!=(i=(n.select||t&&t.select||r).call(l,"24",(n.trans||t&&t.trans||r).call(l,"Today",{name:"trans",hash:{},data:s}),null!=t?t.age:t,{name:"select",hash:{},data:s}))?i:"")+"\n            "+(null!=(i=(n.select||t&&t.select||r).call(l,"168",(n.trans||t&&t.trans||r).call(l,"This Week",{name:"trans",hash:{},data:s}),null!=t?t.age:t,{name:"select",hash:{},data:s}))?i:"")+"\n            "+(null!=(i=(n.select||t&&t.select||r).call(l,"720",(n.trans||t&&t.trans||r).call(l,"This Month",{name:"trans",hash:{},data:s}),null!=t?t.age:t,{name:"select",hash:{},data:s}))?i:"")+"\n            "+(null!=(i=(n.select||t&&t.select||r).call(l,"8760",(n.trans||t&&t.trans||r).call(l,"This Year",{name:"trans",hash:{},data:s}),null!=t?t.age:t,{name:"select",hash:{},data:s}))?i:"")+"\n          </select>\n        </div>\n        <div>\n          <h4>"+o((n.trans||t&&t.trans||r).call(l,"Length",{name:"trans",hash:{},data:s}))+'</h4>\n          <select id="content-length-filters">\n            '+(null!=(i=(n.select||t&&t.select||r).call(l,"any",(n.trans||t&&t.trans||r).call(l,"Any Length",{name:"trans",hash:{},data:s}),null!=t?t.length:t,{name:"select",hash:{},data:s}))?i:"")+"\n            "+(null!=(i=(n.select||t&&t.select||r).call(l,"1-10",(n.trans||t&&t.trans||r).call(l,"1 - 10 Parts",{name:"trans",hash:{},data:s}),null!=t?t.length:t,{name:"select",hash:{},data:s}))?i:"")+"\n            "+(null!=(i=(n.select||t&&t.select||r).call(l,"10-20",(n.trans||t&&t.trans||r).call(l,"10 - 20 Parts",{name:"trans",hash:{},data:s}),null!=t?t.length:t,{name:"select",hash:{},data:s}))?i:"")+"\n            "+(null!=(i=(n.select||t&&t.select||r).call(l,"20-50",(n.trans||t&&t.trans||r).call(l,"20 - 50 Parts",{name:"trans",hash:{},data:s}),null!=t?t.length:t,{name:"select",hash:{},data:s}))?i:"")+"\n            "+(null!=(i=(n.select||t&&t.select||r).call(l,">50",(n.trans||t&&t.trans||r).call(l,"> 50 Parts",{name:"trans",hash:{},data:s}),null!=t?t.length:t,{name:"select",hash:{},data:s}))?i:"")+"\n          </select>\n        </div>\n\n        <h4>"+o((n.trans||t&&t.trans||r).call(l,"Content",{name:"trans",hash:{},data:s}))+'</h4>\n        <ul class="lists-menu list-unstyled" aria-label="'+o((n.trans||t&&t.trans||r).call(l,"Content",{name:"trans",hash:{},data:s}))+'">\n          <li>\n            <a href="#" role="button" class="on-setfilter search-filter'+(null!=(i=n.blockHelperMissing.call(t,e.lambda(null!=(i=null!=(i=null!=t?t.stories:t)?i.filters:i)?i.complete:i,t),{name:"stories.filters.complete",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'" data-filter="complete" >'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-circle-empty",17,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+" "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-circle-filled",17,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.trans||t&&t.trans||r).call(l,"Only show completed",{name:"trans",hash:{},data:s}))+"</a>\n          </li>\n\n"+(null!=(i=n.if.call(l,null!=t?t.isMatureUser:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<section class="feed-item-new modal-content">\n    <header class="modal-header">\n      <a class="avatar avatar-sm2 on-navigate" href="/user/'+c("function"==typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)?l.call(r,{name:"username",hash:{},data:s}):l)+'">\n        <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||o).call(r,null!=t?t.avatar:t,36,{name:"resizeAvatar",hash:{},data:s}))+'">\n      </a>\n      <h3 class="h6"> '+(null!=(i="function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)?i:"")+' </h3>\n      <time datetime="'+c("function"==typeof(l=null!=(l=n.createDate||(null!=t?t.createDate:t))?l:o)?l.call(r,{name:"createDate",hash:{},data:s}):l)+'">'+c((n.fromNow||t&&t.fromNow||o).call(r,null!=t?t.createDate:t,{name:"fromNow",hash:{fuzzyTime:!0},data:s}))+'</time>\n      <button type="button" class="close btn btn-text" data-dismiss="modal" aria-label="Close">\n        '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n      </button>\n    </header>\n    <div class="modal-body">\n      <ul class="list-group">\n\n      </ul>\n    </div>\n    <div class="modal-footer">\n      <button type="button" class="btn btn-grey btn-block" data-dismiss="modal">'+c((n.trans||t&&t.trans||o).call(r,"Close",{name:"trans",hash:{},data:s}))+"</button>\n    </div>\n</section>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r,o="";return l=null!=(l=n.recentlyRead||(null!=t?t.recentlyRead:t))?l:n.helperMissing,r={name:"recentlyRead",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(null!=t?t:e.nullContext||{},r):l,n.recentlyRead||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(o+=i),o},2:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'      <a href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.readingURL:t,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-navigate library-item">\n          <div class="cover cover-xs">\n              '+c((n.connectCover||t&&t.connectCover||o).call(r,null!=t?t.cover:t,null!=t?t.title:t,50,{name:"connectCover",hash:{},data:s}))+'\n          </div>\n          <div class="content">\n              <h3 class="h6">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+"</h3>\n              <small>"+c(e.lambda(null!=(i=null!=t?t.user:t)?i.name:i,t))+'</small>\n              <div class="reading-progress">\n                  <div class="pct-read" style="width:'+c("function"==typeof(l=null!=(l=n.percentRead||(null!=t?t.percentRead:t))?l:o)?l.call(r,{name:"percentRead",hash:{},data:s}):l)+'%"></div>\n              </div>\n              <span class="x-small pull-right">\n'+(null!=(i=n.if.call(r,null!=t?t.percentRead:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+"              </span>\n          </div>\n      </a>\n"},3:function(e,t,n,a,s){return"                  "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Continue reading",{name:"trans",hash:{},data:s}))+"\n"},5:function(e,t,n,a,s){return"                  "+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Start reading",{name:"trans",hash:{},data:s}))+"\n"},7:function(e,t,n,a,s){var i;return'        <div id="no-recent-reads">'+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Adding %sstories%s to your library allows you to return to them more easily.","<a href='/stories' class='on-navigate'>","</a>",{name:"trans",hash:{},data:s}))?i:"")+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return'<div class="collection">\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.hasItems:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(7,s,0),data:s}))?i:"")+"</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class=\'cover-container\'>\n  <a class="on-navigate cover cover-md on-story-item" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">\n      <div class="fixed-ratio fixed-ratio-cover">\n          <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,256,{name:"resizeCover",hash:{},data:s}))+'" alt="'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+'">\n      </div>\n  </a>\n</div>\n<div class="content" data-target="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-type="'+c("function"==typeof(l=null!=(l=n.type||(null!=t?t.type:t))?l:o)?l.call(r,{name:"type",hash:{},data:s}):l)+'">\n    <div class="info">\n        <a class="title meta on-navigate" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">'+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.title:t,35,!1,{name:"simpleShorten",hash:{},data:s}))?i:"")+'</a>\n        <a class="username meta on-navigate" href="/user/'+c(e.lambda(null!=(i=null!=t?t.user:t)?i.name:i,t))+'">by '+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=(i=null!=t?t.user:t)?i.name:i,15,!1,{name:"simpleShorten",hash:{},data:s}))?i:"")+'</a>\n    </div>\n\n    <div class="meta social-meta">\n        <span class="read-count"> '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-view",15,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+' </span>\n        <span class="vote-count"> '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-vote",15,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+" </span>\n    </div>\n</div>\n\n\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'<div class=\'cover-container\'>\n  <a class="on-navigate cover cover-lg on-story-item" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">\n      <div class="fixed-ratio fixed-ratio-cover">\n          <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,256,{name:"resizeCover",hash:{},data:s}))+'" alt="'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+'">\n      </div>\n  </a>\n\n  <div class="story-overlay on-story-hover" style="display: none;">\n      <div class="overlay-bg"></div>\n      <div class="overlay-container">\n          <button class="btn btn-glass btn-block btn-library btn-left-align" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-toggle="tooltip" title="'+c((n.trans||t&&t.trans||o).call(r,"Add to Library",{name:"trans",hash:{},data:s}))+'">\n              '+c((n.trans||t&&t.trans||o).call(r,"Add",{name:"trans",hash:{},data:s}))+'\n          </button>\n          <a class="btn btn-glass btn-block on-navigate btn-left-align" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">\n              '+c((n.trans||t&&t.trans||o).call(r,"Read",{name:"trans",hash:{},data:s}))+'\n          </a>\n          <button class="btn btn-glass btn-block btn-left-align btn-dismiss" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-toggle="tooltip" title="'+c((n.trans||t&&t.trans||o).call(r,"Dismiss Recommendation",{name:"trans",hash:{},data:s}))+'">\n              '+c((n.trans||t&&t.trans||o).call(r,"Dismiss",{name:"trans",hash:{},data:s}))+'\n          </button>\n      </div>\n  </div>\n</div>\n\n<div class="content">\n    <div class="info">\n        <strong>'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+"</strong>\n        <small>"+c(u(null!=(i=null!=t?t.user:t)?i.name:i,t))+'</small>\n    </div>\n    <a href="/user/'+c(u(null!=(i=null!=t?t.user:t)?i.name:i,t))+'" class="avatar avatar-sm on-navigate">\n        <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||o).call(r,null!=(i=null!=t?t.user:t)?i.avatar:i,32,{name:"resizeAvatar",hash:{},data:s}))+'">\n    </a>\n</div>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<h2><a class="on-navigate" href="/stories">\n  '+o((n.trans||t&&t.trans||r).call(l,"Recommended Stories",{name:"trans",hash:{},data:s}))+" "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-right",12,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n</a></h2>\n<div class="collection"></div>\n<span class="hidden">'+o((n.trans||t&&t.trans||r).call(l,"Please check back later for more recommendations.",{name:"trans",hash:{},data:s}))+"</span>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'    <div class="background background-sm" style="background-image: url( \''+e.escapeExpression((n.profileBackground||t&&t.profileBackground||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.backgroundUrl:t,360,{name:"profileBackground",hash:{},data:s}))+"' );\"></div>\n"},3:function(e,t,n,a,s){var i;return'    <div class="background background-sm" '+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.highlight_colour:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+"></div>\n"},4:function(e,t,n,a,s){var i;return'style="background-color: '+e.escapeExpression("function"==typeof(i=null!=(i=n.highlight_colour||(null!=t?t.highlight_colour:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"highlight_colour",hash:{},data:s}):i)+'"'},6:function(e,t,n,a,s){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:s}):i)},8:function(e,t,n,a,s){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"username",hash:{},data:s}):i)},10:function(e,t,n,a,s){return"disabled"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u="function",d=e.escapeExpression,h='<article class="user-card">\n    <button class="btn btn-no-background btn-remove on-dismiss" data-target="'+d(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===u?l.call(o,{name:"username",hash:{},data:s}):l)+'">\n        '+(null!=(i=(n.iconify||t&&t.iconify||c).call(o,"fa-remove",16,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+"\n    </button>\n"+(null!=(i=n.if.call(o,null!=t?t.backgroundUrl:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'    <a class="avatar avatar-lg on-navigate" href="/user/'+d(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===u?l.call(o,{name:"username",hash:{},data:s}):l)+'">\n        <img src="'+d(typeof(l=null!=(l=n.avatar||(null!=t?t.avatar:t))?l:c)===u?l.call(o,{name:"avatar",hash:{},data:s}):l)+'"></a>\n    <div class="content">\n        <h5><a class="alt-link on-navigate" href="/user/'+d(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===u?l.call(o,{name:"username",hash:{},data:s}):l)+'">\n          '+(null!=(i=n.if.call(o,null!=t?t.name:t,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?i:"")+"\n        </a></h5>\n        <small>@"+d(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===u?l.call(o,{name:"username",hash:{},data:s}):l)+'</small>\n        <button class="btn btn-block btn-md btn-white on-follow ';return l=null!=(l=n.disabled||(null!=t?t.disabled:t))?l:c,r={name:"disabled",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s},i=typeof l===u?l.call(o,r):l,n.disabled||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(h+=i),h+"\" data-target='"+d(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:c)===u?l.call(o,{name:"username",hash:{},data:s}):l)+'\' role="button" aria-pressed="false">\n            '+(null!=(i=(n.iconify||t&&t.iconify||c).call(o,"fa-follow",14,"wp-base-2-dark",{name:"iconify",hash:{},data:s}))?i:"")+" "+d((n.trans||t&&t.trans||c).call(o,"Follow",{name:"trans",hash:{},data:s}))+"\n        </button>\n    </div>\n    <footer><span>"+(null!=(i=typeof(l=null!=(l=n.recommendationHint||(null!=t?t.recommendationHint:t))?l:c)===u?l.call(o,{name:"recommendationHint",hash:{},data:s}):l)?i:"")+"</span></footer>\n</article>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:s}):i)},3:function(e,t,n,a,s){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.username||(null!=t?t.username:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"username",hash:{},data:s}):i)},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c="function",u=e.escapeExpression;return'<a class="on-navigate" href="/user/'+u(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)===c?l.call(r,{name:"username",hash:{},data:s}):l)+'">\n  <div class="avatar avatar-md">\n    <img src="'+u((n.resizeAvatar||t&&t.resizeAvatar||o).call(r,null!=t?t.avatar:t,48,{name:"resizeAvatar",hash:{},data:s}))+'">\n  </div>\n</a>\n\n<div class="content">\n  <a class="name on-navigate" href="/user/'+u(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)===c?l.call(r,{name:"username",hash:{},data:s}):l)+'">\n    <strong>'+(null!=(i=n.if.call(r,null!=t?t.name:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+"</strong>\n  </a>\n  <small>"+(null!=(i=typeof(l=null!=(l=n.recommendationHint||(null!=t?t.recommendationHint:t))?l:o)===c?l.call(r,{name:"recommendationHint",hash:{},data:s}):l)?i:"")+"</small>\n</div>\n\n<div class=\"controls pull-right\">\n  <button class='btn btn-white btn-fan btn-follow on-follow pull-left' data-target='"+u(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)===c?l.call(r,{name:"username",hash:{},data:s}):l)+"'>\n    "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-follow",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n  </button>\n  <button class='btn btn-white btn-dismiss on-dismiss pull-right' data-target='"+u(typeof(l=null!=(l=n.username||(null!=t?t.username:t))?l:o)===c?l.call(r,{name:"username",hash:{},data:s}):l)+"'>\n    "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n  </button>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return"<h2>"+r((n.trans||t&&t.trans||l).call(i,"Recommended People",{name:"trans",hash:{},data:s}))+'</h2>\n<div class="collection row">\n</div>\n<span class="checklater hidden">'+r((n.trans||t&&t.trans||l).call(i,"Please check back later for more recommendations.",{name:"trans",hash:{},data:s}))+"</span>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s,i,l){var r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression;return'          <li class="col-xs-6 lists-menu list-unstyled'+(null!=(r=(n.ifequal||t&&t.ifequal||c).call(o,null!=t?t.id:t,null!=(r=null!=l[1]?l[1].category:l[1])?r.id:r,{name:"ifequal",hash:{},fn:e.program(2,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n            <a class="on-navigate" href="/stories/'+u((n.slugify||t&&t.slugify||c).call(o,null!=t?t.name_english:t,{name:"slugify",hash:{},data:s}))+'">'+u(e.lambda(null!=t?t.name:t,t))+"</a>\n          </li>\n"},2:function(e,t,n,a,s){return" active"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o=e.escapeExpression,c=null!=t?t:e.nullContext||{},u=n.helperMissing;return'<div data-category-id="'+o(e.lambda(null!=(r=null!=t?t.category:t)?r.id:r,t))+'" class="choose-category-modal modal" aria-hidden="true" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <header class="modal-header">\n        <h1 class="modal-title">'+o((n.trans||t&&t.trans||u).call(c,"Categories",{name:"trans",hash:{},data:s}))+'</h1>\n        <div class="close" data-dismiss="modal">\n          '+(null!=(r=(n.iconify||t&&t.iconify||u).call(c,"fa-remove",18,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?r:"")+'\n        </div>\n      </header>\n      <div class="modal-body">\n        <ul class="lists-menu list-unstyled" aria-label="'+o((n.trans||t&&t.trans||u).call(c,"Categories",{name:"trans",hash:{},data:s}))+'">\n'+(null!=(r=n.each.call(c,null!=t?t.categories:t,{name:"each",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n"},useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'                    <li class="col-xs-6"><a class="on-change-category" data-category="'+c((n.slugify||t&&t.slugify||o).call(r,null!=t?t.name_english:t,{name:"slugify",hash:{},data:s}))+'" href="#"> '+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+"\n"+(null!=(i=n.if.call(r,null!=t?t.selected:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"                    </a></li>\n"},2:function(e,t,n,a,s){var i;return"                            "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-check",18,"wp-base-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},4:function(e,t,n,a,s){return' class="active"'},6:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'                      <li data-section="featured"'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.active:t)?i.featured:i,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'>\n                        <a href="/stories/'+o((n.slugify||t&&t.slugify||r).call(l,null!=(i=null!=t?t.category:t)?i.name_english:i,{name:"slugify",hash:{},data:s}))+'/featured" class="on-tab-nav">'+o((n.trans||t&&t.trans||r).call(l,"Featured",{name:"trans",hash:{},data:s}))+"</a>\n                      </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression,c=e.lambda;return'<div class="container">\n    <header class="background background-lg text-left category-banner">\n        <div class="category-header">\n            <h2 class="title">'+o((n.trans||t&&t.trans||r).call(l,"Category",{name:"trans",hash:{},data:s}))+'</h2>\n            <div class="dropdown">\n                <a href=\'#\' data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                    <h1 class="h2">'+o(c(null!=(i=null!=t?t.category:t)?i.name:i,t))+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-down-small",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'</h1>\n                </a>\n                <div class="triangle"></div>\n                <ul class="dropdown-menu columns" role="menu">\n'+(null!=(i=n.each.call(l,null!=t?t.categories:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'                </ul>\n            </div>\n            <h2 class="subtitle">'+o(c(null!=(i=null!=t?t.category:t)?i.subtitle:i,t))+'</h2>\n        </div>\n    </header>\n    <div id="filter-tabs" class="sub-navigation">\n        <div class="container">\n            <nav class="pull-left">\n                <ul>\n                    <li data-section="hot"'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.active:t)?i.hot:i,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'>\n                        <a href="/stories/'+o((n.slugify||t&&t.slugify||r).call(l,null!=(i=null!=t?t.category:t)?i.name_english:i,{name:"slugify",hash:{},data:s}))+'" class="on-tab-nav">'+o((n.trans||t&&t.trans||r).call(l,"Hot",{name:"trans",hash:{},data:s}))+"</a>\n                    </li>\n"+(null!=(i=n.if.call(l,null!=t?t.isEnglish:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(6,s,0),data:s}))?i:"")+'                    <li data-section="new"'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.active:t)?i.new:i,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+'>\n                        <a href="/stories/'+o((n.slugify||t&&t.slugify||r).call(l,null!=(i=null!=t?t.category:t)?i.name_english:i,{name:"slugify",hash:{},data:s}))+'/new" class="on-tab-nav">'+o((n.trans||t&&t.trans||r).call(l,"New",{name:"trans",hash:{},data:s}))+'</a>\n                    </li>\n                </ul>\n            </nav>\n            <div class="actions pull-right" role="menu">\n                <div class="show-completed"><a href="#" role="button" class="on-filter-completed"> '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-circle-empty",11,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+' <span class="show-completed-text fa-wp-neutral-2">'+o((n.trans||t&&t.trans||r).call(l,"Only show completed",{name:"trans",hash:{},data:s}))+'</span></a></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<main id="tab-content" class="container">\n    <div class="stories">\n'+(null!=(i=e.invokePartial(a["core.collection_views.browse_stories"],t,{name:"core.collection_views.browse_stories",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"    </div>\n</main>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{};return'        --\x3e<div class="story-grid-panel '+e.escapeExpression("function"==typeof(l=null!=(l=n.class||(null!=t?t.class:t))?l:n.helperMissing)?l.call(r,{name:"class",hash:{},data:s}):l)+'">\x3c!--\n\n'+(null!=(i=n.each.call(r,null!=t?t.stories:t,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+"\n        --\x3e</div>\x3c!--\n"},2:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'            --\x3e<a href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'" class="on-story-preview cover cover-lg" data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n                <div class="fixed-ratio fixed-ratio-cover">\n                    <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,230,{name:"resizeCover",hash:{},data:s}))+'" alt="'+c((n.trans||t&&t.trans||o).call(r,"%1$s by %2$s",null!=t?t.title:t,null!=(i=null!=t?t.user:t)?i.name:i,{name:"trans",hash:{},data:s}))+'">\n                </div>\n            </a>\x3c!--\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="discover-stories-desktop" data-type="discover-stories" data-url="'+c("function"==typeof(l=null!=(l=n.url||(null!=t?t.url:t))?l:o)?l.call(r,{name:"url",hash:{},data:s}):l)+'" data-cache="'+c("function"==typeof(l=null!=(l=n.cache||(null!=t?t.cache:t))?l:o)?l.call(r,{name:"cache",hash:{},data:s}):l)+'">\n    <h2 class="story-grid-title">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+"</h2>\n    <h3><small>"+c("function"==typeof(l=null!=(l=n.subtitle||(null!=t?t.subtitle:t))?l:o)?l.call(r,{name:"subtitle",hash:{},data:s}):l)+'</small></h3>\n\n    <div class="story-grid">\x3c!--\n'+(null!=(i=n.each.call(r,null!=t?t.panels:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"    --\x3e</div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression,d=e.lambda,h='     --\x3e<div class="reading-list-grid-panel reading-list-card">\n            <div class="content">\n                <a href="/list/'+u("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:c)?l.call(o,{name:"id",hash:{},data:s}):l)+'"><h5>'+u((n.simpleShorten||t&&t.simpleShorten||c).call(o,null!=t?t.name:t,46,{name:"simpleShorten",hash:{},data:s}))+"</h5>\x3c!--\n";return l=null!=(l=n.sample_covers||(null!=t?t.sample_covers:t))?l:c,r={name:"sample_covers",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.sample_covers||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(h+=i),h+'                --\x3e</a>\n            </div>\n            <footer>\n                <a href="/user/'+u(d(null!=(i=null!=t?t.user:t)?i.name:i,t))+'" class="user-link on-navigate">\n                    <img src="'+u(d(null!=(i=null!=t?t.user:t)?i.avatar:i,t))+'" class="avatar avatar-md">\n                    <h5 class="h3">'+u(d(null!=(i=null!=t?t.user:t)?i.name:i,t))+"</h5>\n                    <div class=\"controls\">\n                        <button class='btn btn-white btn-fan btn-follow on-follow btn-icon-only' data-target='"+u(d(null!=(i=null!=t?t.user:t)?i.name:i,t))+"'>\n                            "+(null!=(i=(n.iconify||t&&t.iconify||c).call(o,"fa-follow",22,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"\n                        </button>\n                    </div>\n                </a>\n            </footer>\n        </div>\x3c!--\n"},2:function(e,t,n,a,s){return'                    --\x3e<div class="sample-cover">\n                    <img src="'+e.escapeExpression((n.resizeCover||t&&t.resizeCover||n.helperMissing).call(null!=t?t:e.nullContext||{},t,96,{name:"resizeCover",hash:{},data:s}))+'" class="cover cover-sm">\n                    </div>\x3c!--\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="discover-reading_lists_with_users-desktop" data-type="discover-reading_lists_with_users" data-url="'+c("function"==typeof(l=null!=(l=n.url||(null!=t?t.url:t))?l:o)?l.call(r,{name:"url",hash:{},data:s}):l)+'" data-cache="'+c("function"==typeof(l=null!=(l=n.cache||(null!=t?t.cache:t))?l:o)?l.call(r,{name:"cache",hash:{},data:s}):l)+'">\n    <h2 class="story-grid-title">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+"</h2>\n    <h3><small>"+c("function"==typeof(l=null!=(l=n.subtitle||(null!=t?t.subtitle:t))?l:o)?l.call(r,{name:"subtitle",hash:{},data:s}):l)+'</small></h3>\n\n    <div class="reading-list-grid">\x3c!--\n'+(null!=(i=n.each.call(r,null!=t?t.lists:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"    --\x3e</div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i=e.lambda,l=e.escapeExpression;return'        <div class="col-xs-6 col-md-4">\n          <a href="/stories/'+l(i(t,t))+'" class="discover-tag on-navigate">'+l(i(t,t))+"</a>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{};return'<div data-type="discover-tags" class="discover-tags">\n    <h2>'+e.escapeExpression("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:n.helperMissing)?l.call(r,{name:"title",hash:{},data:s}):l)+'</h2>\n\n    <div class="row">\n'+(null!=(i=n.each.call(r,null!=t?t.tags:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"    </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'        <div class="col-xs-6 col-md-4">\n            <a href="/stories/'+o((n.slugify||t&&t.slugify||r).call(l,null!=t?t.name_english:t,{name:"slugify",hash:{},data:s}))+'" class="discover-category on-navigate">'+o("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:r)?i.call(l,{name:"name",hash:{},data:s}):i)+"</a>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'<div data-type="discover-categories" class="discover-categories">\n    <h2>'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(l,"Browse Categories",{name:"trans",hash:{},data:s}))+'</h2>\n\n    <div class="row">\n'+(null!=(i=n.each.call(l,null!=t?t.categories:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"    </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'    <div class="container">\n        <header class="background background-lg text-left" style="background-image: url('+c("function"==typeof(l=null!=(l=n.assetServer||(null!=t?t.assetServer:t))?l:o)?l.call(r,{name:"assetServer",hash:{},data:s}):l)+'/img/category-banners/browse-category-header.png);">\n             <div id="authentication-panel">\n                <div class="signup-modal">\n'+(null!=(i=e.invokePartial(a["core.signup_prompt"],t,{name:"core.signup_prompt",data:s,indent:"                  ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'                </div>\n            </div>\n            <div id="sign-up-header">\n                <h1>'+c((n.trans||t&&t.trans||o).call(r,"Discover Stories",{name:"trans",hash:{},data:s}))+"</h1>\n                <p>"+c((n.trans||t&&t.trans||o).call(r,"Read books and stories free on Wattpad. Choose from millions of titles about romance, fanfiction, fantasy, science fiction, non fiction, teen fiction, and more.",{name:"trans",hash:{},data:s}))+'</p>\n            </div>\n            <div class="overlay"></div>\n        </header>\n    </div>\n'},3:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return(null!=(i=n.if.call(l,null!=t?t.panels:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=n.if.call(l,null!=t?t.lists:t,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=n.if.call(l,null!=t?t.placeholder:t,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=n.if.call(l,null!=t?t.tags:t,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?i:"")},4:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["desktop.discover.discover_stories"],t,{name:"desktop.discover.discover_stories",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?i:""},6:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["desktop.discover.discover_lists"],t,{name:"desktop.discover.discover_lists",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?i:""},8:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o="function",c=e.escapeExpression;return'            <div class="discover-'+c(typeof(i=null!=(i=n.placeholderType||(null!=t?t.placeholderType:t))?i:r)===o?i.call(l,{name:"placeholderType",hash:{},data:s}):i)+'-desktop" data-placeholder="true" data-type="discover-'+c(typeof(i=null!=(i=n.placeholderType||(null!=t?t.placeholderType:t))?i:r)===o?i.call(l,{name:"placeholderType",hash:{},data:s}):i)+'" data-url="'+c(typeof(i=null!=(i=n.url||(null!=t?t.url:t))?i:r)===o?i.call(l,{name:"url",hash:{},data:s}):i)+'" data-cache="'+c(typeof(i=null!=(i=n.cache||(null!=t?t.cache:t))?i:r)===o?i.call(l,{name:"cache",hash:{},data:s}):i)+'" data-layout="'+c(typeof(i=null!=(i=n.layout||(null!=t?t.layout:t))?i:r)===o?i.call(l,{name:"layout",hash:{},data:s}):i)+'">\n                <h2 class="story-grid-title">'+c(typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:r)===o?i.call(l,{name:"title",hash:{},data:s}):i)+"</h2>\n                <h3><small>"+c(typeof(i=null!=(i=n.subtitle||(null!=t?t.subtitle:t))?i:r)===o?i.call(l,{name:"subtitle",hash:{},data:s}):i)+'</small></h3>\n                <div class="loading-placeholder">'+c((n.trans||t&&t.trans||r).call(l,"Loading...",{name:"trans",hash:{},data:s}))+"</div>\n            </div>\n"},10:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.discover.discover_tags"],t,{name:"core.discover.discover_tags",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?i:""},12:function(e,t,n,a,s){var i;return'    <div id="recommended-users" class="clearfix">\n        <div class="recommended-users-view">'+(null!=(i=e.invokePartial(a["core.collection_views.recommended_follow"],t,{name:"core.collection_views.recommended_follow",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")+"</div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return(null!=(i=n.unless.call(l,null!=t?t.currentUser:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'\n<div class="container">\n'+(null!=(i=n.each.call(l,null!=t?t.panelGroups:t,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.currentUser:t,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=e.invokePartial(a["core.discover.discover_categories"],t,{name:"core.discover.discover_categories",data:s,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'\n    </div>\n</div>\n\n<div id="preview-modal"></div>\n'},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'<span class="label label-info">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Completed",{name:"trans",hash:{},data:s}))+"</span>&nbsp;&nbsp;"},3:function(e,t,n,a,s){return'<span class="label label-danger">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Mature",{name:"trans",hash:{},data:s}))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'\n<div class="clearfix" data-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n    <div class="drag-handle on-edit-show pull-left">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-menu",28,"wp-neutral-2","fa-xl",{name:"iconify",hash:{},data:s}))?i:"")+'</div>\n    <a class="cover cover-sm pull-left on-navigate" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">\n        <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,80,{name:"resizeCover",hash:{},data:s}))+'">\n    </a>\n\n    <div class="circular-checkbox on-check-story fa-stack pull-right on-edit-show" data-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n        <span class="circle-empty vhcenter">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-circle-empty",30,"wp-neutral-3 vhcenter",{name:"iconify",hash:{},data:s}))?i:"")+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-circle-empty",26,"wp-neutral-5 vhcenter",{name:"iconify",hash:{},data:s}))?i:"")+'</span>\n        <span class="checked-in vhcenter">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-circle-filled",22,"wp-base-2 vhcenter",{name:"iconify",hash:{},data:s}))?i:"")+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-check",17,"wp-neutral-5 vhcenter",{name:"iconify",hash:{},data:s}))?i:"")+'</span>\n    </div>\n\n    <div class="content">\n        <h5><a class="on-navigate" href="'+c((n.formatStoryUrl||t&&t.formatStoryUrl||o).call(r,null!=t?t.url:t,{name:"formatStoryUrl",hash:{},data:s}))+'">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+'</a></h5>\n        <div class="meta">\n          <small class="reads">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-view",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+'</small>\n          <small class="votes">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-vote",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+'</small>\n          <small class="numParts">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-list",14,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.numParts:t,{name:"count",hash:{},data:s}))+'</small>\n        </div>\n\n        <p class="on-edit-hide">'+(null!=(i=(n.simpleShorten||t&&t.simpleShorten||o).call(r,null!=t?t.description:t,320,!1,{name:"simpleShorten",hash:{},data:s}))?i:"")+'</p>\n\n        <div class="story-status on-edit-hide">\n            '+(null!=(i=n.if.call(r,null!=t?t.completed:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n            "+(null!=(i=n.if.call(r,null!=t?t.mature:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"\n        </div>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=e.escapeExpression;return'                <div class="list-name-controls on-edit-show">\n                    <div class="input-group">\n                        <input id="list-name-input" type="text" class="form-control"\n                        placeholder="'+l((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Enter a name for this list",{name:"trans",hash:{},data:s}))+'" value="'+l(e.lambda(null!=(i=null!=t?t.list:t)?i.name:i,t))+'">\n                    </div>\n                </div>\n'},3:function(e,t,n,a,s){var i=e.lambda,l=e.escapeExpression;return'                        <span class="tag"><a href="/stories/'+l(i(t,t))+'">#'+l(i(t,t))+"</a></span>\n"},5:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'    <div class="edit-toolbar">\n        <button class="btn btn-md btn-orange on-edit-list on-edit-hide"><span>'+r((n.trans||t&&t.trans||l).call(i,"Edit",{name:"trans",hash:{},data:s}))+'</span></button>\n        <button class="btn btn-md btn-orange on-done-edit on-edit-show"><span>'+r((n.trans||t&&t.trans||l).call(i,"Done",{name:"trans",hash:{},data:s}))+'</span></button>\n        <button class="btn btn-md btn-red on-delete-list on-edit-show">'+r((n.trans||t&&t.trans||l).call(i,"Delete List",{name:"trans",hash:{},data:s}))+"</button>\n    </div>\n"},7:function(e,t,n,a,s){var i,l,r,o=e.lambda,c=e.escapeExpression,u=null!=t?t:e.nullContext||{},d=n.helperMissing,h='        <div class="follow">\n            <a href="/user/'+c(o(null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.name:i,t))+'" class="avatar avatar-md on-navigate">\n                <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||d).call(u,null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.avatar:i,40,{name:"resizeAvatar",hash:{},data:s}))+'" alt="'+c(o(null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.name:i,t))+'">\n            </a>\n            <ul>\n                <li>'+c((n.trans||t&&t.trans||d).call(u,"Like these stories?",{name:"trans",hash:{},data:s}))+"</li>\n\n"+(null!=(i=n.if.call(u,null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.following:i,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s}))?i:"")+'            </ul>\n\n            <button class="btn btn-fan '+(null!=(i=n.if.call(u,null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.following:i,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.program(14,s,0),data:s}))?i:"")+" ";return l=null!=(l=n.disabled||(null!=t?t.disabled:t))?l:d,r={name:"disabled",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(u,r):l,n.disabled||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(h+=i),h+'" data-target="'+c(o(null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.name:i,t))+'" data-following="'+c(o(null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.following:i,t))+'" role="button" aria-pressed="false">\n'+(null!=(i=n.if.call(u,null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.following:i,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.program(20,s,0),data:s}))?i:"")+"            </button>\n        </div>\n"},8:function(e,t,n,a,s){var i;return'                <li class="created-by-user">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Selected by %s",null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.name:i,{name:"trans",hash:{},data:s}))+"</li>\n"},10:function(e,t,n,a,s){var i;return'                <li class="created-by-user">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Follow %s",null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.name:i,{name:"trans",hash:{},data:s}))+"</li>\n"},12:function(e,t,n,a,s){return"btn-teal"},14:function(e,t,n,a,s){return"btn-white"},16:function(e,t,n,a,s){return"disabled"},18:function(e,t,n,a,s){var i;return"                    "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-following",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},20:function(e,t,n,a,s){var i;return"                    "+(null!=(i=(n.iconify||t&&t.iconify||n.helperMissing).call(null!=t?t:e.nullContext||{},"fa-follow",16,"wp-base-2-dark",{name:"iconify",hash:{},data:s}))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression,c=e.lambda;return'<div class="reading-list-sidebar col-xs-12">\n    <div class="clearfix">\n        <div class="cover cover-reading-list col-xs-5 col-sm-12 pull-right">\n            <img src="'+o((n.resizeCover||t&&t.resizeCover||r).call(l,null!=(i=null!=t?t.list:t)?i.cover:i,368,{name:"resizeCover",hash:{},data:s}))+'" alt="'+o(c(null!=(i=null!=t?t.list:t)?i.name:i,t))+'">\n        </div>\n        <div class="reading-list-info col-xs-7 col-sm-12">\n            <h1 class="h2 list-name on-edit-hide"><span>'+o(c(null!=(i=null!=t?t.list:t)?i.name:i,t))+"</span></h1>\n\n"+(null!=(i=n.if.call(l,null!=t?t.isOwner:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"\n"+(null!=(i=e.invokePartial(a["core.library.reading_list_details.library_reading_list_meta"],t,{name:"core.library.reading_list_details.library_reading_list_meta",data:s,indent:"            ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+'            <div class="taglist on-edit-hide">\n'+(null!=(i=n.each.call(l,null!=(i=null!=t?t.list:t)?i.tags:i,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:"")+"            </div>\n        </div>\n    </div>\n\n"+(null!=(i=n.if.call(l,null!=t?t.isOwner:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+'\n    <div class="col-xs-12 on-edit-hide">\n'+(null!=(i=(n.isCurrentUser||t&&t.isCurrentUser||r).call(l,null!=(i=null!=(i=null!=t?t.list:t)?i.user:i)?i.name:i,{name:"isCurrentUser",hash:{},fn:e.noop,inverse:e.program(7,s,0),data:s}))?i:"")+"\n        "+(null!=(i=(n.reactComponent||t&&t.reactComponent||r).call(l,"SocialSharing","sidebar",{name:"reactComponent",hash:{},data:s}))?i:"")+"\n    </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'    <div class="page-controls clearfix" role="menu">\n        <a href="/list" class="pull-left btn btn-sm btn-text on-navigate">'+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-left",12,"fa-text-grey",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.trans||t&&t.trans||r).call(l,"My reading lists",{name:"trans",hash:{},data:s}))+'</a>\n        <div class="pull-right page-status">\n            '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-unlock",14,"fa-mediumgrey",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.trans||t&&t.trans||r).call(l,"Public",{name:"trans",hash:{},data:s}))+"\n        </div>\n    </div>\n"},3:function(e,t,n,a,s){var i;return'            <div id="authentication-panel" class="panel panel-basic">\n                <div class="signup-modal">\n'+(null!=(i=e.invokePartial(a["core.signup_prompt"],t,{name:"core.signup_prompt",data:s,indent:"                    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"                </div>\n            </div>\n"},5:function(e,t,n,a,s,i,l){var r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression;return'            <div class="panel feed-item-new">\n                <div class="select-all on-edit-show">\n                    <div class="circular-checkbox fa-stack pull-right on-select-all">\n                        <span class="circle-empty">'+(null!=(r=(n.iconify||t&&t.iconify||c).call(o,"fa-circle-empty",30,"wp-neutral-3 vhcenter",{name:"iconify",hash:{},data:s}))?r:"")+(null!=(r=(n.iconify||t&&t.iconify||c).call(o,"fa-circle-empty",26,"wp-neutral-5 vhcenter",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                        <span class="checked-in">'+(null!=(r=(n.iconify||t&&t.iconify||c).call(o,"fa-circle-filled",22,"wp-base-2 vhcenter",{name:"iconify",hash:{},data:s}))?r:"")+(null!=(r=(n.iconify||t&&t.iconify||c).call(o,"fa-check",17,"wp-neutral-5 vhcenter",{name:"iconify",hash:{},data:s}))?r:"")+'</span>\n                    </div>\n\n                    <span class="text pull-right on-select-all">'+u((n.trans||t&&t.trans||c).call(o,"Select All",{name:"trans",hash:{},data:s}))+'</span>\n                </div>\n\n                <ul class="list-group" data-drag="true">\n'+(null!=(r=n.each.call(o,null!=t?t.stories:t,{name:"each",hash:{},fn:e.program(6,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'                </ul>\n\n                <div class="show-more center-text hidden">\n                    <button class="btn btn-link on-showmore">\n                    <span class="show-more-message">\n                        <span>'+u((n.trans||t&&t.trans||c).call(o,"Show more",{name:"trans",hash:{},data:s}))+'</span>\n                        <span class="fa fa-down-small fa-wp-neutral-2"></span>\n                    </span>\n                    <span class="loading-message hidden">\n                        '+(null!=(r=(n.iconifySpin||t&&t.iconifySpin||c).call(o,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?r:"")+"\n                        <span> "+u((n.trans||t&&t.trans||c).call(o,"Loading",{name:"trans",hash:{},data:s}))+" ...</span>\n                    </span>\n                    </button>\n                </div>\n            </div>\n"},6:function(e,t,n,a,s,i,l){var r;return'                    <li class="list-group-item">\n'+(null!=(r=n.with.call(null!=t?t:e.nullContext||{},{name:"with",hash:{list:l[1]},fn:e.program(7,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"                    </li>\n"},7:function(e,t,n,a,s){var i;return null!=(i=e.invokePartial(a["core.library.reading_list_details.library_reading_list_story_item"],t,{name:"core.library.reading_list_details.library_reading_list_story_item",data:s,indent:"                            ",helpers:n,partials:a,decorators:e.decorators}))?i:""},9:function(e,t,n,a,s){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.noStories:t,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?i:""},10:function(e,t,n,a,s){var i;return'            <div class="text-center">\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isOwner:t,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?i:"")+"            </div>\n            "},11:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return"                    <p>"+r((n.trans||t&&t.trans||l).call(i,"No stories yet. Go add some!",{name:"trans",hash:{},data:s}))+"</p>\n                    "+r((n.connectImage||t&&t.connectImage||l).call(i,"/shared/add_to_reading_list.png",(n.trans||t&&t.trans||l).call(i,"Add a story to your reading list",{name:"trans",hash:{},data:s}),{name:"connectImage",hash:{klass:"add-to-list",height:"153"},data:s}))+"\n                    <p>"+r((n.trans||t&&t.trans||l).call(i,'Look for the "+" button to add a story to your reading list.',{name:"trans",hash:{},data:s}))+"</p>\n"},13:function(e,t,n,a,s){return"                    <p>"+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"This reading list is currently empty.",{name:"trans",hash:{},data:s}))+"</p>\n"},15:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'    <div class="list-controls">\n        <span class="num-selected vcenter"></span>\n        <button id="btn-batch-remove" class="btn btn-lightgrey btn-md on-batch-remove pull-right" disabled> '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-trash",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'</button>\n        <button id="btn-batch-add" class="btn btn-lightgrey btn-md on-batch-add pull-right" disabled> '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-plus",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+"</button>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o,c,u=null!=t?t:e.nullContext||{},d='\n<div class="container">\n'+(null!=(r=n.if.call(u,null!=t?t.isOwner:t,{name:"if",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'\n    <div class="row">\n\n        <aside class="col-xs-12 col-sm-5 col-md-4 clearfix">\n'+(null!=(r=e.invokePartial(a["core.library.reading_list_details.library_reading_list_sidebar"],t,{name:"core.library.reading_list_details.library_reading_list_sidebar",data:s,indent:"           ",helpers:n,partials:a,decorators:e.decorators}))?r:"")+"\n";return o=null!=(o=n.isLogged||(null!=t?t.isLogged:t))?o:n.helperMissing,c={name:"isLogged",hash:{},fn:e.noop,inverse:e.program(3,s,0,i,l),data:s},r="function"==typeof o?o.call(u,c):o,n.isLogged||(r=n.blockHelperMissing.call(t,r,c)),null!=r&&(d+=r),d+'        </aside>\n\n        <main class="col-xs-12 col-sm-7 col-md-8">\n'+(null!=(r=n.if.call(u,null!=t?t.hasStories:t,{name:"if",hash:{},fn:e.program(5,s,0,i,l),inverse:e.program(9,s,0,i,l),data:s}))?r:"")+"        </main>\n    </div>\n\n"+(null!=(r=n.if.call(u,null!=t?t.isOwner:t,{name:"if",hash:{},fn:e.program(15,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"</div>\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i=e.lambda,l=e.escapeExpression;return'            <span class="tag on-navigate"><a href="/stories/'+l(i(t,t))+'">#'+l(i(t,t))+"</a></span>\n"},3:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'        <li><a role="button" data-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-placement="top" title="'+c((n.trans||t&&t.trans||o).call(r,"This is your default list; it cannot be deleted",{name:"trans",hash:{},data:s}))+'" class="disabled">\n          '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-info",20,"wp-neutral-2 vcenter",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.trans||t&&t.trans||o).call(r,"Primary List",{name:"trans",hash:{},data:s}))+"\n        </a></li>\n"},5:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'        <li><a role="button" href="#" data-toggle="modal" data-target="#delete-modal"\n        data-stop-details="true" data-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" class="on-delete-list">\n          '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-trash",20,"wp-neutral-2 vcenter",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.trans||t&&t.trans||o).call(r,"Delete List",{name:"trans",hash:{},data:s}))+"\n        </a></li>\n"},7:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'        <li><a role="button" class="share-'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)?l.call(r,{name:"name",hash:{},data:s}):l)+(null!=(i=n.unless.call(r,null!=t?t.nopopup:t,{name:"unless",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?i:"")+'" '+c("function"==typeof(l=null!=(l=n.socialSharingAttributes||(null!=t?t.socialSharingAttributes:t))?l:o)?l.call(r,{name:"socialSharingAttributes",hash:{},data:s}):l)+">\n          "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,null!=t?t.icon:t,20,"wp-neutral-2 vcenter",{name:"iconify",hash:{},data:s}))?i:"")+" "+c("function"==typeof(l=null!=(l=n.label||(null!=t?t.label:t))?l:o)?l.call(r,{name:"label",hash:{},data:s}):l)+"\n        </a></li>\n"},8:function(e,t,n,a,s){return' social-share" rel="nofollow" target="_blank'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c="function",u=e.escapeExpression;return'\n<div class="reading-list-item row panel" role="listitem" data-id="'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n  <div class="drag-handle vcenter">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-menu",28,"wp-neutral-2","fa-xl",{name:"iconify",hash:{},data:s}))?i:"")+'</div>\n\n  <div class="story-wrapper vcenter">\n    <div class="cover cover-sm vcenter" aria-hidden="true">\n      <a class="on-navigate" href="/list/'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-href="/list/'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n        <img src="'+u((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,70,{name:"resizeCover",hash:{},data:s}))+'" alt="'+u(typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)===c?l.call(r,{name:"name",hash:{},data:s}):l)+'" />\n      </a>\n    </div>\n    <div class="story-info vcenter">\n      <h3 class="story-title" aria-label="'+u((n.trans||t&&t.trans||o).call(r,"Story Item",{name:"trans",hash:{},data:s}))+": "+u(typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)===c?l.call(r,{name:"name",hash:{},data:s}):l)+'.">\n      <a class="on-show-details on-navigate" href="/list/'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-href="/list/'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n        <strong>'+u(typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:o)===c?l.call(r,{name:"name",hash:{},data:s}):l)+'</strong>\n      </a>\n      </h3>\n      <a class="on-show-details on-navigate" href="/list/'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'" data-href="/list/'+u(typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)===c?l.call(r,{name:"id",hash:{},data:s}):l)+'">\n        <small>'+u((n.sprintf||t&&t.sprintf||o).call(r,(n.ngettext||t&&t.ngettext||o).call(r,"%s Story","%s Stories",null!=t?t.numStories:t,{name:"ngettext",hash:{},data:s}),null!=t?t.numStories:t,{name:"sprintf",hash:{},data:s}))+'</small>\n      </a>\n      <div class="taglist">\n'+(null!=(i=n.each.call(r,null!=t?t.tags:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'      </div>\n    </div>\n  </div>\n\n\n  <div class="dropdown">\n    <button class="btn btn-white dropdown-toggle" data-toggle="dropdown" role="button">\n        '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-more",18,"wp-neutral-2","fa-l",{name:"iconify",hash:{},data:s}))?i:"")+'\n    </button>\n    <div class="triangle"></div>\n    <ul class="dropdown-menu align-right" role="menu">\n'+(null!=(i=n.if.call(r,null!=t?t.featured:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+(null!=(i=n.each.call(r,null!=t?t.socialLinks:t,{name:"each",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+"     </ul>\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"    "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-lock",14,"fa-mediumgrey",{name:"iconify",hash:{},data:s}))?i:"")+" "+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Private",{name:"trans",hash:{},data:s}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<button class="btn btn-orange on-newlist">'+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"New Reading List",{name:"trans",hash:{},data:s}))+" "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-plus",13,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'</button>\n\n<div class="pull-right page-status">\n'+(null!=(i=n.unless.call(l,null!=t?t.islist:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"</div>\n\n\n\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.lists:t,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:""},2:function(e,t,n,a,s){var i;return'    --\x3e<div class="reading-list-item-row">\n'+(null!=(i=e.invokePartial(a["core.library.library_reading_list_item"],t,{name:"core.library.library_reading_list_item",data:s,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"    </div>\x3c!--\n"},4:function(e,t,n,a,s){return"    --\x3e<p>"+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"You currently have no reading lists.",{name:"trans",hash:{},data:s}))+"</p>\x3c!--\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'\n<div class="reading-list-tab container col-md-12 col-sm-12" id="reading-list-tab" data-drag="true" role="list">\x3c!--\n'+(null!=(i=n.if.call(l,null!=t?t.hasLists:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?i:"")+'--\x3e</div>\n\n\n<div class="show-more center-text hidden">\n  <button class="btn btn-link on-showmore">\n  <strong>'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(l,"Show More",{name:"trans",hash:{},data:s}))+"</strong>\n  </button>\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return"active"},3:function(e,t,n,a,s){var i;return"            <div>\n"+(null!=(i=e.invokePartial(a["core.library.library_controls.library_lists_controls"],t,{name:"core.library.library_controls.library_lists_controls",data:s,indent:"              ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"            </div>\n"},5:function(e,t,n,a,s){var i;return"            <div>\n"+(null!=(i=e.invokePartial(a["core.library.library_controls"],t,{name:"core.library.library_controls",data:s,indent:"              ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"            </div>\n"},7:function(e,t,n,a,s){var i;return'              <div class="library-lists-landing">\n'+(null!=(i=e.invokePartial(a["core.library.library_lists_landing"],t,{name:"core.library.library_lists_landing",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"              </div>\n"},9:function(e,t,n,a,s){var i;return"              <div>\n"+(null!=(i=e.invokePartial(a["core.library.library_listing"],t,{name:"core.library.library_listing",data:s,indent:"                ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"              </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression,d=n.blockHelperMissing,h='\n <div id="library-landing-page">\n    <div class="container">\n        <header>\n            <h1>'+u((n.trans||t&&t.trans||c).call(o,"Library",{name:"trans",hash:{},data:s}))+'</h1>\n        </header>\n        <div class="sub-navigation">\n            <div class="container">\n                <nav class="pull-left">\n                    <ul>\n                        <li class="';return l=null!=(l=n.islibrary||(null!=t?t.islibrary:t))?l:c,r={name:"islibrary",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.islibrary||(i=d.call(t,i,r)),null!=i&&(h+=i),h+='">\n                            <a class="tab-control" data-section="current-reads" href="/library">'+u((n.trans||t&&t.trans||c).call(o,"Current reads",{name:"trans",hash:{},data:s}))+'</a>\n                        </li>\n                        <li class="',l=null!=(l=n.isarchive||(null!=t?t.isarchive:t))?l:c,r={name:"isarchive",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.isarchive||(i=d.call(t,i,r)),null!=i&&(h+=i),h+='">\n                            <a class="tab-control" data-section="archive" href="/archive">'+u((n.trans||t&&t.trans||c).call(o,"Archive",{name:"trans",hash:{},data:s}))+'</a>\n                        </li>\n                        <li class="',l=null!=(l=n.islist||(null!=t?t.islist:t))?l:c,r={name:"islist",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.islist||(i=d.call(t,i,r)),null!=i&&(h+=i),h+'">\n                            <a class="tab-control" data-section="reading-lists" href="/list">'+u((n.trans||t&&t.trans||c).call(o,"Reading Lists",{name:"trans",hash:{},data:s}))+'</a>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n        </div>\n    </div>\n    <div class="container">\n        <div id="library-controls" class="page-controls clearfix">\n'+(null!=(i=n.if.call(o,null!=t?t.islist:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+'        </div>\n\n        <main id="tab-content">\n'+(null!=(i=n.if.call(o,null!=t?t.islist:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s}))?i:"")+'        </main>\n    </div>\n</div>\n<div id="preview-modal"></div>\n'},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'        <span class="rating label label-info">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Mature",{name:"trans",hash:{},data:s}))+"</div>\n"},3:function(e,t,n,a,s){return'        <span class="status label label-info">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Completed",{name:"trans",hash:{},data:s}))+"</span>\n"},5:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'        <time datetime="'+r((n.fromNow||t&&t.fromNow||l).call(i,null!=t?t.modifyDate:t,{name:"fromNow",hash:{},data:s}))+'">\n            '+r((n.trans||t&&t.trans||l).call(i,"Updated %s",(n.fromNow||t&&t.fromNow||l).call(i,null!=t?t.modifyDate:t,{name:"fromNow",hash:{},data:s}),{name:"trans",hash:{},data:s}))+"\n        </time>\n"},7:function(e,t,n,a,s){var i,l=e.escapeExpression;return'        <pre class="description"> '+l((n.simpleShorten||t&&t.simpleShorten||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.description:t,500,!1,{name:"simpleShorten",hash:{},data:s}))+' </pre>\n        <div class="meta tags related">\n            <span class="tag">'+l(e.lambda(null!=(i=null!=t?t.categoryObject:t)?i.name:i,t))+"</span>\n        </div>\n"},9:function(e,t,n,a,s){return'        <button type="button" class="on-unarchive-story btn btn-block btn-grey">\n            '+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Unarchive",{name:"trans",hash:{},data:s}))+"\n        </button>\n\n"},11:function(e,t,n,a,s){return'        <button type="button" class="on-archive-story btn btn-block btn-grey">\n            '+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Archive",{name:"trans",hash:{},data:s}))+"\n        </button>\n\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<div class="modal-content" style="background-image: url('+c((n.resizeCoverAsBackground||t&&t.resizeCoverAsBackground||o).call(r,null!=t?t.cover:t,640,{name:"resizeCoverAsBackground",hash:{},data:s}))+');">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-remove",20,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'\n        </button>\n        <h4 class="modal-title">'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+'</h4>\n        <div class="username">'+c((n.trans||t&&t.trans||o).call(r,"by %s",null!=(i=null!=t?t.user:t)?i.name:i,{name:"trans",hash:{},data:s}))+"</div>\n"+(null!=(i=n.if.call(r,null!=t?t.mature:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+(null!=(i=n.if.call(r,null!=t?t.completed:t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s}))?i:"")+'        <div class="meta tags">\n            <span> '+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-view",13,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+" </span>\n            <span> "+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-vote",13,"wp-neutral-3",{name:"iconify",hash:{},data:s}))?i:"")+" "+c((n.count||t&&t.count||o).call(r,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+' </span>\n            <span class="tag pull-right">'+c(e.lambda(null!=(i=null!=t?t.categoryObject:t)?i.name:i,t))+'</span>\n        </div>\n    </div>\n    <div class="modal-body">\n'+(null!=(i=n.if.call(r,null!=t?t.description:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+'\n        <button type="button" class="on-story-details btn btn-block btn-grey">\n            '+c((n.trans||t&&t.trans||o).call(r,"Story Details",{name:"trans",hash:{},data:s}))+"\n        </button>\n\n"+(null!=(i=n.if.call(r,null!=t?t.archived:t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.program(11,s,0),data:s}))?i:"")+'    </div>\n    <div class="modal-footer">\n        <button type="button" class="btn btn-block btn-grey" data-dismiss="modal">'+c((n.trans||t&&t.trans||o).call(r,"Close",{name:"trans",hash:{},data:s}))+"</button>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'                  <button class="btn btn-block btn-glass btn-left-align on-read">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Continue Reading",{name:"trans",hash:{},data:s}))+"</button>\n"},3:function(e,t,n,a,s){return'                  <button class="btn btn-block btn-glass  btn-left-align on-read">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Start Reading",{name:"trans",hash:{},data:s}))+"</button>\n"},5:function(e,t,n,a,s){return'                  <button class="btn btn-block btn-glass btn-left-align on-unarchive-story">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Unarchive",{name:"trans",hash:{},data:s}))+"</button>\n"},7:function(e,t,n,a,s){return'                  <button class="btn btn-block btn-glass btn-left-align on-archive-story">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Archive",{name:"trans",hash:{},data:s}))+"</button>\n"},9:function(e,t,n,a,s){return'    <span class="percentage-read">\n        <span class="percentage-position" style="width:'+e.escapeExpression((n.calcPercentRead||t&&t.calcPercentRead||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.parts:t,null!=t?t.readingPosition:t,{name:"calcPercentRead",hash:{},data:s}))+'%"></span>\n    </span>\n'},11:function(e,t,n,a,s){return'          <span class="label label-primary">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Updated",{name:"trans",hash:{},data:s}))+"</span>\n\n"},13:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return"          <span> "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-view",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.count||t&&t.count||r).call(l,null!=t?t.readCount:t,{name:"count",hash:{},data:s}))+" </span>\n          <span> "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-vote",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+" "+o((n.count||t&&t.count||r).call(l,null!=t?t.voteCount:t,{name:"count",hash:{},data:s}))+" </span>\n\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'\n<div class="on-story-preview cover cover-lg">\n    <div class="fixed-ratio fixed-ratio-cover">\n        <img src="'+c((n.resizeCover||t&&t.resizeCover||o).call(r,null!=t?t.cover:t,256,{name:"resizeCover",hash:{},data:s}))+'" alt="">\n\n        <div class="story-overlay on-story-hover" style="display: none;">\n            <div class="overlay-bg"></div>\n\n            <div class="quick-controls clearfix">\n                <button class="btn btn-text on-delete-story">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-trash",20,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'</button>\n            </div>\n\n            <div class="overlay-container">\n'+(null!=(i=n.if.call(r,null!=t?t.hasStarted:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'                <button class="btn btn-block btn-glass btn-left-align on-details">'+c((n.trans||t&&t.trans||o).call(r,"Details",{name:"trans",hash:{},data:s}))+"</button>\n"+(null!=(i=n.if.call(r,null!=t?t.archived:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?i:"")+'                  <button data-story-id="'+c("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:o)?l.call(r,{name:"id",hash:{},data:s}):l)+'" class="btn btn-block btn-glass btn-left-align on-reading-list btn-story-lists on-lists-add-clicked">'+c((n.trans||t&&t.trans||o).call(r,"Add to List",{name:"trans",hash:{},data:s}))+"</button>\n            </div>\n\n        </div>\n    </div>\n</div>\n"+(null!=(i=n.unless.call(r,null!=t?t.archived:t,{name:"unless",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?i:"")+'\n<div class="content">\n    <div class="info">\n        <strong>'+c("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:o)?l.call(r,{name:"title",hash:{},data:s}):l)+"</strong>\n        <small>"+c(u(null!=(i=null!=t?t.user:t)?i.name:i,t))+'</small>\n    </div>\n    <a href="/user/'+c(u(null!=(i=null!=t?t.user:t)?i.name:i,t))+'" class="avatar avatar-sm on-navigate" title="'+c((n.trans||t&&t.trans||o).call(r,"%s's Profile",null!=(i=null!=t?t.user:t)?i.name:i,{name:"trans",hash:{},data:s}))+'">\n        <img src="'+c((n.resizeAvatar||t&&t.resizeAvatar||o).call(r,null!=(i=null!=t?t.user:t)?i.avatar:i,32,{name:"resizeAvatar",hash:{},data:s}))+'" alt="">\n    </a>\n\n    <div class="meta">\n'+(null!=(i=n.if.call(r,null!=t?t.updated:t,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s}))?i:"")+"    </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return"    "+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-lock",14,"fa-mediumgrey",{name:"iconify",hash:{},data:s}))?i:"")+" <span>"+e.escapeExpression((n.trans||t&&t.trans||r).call(l,"Private",{name:"trans",hash:{},data:s}))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return'<div class="pull-left">\n    <div style="height: 35px;"></div>\n</div>\n\n<div class="pull-right page-status">\n'+(null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.islist:t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return"            <li>"+e.escapeExpression(e.lambda(null!=t?t.title:t,t))+"</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return"\n<h3>"+o((n.trans||t&&t.trans||r).call(l,"Some stories are no longer available",{name:"trans",hash:{},data:s}))+'</h3>\n<a class="on-inactive-stories" role="button">'+o((n.trans||t&&t.trans||r).call(l,"Learn more",{name:"trans",hash:{},data:s}))+'</a>\n\n<div class="inactive-stories modal fade" role="dialog">\n  <div class="modal-dialog" id="generic-modal">\n    <div class="modal-content">\n      <h3 class="modal-title text-center">'+o((n.trans||t&&t.trans||r).call(l,"Unavailable Stories",{name:"trans",hash:{},data:s}))+'</h3>\n      <div class="close" data-dismiss="modal">\n        '+(null!=(i=(n.iconify||t&&t.iconify||r).call(l,"fa-remove",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n      </div>\n      <div class="modal-body clearfix">\n        <p>'+o((n.trans||t&&t.trans||r).call(l,"The following stories are no longer available because they were unpublished or deleted",{name:"trans",hash:{},data:s}))+":</p>\n        <ul>\n"+(null!=(i=n.each.call(l,null!=t?t.stories:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return"                  <li>"+e.escapeExpression(e.lambda(t,t))+"</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r,o=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression,d='<div class="modal-dialog">\n    <div class="modal-content">\n        <header class="modal-header">\n            <div class="pull-right close" data-dismiss="modal">\n              '+(null!=(i=(n.iconify||t&&t.iconify||c).call(o,"fa-remove-alt",16,"wp-neutral-2",{name:"iconify",hash:{},data:s}))?i:"")+'\n            </div>\n            <h2 class="modal-title" id="publish-modal-label">'+u((n.trans||t&&t.trans||c).call(o,"An Error has Occurred",{name:"trans",hash:{},data:s}))+" "+(null!=(i=(n.iconify||t&&t.iconify||c).call(o,"fa-warning",24,"wp-error-1",{name:"iconify",hash:{},data:s}))?i:"")+'</h2>\n        </header>\n\n        <div class="modal-body">\n          '+u("function"==typeof(l=null!=(l=n.error_msg||(null!=t?t.error_msg:t))?l:c)?l.call(o,{name:"error_msg",hash:{},data:s}):l)+"\n            <ul>\n";return l=null!=(l=n.errors||(null!=t?t.errors:t))?l:c,r={name:"errors",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},i="function"==typeof l?l.call(o,r):l,n.errors||(i=n.blockHelperMissing.call(t,i,r)),null!=i&&(d+=i),d+'            </ul>\n        </div>\n\n        <div class="modal-footer">\n            <button class="btn btn-orange" data-dismiss="modal">'+u((n.trans||t&&t.trans||c).call(o,"Close",{name:"trans",hash:{},data:s}))+"</button>\n        </div>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return"    <div class='collection'>\x3c!--\n"+(null!=(i=n.each.call(l,null!=t?t.stories:t,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'--\x3e</div>\n\n    <div class="show-more center-text hidden">\n        <button class="btn btn-link on-showmore">\n            <span class=\'show-more-message\'>\n                <span>'+o((n.trans||t&&t.trans||r).call(l,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n                <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n            </span>\n            <span class='loading-message hidden'>\n                "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n                <span> "+o((n.trans||t&&t.trans||r).call(l,"Loading",{name:"trans",hash:{},data:s}))+' ...</span>\n            </span>\n        </button>\n    </div>\n\n    <div class="modal fade" id="preview-modal"></div>\n\n'},2:function(e,t,n,a,s){var i;return'    --\x3e<div class="library-story-item">\n'+(null!=(i=e.invokePartial(a["core.library.library_story_item"],t,{name:"core.library.library_story_item",data:s,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"    </div>\x3c!--\n"},4:function(e,t,n,a,s){return'    <p class="no-item">'+e.escapeExpression((n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"No stories available.",{name:"trans",hash:{},data:s}))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i;return"\n"+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.hasStories:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(4,s,0),data:s}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression;return'<button type="button" class="btn btn-link pull-right close" data-dismiss="modal">\n    <span aria-hidden="true" class="fa fa-remove"></span><span class="sr-only">Close</span>\n</button>\n<div id="reading-list-create">\n    <h4>'+c((n.trans||t&&t.trans||o).call(r,"Create a Reading List",{name:"trans",hash:{},data:s}))+"</h4>\n    <h5>"+c((n.trans||t&&t.trans||o).call(r,"Give your Reading List a name. It helps to be specific.",{name:"trans",hash:{},data:s}))+'</h5>\n\n    <div class="form-group has-feedback" data-attr="name">\n        <label class="sr-only" for="reading-list-name">'+c((n.trans||t&&t.trans||o).call(r,"Reading List Name",{name:"trans",hash:{},data:s}))+' </label>\n        <input id="reading-list-name" class="form-control" type="text" placeholder="'+c((n.trans||t&&t.trans||o).call(r,"e.g. Best Fantasy books",{name:"trans",hash:{},data:s}))+'">\n      '+(null!=(i="function"==typeof(l=null!=(l=n.validationElements||(null!=t?t.validationElements:t))?l:o)?l.call(r,{name:"validationElements",hash:{},data:s}):l)?i:"")+'\n    </div>\n    <div class="clearfix">\n        <button class="btn btn-orange pull-right on-createlist" data-dismiss="modal">Create List</button>\n        <button class="btn pull-right" data-dismiss="modal">Close</button>\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i=null!=t?t:e.nullContext||{},l=n.helperMissing,r=e.escapeExpression;return'<div class="valueprops-container container-fluid">\n  <div class="valueprops">\n      <div class="valueprop">\n        <h2 id="write"> '+r((n.trans||t&&t.trans||l).call(i,"Write stories",{name:"trans",hash:{},data:s}))+" </h2>\n        "+r((n.trans||t&&t.trans||l).call(i,"Whatever story you want to tell, there is a reader waiting for you on Wattpad.",{name:"trans",hash:{},data:s}))+'\n      </div>\n      <div class="valueprop">\n        <h2 id="social"> '+r((n.trans||t&&t.trans||l).call(i,"Read socially",{name:"trans",hash:{},data:s}))+" </h2>\n        "+r((n.trans||t&&t.trans||l).call(i,"Inline commenting lets you share thoughts and interact with the story.",{name:"trans",hash:{},data:s}))+'\n      </div>\n      <div class="valueprop">\n        <h2 id="updates"> '+r((n.trans||t&&t.trans||l).call(i,"Get updates",{name:"trans",hash:{},data:s}))+" </h2>\n        "+r((n.trans||t&&t.trans||l).call(i,"Receive real-time notifications as your favorite stories unfold.",{name:"trans",hash:{},data:s}))+"\n      </div>\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return"sr-only"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l,r=null!=t?t:e.nullContext||{},o=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'<main id="getapp" class="container-fluid">\n  <div class="row">\n      <div class="text-container">\n      <div id="text">\n        <div class="h1-container">\n          <h1>\n            '+c((n.trans||t&&t.trans||o).call(r,"Take stories with you.",{name:"trans",hash:{},data:s}))+'\n          </h1>\n        </div>\n\n        <form id="send-link" class="form-inline" method="post">\n          <div class="cta-text">'+c((n.trans||t&&t.trans||o).call(r,"Get the app in seconds:",{name:"trans",hash:{},data:s}))+'</div>\n\n          <div class="form-group has-feedback" data-attr="getMobile">\n            <label class="control-label '+(null!=(i=(n.supportsPlaceholder||t&&t.supportsPlaceholder||o).call(r,null!=t?t.device:t,{name:"supportsPlaceholder",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'" for="sendTo">'+c((n.trans||t&&t.trans||o).call(r,"enter email",{name:"trans",hash:{},data:s}))+'</label>\n            <input id="sendTo" class="form-control input-md enable" type="text" name="sendTo" placeholder="'+c((n.trans||t&&t.trans||o).call(r,"enter email",{name:"trans",hash:{},data:s}))+'">\n            '+(null!=(i="function"==typeof(l=null!=(l=n.validationElements||(null!=t?t.validationElements:t))?l:o)?l.call(r,{name:"validationElements",hash:{},data:s}):l)?i:"")+'\n          </div>\n          <button type="submit" class="btn-secondary on-send-app-link">\n            <span class="hidden-if-sent">'+c((n.trans||t&&t.trans||o).call(r,"Send Link",{name:"trans",hash:{},data:s}))+'</span>\n            <span class="shown-if-sent">'+(null!=(i=(n.iconify||t&&t.iconify||o).call(r,"fa-check",16,"wp-neutral-5",{name:"iconify",hash:{},data:s}))?i:"")+'</span>\n            <span class="shown-if-sending">'+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||o).call(r,"fa-loading",16,null!=t?t.device:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+'</span>\n          </button>\n        </form>\n        <div class="row" id="download-row">\n          <div class="col-sm-5 google-play-logo">\n            <a href="'+c(u(null!=(i=null!=t?t.appUrl:t)?i.android:i,t))+'" data-gtm="Download|getmobile|Android" target="_blank">\n              '+c((n.connectImage||t&&t.connectImage||o).call(r,null!=t?t.googlePlayImage:t,"Google Play",{name:"connectImage",hash:{size:"170x70"},data:s}))+'\n            </a>\n          </div>\n          <div class="col-sm-5 apple-store-logo">\n            <a href="'+c(u(null!=(i=null!=t?t.appUrl:t)?i.ios:i,t))+'" data-gtm="Download|getmobile|iOS" target="_blank">\n              '+c((n.connectImage||t&&t.connectImage||o).call(r,"homepages/appstore_dark.png","App Store",{name:"connectImage",hash:{klass:"footer-appstore"},data:s}))+'\n            </a>\n          </div>\n          <div class="col-sm-5 huawei-appgallery-logo">\n            <a href="'+c(u(null!=(i=null!=t?t.appUrl:t)?i.huawei:i,t))+'" data-gtm="Download|getmobile|Huawei" target="_blank">\n              '+c((n.connectImage||t&&t.connectImage||o).call(r,"homepages/huawei_appgallery_dark.png","Huawei Appgallery",{name:"connectImage",hash:{},data:s}))+'\n            </a>\n          </div>\n        \n        </div>\n      </div>\n\n  </div>\n    <div id="devices" class="devices">\n      <div id="android-horizontal"></div>\n      <div id="iphonex"></div>\n    </div>\n  </div>\n</main>\n'+(null!=(i=e.invokePartial(a["core.getmobile.values"],t,{name:"core.getmobile.values",data:s,helpers:n,partials:a,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<nav>\n  <ul>\n    <li data-section="browse" class="tab-control'+(null!=(i=n.if.call(l,null!=t?t.onBrowse:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'">\n      <a href="/home/browse">'+o((n.trans||t&&t.trans||r).call(l,"Browse",{name:"trans",hash:{},data:s}))+'</a>\n    </li>\n    <li data-section="home" class="tab-control'+(null!=(i=n.unless.call(l,null!=t?t.onBrowse:t,{name:"unless",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'">\n      <a href="/home">'+o((n.trans||t&&t.trans||r).call(l,"Recommended",{name:"trans",hash:{},data:s}))+"</a>\n    </li>\n  </ul>\n</nav>\n"},2:function(e,t,n,a,s){return" active"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return(null!=(i=n.if.call(l,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+'\n<main id="home-content">\n  <div class="load-container">\n    '+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||n.helperMissing).call(l,"fa-loading",49,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{color:"wp-neutral-3"},data:s}))?i:"")+"\n  </div>\n</main>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'<div class="wp-panel">\n    <div class="wp-hero vcenter form-inline">\n        <div>\n            <h3><strong> '+o((n.trans||t&&t.trans||r).call(l,"Who's missing out?",{name:"trans",hash:{},data:s}))+"</strong></h3>\n            <h6><strong> "+o((n.trans||t&&t.trans||r).call(l,"Invite them to Wattpad",{name:"trans",hash:{},data:s}))+'</strong></h6>\n            <div class="invite-email">\n                '+o((n.connectImage||t&&t.connectImage||r).call(l,"/invite-friends/ic_invite_wattpad@2x.png",(n.trans||t&&t.trans||r).call(l,"Invite your friends to Wattpad",{name:"trans",hash:{},data:s}),{name:"connectImage",hash:{size:"124x127"},data:s}))+'\n            </div>\n            <div class="provider-email">\n                <input type="text" placeholder="'+o((n.trans||t&&t.trans||r).call(l,"Email address",{name:"trans",hash:{},data:s}))+'" class="form-control">\n                <button class="btn btn-orange btn-md">\n                    <span>'+o((n.trans||t&&t.trans||r).call(l,"Invite",{name:"trans",hash:{},data:s}))+'</span>\n                    <span class="spinner">'+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{},data:s}))?i:"")+'</span>\n                </button>\n            </div>\n            <div class="email-message"></div>\n        </div>\n    </div>\n    <ul class="invite-providers">\n        \n        <li class="provider-twitter">\n            '+o((n.connectImage||t&&t.connectImage||r).call(l,"/invite-friends/ic_invite_twitter@2x.png",(n.trans||t&&t.trans||r).call(l,"Twitter Logo",{name:"trans",hash:{},data:s}),{name:"connectImage",hash:{height:"42",width:"42"},data:s}))+'\n            <strong>Twitter</strong>\n            <span class="fa fa-right"></span>\n        </li>\n        <li class="provider-mailto">\n            '+o((n.connectImage||t&&t.connectImage||r).call(l,"/invite-friends/ic_invite_email@2x.png",(n.trans||t&&t.trans||r).call(l,"Email Logo",{name:"trans",hash:{},data:s}),{name:"connectImage",hash:{height:"42",width:"42"},data:s}))+"\n            <strong>"+o((n.trans||t&&t.trans||r).call(l,"Email",{name:"trans",hash:{},data:s}))+'</strong>\n            <span class="fa fa-right"></span>\n        </li>\n    </ul>\n    <div class="consent">'+o((n.trans||t&&t.trans||r).call(l,"We won't contact anyone without your consent.",{name:"trans",hash:{},data:s}))+"</div>\n</div>\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i;return'        <img class="header-image" src="img/retargeting/mw-stories-img@2x.png" alt="'+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Wattpad Stories",{name:"trans",hash:{},data:s}))?i:"")+'">\n'},3:function(e,t,n,a,s){var i;return'        <img class="header-image" src="img/retargeting/dw-stories-img@2x.png"  alt="'+(null!=(i=(n.trans||t&&t.trans||n.helperMissing).call(null!=t?t:e.nullContext||{},"Wattpad Stories",{name:"trans",hash:{},data:s}))?i:"")+'">\n'},5:function(e,t,n,a,s){return" owl-carousel"},7:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'style="direction:'+(null!=(i=n.if.call(l,(n.rtlLanguage||t&&t.rtlLanguage||n.helperMissing).call(l,null!=t?t.languageId:t,{name:"rtlLanguage",hash:{},data:s}),{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s}))?i:"")+'"'},8:function(e,t,n,a,s){return"rtl"},10:function(e,t,n,a,s){return"ltr"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing;return'<div id="retargeting-landing">\n  <div class="container-fluid">\n    <div class="row">\n'+(null!=(i=n.if.call(l,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?i:"")+'      <div class="container">\n        <div class="row">\n          <div class="retargeting-header">\n            <img class="logo" src="img/retargeting/dw-logo.png" alt="Wattpad Logo">\n            <h1> '+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Come around here often?",{name:"trans",hash:{},data:s}))?i:"")+" </h1>\n            <p>"+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Sign up for Wattpad to get access to so much more",{name:"trans",hash:{},data:s}))?i:"")+'</p>\n          </div>\n        </div>\n        <div class="row">\n          <div class="value-props">\n            <div class="value-props-wrapper'+(null!=(i=n.if.call(l,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?i:"")+'"\n                 '+(null!=(i=n.if.call(l,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?i:"")+'>\n\n              <div class="col-md-4 col-xs-12 col-sm-12 col-lg-4">\n                <div class="value-prop">\n                  <span class="icon"></span>\n                  <h6 class="title">'+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Endless Entertainment",{name:"trans",hash:{},data:s}))?i:"")+'</h6>\n                </div>\n              </div>\n              <div class="col-md-4 col-xs-12 col-sm-12 col-lg-4">\n                <div class="value-prop">\n                  <span class="icon"></span>\n                  <h6 class="title">'+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Read Offline Anywhere, Anytime",{name:"trans",hash:{},data:s}))?i:"")+'</h6>\n                </div>\n              </div>\n              <div class="col-md-4 col-xs-12 col-sm-12 col-lg-4">\n                <div class="value-prop bookmark">\n                  <span class="icon"><img src="img/retargeting/d-bookmark-icon@1x.png" alt="bookmark"></span>\n                  <h6 class="title">'+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Save Your Spot",{name:"trans",hash:{},data:s}))?i:"")+'</h6>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n        <button class="btn on-signup" role="button">'+(null!=(i=(n.trans||t&&t.trans||r).call(l,"Sign up",{name:"trans",hash:{},data:s}))?i:"")+"</button>\n      </div>\n    </div>\n  </div>\n</div>\n\n"},useData:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){return'class="ios-webview-padding"'},3:function(e,t,n,a,s){return"          "+e.escapeExpression((n.connectImage||t&&t.connectImage||n.helperMissing).call(null!=t?t:e.nullContext||{},"wattpad-presents/MW-Banner@2x.png","Wattpad Presents",{name:"connectImage",hash:{klass:"logo"},data:s}))+"\n"},5:function(e,t,n,a,s){return"          "+e.escapeExpression((n.connectImage||t&&t.connectImage||n.helperMissing).call(null!=t?t:e.nullContext||{},"wattpad-presents/DW-Banner@2x.png","Wattpad Presents",{name:"connectImage",hash:{klass:"logo"},data:s}))+"\n"},7:function(e,t,n,a,s){return" centre-one"},9:function(e,t,n,a,s,i,l){var r,o,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d="function",h=e.escapeExpression;return'\n              <div class="video-module col-sm-12 col-xs-12'+(null!=(r=(n.ifequal||t&&t.ifequal||u).call(c,null!=l[1]?l[1].numVideos:l[1],1,{name:"ifequal",hash:{},fn:e.program(10,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"\n                  "+(null!=(r=(n.ifequal||t&&t.ifequal||u).call(c,null!=l[1]?l[1].numVideos:l[1],2,{name:"ifequal",hash:{},fn:e.program(12,s,0,i,l),inverse:e.noop,data:s}))?r:"")+(null!=(r=(n.ifequal||t&&t.ifequal||u).call(c,null!=l[1]?l[1].numVideos:l[1],3,{name:"ifequal",hash:{},fn:e.program(14,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n                <div class="video-story-meta" id="story-'+h(typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:u)===d?o.call(c,{name:"id",hash:{},data:s}):o)+'">\n                  <div class="story-cover pull-left">\n                    <img src="'+h((n.resizeCover||t&&t.resizeCover||u).call(c,null!=t?t.cover:t,14,{name:"resizeCover",hash:{},data:s}))+'" alt="'+h(typeof(o=null!=(o=n.title||(null!=t?t.title:t))?o:u)===d?o.call(c,{name:"title",hash:{},data:s}):o)+" by "+h(e.lambda(null!=(r=null!=t?t.user:t)?r.name:r,t))+'">\n                  </div>\n                  <div class="story-title">'+h((n.simpleShorten||t&&t.simpleShorten||u).call(c,null!=t?t.title:t,45,!1,{name:"simpleShorten",hash:{},data:s}))+'</div>\n                  <span class="genre">'+h(typeof(o=null!=(o=n.category||(null!=t?t.category:t))?o:u)===d?o.call(c,{name:"category",hash:{},data:s}):o)+"</span>\n                  <a class='btn btn-link btn-xxs read-story pull-right' href=\""+h(typeof(o=null!=(o=n.url||(null!=t?t.url:t))?o:u)===d?o.call(c,{name:"url",hash:{},data:s}):o)+'">\n                    <span>Read story</span>\n                  </a>\n                </div>\n                <div id="player-'+h(typeof(o=null!=(o=n.videoId||(null!=t?t.videoId:t))?o:u)===d?o.call(c,{name:"videoId",hash:{},data:s}):o)+'"></div>\n              </div>\n\n'},10:function(e,t,n,a,s){return" col-md-12 col-lg-12"},12:function(e,t,n,a,s){return" col-md-6 col-lg-6"},14:function(e,t,n,a,s){return" col-md-4 col-lg-4"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s,i,l){var r,o=null!=t?t:e.nullContext||{};return'<div id="wattpad-presents" '+(null!=(r=n.if.call(o,null!=t?t.iosWebView:t,{name:"if",hash:{},fn:e.program(1,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'>\n  <div class="container-fluid">\n    <div class="row">\n      <div class="container">\n'+(null!=(r=n.if.call(o,null!=t?t.isMobile:t,{name:"if",hash:{},fn:e.program(3,s,0,i,l),inverse:e.program(5,s,0,i,l),data:s}))?r:"")+'\n        <h1>Short videos based on popular Wattpad stories!</h1>\n\n        <div class="row">\n          <div class="videos'+(null!=(r=(n.ifequal||t&&t.ifequal||n.helperMissing).call(o,null!=t?t.numVideos:t,1,{name:"ifequal",hash:{},fn:e.program(7,s,0,i,l),inverse:e.noop,data:s}))?r:"")+'">\n'+(null!=(r=n.each.call(o,null!=t?t.videoStoryPairs:t,{name:"each",hash:{},fn:e.program(9,s,0,i,l),inverse:e.noop,data:s}))?r:"")+"          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n"},useData:!0,useDepths:!0})},function(e,t,n){var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{},r=n.helperMissing,o=e.escapeExpression;return'      <div class="featured-picks">\n'+(null!=(i=n.if.call(l,null!=t?t.stories:t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?i:"")+'        <div class="show-more center-text hidden">\n          <button class="btn btn-grey on-showmore">\n          <span class=\'show-more-message\'>\n            <span>'+o((n.trans||t&&t.trans||r).call(l,"Show more",{name:"trans",hash:{},data:s}))+"</span>\n            <span class=\"fa fa-down-small fa-wp-neutral-2\"></span>\n          </span>\n            <span class='loading-message hidden'>\n            "+(null!=(i=(n.iconifySpin||t&&t.iconifySpin||r).call(l,"fa-loading",16,null!=t?t["user-device"]:t,{name:"iconifySpin",hash:{className:"loading-spinner fa-spin-fix-position"},data:s}))?i:"")+"\n              <span>"+o((n.trans||t&&t.trans||r).call(l,"Loading...",{name:"trans",hash:{},data:s}))+'</span>\n          </span>\n          </button>\n        </div>\n      </div>\n      <div id="preview-modal"></div>\n'},2:function(e,t,n,a,s){var i;return null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.stories:t,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?i:""},3:function(e,t,n,a,s){var i;return'            <div class="browse-story-item">\n'+(null!=(i=e.invokePartial(a["core.item_views.browse_story_item"],t,{name:"core.item_views.browse_story_item",data:s,indent:"              ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,s){var i,l=null!=t?t:e.nullContext||{};return'<div id="featured-picks-container">\n  <div class="container">\n    '+(null!=(i=(n.reactComponent||t&&t.reactComponent||n.helperMissing).call(l,"CatalogHeader","catalog-header",{name:"reactComponent",hash:{},data:s}))?i:"")+'\n  </div>\n  <div class="container">\n'+(null!=(i=n.if.call(l,null!=t?t.hasStories:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?i:"")+"  </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){n(272),n(283),n(631),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),e.exports=n(630)},function(e,t,n){"use strict";n.r(t);var a=n(57),s=n.n(a),i=n(58),l=n.n(i),r=n(59),o=n.n(r),c=n(44),u=n.n(c),d=n(60),h=n.n(d),p=n(61),m=n.n(p),f=n(10),g=n.n(f),v=n(1),w=n.n(v),y=n(17),b=n.n(y),x=n(11),C=n.n(x),S=n(19),k=n.n(S),M=n(45),T=n.n(M),P=n(62),E=n.n(P),I=n(20),U=n.n(I),L=n(12),A=n.n(L),R=n(21),D=n.n(R),F=n(22),N=n.n(F),B=n(63),O=n.n(B),z=n(64),H=n.n(z);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,s=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(a=(l=r.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}!function(e,t,n,a){e.wattpad=a||{};var i=e.wattpad.utils||(e.wattpad.utils={});i.advertisement=function(t){var s,l,r,o=t.hash.unit?t.hash.unit.toLowerCase():void 0,c=w()(o),u=t.hash.experience?t.hash.experience.toLowerCase():void 0,d=t.hash.timestamp||Date.now(),h=(n.get(t.hash.language,"id")||t.hash.language||a.utils.currentUser().get("language"),i.currentUser().toJSON()),p=t.hash.storyGroup,f=t.hash.totalViewCount||!1,v=(t.hash.parentClass||"")+(null!=c&&c.stickyAd?" sticky-ad":""),y=t.hash.adText||"",b=t.hash.adTextClass||"center-text small text-uppercase light hidden-lg hidden-md",x=t.hash.minViewportWidth,S=t.hash.additionalClasses?" ".concat(t.hash.additionalClasses):"",M=h.isPremium||!1,_=!1,P="",I=a.utils.getHeaderBiddingInlineStyle(null==c?void 0:c.sizes),L=g()(a.testGroups),$=T()(L,u,n.get(e,"wattpad.testGroups.MATURE_FLAG_REFACTOR",!1)),R=T()(L,u,n.get(e,"wattpad.testGroups.USE_DOUBLE_VERIFY",!1)),D=i.trans("Advertisement");if(!o||!c)return"";if(p&&(s=n.get(p,"isAdExempt"),n.get(p,"category")||n.first(n.get(p,"categories")),n.get(p,"language.id")||n.get(p,"language"),n.get(p,"id"),_=n.get(p,"isPaywalled"),"reading"===u&&(l=t.data.root,n.get(l,"rank")),r=U()(l,p,n.get(e,"wattpad.testGroups",{}))),!N()(s,_,M))return"";if(m()(o)||k()(a.testGroups,p,l)){var F=j(A()(c.sizes),2),B=F[0],z=F[1];return C()(o,{additionalClasses:S,adText:y,adTextClass:b,height:z,inlineStyle:I,parentClass:v,ts:d,width:B})}if($||R){if(!r){var V=j(A()(c.sizes),2),q=V[0],G=V[1];return C()(o,{additionalClasses:S,adText:y,adTextClass:b,height:G,inlineStyle:I,parentClass:v,ts:d,width:q})}try{return E()(o,W({additionalClasses:S,adText:y,adTextClass:b,label:D,parentClass:v,shouldShowAds:r,ts:d},c))}catch(e){return console.log(e),""}}return!c.adzerkOnly&&r?P=H()(o,h,l,p,a.testGroups,{ts:d,experience:u,adText:y,adTextClass:b,parentClass:v,additionalClasses:S,inlineStyle:I,totalViewCount:f,translatedLabel:D}):c.adzerkOnly&&(P=O()(o,h,l,p,{ts:d,experience:u,minViewportWidth:x,adText:y,adTextClass:b,parentClass:v,additionalClasses:S,inlineStyle:I,totalViewCount:f,translatedLabel:D})),P},t.registerHelper("advertisement",(function(e){return new t.SafeString(i.advertisement(e))})),i.outstreamAdvertisement=function(e){var t,a,s,l,r,o,c,u=i.currentUser().toJSON(),d=e.hash.storyGroup,h=u.isPremium||!1,p=!1,m=e.hash.experience?e.hash.experience.toLowerCase():void 0,f="outstream_video",g=e.hash.timestamp||Date.now();if(d&&(a=n.get(d,"isAdExempt"),s=n.get(d,"rating"),t=n.get(d,"category")||n.first(n.get(d,"categories")),l=n.get(d,"language.id")||n.get(d,"language"),r=b()(d),o=i.isMatureStory(d),p=n.get(d,"isPaywalled")),h||a||p||o||!r)return"";c=i.sprintf("%s_%s-%s",[m,f,g]);var v={};if(s&&(v.storyRating=s),t&&(v.category=t),l&&(v.language=l),u&&u.gender){var w=i.getGenderTargeting(u),y=i.getAgeTargeting(u);v.KV3=w+"-"+y}return i.sprintf('<div id="%s" class="advertisement %s" data-targeting=\'%s\' aria-label="Advertisement"></div>',[c,f,JSON.stringify(v)])},t.registerHelper("outstreamAdvertisement",(function(e){return new t.SafeString(i.outstreamAdvertisement(e))})),i.advertisementAtIndex=function(e){var t=e.hash.index,n=e.data.index;return e&&n>0&&n===t?i.advertisement(e):""},t.registerHelper("advertisementAtIndex",(function(e){return new t.SafeString(i.advertisementAtIndex(e))}));i.advertisementAtEveryIndex=function(e){var t,n=i.getDeviceType(e),a=e.data.index;return e&&a>0&&(t=a,"mobile"===n?2===t||t%11==2&&2!==t:5===t||t%24==5&&5!==t)?i.advertisement(e):""},t.registerHelper("advertisementAtEveryIndex",(function(e){return new t.SafeString(i.advertisementAtEveryIndex(e))})),i.trans=function(t){var n=[];if(arguments.length>1&&(n=Array.prototype.slice.call(arguments,1,arguments.length)),1===parseInt(app.get("language"),10))return e.vsprintf(t,n);var a=app.get("translatedLanguage");return a&&a.jed?e.vsprintf(a.jed.gettext(t),n):e.vsprintf(t,n)},i.trans.map=function(e){return i.trans(e)},t.registerHelper("trans",(function(e){var t=arguments;return arguments.length>1&&n.isObject(arguments[arguments.length-1])&&(t=Array.prototype.slice.call(arguments,0,arguments.length-1)),i.trans.apply(this,t)})),t.registerHelper("canTrans",(function(e,t){var n=app.get("translatedLanguage");return 1===parseInt(app.get("language"),10)||n&&n.jed&&n.jed.options.locale_data.messages[e]?t.fn(this):t.inverse(this)})),i.ifequal=function(e,t,a){return n.isEqual(e,t)?a.fn(this):a.inverse(this)},t.registerHelper("ifequal",i.ifequal),i.isCurrentUser=function(e,t){return e===i.currentUser().get("username")?t.fn(this):t.inverse(this)},t.registerHelper("isCurrentUser",i.isCurrentUser),i.getCurrentUserAttr=function(e,t){return i.currentUser().get(e)||""},t.registerHelper("getCurrentUserAttr",i.getCurrentUserAttr),i.getSelectedPremiumTheme=function(){return parseInt(i.getCookie("premium-theme")||5)},t.registerHelper("getSelectedPremiumTheme",i.getSelectedPremiumTheme),i.setPremiumTheme=function(e){$("body").removeClass((function(e,t){return(t.match(/(^|\s)theme-\S+/g)||[]).join(" ")})).addClass("theme-"+e),i.setCookie("premium-theme",e)},t.registerHelper("isPremiumEligible",(function(e){return i.getCurrentUserAttr("isPremium")?e.fn(this):e.inverse(this)})),i.isLoggedIn=function(e){var t=i.currentUser().get("username");return null!=t?e.fn(this):e.inverse(this)},t.registerHelper("isLoggedIn",i.isLoggedIn),i.isAmbassador=function(e){return i.currentUser().get("ambassador")?e.fn(this):e.inverse(this)},t.registerHelper("isAmbassador",i.isAmbassador),i.isAdmin=function(e){return i.currentUser().get("isSysAdmin")?e.fn(this):e.inverse(this)},t.registerHelper("isAdmin",i.isAdmin),i.isWattpad=function(e,t){return"wattpad"===(e=e||"").toLowerCase()?t.fn(this):t.inverse(this)},t.registerHelper("isWattpad",i.isWattpad),i.isDevice=function(e,t){e=e||"";var n=app.get("device");return"desktop"===e&&n.is.desktop||"tablet"===e&&n.is.tablet||"mobile"===e&&n.is.mobile?t.fn(this):t.inverse(this)},t.registerHelper("isDevice",i.isDevice),i.getDeviceType=function(e){var t=app.get("device");return t&&t.is.mobile?"mobile":t&&t.is.tablet?"tablet":t&&t.is.desktop?"desktop":void 0},t.registerHelper("getDeviceType",(function(e){return new t.SafeString(i.getDeviceType(e))})),i.count=function(e){return-1==e?"-":e&&n.isNumber(e)?e>=99999999?Math.floor(e/1e6)+"M":e>=1e6?Math.floor(e/1e5)/10+"M":e>=99999?Math.floor(e/1e3)+"K":e>=1e3?Math.floor(e/100)/10+"K":e:0},t.registerHelper("count",i.count),t.registerHelper("numberedLoop",(function(e,t){for(var n=e.length,a="",s=0;s<n;s++)e[s].position=s+1,e[s].oddOrEven=e[s].position%2?"odd":"even",a+=t.fn(e[s]);return a})),i.resize=function(e,t,a,s,l){var r=a,o=!!l&&l[0];return e&&t&&"string"==typeof t&&s&&isFinite(String(a))?(i.pixelRatio(2.5)?(a*=3,o=!!l&&l[2],o=l?l[1]:l):i.pixelRatio(1.5)&&(a*=2,o=!!l&&l[1]),(r=n.find(e,(function(e){return e+(!1!==o?Math.floor(e/o):0)>=a}),this))||(r=n.reduce(e,(function(e,t){return Math.abs(t-a)<Math.abs(e-a)?t:e}))),t.replace(s,"$1"+r+"$3$4")):""},i.resizeAvatar=function(t,n){return"string"==typeof t&&t.length>0?i.resize(e.wattpad.avatarSizes,t,n,/(^.*\/useravatar\/[\w\-_]+\.)([0-9]{1,3})(\.?[0-9]*\.)(png|jpg|jpeg|gif)$/,[24,17]):""},t.registerHelper("resizeAvatar",i.resizeAvatar),i.resizeCover=function(t,n){return i.resize(e.wattpad.coverSizes,t,n,/(^.*\/c?cover\/[0-9]+\-)([0-9]{1,3})(\-*[\w]+\.)(png|jpg|jpeg|gif)$/,[20,14])},t.registerHelper("resizeCover",i.resizeCover),i.resizeCoverAsBackground=function(t,n){n&&isFinite(n)||(n=640);return i.resize(e.wattpad.backgroundSizes,t,n,/(^.*\/cover\/[0-9]+\-)([0-9]{1,3})(\-[\w]+\.)(png|jpg|jpeg|gif)$/,!1).replace("cover","bcover")},t.registerHelper("resizeCoverAsBackground",i.resizeCoverAsBackground),i.profileBackground=function(e,t){t&&isFinite(t)||(t=320),e=e.replace(/(\d+\.)(png|jpg|jpeg|gif)$/,".$1$2");return i.resize([320,360,640,1920],e,t,/(^.*\/userbg\/[\w\-_]+\.)()(\.?[0-9]*\.)(png|jpg|jpeg|gif)$/,!1).replace("userbg","userbgs")},t.registerHelper("profileBackground",i.profileBackground),i.resizeLogo=function(t,n){return i.resize(e.wattpad.logoSizes,t,n,/(^.*\/img\/mobile-web\/wattpad_logo_|.*\/img\/mobile-web\/white_wattpad_logo_)([0-9]{3})(\.)(png)$/,!1)},t.registerHelper("resizeLogo",i.resizeLogo),i.resizeAuthLogo=function(e){return i.pixelRatio()>1?e.replace(/(^.*\/img\/homepages\/logo_Wattpad)(\.)(png)$/,"$1@2x$2$3"):e},t.registerHelper("resizeAuthLogo",i.resizeAuthLogo),i.getStoryRating=function(e){var t=["",i.trans("Mature")];return e<4?t[0]:t[1]},t.registerHelper("getStoryRating",i.getStoryRating),i.slugify=function(e,t){return e?(e=(e=(e=e.replace(t?/[^\-a-zA-Z0-9\s]+/gi:/[^\-a-zA-Z0-9,&\s]+/gi,"")).replace(/\s+/gi,"-")).replace(/-+/gi,"-")).trim().toLowerCase():null},t.registerHelper("slugify",(function(e){if(n.isFunction(i[e])){var t=Array.prototype.slice.call(arguments,1);e=i[e].apply(this,t)}return i.slugify(e)})),i.iconify=function(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l="fa"!==e.split("-")[0];if(l){if(u.a[e])return"<svg\n          ".concat(s,'\n          width="').concat(t,'"\n          height="').concat(t,'"\n          viewBox="0 0 24 24"\n          fill="none"\n          stroke="').concat(h.a[n],'"\n          stroke-width="2"\n          aria-hidden="true"\n          stroke-linecap="round"\n          stroke-linejoin="round"\n          ').concat(a?' class="'.concat(a,'"'):"","\n        >\n          ").concat(u.a[e],"\n        </svg>");throw"Icon "+e+" doesn't exist"}if(!("string"!=typeof e||e.trim().length<=0)){t="number"==typeof t&&t>0?t:"auto",n="string"==typeof n?n:"wp-neutral-2",a="string"==typeof a?a:"";var r;return i.modernizr("fontface")?'<span class="'+("fa "+e+" fa-"+n+" "+a)+'" aria-hidden="true" style="font-size:'+t+'px;"></span>':(r="/img/icons/"+n+"/"+e.substr(3)+".png",'<img class="'+("fa "+e+" fallback "+a)+'" style="height:'+t+'px !important; width:auto !important;" src="'+r+'" />')}},t.registerHelper("iconify",i.iconify),i.iconifySpin=function(e,t,n,a){if(!("string"!=typeof e||e.trim().length<=0)){t="number"==typeof t&&t>0?t:"auto",n||(n=new i.Device);var s=a.hash.color||"wp-neutral-2",l=a.hash.className||"",r=a.hash.fallback||e;return n.isOperaMini()?'<img class="'+("fa "+e+" fallback "+l)+'" style="height:'+t+'px !important; width:auto !important;" src="/img/icons/spin/'+r+'.gif" />':'<span class="'+("fa "+e+" fa-spin fa-"+s+" "+l)+'" aria-hidden="true" style="font-size:'+t+'px;"></span>'}},t.registerHelper("iconifySpin",i.iconifySpin),i.validationElements=function(e){var t;e=isNaN(e)?24:e;return t=i.iconify("fa-check",e,"wp-success","form-control-feedback validation on-valid"),t+=i.iconify("fa-warning",e,"wp-error-1","form-control-feedback validation on-invalid")},t.registerHelper("validationElements",i.validationElements),t.registerHelper("querystring",(function(){return e.location.search})),t.registerHelper("linkify",(function(e,t){return i.linkify(e,t)})),i.simpleShorten=function(e,t,n,a){var s;return a=a||{},e?((s=(s=e.replace(/(<([^>]+)>)/gi,"")).replace(/^\s*\n/gm,"")).length>t&&(s=s.substr(0,t-1).replace(/[\.,\- \/!&?]+$/,"")+"..."),!0===n?i.linkify(s,a):s):""},t.registerHelper("simpleShorten",i.simpleShorten),t.registerHelper("shorten",(function(e,t,a,s){var l,r,o={short:$('<div class="short-length">'),full:null},c=0,u=0,d=a,h=!0,p=function(e){var t=e.match(/(<a href[^>]*>)/i)[0].length+4;h&&(d=a,h=!1),d+=t,u-=t};if("boolean"==typeof(s=s||!1)&&s){for(l=e=i.linkify(e,{sanitization:"none"});u<a&&d<=e.length;)u=d,n.each(e.substr(0,d).match(/(<a href[^<]*<\/a>)/gi),p),h=!0;a+=c=d-a,t+=c}return e&&e.length>0&&(e.length<t?o.short.html("<pre>"+e+"</pre>"):(o.full=$('<div class="full-length hide">'),o.full.html("<pre>"+e+"</pre>"),e=e.substr(0,a),"boolean"==typeof s&&s&&(e.lastIndexOf("<a href")>e.lastIndexOf("</a>")?e+=l.substr(a,l.substr(a,l.length).indexOf("</a>")+5):e.lastIndexOf("<")>e.length-6&&(e=e.substr(0,e.lastIndexOf("<")))),(r=e.replace(/(\.|<\/a>|!|\?)(?=[^?!.>]*$)([\s\S]*)$/,"$1")).length>t?o.short.html("<pre>"+e+"</pre>"):r=e.replace(/( )(?=[^ ]*$)(.*)$/,"$1"),o.short.html("<pre>"+r+"</pre>"))),$("<div>").append(o.short).append(o.full).html()})),i.replace=function(e,t,n){return e=(e+"").toString(),t&&n?e.replace(t,n):e},t.registerHelper("replace",i.replace),i.formatDate=function(e,t){return e?("string"!=typeof t&&(t="YYYY-MM-DD"),moment(e).format(t)):"-"},t.registerHelper("formatDate",i.formatDate),i.fromNow=function(e,t){var n=moment(e),a="MMM DD, YYYY hh:mmA";if(moment().diff(e,"hours")<24||t.hash.fuzzyTime&&moment().diff(e,"days")<7){var s=t.hash.dropSuffix||!1;return n.fromNow(s)}return t.hash.fuzzyTime?a=moment().isSame(e,"year")?"MMM DD":"MMM DD, YYYY":t.hash.fullDate&&(a="MMMM D, YYYY"),n.format(a)},t.registerHelper("fromNow",i.fromNow),i.calendar=function(e,t){var n=moment(e);return moment().diff(n,"days")>6?n.format("llll"):n.calendar()},t.registerHelper("calendar",i.calendar),i.greaterThan=function(e,t,n){return e>t?n.fn(this):n.inverse(this)},t.registerHelper("greaterThan",i.greaterThan),i.lastNumberGreaterThan=function(e,t,n){return e%10>=t?n.fn(this):n.inverse(this)},t.registerHelper("lastNumberGreaterThan",i.lastNumberGreaterThan),i.reportCommentLink=function(e,t){return"/help/report?author="+encodeURIComponent(e)+"&comment="+encodeURIComponent(t)},t.registerHelper("reportCommentLink",i.reportCommentLink),t.registerHelper("connectCover",(function(e,n,a,s,l){return new t.SafeString('<img src="'+i.resizeCover(e,a)+'" alt="'+i.sanitizeHTML(n)+'" height="'+a+'" class="'+s+'" />')})),t.registerHelper("connectImage",(function(e,n,a){return new t.SafeString('<img src="/img/'+e+'" alt="'+n+'" class="'+a.hash.klass+'" id="'+a.hash.id+'" height="'+a.hash.height+'" width="'+a.hash.width+'" />')})),t.registerHelper("connectAvatar",(function(e,n,a,s){var l=i.resizeAvatar(e,a);return new t.SafeString('<img src="'+l+'" width="'+a+'" height="'+a+'" />')})),i.hasContent=function(e,t){if(e.length>0)return $(e).text().trim().length>0?t.fn(this):t.inverse(this)},t.registerHelper("hasContent",i.hasContent),i.conditionalClass=function(e,t,n){return e?t:n||""},t.registerHelper("conditionalClass",i.conditionalClass),i.supportsPlaceholder=function(e,t){return i.isOperaMini?t.inverse(this):t.fn(this)},t.registerHelper("supportsPlaceholder",i.supportsPlaceholder),t.registerHelper("select",(function(e,t,n){return n&&n===e?'<option value="'+e+'"selected="selected">'+(t||e)+"</option>":'<option value="'+e+'">'+(t||e)+"</option>"})),i.isCookieSet=function(e,t){return i.getCookie(e)?t.fn(this):t.inverse(this)},t.registerHelper("formatStoryUrl",(function(e,t){return i.formatStoryUrl(e)})),t.registerHelper("getCopyright",(function(e,t){return i.getCopyright(e)})),t.registerHelper("getCopyrightIcon",(function(e,t){return i.getCopyrightIcon(e)})),t.registerHelper("isCookieSet",i.isCookieSet),t.registerHelper("urlEncode",(function(e,t){return i.urlEncode(e)})),t.registerHelper("urlEncodeWithSpace",(function(e,t){return i.urlEncodeWithSpace(e)})),t.registerHelper("ngettext",(function(e,t,n,a){return i.ngettext(e,t,n)})),t.registerHelper("npgettext",(function(e,t,n,a,s){return i.npgettext(e,t,n,a)})),i.isExperimentVariation=function(){var t,n,a=Array.prototype.slice.call(arguments),s=a[a.length-1],i=a.slice(1,-1),l=a[0];return a.length>=3&&(t=e.app.experiments.get(l))&&(t.selected(),n=t.current===t.original?"original":t.current,-1!==i.indexOf(n))?s.fn(this):s.inverse(this)},t.registerHelper("isExperimentVariation",i.isExperimentVariation),i.getExperimentVariation=function(t,n){var a=e.app.experiments.get(t);return a&&a.selected(),a&&a.current!==a.original?a.current:"original"},t.registerHelper("getExperimentVariation",i.getExperimentVariation),i.addProtocolToUrl=function(e){return e?-1==e.search(/^http[s]?\:\/\//)&&-1==e.search(/^\/\//)?"http://"+e:e:""},t.registerHelper("addProtocolToUrl",i.addProtocolToUrl),i.charsToWords=function(e){var t=parseInt(app.get("language"),10);return 8===t||9===t||10===t||12===t?e:Math.ceil(e/6)},t.registerHelper("charsToWords",i.charsToWords),i.wordCount=function(e){var t=parseInt(app.get("language"),10);e=e.trim().replace(/(<([^>]+)>)/gi,"");return[8,9,10,12].includes(t)?e.length:e.length>0?n.filter(e.split(/\s+/),(function(e){return e.match(/\S+\s*/)})).length:0},t.registerHelper("wordCount",i.wordCount),i.calcPercentRead=function(e,t){var a=e.length,s=n.findIndex(e,{id:parseInt(t.partId)})/a+1/a*parseFloat(t.position);return s=s<0?0:s,Math.round(1e4*s)/100},t.registerHelper("calcPercentRead",i.calcPercentRead),i.rtlLanguage=function(e){switch(e){case 16:case 17:case 31:case 48:return!0;default:return!1}},t.registerHelper("rtlLanguage",i.rtlLanguage),i.preFormat=function(e,t){return!0===t?e.replace(/\n/g,""):e.replace(/\n/g,"<br />")},t.registerHelper("preFormat",i.preFormat),i.socialSharingAttributes=function(e){var n='href="'+this.href+'" ';return n+='data-share-channel="'+this.name+'" ',"share_readinglist"===this.content||t.Utils.isEmpty(this.urlTemplate)||(n+='data-share-url="'+i.urlEncode(this.urlTemplate)+'" ',n+='data-url="'+i.urlEncode(this.url)+'" ',n+='data-share-text="'+i.urlEncode(this.text)+'" ',n+='data-share-content="'+i.urlEncode(this.content)+'" '),new t.SafeString(n)},t.registerHelper("socialSharingAttributes",i.socialSharingAttributes),i.styleHashtag=function(e,n){var a="#"+e;if("#lgbt"==a){for(var s=new Array("rgb(228,3,3)","rgb(255,140,0)","rgb(0,128,38)","rgb(0,77,255)","rgb(117,7,135)"),i="",l=0;l<s.length;++l)i+='<span style="color: '+s[l]+'">'+a[l]+"</span>";a=i}return new t.SafeString(a)},t.registerHelper("styleHashtag",i.styleHashtag),t.registerHelper("insertAdUnit",(function(e,t){var n=$("<div>").append(e),a=n.find("p").length,s=i.outstreamAdvertisement(t);return a<3?n.append(s):n.find("p").each((function(e,t){2===e&&$(t).after(s)})),n.html()})),i.publishedPartsInStory=function(e){return(e.parts||[]).filter((function(e){return!e.draft}))},t.registerHelper("renderTrinityAudioPlayer",(function(t,n){var s=""!==a.utils.getCurrentUserAttr("isPremium");function i(){if(document.querySelector(".trinity-player-tag[data-player-id='".concat(t,"']")))e.TRINITY_PLAYER.api.createPlayer(t);else{var n=JSON.stringify({url:document.URL.replace(/^(\D*)(\d*)(.*)$/g,"$1amp/$2"),dataType:"html"}),a=document.createElement("script");a.className="trinity-player-tag",a.dataset.playerId=t;var i=new URL("https://trinitymedia.ai/player/trinity/2900001921/");i.searchParams.set("voiceId","Joanna"),i.searchParams.set("poweredby","0"),i.searchParams.set("readContentType","URL"),i.searchParams.set("readContentConfig",n),s&&i.searchParams.set("subscriber","1"),a.src=i.href,document.head.appendChild(a)}}return 1===n.language.id&&n.tags.includes("texttospeech")&&(void 0===e.playerRendered?(e.playerRendered=!0,i(),function(){var a=n.id,i=n.language.id,l=e.wattpad.userCountryCode,r={page:"reading",storyid:a,partid:t,audio_type:"tts",is_subscribed:s,country_code:l,lang_id:i,voice_type:"Joanna"};e.te.push("event","audio",null,null,"load",r);var o=Date.now();e.addEventListener("message",(function(t){var n;if("TRINITY_TTS"===(null===(n=t.data)||void 0===n?void 0:n.type)){var a=Date.now()-o,s=null,i=null,l=null;"playerReady"===t.data.value.action?(i="view",l=W(W({},r),{},{load_time:a})):"playClicked"===t.data.value.action?(i="play",l=W(W({},r),{},{percent_complete:0})):"pauseClicked"===t.data.value.action?(i="pause",l=r):"resumed"===t.data.value.action?(i="resume",l=r):"onFirstQuartile"===t.data.value.action?(i="play",l=W(W({},r),{},{percent_complete:25})):"onMidPoint"===t.data.value.action?(i="play",l=W(W({},r),{},{percent_complete:50})):"onThirdQuartile"===t.data.value.action?(i="play",l=W(W({},r),{},{percent_complete:75})):"onComplete"===t.data.value.action?(i="finish",l=r):"onAdStarted"===t.data.value.action?(s="ad",i="begin",l=r):"onAdComplete"===t.data.value.action&&(s="ad",i="end",l=r),i&&l&&e.te.push("event","audio",s,null,i,l)}}))}()):!e.location.href.includes("/page/")&&e.TRINITY_PLAYER&&(!function(){for(var t=0,n=Object.keys(e.TRINITY_PLAYER.players);t<n.length;t++){var a=n[t];e.TRINITY_PLAYER.api.removePlayer(a)}}(),i())),'<div class="trinityAudioPlaceholder"></div>'})),t.registerHelper("parseEmbeddedMedia",(function(e,t){var i=$("<div>"+e+"</div>");return t=t||480,i.find("[data-video-source=youtube]").each((function(e,t){var n=$(t),a=$(o()({videoId:n.data("videoId")})).html();n.html(a)})),i.find("[data-video-source=vimeo]").each((function(e,t){var n=$(t),a=$('<iframe width="764" height="430" src="//player.vimeo.com/video/'+n.data("videoId")+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');n.html(a)})),i.find("[data-video-source=vine]").each((function(e,t){var n=$(t),a=$('<iframe width="764" height="430" src="//vine.co/v/'+n.data("videoId")+'/embed/simple" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe><script src="https://platform.vine.co/static/scripts/embed.js"><\/script>');n.html(a)})),i.find("[data-video-source=wattpad]").each((function(e,t){var n=$(t),a=$(l()({origWidth:n.data("original-width"),origHeight:n.data("original-height"),previewImageSrc:n.data("preview-image"),videoId:n.data("video-id"),videoSrc:"//v.wattpad.com/"+n.data("video-id")+"/hd.mp4"})).html();n.html(a)})),i.find("[data-image-layout=one-horizontal]").each((function(e,i){var l=$(i),r=n.last(n.filter(l.prev("p").text().split("."),(function(e){return""!==e})))||{length:0},o=n.first(n.filter(l.next("p").text().split("."),(function(e){return""!==e})))||{length:0};if(l.children("img")&&1===l.children("img").length){var c=l.children("img"),u=app.get("device").isDesktop()?650:210;if(c.data("original-width")>u){var d=c.data("original-height")/c.data("original-width")*100;l.addClass("fixed-ratio").css({"padding-bottom":d+"%"})}else c[0].setAttribute("width",c.data("original-width")),c[0].setAttribute("height",c.data("original-height"));c.attr("src",c.attr("src")+"?s=fit&w="+t+"&h="+t),(r.length||o.length)&&c.attr("alt",n.trunc(r.length>o.length?r:o,250));var h=[{image:c[0],src:c[0].getAttribute("src")+"?s=fit&w="+t+"&h="+t}],p=$(s()({id:l.data("p-id"),images:h,testGroups:a.testGroups}));l.replaceWith(p)}})),i.html()})),i.sanitizeHTML=function(e){return e&&"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e},t.registerHelper("sanitize",i.sanitizeHTML),i.categoryNameToUrl=function(e){return"/stories/".concat(e)},t.registerHelper("categoryNameToUrl",i.categoryNameToUrl),i.sanitizeHTMLExceptQuotes=function(e){return e&&"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},t.registerHelper("sanitizeExceptQuotes",i.sanitizeHTMLExceptQuotes),i.unsanitizeHTML=function(e){return e&&"string"==typeof e?e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/on[^\s]*=\S*/g,""):e},t.registerHelper("unsanitize",i.unsanitizeHTML),t.registerHelper("sprintf",(function(){return e.sprintf.apply(null,arguments)})),t.registerHelper("reactComponent",(function(a,s,l){e.activeReactComponents=e.activeReactComponents||[],r();var o,c=l.hash.model||this;c instanceof Monaco.Model||c instanceof Monaco.Collection||(c=n.isArray(c)?new Monaco.Collection(c):new Monaco.Model(c));var u=D()(a,s,i.urlEncode(e.location.pathname)),d=e.activeReactComponents.filter((function(e){return e.id===u.toLowerCase()}));if(d.length>0){var h=d[0];o=h.view,h.view.model.clear({silent:!0}),h.view.model.set(c.toJSON())}else(o=new app.views.ReactComponentWrapper(a,s,{model:c},l)).render(),e.activeReactComponents.push({id:o.containerId,view:o});return new t.SafeString(o.container[0].outerHTML)}));var r=function(){if(e.observer||(e.observer=new MutationObserver(c)),0===e.activeReactComponents.length){e.observer.observe(document.body,{subtree:!0,childList:!0})}},c=function(t){n.forEach(t,d),e.activeReactComponents.length<=0&&e.observer.disconnect()},d=function(t,a,s){if("childList"===t.type&&t.removedNodes.length>=1){var i=$(t.removedNodes[0]).find(".component-wrapper");n.forEach(i,(function(t){var a=t.getAttribute("id");n.remove(e.activeReactComponents,(function(e){return e.id===a&&(e.view.remove(),!0)}))}))}};t.registerHelper("shouldShowReadingAd",(function(e,t){return(e-1)%2==0&&e!==t})),t.registerHelper("ternary",(function(e,t,a){return n.isFunction(e)&&(e=e.call(this)),e?t:a})),t.registerHelper("isTestGroup",(function(e){return!!a.testGroups[e]})),t.registerHelper("currentYear",(function(){return a.currentYear})),t.registerHelper("generateDropdownOptions",(function(e,n){var a,s,i="",l=parseInt(n),r=moment(),o=moment().subtract(100,"years");switch(e){case"day":a=1,s=31,i+='<option value="" disabled selected>Day</option>';break;case"month":a=0,s=11,i+='<option value="" disabled selected>Month</option>';break;case"year":a=o.year(),s=r.year(),i+='<option value="" disabled selected>Year</option>'}if("year"===e)for(var c=s;c>a;c--)i+=t.helpers.select(c,c,l);else for(c=a;c<=s;c++){var u="month"===e?9:10,d="month"===e?c+1:c,h="month"===e?moment().month(c).format("MMMM"):c;d=c<u?"0"+d:""+d,i+=t.helpers.select(d,h,n)}return i}))}(window,Handlebars,_,window.wattpad)},function(e,t,n){"use strict";var a=[{prefix:"2021_House-Ad_Premium_01",link:"https://www.wattpad.com/premium/?utm_source=wattpad&utm_medium=wp_advertisement&utm_campaign=mkt_premium_adfree",postfix:"px_V1",sizes:["300x250","300x600","728x90"]},{prefix:"2021_House-Ad_Premium_02",link:"https://www.wattpad.com/premium/?utm_source=wattpad&utm_medium=wp_advertisement&utm_campaign=mkt_premium_offline_reading",postfix:"px_V1",sizes:["300x250","300x600","728x90"]},{prefix:"2021_House-Ad_Premium_03",link:"https://www.wattpad.com/premium/?utm_source=wattpad&utm_medium=wp_advertisement&utm_campaign=mkt_premium_uninterrupted_reading",postfix:"px_V1",sizes:["300x250","320x50"]}];e.exports=function(e,t){return a.filter((function(n){return n.sizes.includes("".concat(e,"x").concat(t))}))}},function(e,t,n){"use strict";(function(e){var a=n(275);t.assetServer="//static.wattpad.com",t.mediaServer="//img.wattpad.com",t.ie8Server="//www.wattpad.com",t.views={script:"assets/script.handlebars",preloadScript:"assets/preload-script.handlebars",style:"assets/style.handlebars",image:"assets/image.handlebars",cover:"assets/story-cover.handlebars",avatar:"assets/user-avatar.handlebars"},t.paths={public:[a.resolve(e,"../../../","public")],assets:[a.resolve(e,"../../","assets")]},t.css={minifiedExtension:".min.css",combinedExtension:".css",rtlInfix:"-rtl",paths:{public:[a.resolve(e,"../../../","public/css")],assets:[a.resolve(e,"../../","assets/styles")]},baseURL:"/css",tmpURL:"/css/tmp/styles"},t.js={minifiedExtension:".min.js",combinedExtension:".js",rtlInfix:"",paths:{public:[a.resolve(e,"../../../","public/js")],assets:[a.resolve(e,"../../","assets/scripts")]},baseURL:"/js",tmpURL:"/tmp/scripts"},t.image={paths:{public:[a.resolve(e,"../../../","public/img")],assets:[a.resolve(e,"../../","assets/images")]},baseURL:"/img"},t.avatarSizes=[24,32,42,48,64,84,128,256],t.coverSizes=[64,80,100,128,144,160,176,200,208,256,288,352,368,416,512],t.logoSizes=[140,280,420],t.backgroundSizes=[320,640,720,1280,1920]}).call(this,"/")},function(e,t,n){(function(e){function n(e,t){for(var n=0,a=e.length-1;a>=0;a--){var s=e[a];"."===s?e.splice(a,1):".."===s?(e.splice(a,1),n++):n&&(e.splice(a,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function a(e,t){if(e.filter)return e.filter(t);for(var n=[],a=0;a<e.length;a++)t(e[a],a,e)&&n.push(e[a]);return n}t.resolve=function(){for(var t="",s=!1,i=arguments.length-1;i>=-1&&!s;i--){var l=i>=0?arguments[i]:e.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(t=l+"/"+t,s="/"===l.charAt(0))}return(s?"/":"")+(t=n(a(t.split("/"),(function(e){return!!e})),!s).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),l="/"===s(e,-1);return(e=n(a(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&l&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(a(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function a(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var s=a(e.split("/")),i=a(n.split("/")),l=Math.min(s.length,i.length),r=l,o=0;o<l;o++)if(s[o]!==i[o]){r=o;break}var c=[];for(o=r;o<s.length;o++)c.push("..");return(c=c.concat(i.slice(r))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,a=-1,s=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!s){a=i;break}}else s=!1;return-1===a?n?"/":".":n&&1===a?"/":e.slice(0,a)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,a=-1,s=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!s){n=t+1;break}}else-1===a&&(s=!1,a=t+1);return-1===a?"":e.slice(n,a)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,a=-1,s=!0,i=0,l=e.length-1;l>=0;--l){var r=e.charCodeAt(l);if(47!==r)-1===a&&(s=!1,a=l+1),46===r?-1===t?t=l:1!==i&&(i=1):-1!==t&&(i=-1);else if(!s){n=l+1;break}}return-1===t||-1===a||0===i||1===i&&t===a-1&&t===n+1?"":e.slice(t,a)};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(276))},function(e,t){var n,a,s=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function r(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{a="function"==typeof clearTimeout?clearTimeout:l}catch(e){a=l}}();var o,c=[],u=!1,d=-1;function h(){u&&o&&(u=!1,o.length?c=o.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=r(h);u=!0;for(var t=c.length;t;){for(o=c,c=[];++d<t;)o&&o[d].run();d=-1,t=c.length}o=null,u=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===l||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||u||r(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t){e.exports=moment},function(e,t,n){"use strict";var a=n(9);e.exports=function(e){var t=function(){return console.error("Ad Size not found"),""};if(!e)return t();var n=Object.keys(e);if(0===n.length)return t();if(n.length>1){var s=0;return a.forIn(e,(function(e){e[0]>s&&(s=e[0])})),'style="width:'.concat(s,'px;height:auto;"')}var i=e[n[0]][0],l=e[n[0]][1];return'style="width:'.concat(i,"px;height:").concat(l,'px;"')}},function(e,t,n){"use strict";e.exports=function(e){var t;return e>=0&&e<100?t="0to100":e>=100&&e<1e3?t="100to1000":e>=1e3&&e<1e4?t="1000to10000":e>=1e4&&e<1e5?t="10000to100000":e>=1e5&&(t="100000plus"),t}},function(e,t,n){"use strict";e.exports=function(e){return e>0&&e<=100?"0to100":"100plus"}},function(e,t,n){"use strict";e.exports=function(e){var t;if(!e||!e.gender)return"Ke28";switch(e.gender){case"Male":case"He":t="IU10";break;case"Female":case"She":t="Bu44";break;default:t="Ke28"}return t}},function(e,t,n){"use strict";e.exports=function(e){return e&&e.age?e.age<15?"13HW":e.age>=15&&e.age<=17?"59ss":e.age>=18&&e.age<=24?"09Pv":e.age>=25&&e.age<=34?"68OK":e.age>=35&&e.age<=40?"71aa":e.age>=41&&e.age<=45?"76PT":e.age>=46&&e.age<=49?"74xS":e.age>=50&&e.age<=54?"68zo":e.age>=55&&e.age<=59?"33es":e.age>=60&&e.age<=64?"84Vv":e.age>=65?"29kM":"UNKn":"UNKn"}},function(e,t){var n;n=window.wp=window.wp||{},window.FBStatus=new function(e){this.loggedIn=!1,this.permissions=[],this.accessToken=""},window.fbAsyncInit=function(){function e(e,t,n){var a=e.split(",");!FBStatus.loggedIn||function(e){return e.reduce((function(e,t){return e||!!FBStatus.permissions[t]}),!1)}(a)?(t.scope=a,FB.login(function(e){return function(t){return!!t.authResponse&&(FBStatus.accessToken=t.authResponse.accessToken,e())}}(n),t)):n()}FB.init({appId:n.app_id,cookie:!0,xfbml:!0,version:"v2.4"}),n.facebook_reprompt_permission=function(t,n){e(t,{auth_type:"rerequest"},n)},n.facebook_prompt_permission=function(t,n){e(t,{},n)},n.facebook_share_dialog=function(e,t,a,s){FB.ui({method:"share_open_graph",action_type:n.facebook_app_name+":read",action_properties:JSON.stringify({story:{"og:url":e,"og:title":t,"og:description":a,"og:image":s}})})}}},function(e,t){!function(e,t,n,a){"use strict";e.wattpad=n||{};var s=(e.wattpad.utils||(e.wattpad.utils={})).Device=function(e){return null==e&&(e=navigator.userAgent),this.ua=e.toLowerCase(),this.is={mobile:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|windows phone|xda|xiino/i.test(this.ua)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(this.ua.substr(0,4)),iPhone:Boolean(this.ua.match(/iphone/)),iPod:Boolean(this.ua.match(/ipod/)),iPad:Boolean(this.ua.match(/ipad/)),android:Boolean(this.ua.match(/android/)),androidTablet:Boolean(this.ua.match(/android/)&&!this.ua.match(/mobile/)),googleweblight:Boolean(this.ua.match(/googleweblight/)),kindle:Boolean(this.ua.match(/(kindle)/)),windows:Boolean(this.ua.match(/windows phone/)),blackBerry:Boolean(this.ua.match(/blackberry/)),playBook:Boolean(this.ua.match(/playbook/)),huawei:Boolean(this.ua.match(/huawei/)||"mozilla/5.0 (linux; android 9; vog-l29) applewebkit/537.36 (khtml, like gecko) chrome/73.0.3683.90 mobile safari/537.36"===this.ua||"mozilla/5.0 (linux; android 9; ele-l29) applewebkit/537.36 (khtml, like gecko) chrome/73.0.3683.90 mobile safari/537.36"===this.ua),palmDevice:Boolean(this.ua.match(/(palmos|palmsource| pre\/)/)),smartMobileHints:Boolean(this.ua.match(/(smartphone|iemobile)/)),tabletPC:Boolean(this.ua.match(/tablet pc/)),ie:Boolean(this.ua.match(/msie/)||this.ua.match(/trident/i)),ie9:Boolean(this.ua.match(/msie 9./)),ie8:Boolean(this.ua.match(/msie 8./)),ie7:Boolean(this.ua.match(/msie 7./)),ie6:Boolean(this.ua.match(/msie 6./)),opera:Boolean(this.ua.match(/opera/)),chrome:Boolean(this.ua.match(/chrome/)),facebookCrawler:Boolean(this.ua.match(/facebookexternalhit/)),twitterCrawler:Boolean(this.ua.match(/twitterbot/)),appleCrawler:Boolean(this.ua.match(/applebot/)),pinterestCrawler:Boolean(this.ua.match(/pinterest/)),googlePlusCrawler:Boolean(this.ua.match(/\+\/web\/snippet/)),otherCrawler:Boolean(this.ua.match(/googlebot/))||Boolean(this.ua.match(/yahoo/))||Boolean(this.ua.match(/yandex/))||Boolean(this.ua.match(/drupal/))||Boolean(this.ua.match(/bot/))||Boolean(this.ua.match(/nutch/))||Boolean(this.ua.match(/crawl/))||Boolean(this.ua.match(/spider/))||Boolean(this.ua.match(/search/))||Boolean(this.ua.match(/index/))||Boolean(this.ua.match(/rss/))||Boolean(this.ua.match(/simplepie/))||Boolean(this.ua.match(/tracker/))||Boolean(this.ua.match(/teoma/))||Boolean(this.ua.match(/wazzup/))||Boolean(this.ua.match(/finder/))},this.is.ios=this.is.iPhone||this.is.iPod||this.is.iPad,this.is.smartphone=this.isSmartPhoneLike(),this.is.touch=this.isTouchDevice(),this.is.desktop=this.isDesktop(),this.is.tablet=this.isTablet(),this};s.prototype.isSmartPhoneLike=function(){return(this.is.iPhone||this.is.iPod||this.is.android&&this.is.mobile||this.is.windows||this.is.blackBerry||this.is.palmDevice||this.is.smartMobileHints)&&!this.isTablet()},s.prototype.isTablet=function(){return(this.is.iPad||this.is.tabletPC||this.is.playBook||this.is.androidTablet||this.is.kindle)&&!this.isOperaMini()},s.prototype.isTouchDevice=function(){return this.isTablet()||this.isSmartPhoneLike()},s.prototype.isDesktop=function(){return!this.isTouchDevice()},s.prototype.isOperaMini=function(){return Boolean(this.ua.match(/opera mini/))||Boolean(this.ua.match(/opera mobi/))||Boolean(this.ua.match(/opera tablet/))},s.prototype.isCrawler=function(){return this.is.facebookCrawler||this.is.twitterCrawler||this.is.pinterestCrawler||this.is.otherCrawler||this.is.appleCrawler||this.is.googlePlusCrawler},s.prototype.isWebView=function(){return this.is.ios&&!Boolean(this.ua.match(/safari/))||this.is.android&&Boolean(this.ua.match(/version\//))},s.prototype.androidVersion=function(){var e=null;return this.is.android&&2==(e=/android (\d+(?:\.\d+)+)/gi.exec(this.ua)).length?e[1]:e}}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n){"use strict";var a=function e(n,a){if(this.layout=a||e.Layouts.Default,this.stories=t.clone(n,!0),this.panelGroup=[],n.length){if(this.layout===e.Layouts.Default){var s=parseInt(this.stories[0].id,10)%100;this.stories.length>9?this.layout=s>49?e.Layouts.FourUpOutside:e.Layouts.FourUpInside:this.stories.length>6?this.layout=s>74?e.Layouts.FourUpPanel4:s>49?e.Layouts.FourUpPanel3:s>24?e.Layouts.FourUpPanel2:e.Layouts.FourUpPanel1:this.layout=e.Layouts.FourUpNone}this.generateGroup()}};a.Layouts={Default:1,FourUpNone:2,FourUpInside:3,FourUpOutside:4,FourUpPanel1:5,FourUpPanel2:6,FourUpPanel3:7,FourUpPanel4:8},a.prototype.generateGroup=function(){switch(this.layout){case a.Layouts.FourUpInside:this.buildPanel({panels:1}),this.buildPanel({panels:2,stories:4}),this.buildPanel({panels:1});break;case a.Layouts.FourUpOutside:this.buildPanel({panels:1,stories:4}),this.buildPanel({panels:2}),this.buildPanel({panels:1,stories:4});break;case a.Layouts.FourUpPanel1:this.buildPanel({panels:1,stories:4}),this.buildPanel({panels:3});break;case a.Layouts.FourUpPanel2:this.buildPanel({panels:1}),this.buildPanel({panels:1,stories:4}),this.buildPanel({panels:2});break;case a.Layouts.FourUpPanel3:this.buildPanel({panels:2}),this.buildPanel({panels:1,stories:4}),this.buildPanel({panels:1});break;case a.Layouts.FourUpPanel4:this.buildPanel({panels:3}),this.buildPanel({panels:1,stories:4});break;case a.Layouts.FourUpNone:this.buildPanel({panels:4})}},a.prototype.buildPanel=function(e){e=t.defaults(e,{panels:1,stories:1});for(var n=0;n<e.panels&&this.stories.length>e.stories-1;n++)this.panelGroup.push({class:"grid-"+e.stories,stories:this.stories.splice(0,e.stories)})},a.linkifyTitle=function(e,n){var a=e;return a&&n?(t.forOwn(n,(function(e){if(e.text){var t=new RegExp("("+e.text.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+")(?!</a>)");a=a.replace(t,'<a href="'+e.link+'" class="on-navigate">$1</a>')}})),new Handlebars.SafeString(a)):a},n.PanelBuilder=a}(window,_,wattpad.utils)},function(e,t){window.mobileApp=window.mobileApp||{},window.mobileApp.instantiate=function(e,t,n,a){"use strict";e.app=new a.Application("mobile-web",{prefetched:e.prefetched,cachePolicy:"X-WPApp-Cache-Control"}),t.get(e,"wattpad.testGroups.ADS_PROMETHEUS_METRICS",!1)&&e.addEventListener("DOMContentLoaded",(function(){e.ados=e.ados||{},e.ados.events=e.ados.events||{},e.ados.on=function(t,n){return e.ados.events[t]=e.ados.events[t]||[],e.ados.events[t].push(n)},e.ads=e.ads||{},e.ados.on("ImpressionCounted",(function(e){var n=e.data,a=n.shim.zn?n.shim.zn:"unknown";if(!t([183796]).contains(a)&&"undefined"!=typeof __atha){var s=wattpad.utils.getAdzerkImpressionCPI(n.shim);__atha.sendImpression(n.div||"unknown",a.toString(),t.get(n,"shim.fl","unknown").toString(),s)}}))}),{once:!0}),e.nonsense=20},window.mobileApp.instantiate(window,window._,window.Backbone,window.Monaco)},function(e,t){window.mobileApp=window.mobileApp||{},window.mobileApp.framework=function(e,t,n,a,s,i,l){"use strict";var r=(i=i||(e.wattpad={})).utils||(i.utils={});l.frameworkFilters=l.frameworkFilters||{},l.frameworkFilters.beforeAjax=function(e,t){var n="en";try{n=l.get("supported-languages").get(l.get("language")).get("code")}catch(e){}if(t.setRequestHeader("Accept-Language",n),t.setRequestHeader("Authorization",l.get("api-key-web")),e)return e.apply(this,r.getWrapParams(arguments))},l.frameworkFilters.fetch=function(e){var t=arguments[1]||{};return t.beforeSend=n.wrap(t.beforeSend,l.frameworkFilters.beforeAjax),e.call(this,t)},l.router.on("route",(function(n){var a=t("body");a.removeClass((function(e,t){return(t.match(/\broute-\S+/g)||[]).join(" ")})),a.addClass("route-"+n),e.GSLoader&&e.GSLoader.reset()})),s.Router.prototype.__extractParameters=s.Router.prototype._extractParameters,s.Router.prototype._extractParameters=function(e,t){var a,i=t.lastIndexOf("#"),l=s.history.getHash(),r={};return i>=0&&(t=t.slice(0,t.lastIndexOf("#"))),a=this.__extractParameters(e,t),n.isString(l)&&l.length>2&&(r=s.history.getQueryParameters("?"+l),n.size(r)>0&&(n.isObject(a[a.length-1])?a[a.length-1]=n.extend(a[a.length-1],r):a[a.length]=r)),a};var o=s.history.start;s.history.start=function(t){return t=t||{},e.history&&e.history.pushState||(t.pushState=!1,t.hashChange=!1),o.call(this,t)};var c=s.Experiment.prototype.controller,u=s.Experiment.prototype.view,d=s.Experiment.prototype.template;if(s.Experiment.prototype.controller=function(){return this.selected(),c.apply(this,arguments)},s.Experiment.prototype.view=function(){return this.selected(),u.apply(this,arguments)},s.Experiment.prototype.template=function(e){return this.selected(),d.apply(this,arguments)},s.Experiment.prototype.split=function(){var e;this.groups&&!n.isEmpty(this.groups)&&(e=Object.keys(this.groups)[0]),e&&(this.current="original"===e||"unknown"===e||"active"!==this.options.status&&"finished"!==this.options.status?this.original:e,this.variationLoki=e),this.selectedFlag={}},s.Experiment.prototype.selected=function(){var t=e.location.pathname;"active"!==this.options.status||this.selectedFlag[t]||(i.utils.experimentSelected(this),this.selectedFlag[t]=!0)},s.Experiment.prototype._normalizeGroup=function(){return[]},s.Experiment.prototype.optout=function(){throw new Error("Loki experiments don't support opt out from an experiment yet")},s.Model.prototype.lookup=s.Collection.prototype.lookup=function(t){var n=this;return t=t||{},new e.Promise((function(e,a){var s=t.success;t.success=function(){s&&s.apply(n,arguments),e(n)};var i=t.error;t.error=function(){i&&i.apply(n,arguments),a.apply(n,arguments)},n.fetch(t)}))},"https://www.wattpad.io"===e.wattpad.apiDomain){s.Application.prototype.add=function(e,t){if(!t.prototype||!t.prototype.namespace)throw new Error("Monaco :: missing required object property 'namespace'");if(this[t.prototype.namespace][e])throw new Error("Monaco :: "+e+" have already been defined in "+this.name+"."+t.prototype.namespace);t.prototype._app=this,t.prototype.MonacoComponentName=e,t.prototype.MonacoComponentType=t.prototype.namespace,t.prototype.MonacoComponentParents=function e(t,n){if(t&&t.__proto__&&t.__proto__.MonacoComponentName){var a=n.concat(t.__proto__.MonacoComponentName);return e(t.__proto__,a)}return n}(t.prototype,[]),this[t.prototype.namespace][e]=t}}},window.mobileApp.framework(window,$,_,Backbone,Monaco,wattpad,window.app)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,a,s,i){"use strict";i&&(e.wattpad=s||{},e.wattpad.utils=e.wattpad.utils||(e.wattpad.utils={}),void 0===i.router.addFilter&&e.wpLog.info("missing-router-method",{instanceofBackbone:i.router instanceof a.Router,instanceofMonaco:i.router instanceof Monaco.Router,typeofFilter:n(i.router.filter),typeof_filters:n(i.router._filters),typeofAddFilter:n(e.Monaco.Router.prototype.addFilter)}),i.router.addFilter("getCategories",(function(e,n){if(i.get("categories")&&i.get("categories").resource==="system.categories."+i.get("language"))return e.apply(this,n);var a=new i.collections.Categories,s=this;Promise.resolve(a.fetch()).catch((function(l){var r=i.get("retry:categories")||0,o=t.result(l,"status");return[0,404,408,500,502,503,504].indexOf(o)>=0&&r<2?(i.set("retry:categories",r+1),i.router._filters.getCategories.call(s,e,n)):(i.set("retry:categories",0),i.set("categories",a),!1)})).then((function(t){return e.apply(s,n)}))})),i.router.addFilter("requireLogin",(function(t,n){return s.utils.currentUser().authenticated()?t.apply(this,n):(i.router.navigate("/login?nexturl="+encodeURIComponent(e.location.href),{trigger:!0,replace:!0}),!1)})),i.router.addFilter("getTranslations",(function(e,t){if(void 0===i.get("translatedLanguage")){var n={domain:"messages",locale_data:{messages:s.translation}},a=new i.collections.TranslatedLanguage({},{translations:n});a.fetch(),i.set("translatedLanguage",a)}return e.apply(this,t)})))}(window,_,Backbone,wattpad,window.app||("undefined"!=typeof app?app:null))},function(e,t){!function(e,t){"use strict";t.router.add({":others":["error-404",{regexp:{others:/.*/}}]})}(window,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:error-404",s.router.filter(["getTranslations"],(function(t,i){if(n("body").hasClass("js-app-off"))if("user"===t){var l=new s.views.DummyReactView({component:"UserError404",componentId:"userError-404"});s.transitionTo(l,{hasHeader:!0,hasFooter:!0})}else if("story"===t){l=new s.views.DummyReactView({component:"StoryError404",componentId:"story-error-404"});s.transitionTo(l,{hasHeader:!0,hasFooter:!0})}else{var r=new s.collections.BrowseTopics;Promise.resolve(r.fetch()).then((function(){var e=new s.views.Error404({type:t,modelId:i,browseTopics:r});s.transitionTo(e,{hasHeader:!0,hasFooter:!0})}))}else a.utils.redirectToServer(e.location.href)})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("BaseTransition",t.Transition.extend({_canonicalURL:function(e){var n=t.history.fragment||"",s=n.toLowerCase();void 0!==e.username&&""!==e.username&&(s=s.replace(e.username.toLowerCase(),e.username)),n!==s&&a.router.navigate(s,{trigger:!1,replace:!0})},_hideAddressBar:function(){n.utils.hideAddressBar()},_pageView:function(){n.utils.pushEvent({},"virtualPageview"),void 0!==e._FskRefresh&&e._FskRefresh()},injectDOM:function(t,n,s,i){var l=$(s);!t&&l.children().length>0?(n.setElement(l.children(0)[0]),$("body").removeClass("js-app-off"),e.BOOMR?(e.BOOMR.page_ready(),e.BOOMR.addVar("tag","CSR")):document.addEventListener&&document.addEventListener("onBoomerangLoaded",(function(e){e.detail.BOOMR.page_ready(),e.detail.BOOMR.addVar("tag","CSR")})),a.router.on("route",(function(t){e.BOOMR&&a.set("transition_timer",e.BOOMR.requestStart())})),a.trigger("app:client-bound",{app:a,view:n})):(i&&l.empty(),l.append(n.$el)),$(".advertisement:not(.loaded)").length&&e.dispatchEvent(new CustomEvent("ad-available",{bubbles:!0}))}}))}(window,Monaco,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("Language",n.Model.extend())}(window,_,Monaco,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("Languages",n.Collection.extend({model:s.models.Language,initialize:function(){this.on("sync",(function(){s.set("supported-languages",this)}))},url:"/api/v3/internal/languages",resource:"supported-languages",cacheLocal:!0,expireLocal:1440}))}(window,_,Monaco,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("TranslatedLanguage",n.Collection.extend({initialize:function(t,n){var s=this;this.locale=a.utils.getCookie("locale")||navigator.language||"en_US";var i=(n=n||{}).translations||{};this.jed=new e.Jed(i),this.on("sync",(function(){s.jed=new e.Jed(s.toJSON()[0])}))},fetch:function(){var e=s.local._getKey("strings-"),a=s.local._getKey(this.resource());t.forOwn(localStorage,(function(t,n){0===n.indexOf(e)&&n!==a&&localStorage.removeItem(n)})),n.Collection.prototype.fetch.apply(this,arguments)},url:function(){return a.apiDomain+"/v4/strings/"+this.locale},resource:function(){return"strings-"+a.languagePackage},cacheLocal:!0,expireLocal:1440}))}(window,_,Monaco,wattpad,window.app)},function(e,t){window.mobileApp=window.mobileApp||{},window.mobileApp.config=function(e,t,n,a){"use strict";if(null!=a){var s=(n=n||e.wattpad||(e.wattpad={})).utils||(n.utils={});e.app||(e.app=a),a.set("default-language","1");var i=new a.collections.Languages(n.supportedLangs);a.set("supported-languages",i);var l=!!(n&&n.utils&&n.utils.getCookie)&&s.getCookie("locale");l=null===l||!1===l?"en_US":l;var r=i.find((function(e){return e.get("locale")===l}));if((r=r?r.get("id").toString():"")&&""!==r||a.get("language")&&""!==a.get("language")?r&&""!==r&&(a.set("language",r,!0),n.language=r):(a.set("language",a.get("default-language"),!0),n.language=a.get("default-language")),a.set("api-key-web",n.apiAuthKey),e.jQuery&&(e.jQuery("body > div:not(#header-container,.shadow-banner), #header, #footer-container").hammer({behavior:{userSelect:!0}}),s.modernizr("fontface")?e.jQuery("body").removeClass("ff-unsupported"):e.jQuery("link#font-awesome").remove()),a.set("device",new s.Device),a._firstRun=!0,n&&n.utils&&n.utils.getCookie&&n.utils.setCookie){var o=s.getCookie("ff"),c=n.utils.modernizr&&s.modernizr("fontface")?1:0;o&&null!==o||s.setCookie("ff",c),window.devicePixelRatio&&s.setCookie("dpr",window.devicePixelRatio);var u=(new Date).getTimezoneOffset()/60;s.setCookie("tz",u)}_.each(window.wattpad.experiments,(function(e,t){var s={};s[e.variation]={suffix:n.utils.toPascalCase(e.variation)},a.experiments.set(t,s,{users:1,experimentKey:e.key,status:e.status}),a.experiments.get(t).split()}))}},window.mobileApp.config(window,Monaco,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("Categories",n.Collection.extend({resource:function(){return"system.categories."+s.get("language")},url:function(){return"/api/v3/categories"},initialize:function(){this.on("sync",(function(){s.set("categories",this)}))},comparator:function(e,t){return e.get("name")>t.get("name")?1:e.get("name")<t.get("name")?-1:0},parse:function(e){var s="",i="",l="";return t.each(e,(function(e){switch(e.id){case 1:s=a.utils.trans("Read about the ins, outs, ups, and downs of the teenage experience. These free books and stories offer the best in teen fiction covering topics like gay and lesbian romance, high school, popularity and young love."),i="teen_fiction.jpg",l="bg_teen_fiction.png";break;case 2:s=a.utils.trans("Delve into powerful feelings on love, life, romance, teen life, and everything in between. Read the best free poems online, and find your next inspiration."),i="poetry.jpg",l="bg_poetry.png";break;case 3:s=a.utils.trans("So you're into stories about magic, unicorns, dragons, thieves, elves and kingdoms? We have you covered. Read fantasy stories anywhere, anytime on Wattpad."),i="fantasy.jpg",l="bg_fantasy.png";break;case 4:s=a.utils.trans("Free books and love stories for any passion or persuasion; from sweet contemporary romance to steamy new adult, young love, sexy romance, to great historical novels. Find the greatest love stories from passionate authors who know about love."),i="romance.jpg",l="bg_romance.png";break;case 5:s=a.utils.trans("Get lost in the speculative Science Fiction stories of the future: dystopian novels, space odysseys, post-apocalyptic worlds from the great authors and writers of today. We have the best in free books and stories online by authors who love to write alien, fantasy, space time travel, and short sci fi."),i="science_fiction.jpg",l="bg_science_fiction.png";break;case 6:s=a.utils.trans("From Supernatural to Harry Potter, One Direction to Percy Jackson, and more. We have the best fic for whatever fandom you're into. Discover your next fanfiction on the site or on your phone with Wattpad."),i="fanfic.jpg",l="bg_fanfiction.png";break;case 7:s=a.utils.trans("Funny stories to keep you cackling. We have the best comedy stories online for adults and teens, whether you like satire, tongue-in-cheek critique, or witty social commentary. "),i="humor.jpg",l="bg_humor.png";break;case 8:s=a.utils.trans("Short mystery stories and thrillers exploring murder and crime investigations, detective work, and uncovering the answers to a problem or mystery. We have the best free mystery and thriller stories online for teens and adults."),i="mystery_thriller.jpg",l="bg_mystery_thriller.png";break;case 9:i="horror.jpg",l="bg_horror.png";break;case 10:s=a.utils.trans("Read your favorite classic novels, stories, and books anywhere. Classic literature are must read stories written over 100 years ago that stand the test of time and are still loved today."),i="classics.jpg",l="bg_classics.png";break;case 11:s=a.utils.trans("Risk, danger and excitement will fuel your next adventure on Wattpad. Find your quest and get ready for the journey of a lifetime with the best free adventure books and stories online about worldly travel, pirates, heroes, villains, challenges, and more."),i="adventure.jpg",l="bg_adventure.png";break;case 12:s=a.utils.trans("Read the best free paranormal romance stories and series with strong female leads, vampires, and werewolf drama. These stories are way beyond the normal."),i="paranormal.jpg",l="bg_paranormal.png";break;case 13:s=a.utils.trans("Read powerful spiritual stories about women and healing. These free online stories are spiritual but not necessarily religious, playing on existential themes that make us question who we are and why were here."),i="spiritual.jpg",l="bg_spiritual.png";break;case 14:s=a.utils.trans("If you love action; adventure, excitement and risk await you. Find your heroes and villains in the best action books and stories for teens and young adults online from author around the world."),i="action.jpg",l="bg_action.png";break;case 16:s=a.utils.trans("Read non-fiction stories by the best original authors on topics ranging from personal growth to exciting memoirs."),i="non_fiction.jpg",l="bg_non_fiction.png";break;case 17:s=a.utils.trans("Get lost in short stories about love, life, friendship, and bullying. Our short stories can be funny, sad, or dramatic. They all share a slice of life that everyone can relate to."),i="short_story.jpg",l="bg_short_story.png";break;case 18:s=a.utils.trans("Read the best in free vampire stories about vampires and romance, chasers, brothers, werewolf vs vampire, gay and lesbian, and more."),i="vampire.jpg",l="bg_vampire.png";break;case 19:s=a.utils.trans("Read stories that defy definition. When youre looking for things to do when youre bored, top 10 lists, guides, rants, diary entries, contests and stories, you will find your fix on Wattpad Random and never be bored again."),i="random.jpg",l="bg_random.png";break;case 21:s=a.utils.trans("Get your contemporary fiction fix with the best free fiction books and stories written by authors from around the world."),i="general_fiction.jpg",l="bg_general_fiction.png";break;case 22:s=a.utils.trans("Read free fanfiction and werewolf fiction online by the best authors. These exciting werewolf reads cover stories about true transformation, gay and lesbian themes, scary, creepy, romance, vampires, and more."),i="werewolf.jpg",l="bg_werewolf.png";break;case 23:s=a.utils.trans("Short stories and free books by exciting authors in historical fiction. Discover the best stories about war, the vikings and fictional period pieces that capture the essence of history recounting the world as it once was."),i="historical_fiction.jpg",l="bg_historical_fiction.png";break;case 24:s=a.utils.trans("From classic British chick lit to dating drama disasters, discover your next favorite chicklit author online or on your phone with Wattpad. We have tons of free stories for you to read wherever you go."),i="chicklit.jpg",l="bg_chicklit.png"}e.tagline=s,e.banner=i,e.bg_image=l})),n.Collection.prototype.parse.apply(this,arguments)},cacheLocal:!0,expireLocal:720}))}(window,_,Monaco,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("GenerateFields",Monaco.Mixin.create({fetch:function(e,n){if(e=e||{},t.result(this,"url").indexOf("fields")>-1)return n(e);if(t.isArray(this.fields)&&0===this.fields.length)return n(e);if(!(e=this.getFieldsString(e)).data||!e.data.fields)throw new Error("Fields were not specified for API call:"+t.result(this,"url"));return n(e)},getFieldsString:function(e,t){return e=e||{},!this.fields||e.data&&e.data.fields||(e.data=e.data||{},e.data.fields=this.generateFieldsString(this.fields)),t(e),e},generateFieldsString:function(e,n){var a=this,s="";if("string"==typeof e)return e;if(t.isArray(e))s+=t.map(e,(function(e){return a.generateFieldsString(e)})).join(",");else{var i=[];t.forIn(e,(function(e,t){i.push(t+"("+a.generateFieldsString(e)+")")})),s+=i.join(",")}return n(s),s}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("CollectionParsing",Monaco.Mixin.create({parse:function(e,t){return this.arrayKey?(this.total=e.total,this.nextUrl=e.nextUrl,t(e),e[this.arrayKey]):e},revertParse:function(e){var t={};return this.arrayKey?(t.total=this.total,t[this.arrayKey]=this.toJSON(),e(t),t):this.toJSON()}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("ApiV2",Monaco.Mixin.create({save:function(e,n,a){if((n=n||{}).url)return a(e,n);if(!(this.v2CreateUrl||this.v2UpdateUrl||this.v2DeleteUrl||this.v2Url))throw new Error("No v2 API Urls were found on this object. "+t.result(this,"resource"));return this.get("id")&&"new"!==this.get("id")?(n.url=t.result(this,"v2UpdateUrl")||t.result(this,"v2Url")||t.result(this,"url"),this.set("req_type","edit")):(n.url=t.result(this,"v2CreateUrl")||t.result(this,"v2Url")||t.result(this,"url"),this.set("req_type","new")),n.data=this.toJSON(),n.emulateJSON=!0,n.type="POST",a(e,n)},destroy:function(e,n){if((e=e||{}).url)return n(e);if(!(this.v2CreateUrl||this.v2UpdateUrl||this.v2DeleteUrl||this.v2Url))throw new Error("No v2 API Urls were found on this object. "+t.result(this,"resource"));return e.url=t.result(this,"v2DeleteUrl")||t.result(this,"v2Url")||t.result(this,"url"),e.data=this.toJSON(),e.emulateJSON=!0,e.type="POST",n(e)}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("ApiV2Patch",Monaco.Mixin.create({save:function(e,n,a){return(n=n||{}).data=t.pick(n.data||{},this.v2Fields),a(e,n)},destroy:function(e,n){return e.data=t.pick(e.data||{},this.v2Fields),n(e)}}))}(window,_,wattpad,window.app)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,a,s,i){"use strict";i.add("ValidationModel",Monaco.Mixin.create({regex:{email:/^[a-zA-Z0-9_\.\'\+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-\.]+$/,az09:/^[a-z0-9_-]+$/i,phone:/^\+?\d{8,16}$/,hasLetter:/[a-z]/i,hasNumber:/\d/,isNumber:/^\d+$/},validate:function(e,a,s){var i,l={},r={},o={};if((a=a||{}).ignore&&(o=a.ignore),a.validation&&a.validation.ignore&&(o=a.validation.ignore),!this.validationRules)return null;switch(n(e)){case"string":e=[e];break;case"undefined":e=this.attributes}return t.isArray(e)&&(i=e,e={},t.each(i,(function(t){e[t]=this.get(t)}),this)),t.forOwn(e,(function(e,n){this.validationRules[n]&&(t.each(this.validationRules[n],(function(a){if(!t.includes([].concat(o[n]),a.func)&&a)if(a.async)r[n]||(r[n]={value:e,rules:[]}),r[n].rules.push(a);else if(!this[a.func](e,a))return this.trigger("attr:invalid",n,a.msg),l[n]=a.msg,!1}),this),l[n]||r[n]||this.trigger("attr:valid",n))}),this),t.keys(r).length&&this.validateAsync(r),s(),t.keys(l).length?l:null},validateAsync:function(e,n){t.forOwn(e,(function(e,n){var a=[],i=!0,l=this;t.each(e.rules,(function(t){var r=this[t.func](e.value,t).catch((function(a){var r=t.msg?t.msg:a.responseJSON.message||null,o=a.responseJSON.error_code||0;e.value===l.get(n)&&(o>=1e3&&o<1100&&a.responseJSON.message?l.trigger("attr:invalid",n,r):l.trigger("attr:warning",n,s.trans("An error occurred during validation."))),i=!1}));a.push(r)}),this),Promise.all(a).then((function(){e.value===l.get(n)&&i&&l.trigger("attr:valid",n)}))}),this),n()},isRequired:function(e,n,a){return a(),!t.isEmpty(e)},isEmail:function(e,t,n){return n(),null!==e.match(this.regex.email)},isAlphaNumeric:function(e,t,n){return n(),null!==e.match(this.regex.az09)},isMatch:function(e,t,n){return n(),e===this.get(t.matchesKey)},hasNumber:function(e,t,n){return n(),null!==e.match(this.regex.hasNumber)},hasLetter:function(e,t,n){return n(),null!==e.match(this.regex.hasLetter)},minLength:function(e,t,n){return n(),e.length>=t.length},maxLength:function(e,t,n){return n(),e.length<=t.length},isNumber:function(e,t,n){return n(),null!==e.match(this.regex.isNumber)},minValue:function(e,t,n){return n(),!e||e&&("string"==typeof e?parseInt(e,10):e)>=t.min},isEq:function(e,t,n){return n(),e===t.val},isNotEq:function(e,t,n){return n(),!this.isEq(e,t)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("SignupModel",Monaco.Mixin.create({defaults:{username:null,email:null,password:null,month:null,day:null,year:null},validationRules:{email:[{func:"isRequired",msg:a.trans("Email is required.")},{func:"isEmail",msg:a.trans("That is not a valid email address.")},{func:"uniqueEmail",async:!0}],forgotEmail:[{func:"isRequired",msg:a.trans("Email is required.")},{func:"isEmail",msg:a.trans("That is not a valid email address.")}],username:[{func:"isRequired",msg:a.trans("Username is required.")},{func:"isAlphaNumeric",msg:a.trans("Your username may only contain letters and numbers.")},{func:"hasLetter",msg:a.trans("Your username must contain at least one letter.")},{func:"minLength",length:6,msg:a.trans("Your username must be at 6-20 characters long.")},{func:"maxLength",length:20,msg:a.trans("Your username must be at 6-20 characters long.")},{func:"uniqueUsername",async:!0,msg:a.trans("The username you have requested is already in use. Please try another name.")}],password:[{func:"isRequired",msg:a.trans("Password is required.")},{func:"minLength",length:6,msg:a.trans("Your password must be at least 6 characters long.")},{func:"maxLength",length:20,msg:a.trans("Your password may be no longer than 20 characters.")}],month:[{func:"isRequired",msg:"Month is required."},{func:"isNotAKid",msg:"You must be 13 or older to use Wattpad"},{func:"isValidFullDate",msg:"The date provided is invalid."}],day:[{func:"isRequired",msg:"Day is required."},{func:"isNotAKid",msg:"You must be 13 or older to use Wattpad"},{func:"isValidFullDate",msg:"The date provided is invalid."}],year:[{func:"isRequired",msg:"Year is required."},{func:"isNotAKid",msg:"You must be 13 or older to use Wattpad"},{func:"isValidFullDate",msg:"The date provided is invalid."}]},isValidFullDate:function(e,t){var n=this.changed.day?e:this.get("day"),a=this.changed.month?e:this.get("month"),s=this.changed.year?e:this.get("year");return null===n||null===a||null===s||!!moment(a+"-"+n+"-"+s,"MM-DD-YYYY",!0).isValid()},isNotAKid:function(e,t){var n,a=this.changed.day?e:this.get("day"),s=this.changed.month?e:this.get("month"),i=this.changed.year?e:this.get("year"),l=moment();return null===i||(n=null===a||null===s?moment(i,"YYYY"):moment(s+"-"+a+"-"+i,"MM-DD-YYYY"),!(l.diff(n,"years")<13))},uniqueEmail:function(e,t,n){return n(),Promise.resolve($.ajax("/api/v3/users/validate",{data:{email:e}}))},uniqueUsername:function(e,t,n){return n(),Promise.resolve($.ajax("/api/v3/users/validate",{data:{username:e}}))}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("GetAppValRules",Monaco.Mixin.create({defaults:{getApp:null},validationRules:{getApp:[{func:"isRequired",msg:a.trans("Please enter a valid SMS number.")}]}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("GetMobileValRules",Monaco.Mixin.create({defaults:{getMobile:null},validationRules:{getMobile:[{func:"isRequired",msg:a.trans("Please enter a valid email address.")},{func:"isPhoneOrEmail",msg:a.trans("Please enter a valid email address.")}]},isPhoneOrEmail:function(e,t,n){return n(),!!(null!==e.match(this.regex.email))}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("BeautifyURL",Monaco.Mixin.create({getBeautifyUrlSettings:function(e,t){t(e);var a=e.body.split(/\s+/).filter((function(e){return e.match(n.siteRoot+"/story")}))[0],s=e.body.split(/\s+/).filter((function(e){return e.match("http://my.w.tt/")}))[0];return a?{url:"/api/v3/stories/"+a.match(/[0-9]+/)}:!!s&&{url:"https://api.branch.io/v1/url?url="+s+"&branch_key="+n.branchKey,xhr:function(){var e=jQuery.ajaxSettings.xhr(),t=e.setRequestHeader;return e.setRequestHeader=function(e,n){"Authorization"!=e&&t.call(this,e,n)},e}}},parseMetadata:function(e,t){t(e);var n={cover:e.cover||e.data.$og_image_url,description:e.description||e.data.$og_description,url:e.url||e.data.$fallback_url,title:e.title||e.data.$og_title,storyId:e.id||e.data.$canonical_identifier.match(/[0-9]+/)[0],profileOwner:this.get("ownername")||this.get("username"),isReply:this.get("isReply")};return this.set("beautifyUrlMetadata",n),n},getMetadataForBeautifyUrl:function(e,t){return t(e),Promise.resolve($.get(e)).then(this.parseMetadata.bind(this))}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";var i,l;s.add("InfiniteScroll",Monaco.Mixin.create({initialize:function(e,t){if(e=e||{},this.paused=!1,!this instanceof s.views.IncrementalList)throw Error("Mixin can only be applied to IncrementalList views");this.removed=!1,t(e),e.postpone&&(this.paused=!0),this.collection&&this.collection.hasMore&&!e.manualRegistration&&this.registerForScrolling()},registerForScrolling:function(){l.addDelegate(this.cid,this.onFrameRequest,this)},deregisterFromScrolling:function(){l.removeDelegate(this.cid)},onFrameRequest:function(e){this.collection&&this.collection.hasMore&&this.collection.hasMore()&&!1===this.removed?this.checkDistance():this.deregisterFromScrolling(),e()},setButtonState:function(e){e(),this.paused=!1},checkDistance:t.throttle((function(){var t=this.$(".on-showmore"),n=e.innerHeight||e.screen.height;!this.paused&&this.collection&&this.collection.hasMore&&this.collection.hasMore()&&t&&t.length>0&&1.5*n>t.offset().top-e.scrollY&&(this.paused=!0,this.performLoad())}),500),performLoad:function(e){this.onShowMore(),e()},setPaused:function(e,n){t.isBoolean(e)&&(this.paused=e)},remove:function(e){this.removed=!0,e()}})),(i=function(){this.delegates={},this.trigger.bind&&(this.trigger=this.trigger.bind(this))}).prototype.addDelegate=function(n,a,s){var i=t.keys(this.delegates).length,l=this;this.delegates[n]=a.bind(s),i<1&&(e.requestAnimationFrame?l.trigger():$(e).on("scroll.screen_animation_frame_delegate_fallback",(function(){l.trigger()})))},i.prototype.removeDelegate=function(e){delete this.delegates[e]},i.prototype.trigger=function(){t.forOwn(this.delegates,(function(e){e()})),this.cleanup()},i.prototype.cleanup=function(){t.keys(this.delegates).length>0?e.requestAnimationFrame&&e.requestAnimationFrame(this.trigger):e.requestAnimationFrame||$(e).off("scroll.screen_animation_frame_delegate_fallback")},l=new i,e.wattpad.RequestAnimationFrameDelegator=i,e.wattpad.RequestAnimationFrameDelegator.instance=l}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("ErrorHandler",Monaco.Mixin.create({seenErrors:{},delegateEvents:function(e,n){n(e),this.errorHandlerMixinDisabled||(this.model&&this.model instanceof Monaco.Model&&this.attachErrorHandlers(this.model),this.collection&&this.collection instanceof Monaco.Collection&&this.attachErrorHandlers(this.collection),t.bindAll(this,"handlePromiseUnexpected","handlePromiseExpected"))},handleError:function(e,n,a){var i={};n&&(i.type=n.type?n.type:"default"),t.each(e,(function(e,t){i.delay=t,new s.views.ErrorToast(e,i).render()})),a()},attachErrorHandlers:function(e,t){this.listenTo(e,"sync",this.handleUnexpected),this.listenTo(e,"error",this.handleExpected),t()},detachErrorHandlers:function(e,t){this.stopListening(e,"sync",this.handleUnexpected),this.stopListening(e,"error",this.handleExpected),t()},handleUnexpected:function(e,n,a,s){var i=[],l={};if(!1===n.success||n.error_count>0){var r=$.now()/1e3;if(this.seenErrors[e]){if(!(r-this.seenErrors[e]>1))return this.seenErrors[e]=r,s();this.seenErrors[e]=r}else this.seenErrors[e]=r;1===n.error_count?(l.message=n.error||t.first(t.values(n.errors)),i.push(l)):t.each(n.errors,(function(e){l.message=e,i.push(t.clone(l))})),this.handleError(i,a,s)}s()},handleExpected:function(e,t,n,a){var s=$.now()/1e3;if(this.seenErrors[e]){if(!(s-this.seenErrors[e]>1))return this.seenErrors[e]=s,a();this.seenErrors[e]=s}else this.seenErrors[e]=s;var i=[],l={};t.responseJSON&&(l=t.responseJSON),i.push(l),this.handleError(i,n,a),a()},handlePromiseUnexpected:function(e,t,n){this.handleUnexpected({},e,t,n),n()},handlePromiseExpected:function(e,t,n){this.handleExpected({},e,t,n),n()},iCanHazErrors:function(){this.errorHandlerMixinDisabled=!0,this.model&&this.model instanceof Monaco.Model&&this.detachErrorHandlers(this.model),this.collection&&this.collection instanceof Monaco.Collection&&this.detachErrorHandlers(this.collection)}}))}(window,_,wattpad,wattpad.utils,window.app),window.app.callErrors=function(e,t){"use strict";app.mixins.ErrorHandler.prototype.constructor.mixinFunctions.handleError(e,t,(function(){}))}},function(e,t){!function(e,t,n,a,s){"use strict";s.add("StickyAds",Monaco.Mixin.create({render:function(t){var n=t();return $(e).on("scroll.screen_"+this.cid,this.handleStickyAds.bind(this)),n},remove:function(t){$(e).off("scroll.screen_"+this.cid),t()},handleStickyAds:function(t){$.each($(".sticky-ad"),(function(t,n){var a=$(n).data("start-selector"),s=$(n).data("end-selector"),i=n.getBoundingClientRect(),l=i.bottom-i.top,r=(e.innerHeight||document.documentElement.clientHeight)/2,o=a&&$(a).length?$(a)[0].getBoundingClientRect().top:document.body.getBoundingClientRect().top,c=s&&$(s).length?$(s)[0].getBoundingClientRect().bottom:document.body.getBoundingClientRect().bottom;o>=r-l/2?$(n).css({position:"absolute",top:"0"}):r>o&&r<c-125-l/2?$(n).css({position:"fixed",top:"114px"}):$(n).css({position:"absolute",top:c-o-l-250+"px"})})),t()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("RefreshAds",Monaco.Mixin.create({render:function(e){var t=e();return this.refreshingAds=[],this.isRefreshing=!1,this.listenTo(s,"checkRefreshingAds",this.checkRefreshingAds),t},remove:function(e){this.stopListening(s,"checkRefreshingAds",this.checkRefreshingAds),e()},setIsRefreshing:function(t){var n=this;n.isRefreshing=!0,e.setTimeout((function(){n.isRefreshing=!1}),5e3),t()},checkRefreshingAds:function(t,n){var s=this.refreshingAds.length>0,i=t.pageNumber||null,l=a.getCurrentUserAttr("isPremium")||!1;if(e.innerWidth<992||l||this.isRefreshing||!t||!i||1===i)return n();s?this.refreshAd(i,this.refreshingAds[0].id):this.insertStickyAd(t),n()},refreshAd:function(n,a,s){var i=t.find(this.refreshingAds,{id:a},!1);if(!i)return s();if(n>2||2===n&&i.hasRefreshed){i.timesRefreshed++,i.hasRefreshed=!0,this.setIsRefreshing();var l=e.wattpad.utils.refreshAd(a);i.id=l}s()},insertStickyAd:function(e,t){var a,s,i=e.pageNumber,l=Date.now(),r=n.utils.currentUser().get("username");a=(s=null!=r?"readinglong_mid":"readinglong_mid_loggedout")+"-"+l;var o=n.utils.advertisement({data:{root:e},hash:{unit:s,experience:"reading",storyGroup:e.group,refresh:!0,parentClass:"reading-widget",adText:e.lastPage?n.utils.trans("Story continues below"):"",adTextClass:"panel-title hidden-md hidden-lg",timestamp:l}});$("div[data-page-number='".concat(i,"'] .right-rail")).append(o),this.refreshingAds.push({id:a,hasRefreshed:!1,timesRefreshed:0}),this.setIsRefreshing(),t()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("Highlighter",Monaco.Mixin.create({events:{"mouseup .highlighter":"onShowMenu"},selection:{},onShowMenu:function(n,a){var s=this;t.delay((function(){var t=e.getSelection();t.toString().length>0?(s.selection=t,s.renderTooltip(a)):void 0!==s.tooltip&&(s.tooltip.remove(),delete s.tooltip)}),200),a(n)},renderTooltip:function(e){var t,n,a,i,l,r;if(n=(t=this.selection.getRangeAt(0)).getBoundingClientRect(),(r=t.toString()).length<=500){var o=this.model.get("group").id,c=this.model.get("url");this.tooltip=new s.views.HighlightTooltip({quoteString:r,storyId:o,url:c}),this.tooltip.render(),l=$(".part-content")[0].getBoundingClientRect(),i=n.top-l.top-57,a=(n.left+n.right)/2-(l.left+46),$(".highlight-tooltip").css({top:i,left:a,opacity:1})}e()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("BaseModel",Monaco.Model.extend({cacheLocal:!0,sync:function(e,n,a){return t.get(n.__proto__,"bypassBrowserCache")&&(a.cache=!1),Monaco.Model.prototype.sync.apply(this,arguments)}})),a.mixin(a.models.BaseModel,"GenerateFields","ErrorHandler")}(window,_,wattpad,window.app)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,a,s){"use strict";s.add("Base",Monaco.Model.extend({_loaded:null,_dependencies:null,initialize:function(){this._loaded=$.Deferred(),this.on("sync",this._setResolved,this),this.on("error",this._setRejected,this),this.init&&this.init.apply(this,arguments),this._setResource(),this._bindEvents()},_setResource:function(){var e=this;this.resource&&this.get(this.idAttribute)&&(this.collection||(this.collection=new Monaco.Collection,this.collection.cacheLocal=!0),this.collection.resource=this.collection.resource||function(){return"function"==typeof e.resource?e.resource():e.resource})},_bindEvents:function(){var e=this;this.events&&"object"===n(this.events)&&t.forEach(this.events,(function(t,n){e.on(n,e[t])}))},_setResolved:function(){this._loaded.resolve(this)},_setRejected:function(){this._loaded.reject(this)},_loadCheck:function(){return!0},dependsOn:function(e,t){var n=this;this._dependencies=this._dependencies||[],this._dependencies.push(e),t&&(e.get(t)?this._resolveDepenencyProperty(e,t):this.listenTo(e,"change:"+t,(function(){n._resolveDepenencyProperty(e,t)})))},_resolveDepenencyProperty:function(e,t){this.set(this.idAttribute,e.get(t))},generateFields:function(e){return e=e||{},!this.fields||e.data&&e.data.fields||(e.data=e.data||{},e.data.fields=this._recursiveFields(this.fields)),e},_recursiveFields:function(e){var n=this,a="";if("string"==typeof e)return e;if(Array.isArray(e))a+=t.map(e,(function(e){return n._recursiveFields(e)})).join(",");else{var s=[];t.forIn(e,(function(e,t){s.push(t+"("+n._recursiveFields(e)+")")})),a+=s.join(",")}return a},loaded:function(e){var n=this;return e=this.generateFields(e),this._loadCheck()?"pending"===this._loaded.state()&&(this._dependencies?$.when.apply($,t.map(this._dependencies,(function(e){return e.loaded()}))).done((function(){n._setResource(),n.fetch(e)})):(n._setResource(),this.fetch(e))):this._loaded.reject(),this._loaded}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("User",a.models.Base.extend({defaults:{username:null,avatar:null},fields:["username","name","description","avatar","backgroundUrl","createDate","location","following","followingRequest","numFollowing","follower","followerRequest","numFollowers","numLists","numStoriesPublished","votesReceived","facebook","twitter","website","smashwords","highlight_colour","html_enabled","verified","ambassador","wattpad_squad","is_staff",{programs:["wattpad_stars"]},"isPrivate","isMuted","externalId","notes",{safety:["isMuted","isBlocked"]}],authenticate:function(e,t){return $.ajax({url:"/api/v3/sessions",type:"POST",data:{username:e,password:t}})},authenticated:function(){return!!this.get("username")},getMaxNumParts:function(){return this.get("max_parts")},_resolveDepenencyProperty:function(e,t){this.set(this.idAttribute,e.get(t).name)},isStaff:function(){return this.get("is_staff")},isWattpadStar:function(){return this.get("programs")&&this.get("programs").wattpad_stars},_followers:null,followers:function(e){return this._followers||(this._followers=new a.collections.Followers),e?this._followers.get(e):this._followers},_following:null,following:function(e){return this._following||(this._following=new a.collections.Following(null,{user:this})),e?this._following.get(e):this._following},_library:null,library:function(e){return this._library||(this._library=new a.collections.Library(null,{user:this})),e?this._library.get(e):this._library},_works:null,works:function(e){return this._works||(this._works=new a.collections.Works(null,{user:this})),e?this._works.get(e):this._works},urlRoot:"/api/v3/users/",resource:function(){return"user."+this.get("username")},idAttribute:"username",determineFollowStatus:function(){var e=this;return Promise.resolve($.get("/api/v3/users/"+this.get("username"),{fields:"following"})).then((function(t){e.set("following",t.following)}))},acceptFollowRequest:function(){var e=n.utils.currentUser(),t=this;return Promise.resolve($.ajax({url:"/api/v3/users/"+e.get("username")+"/followers/"+this.get("username"),type:"POST"})).then((function(n){return e._clearFollowerCache(),t._clearFollowingCache(),n}))},ignoreFollowRequest:function(){var e=n.utils.currentUser(),t=this;return Promise.resolve($.ajax({url:"/api/v3/users/"+e.get("username")+"/followers/"+this.get("username")+"/requests",type:"PUT"})).then((function(n){return e._clearFollowerCache(),t._clearFollowingCache(),n}))},deleteFollower:function(){var e=n.utils.currentUser(),t=this;return Promise.resolve($.ajax({url:"/api/v3/users/"+e.get("username")+"/followers/"+this.get("username"),type:"DELETE"})).then((function(n){return e._clearFollowerCache(),t._clearFollowingCache(),n}))},acceptLatestTermsOfService:function(){var e=n.utils.currentUser(),t=this;return t.set("has_seen_latest_tos_notice",!0),Promise.resolve($.ajax({url:"/api/v3/users/"+e.get("username"),method:"PUT",data:{has_accepted_latest_tos:!0}})).then((function(e){return t.set("has_accepted_latest_tos",e.has_accepted_latest_tos),e.has_accepted_latest_tos})).catch((function(e){return console.error(e),!1}))},_clearFollowerCache:function(){var e=this.get("username");a.local.clear("user."+e),a.local.clear("user."+e+".follow-requests"),a.local.clear("user."+e+".profile.followers")},_clearFollowingCache:function(){var e=this.get("username");a.local.clear("user."+e),a.local.clear("user."+e+".following"),a.local.clear("user."+e+".profile.following")}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("UserModel",a.models.BaseModel.extend({idAttribute:"username",fields:["id,username,avatar,inbox"],urlRoot:"/api/v3/users/",resource:function(){return"user."+this.get("username")}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("Authlogin",Monaco.Model.extend({defaults:{user:null,password:null},validationRules:{user:[{func:"isRequired",msg:a.trans("Username/Email is required.")},{func:"isUsernameOrEmail",minLength:6,maxLength:20,msg:a.trans("You have not entered a valid email or username.")}],password:[{func:"isRequired",msg:a.trans("Password is required.")},{func:"minLength",length:6,msg:a.trans("Passwords must be 6-20 characters long.")},{func:"maxLength",length:20,msg:a.trans("Passwords must be 6-20 characters long.")}]},isUsernameOrEmail:function(e,t){var n,a,s;return!!(null!==e.match(this.regex.email))||(a=null!==e.match(this.regex.az09),s=null!==e.match(this.regex.hasLetter),n=e.length>=t.minLength&&e.length<=t.maxLength,!!(a&&s&&n))}})),s.mixin(s.models.Authlogin,"ValidationModel","GetAppValRules")}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("Authsignup",Monaco.Model.extend({})),s.mixin(s.models.Authsignup,"ValidationModel","SignupModel","GetAppValRules")}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("Authforgot",Monaco.Model.extend({defaults:{email:null},validationRules:{email:[{func:"isRequired",msg:a.trans("This field is required.")}]}})),s.mixin(s.models.Authforgot,"ValidationModel","GetAppValRules")}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("Authreset",Monaco.Model.extend({defaults:{confirm:null,password:null},validationRules:{password:[{func:"isRequired",msg:a.trans("Password is required.")},{func:"minLength",length:6,msg:a.trans("Your password must be at least 6 characters long.")},{func:"maxLength",length:20,msg:a.trans("Your password may be no longer than 20 characters.")}],confirm:[{func:"isRequired",msg:a.trans("Please confirm your password.")},{func:"isMatch",matchesKey:"password",msg:a.trans("Passwords must match.")}]}})),s.mixin(s.models.Authreset,"ValidationModel","GetAppValRules")}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("Signup",Monaco.Model.extend({})),s.mixin(s.models.Signup,"ValidationModel","SignupModel")}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("StoryText",Monaco.Model.extend({parse:function(e){return{text:e,paragraphs:this.filterHTML(e).reduce((function(e,t){var n=t.getAttribute("data-p-id");return t.getAttribute("data-media-type")?e[n]=t.outerHTML:e[n]=t.innerHTML.trim(),e}),{})}},fetch:function(e){var t=this;return(e=e||{}).dataType="html",Promise.resolve(Monaco.Model.prototype.fetch.call(this,e)).catch((function(n){return e.reject?Promise.reject():t.refreshToken()}))},filterHTML:function(e){return t.filter(s.parseHTML(e),(function(e){return 3!==e.nodeType}))},getParagraphById:function(e){return this.get("paragraphs")[e]},url:function(){return this.get("url")},refreshToken:function(){var e=this;return this.get("token")?Promise.resolve(s.get(this.get("token"))).catch((function(){return Promise.reject()})).then((function(t){return e.set("url",e.url().replace(/\?.*/,"?"+t.token)),Promise.resolve(e.fetch({reject:!0}))})):Promise.reject()}}))}(window,_,wattpad,window.app,jQuery)},function(e,t,n){"use strict";n.r(t);var a=n(23),s=n.n(a),i=n(24),l=n.n(i);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,s=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(a=(l=r.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var c=["id","title","createDate","modifyDate","voteCount","readCount","commentCount","description","url","firstPublishedPart","cover","language","isAdExempt",{user:["name","username","avatar","location","highlight_colour","backgroundUrl","numLists","numStoriesPublished","numFollowing","numFollowers","twitter"]},"completed","isPaywalled","numParts","lastPublishedPart",{parts:["id","title","length","url","deleted","draft"]},"tags","categories","rating","rankings","tagRankings","language","copyright","sourceLink","firstPartId","deleted","draft","hasBannedCover","length"],u=[].concat(c,["qualifiedUniqueReaders"]);!function(e,t,n,a,i){a.add("StoryModel",a.models.BaseModel.extend({defaults:{cover:"",title:"",description:""},fields:c,cacheLocal:!0,urlRoot:"/api/v3/stories/",resource:function(){return"story.read."+parseInt(this.get("id"),10)+".metadata"},fetch:function(i){i=i||{},t.get(e,"wattpad.testGroups.QUALIFIED_UNIQUE_READERS",!1)&&i.isAnalyticsPage&&(this.fields=u);var o=a.models.BaseModel.prototype.fetch.call(this,i);if(!0===o||!o)return Promise.resolve(o);var c=this;t.bindAll(this,"fetchPromotionStatus","buildAdRequestData","parsePromotionStatus","parseStorySafetyLevel");var d=Promise.resolve($.get("/v5/stories/"+this.get("id")+"/classification/safety")).then(c.parseStorySafetyLevel).catch((function(){})),h=Promise.resolve([]);n.utils.eligibleForDirectSoldAds()&&!n.utils.currentUser().get("isPremium")&&(h=Promise.resolve(c.fetchPromotionStatus()).then(c.parsePromotionStatus).catch((function(){})));var p=function(){return Promise.resolve()};t.get(e,"wattpad.testGroups.MATURE_FLAG_REFACTOR",!1)&&(p=function(e){return Promise.resolve(s()(e))});var m=function(){return Promise.resolve()};return t.get(e,"wattpad.testGroups.USE_BSS",!1)&&(m=function(e){return Promise.resolve(l()(e))}),o.then((function(e){return!0!==e&&e?Promise.all([h,d,p(e),m(e)]).then((function(e){var t=r(e,4),n=t[0],a=(t[1],t[2]),s=t[3];return c.set("contentRating",a),s&&(c.set("brandSafetySource",s.brandSafetySource),c.set("brandSafetyLevel",s.brandSafetyLevel)),n})):e}))},fetchPromotionStatus:function(){var e=this.buildAdRequestData();return Promise.resolve($.ajax({type:"POST",url:"https://adz.wattpad.com/api/v2",dataType:"json",contentType:"text/plain",data:JSON.stringify(e),xhr:function(){var e=jQuery.ajaxSettings.xhr(),t=e.setRequestHeader;return e.setRequestHeader=function(e,n){"Authorization"!=e&&t.call(this,e,n)},e}}))},buildAdRequestData:function(){var e=a.get("supported-languages").find({id:parseInt(a.get("language"),10)}).get("nameEnglish"),t=n.utils.currentUser().get("externalId")||"";return{placements:[{divName:"azk70876",networkId:9660,siteId:421790,adTypes:[318],zoneIds:this.get("zoneIds"),properties:{userLanguage:e,storyId:String(this.get("id"))},user:{key:t},time:"123455",keywords:[this.get("id")]}]}},parsePromotionStatus:function(e){return t.get(e,"decisions.azk70876")&&(this.set("sponsorName",t.get(e,"decisions.azk70876.contents[0].data.customData.sponsorName")),this.set("promoted",!0),this.set("clickUrl",t.get(e,"decisions.azk70876.clickUrl")),this.set("impressionUrl",t.get(e,"decisions.azk70876.impressionUrl")),this.set("thirdParty",t.get(e,"decisions.azk70876.contents[0].data.customData.thirdParty"))),this},parseStorySafetyLevel:function(e){var n=t.get(e,"safe_for");return 1===n?this.set("isBrandSafe",!0):0===n&&this.set("noIndex",!0),this},parse:function(e){if(e.categories&&e.categories.length>1&&(e.categories=[e.categories[0]||e.categories[1]],a.get("categories"))){var s=a.get("categories").get(e.categories[0]);s&&(e.categoryObject=s.toJSON())}e.language&&(e.language=e.language?e.language.id||e.language:this.get("language")||1);var i=e.rankings?e.rankings:[],l=null;return i.length>0&&t.each(i,(function(e){e.rank>l&&(l=e.rank)})),e.rank=l,e.promoted&&(e.sponsor&&(e.sponsorName=e.sponsor.name?e.sponsor.name:e.user.name),e.contest&&(e.contest.ctaLabel=e.contest.ctaLabel||n.utils.trans("SUBMIT NOW"))),e},syncPosition:function(e){var t=this;e?$.post("/apiv2/syncreadingposition",{story_id:this.get("firstPartId"),position:e}):$.get("/apiv2/syncreadingposition",{story_id:this.get("firstPartId")}).done((function(e){t.trigger("reading-position-available",e)}))}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t,n,a){"use strict";a.add("StoryLabelsModel",a.models.BaseModel.extend({fields:["characters","target_audience"],idAttribute:"storyId",urlRoot:"/v5/stories",resource:function(){return"story."+this.get("id")+".labels"}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(23),s=n.n(a),i=n(24),l=n.n(i);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,s=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(a=(l=r.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}!function(e,t,n,a,i){a.add("StoryPartModel",a.models.BaseModel.extend({fields:["id","title","url","modifyDate","length","wordCount","videoId","photoUrl","commentCount","voteCount","readCount","voted","private","pages","text_url","rating","deleted","draft","isAdExempt","hasBannedHeader",{group:["id","title","cover","url",{user:["username","name","avatar","twitter","authorMessage"]},"categories","isAdExempt","deleted","draft","rating","language","description","tags","completed","isPaywalled",{parts:["title","url","id","deleted","draft","rating"]},"rankings"]},{dedication:["name","url"]},{source:["url","label"]}],cacheLocal:!0,bypassBrowserCache:!0,urlRoot:"/v4/parts/",defaults:{private:!1},resource:function(){return"part."+parseInt(this.get("id"),10)+".metadata"},fetch:function(n){var i=this;n=n||{};var o=Promise.resolve(a.models.BaseModel.prototype.fetch.call(this,n)),c=function(e){var n=t.get(e,"group.id");return n?Promise.resolve($.ajax({type:"GET",url:"/v5/stories/"+n+"/classification/safety"})):e},u=function(){return Promise.resolve()},d=function(){return Promise.resolve()};return t.get(e,"wattpad.testGroups.MATURE_FLAG_REFACTOR",!1)&&(u=function(e){return Promise.resolve(s()(e.group,e))}),t.get(e,"wattpad.testGroups.USE_BSS",!1)&&(d=function(e){return Promise.resolve(l()(e.group,e))}),o.then((function(e){return!0!==e&&e?Promise.all([c(e),u(e),d(e)]).then((function(n){var a=r(n,3),s=a[0],l=a[1],o=a[2],c=t.get(s,"safe_for");return 1===c?t.extend(e.group,{isBrandSafe:!0}):0===c&&t.extend(e.group,{noIndex:!0}),void 0!==l&&i.set("contentRating",l),o&&(i.set("brandSafetyLevel",o.brandSafetyLevel),i.set("brandSafetySource",o.brandSafetySource)),e})):e}))},parse:function(e){e.group.categories&&e.group.categories.length>1&&(e.group.categories=[e.group.categories[0]||e.group.categories[1]]),t.each(e.group.parts,(function(t){t.id===e.id&&(t.active=!0)}));var n=e.group.rankings?e.group.rankings:[],a=null;return n.length>0&&t.each(n,(function(e){e.rank>a&&(a=e.rank)})),e.rank=a,e},syncPosition:function(e){var t=this;e?$.post("/apiv2/syncreadingposition",{story_id:t.get("id"),position:e}):$.get("/apiv2/syncreadingposition",{story_id:t.get("id")}).done((function(e){var n=e.position||0;t.trigger("reading-position-available",t.get("id")===e.part?n:0)}))},getCommentCountByParagraph:function(){var e=this,t=$.ajax({type:"GET",url:"/v4/parts/"+this.get("id")+"/paragraphs"});return Promise.resolve(t).then((function(t){return e.set({paragraphs:t.paragraphs}),{paragraphs:t.paragraphs}}))},getPage:function(e){if(!this.loadedPages){this.loadedPages={};var t=a.local._getLocalData(this.resource()).resp,s=t.pageNumber;if(t.storyText){var i=n.utils.unsanitizeHTML(t.storyText);this.loadedPages[s]=new a.models.StoryText({url:l,token:this.get("text_url").refresh_token}),this.loadedPages[s].set("text",i),this.loadedPages[s].set("paragraphs",this.loadedPages[s].parse(i).paragraphs)}}if(e>this.get("pages"))return Promise.resolve();if(this.loadedPages[e])return Promise.resolve(this.loadedPages[e]);var l="";l=this.get("text_url").text.indexOf("/apiv2/")>-1?this.get("text_url").text.replace(/(page=)([0-9]*)/i,"$1"+e):this.get("text_url").text.replace(/([0-9]+-[0-9a-z]+)(\?.*)/i,"$1-"+e+"$2");var r=this.loadedPages[e]=new a.models.StoryText({url:l,token:this.get("text_url").refresh_token}),o=this;return Promise.resolve(r.fetch()).then((function(){return r}),(function(){o.handlePromiseExpected("")}))},vote:function(){var e=this.get("voted"),t=$.ajax({url:"/api/v3/stories/"+this.get("group").id+"/parts/"+this.get("id")+"/votes",type:e?"DELETE":"POST"}),n=this;return Promise.resolve(t).then((function(t){return n.set({voteCount:t.votes,voted:!e}),t}))}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t,n,a){"use strict";a.add("StoryPartCreateModel",a.models.BaseModel.extend({defaults:{title:"Untitled Part 1",text:"<p><br></p>",copyright:1,flag1:0,groupid:0,req_type:"new",id:"new",cover_url:"",error_count:0,errors:[],story_url:"",skip_title:0},fields:["id","title","category1","category2","language","title","text","flag1","groupid","author","private","deleted","text_hash"],v2CreateUrl:"/apiv2/newstory",v2DeleteUrl:"/apiv2/deletestory",v2UpdateUrl:"/apiv2/editstory",urlRoot:"/api/v3/story_parts/",initialize:function(){this.listenTo(this,"change:text",this.saveLocalText)},resource:function(){return"part."+parseInt(this.get("id"),10)+".metadata"},parse:function(e){return this.set("last_text_hash",e.text_hash),a.models.BaseModel.prototype.parse.apply(this,arguments)},save:function(e,t){var n=this;return this.failedSaveCount=this.failedSaveCount||0,n.trigger("partModel:save-online"),this.saveXhr&&this.saveXhr.abort(),this.saveXhr=a.models.BaseModel.prototype.save.apply(this,arguments),this.saveXhr.done((function(e){n.saveXhr=null,n.failedSaveCount=0,n.saveOnline||(n.trigger("partModel:save-online"),n.saveOnline=!0,n.failedSaveCount=0)})),this.saveXhr.fail((function(e){"abort"===e.statusText&&n.unset("last_text_hash"),n.failedSaveCount++,n.failedSaveCount>=4&&(n.saveOnline=!1,n.trigger("partModel:save-offline"))})),this.saveXhr},publish:function(){return this.set({publish:1,part_id:this.get("id"),draft:0}),this.save()},unpublish:function(){return this.save({publish:0,part_id:this.get("id"),draft:1},{url:this.url()})},saveLocalText:function(){try{e.localStorage.setItem(parseInt(this.get("groupid"),10)+"."+parseInt(this.get("id"),10)+".storyText",this.get("text"),!0)}catch(e){a.trigger("works:storytext-localsave-failed",this)}}})),a.mixin(a.models.StoryPartCreateModel,"ApiV2")}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("StoryPartLabelsModel",a.models.BaseModel.extend({fields:["id","time_setting"],idAttribute:"partId",urlRoot:"/v5/parts",resource:function(){return"part."+this.get("id")+".labels"}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("StoryGroup",a.models.Base.extend({events:{"change:parts":"initializeParts","change:categories":"initializeCategories"},slug:function(){return this.get("id")+"-"+n.utils.slugify(this.get("title"),!0)},initializeParts:function(){var e,n=this,s=null;this._parts=[],t.each(this.get("parts"),(function(i){n._dependencies&&(s=t.find(n._dependencies,(function(e){return e instanceof a.models.Story&&e.get("id")===i.id})))?n._parts.push(s):((e=new a.models.Story(i))._group=n,n._parts.push(e))}))},initializeCategories:function(){var e=this.get("categories"),n=a.get("categories"),s=this;this._categories=[],n&&t.each(e,(function(e){var t=n.get(e);t&&s._categories.push(t.get("name"))}))},_author:null,author:function(){return null===this._author&&(this._author=new a.models.User,this._author.dependsOn(this,"user")),this._author},_parts:null,parts:function(e){return this._parts||(this._parts=[]),void 0!==e?this._parts[e]:this._parts},_categories:null,categories:function(e){return this._categories&&0!==this._categories.length||this.initializeCategories(),void 0!==e?this._categories[e]:this._categories},_comments:null,comments:function(){},resource:function(){return"group."+this.get("id")+".metadata"},urlRoot:"/api/v3/stories"}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("ReadingList",a.models.BaseModel.extend({defaults:{id:null,name:null,numStories:0,cover:0,tags:[],featured:!1},fields:["id","name",{user:["name","avatar","following"]},"numStories","sampleCovers","cover","tags","featured"],url:function(){return"/api/v3/lists/"+(this.get("id")?this.get("id"):"")},validationRules:{name:[{func:"minLength",length:1,msg:s.trans("Your reading list must have a title.")}]},resource:function(){return"reading-list."+this.get("id")},stories:function(e){if(!this._stories){var n={listId:this.get("id")};t.isNumber(e)&&t.extend(n,{limit:e}),this._stories=new a.collections.ReadingListStories(this.get("stories"),n),this._stories.on({removedStory:function(e){this.trigger("list:removed",this.get("id"),e.get("id"))},addedStory:function(e){this.trigger("list:added",this.get("id"),e.get("id"))}},this)}return this._stories}})),a.mixin(a.models.ReadingList,"ValidationModel")}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t,n,a){"use strict";a.add("UserEvent",a.models.Base.extend({defaults:{id:null,type:null,createDate:null,data:null},validTypes:["follow","vote","comment","inline_comment","library","upload","message","placeholder","dedicate","newMessage"],isValid:function(){var e=this.get("type");return t.contains(this.validTypes,e)},createCommentDeeplinkUrl:function(e){return e.data.comment.parentId?e.data.story.part.url+"/comment/"+e.data.comment.parentId+"/replies/"+e.data.comment.id:e.data.story.part.url+"/comment/"+e.data.comment.id},parse:function(e,n){if("comment"!==e.type&&"inline_comment"!==e.type||t.get(e,"data.comment.deeplink_url")||(e.data.comment.deeplink_url=this.createCommentDeeplinkUrl(e)),"message"===e.type){var s=e.id;t.extend(e,e.data.message),e.id=s,e.username=e.username||e.to.name,e.latestReplies=e.latestReplies||[]}return e.children&&(e.group=[],e.group.push({id:e.id,type:e.type,createDate:e.createDate,data:e.data})),a.models.Base.prototype.parse(e,n)}})),a.mixin(a.models.UserEvent,"BeautifyURL")}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("UserInvite",a.models.Base.extend({defaults:{id:null,emails:null,content:null},v2Url:"/apiv2/userinvites"})),a.mixin(a.models.UserInvite,"ApiV2")}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("PublicMessage",a.models.UserEvent.extend({fields:["id","type","createDate","data"],validTypes:["follow","vote","comment","inline_comment","library","upload","message","dedicate","newMessage"],initialize:function(e){if("string"!=typeof(e=e||{}).username||""===e.username.trim())throw new Error("PublicMessage: username cannot be null");a.models.UserEvent.prototype.initialize.apply(this,arguments)},url:function(){return"/api/v3/users/"+this.get("username")+"/activity/"+this.get("id")},resource:function(){return"user."+this.get("username")+".activity."+this.get("id")},idAttribute:"createDate"}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("PinnedMessage",a.models.PublicMessage.extend({fields:["id","body","createDate","from","numReplies","isReply","latestReplies","isOffensive"],url:function(){return"/v4/users/"+this.get("username")+"/messages/latest/"},resource:function(){return"user."+this.get("username")+".latest.activity."},idAttribute:"createDate"})),a.mixin(a.models.PinnedMessage,"GenerateFields")}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("NotificationEvent",a.models.UserEvent.extend({defaults:{id:null,type:null,createDate:null,data:null,isRead:!1,children:[],group_url:""},validTypes:["follow","follower_approved","vote","comment","inline_comment","library","message","dedicate","forum_post","upload","friend_join"]}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("StoryCreateModel",a.models.StoryModel.extend({defaults:{cover:"",title:"",description:"",skip_title:0,tags:[]},fields:["id","title","voteCount","readCount","commentCount","description","url","user","cover","cover_timestamp","completed","numParts","lastPublishedPart","cover_source_id","cover_partner",{parts:["id","title","url","draft","modifyDate","createDate","length","videoId","photoUrl","user","pages","text_url","rating","voted","private","flag1","dedication","voteCount","readCount","commentCount","source","deleted","text_hash","hasBannedImages","hasBannedHeader","wordCount"]},"tags","categories","rating","ratingLocked","mature","language","copyright","deleted","hasBannedCover"],v2Fields:["id","title","description","language","copyright","textids","complete","category1","dedication","human_rating","transaction_key","skip_title"],v2CreateUrl:"/apiv2/newstorygroup",v2UpdateUrl:"/apiv2/editstorygroup",v2DeleteUrl:"/apiv2/deletestorygroup",parse:function(e){return e.parts&&(e.textids=t.pluck(e.parts,"id").join(",")),e.published=!1,t.each(e.parts,(function(t){t.stats=!!(t.readCount||t.voteCount||t.commentCount),t.flag1=t.private?1:0,t.source=t.source?t.source.url:"",e.published=e.published||!t.draft})),a.models.StoryModel.prototype.parse.call(this,e)},initialize:function(e){this.validationRules={description:[{func:"maxLength",length:2e3,msg:s.trans("Your description may be no longer than 2000 characters.")}],title:[{func:"maxLength",length:80,msg:s.trans("Your title may be no longer than 80 characters.")},{func:"isRequired",msg:s.trans("Please enter a title for your story.")},{func:"isNotEq",val:s.trans("Untitled Story"),msg:s.trans("Please enter a title for your story.")}]}},isInsightsEligible:function(){var t=this.get("language"),n=this.get("categories"),a=e.wattpad.testGroups.PAID_WRITER_INSIGHTS,s=this.get("published"),i=1===t,l=n.includes(2);return a&&s&&i&&!l},resource:function(){return"story."+parseInt(this.get("id"),10)+".metadata"},expireLocal:1})),a.mixin(a.models.StoryModel,"ApiV2Patch","ApiV2","ValidationModel")}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t,n,a){"use strict";a.add("Message",a.models.BaseModel.extend({defaults:{id:null,createDate:null,from:null,isReply:!1,parentId:null,body:null,broadcast:!1},cacheLocal:!1,initialize:function(e){if("string"!=typeof(e=e||{}).ownername||""===e.ownername.trim())throw new Error("Message: ownername cannot be null");a.models.BaseModel.prototype.initialize.apply(this,arguments)},url:function(){return"/v4/users/"+this.get("ownername")+"/messages"},sync:function(e,t,n){return n=n||{},"delete"===e&&(n.url=this.url()+"/"+t.get("id")),a.models.BaseModel.prototype.sync.apply(this,arguments)}})),a.mixin(a.models.Message,"BeautifyURL")}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("SupportTicket",a.models.BaseModel.extend({cacheLocal:!1,urlRoot:"/v4/support/tickets",defaults:{name:null,email:null,comment:"",reportType:"",reason:"",ticket_form_id:null,username:null,custom_fields:[]},fields:["comment","ticket_form_id","custom_fields"],initialize:function(e){n.utils.currentUser().authenticated()||(this.validationRules={name:[{func:"isRequired",msg:s.trans("Name is required.")},{func:"hasLetter",msg:s.trans("Please enter your name or Wattpad username.")}],email:[{func:"isRequired",msg:s.trans("Email is required.")},{func:"isEmail",msg:s.trans("Invalid email.")}]})},setCustomField:function(e,n){var a,s,i;i={id:e,value:n},a=this.get("custom_fields"),(s=t.findIndex(a,{id:e}))<0?a.push(i):a[s]=i},setRequester:function(){this.has("name")&&this.has("email")&&(this.set("requester",{name:this.get("name"),email:this.get("email")}),this.unset("name"),this.unset("email"))}})),a.mixin(a.models.SupportTicket,"ValidationModel")}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("GetMobile",Monaco.Model.extend({})),s.mixin(s.models.GetMobile,"ValidationModel","GetMobileValRules")}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("DiscoverModule",a.models.Base.extend({defaults:{id:null,type:null,createDate:null,data:null},validTypes:["listCurated","storiesRecentlyRead","storiesRecommended","storiesRecommendedExplore","storiesRecommendedRNN","storiesRecommendedInfluential","storiesRecentlyUpdated","storiesSupported","storiesTop","storiesByFollowedHub","storiesByPromotedUser","tagTop","tagRecommended","storiesByRecentVote","hubTop","listsByFollowedHub","storiesRecentlyVotedByFollowedHubs","hubsFollowedByFollowedHub","listTrending","listPromoted","hubTrending","tagTrending","storiesBySearchResults","emergentStories"],promotedModules:["storiesByPromotedUser","listPromoted","promotedStoriesRecommended"],isValid:function(){var e=this.get("type");return t.contains(this.validTypes,e)},parse:function(e){return n.utils.currentUser().get("isPremium")&&t(this.promotedModules).includes(e.type)?void 0:e}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("TagModuleItem",a.models.Base.extend({defaults:{id:null,type:null,createDate:null,data:null},validTypes:["hotStoriesForTag","newStoriesForTag","relatedWritersForTag","relatedReadingListsForTag","relatedTagsForTag"],isValid:function(){var e=this.get("type");return t.contains(this.validTypes,e)}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("PromotedStoryModel",s.models.BaseModel.extend({cacheLocal:!1,initialize:function(e){e=e||{},this.storyId=e.storyId||"",this.zoneIds=e.zoneIds||[155799],this.descCharLimit=e.descCharLimit||170,this.baseStoryCategory=e.baseStoryCategory,t.bindAll(this,"checkforPromotedStory","fetchPromotedStory","parse")},fetch:function(){var e=this;return!a.eligibleForDirectSoldAds()||n.utils.currentUser().get("isPremium")?Promise.resolve():Promise.resolve(e.checkforPromotedStory()).then(e.fetchPromotedStory).then(e.parse).catch((function(){e.storyModel=null}))},parse:function(e){return e&&(e.promoted=!0,e.description&&(e.description=a.sanitizeHTML(e.description)),e.descCharLimit=this.descCharLimit,this.promotedCover&&this.promotedCover.length&&(e.cover=this.promotedCover),e.sponsorName=this.sponsor?this.sponsor.name:e.user.name),e},checkforPromotedStory:function(){var e=this.buildAdRequestData();return Promise.resolve($.ajax({type:"POST",url:"https://adz.wattpad.com/api/v2",dataType:"json",contentType:"text/plain",data:JSON.stringify(e),xhr:function(){var e=jQuery.ajaxSettings.xhr(),t=e.setRequestHeader;return e.setRequestHeader=function(e,n){"Authorization"!=e&&t.call(this,e,n)},e}}))},buildAdRequestData:function(){var e=s.get("supported-languages").find({id:parseInt(s.get("language"),10)}).get("nameEnglish"),t=n.utils.currentUser().get("externalId")||"",a="";return this.baseStoryCategory&&(a=s.get("categories").find({id:this.baseStoryCategory}).get("name_english")),{placements:[{divName:"azk70876",networkId:9660,siteId:421790,adTypes:[318],zoneIds:this.zoneIds,properties:{userLanguage:e,storyCategory:[a],storyId:String(this.storyId)},user:{key:t},time:"123455",keywords:[a]}]}},fetchPromotedStory:function(e){return this.storyModel=this.parsePromotedStory(e),!!this.storyModel?this.storyModel.fetch():Promise.resolve(null)},parsePromotedStory:function(e){if(t.get(e,"decisions.azk70876.contents[0].data.customData.story.id")){var n=e.decisions.azk70876.contents[0].data.customData;return this.promotedCover=n.story.cover,this.sponsor=n.story.sponsor,this.clickUrls=[e.decisions.azk70876.clickUrl],this.impressionUrls=[e.decisions.azk70876.impressionUrl],n.thirdParty&&(n.thirdParty.clickUrls&&(this.clickUrls=this.clickUrls.concat(n.thirdParty.clickUrls)),n.thirdParty.impressionUrls&&(this.impressionUrls=this.impressionUrls.concat(n.thirdParty.impressionUrls))),new s.models.StoryModel({id:n.story.id})}return null}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("BaseCollection",Monaco.Collection.extend({resource:"resource-not-set",cacheLocal:!0})),a.mixin(a.collections.BaseCollection,"GenerateFields","CollectionParsing")}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("IncrementalFetch",a.collections.BaseCollection.extend({constructor:function(e,n){if(n=n||{},this.arrayKey=n.arrayKey||this.arrayKey,this.fields=n.fields||this.fields,this.limit=n.limit||this.limit||10,this.offset=e&&e.length?e.length:0,this.total=null,"string"!=typeof this.arrayKey)throw new Error("IncrementalFetch: this.arrayKey { String } must be specified ( necessary for API request ).");if(!t.isArray(this.fields))throw new Error("IncrementalFetch: this.fields { Array } must be specified ( necessary for API request ).");this.on("reset",this.onReset,this),this.on("sync",this.onSync,this),a.collections.BaseCollection.prototype.constructor.apply(this,arguments)},resource:"incremental.list.unknown",revertParse:function(){var e=a.collections.BaseCollection.prototype.revertParse.apply(this,arguments);return this.revertParseExtras(e),e},revertParseExtras:function(e){},fetchNextSet:function(e){return null===this.total||this.total>this.offset?((e=e||{}).data=t.extend({offset:this.offset,limit:this.limit},e.data||{}),e=t.extend({fresh:null!==this.total,remove:!1},e),this.fetch(e)):$.Deferred().reject().promise()},onSync:function(){this.updateOffset.apply(this,arguments),this.trigger("fetchNext:done")},updateOffset:function(){this.offset=this.models.length},hasMore:function(){return this.offset<this.total},onReset:function(){this.total=null,this.offset=0}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("IncrementalFetchNextUrl",a.collections.IncrementalFetch.extend({constructor:function(e,t){t=t||{},this.turnOffPagination=t.turnOffPagination||!1,this.nextUrl=null,a.collections.IncrementalFetch.prototype.constructor.apply(this,arguments)},fetchNextSet:function(e){return null===this.nextUrl&&((e=e||{}).data=t.extend({offset:this.offset,limit:this.limit},e.data||{})),e=t.extend({fresh:null!==this.total,remove:!1},e),this.fetch(e)},url:function(){return this.nextUrl?this.updateWpToken(this.nextUrl):this.defaultUrl()},hasMore:function(){return!this.turnOffPagination&&void 0!==this.nextUrl},onReset:function(){this.total=null,this.nextUrl=null,this.offset=0},revertParse:function(){var e=a.collections.IncrementalFetch.prototype.revertParse.apply(this);return e.nextUrl=this.nextUrl,e},updateWpToken:function(e){return e}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("StoryGroup",a.collections.IncrementalFetch.extend({model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["title","voteCount","readCount","commentCount","cover","tags","rating","url","id","description","categories","user","lastPublishedPart",{parts:""}]},"total","nextUrl"],resource:"storygroup.collection"}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("StoryStats",Monaco.Collection.extend({arrayKey:"analytics",cacheLocal:!0,resource:function(){return"storystats."+this.id+"."+this.statType},initialize:function(e,t){this.id=t.id,this.statType=t.statType},url:function(){var e="/v4/stories/"+this.id+"/"+this.statType;return"activities"===this.statType&&(e+="?interval=30"),e},errors:{fetchError:a.trans("We seem to have had some issues getting your story's analytics. Please try again"),1097:a.trans("I'm sorry, I can't do that for you ")+a.currentUser().get("username")+a.trans(". Your story must be published before you can view Writer Analytics."),1016:a.trans("I'm sorry, I can't do that for you ")+a.currentUser().get("username")+a.trans(". You may only view Writer Analytics for your own stories."),1018:a.trans("I'm sorry, I can't do that for you ")+a.currentUser().get("username")+a.trans(". You must be logged in to view Writer Analytics."),1017:a.trans("Our apologies, the story you requested was not found.")}})),s.mixin(s.collections.StoryStats,"CollectionParsing")}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("Works",a.collections.IncrementalFetchNextUrl.extend({initialize:function(e,t){if(!(t=t||{}).username)throw new Error("Works Collection - Missing parameter username");t.nextUrl&&(this.nextUrl=t.nextUrl),this.username=t.username,this.published=t.published||!1,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},model:a.models.StoryCreateModel,arrayKey:"stories",fields:[{stories:["id","title","voteCount","readCount","commentCount","categories","description","cover","completed","numParts","lastPublishedPart","url","tags","language","user","hasBannedCover",{parts:["draft","title","id","modifyDate","hasBannedImages"]}]},"total","nextUrl"],defaultUrl:function(){return this.published?this.urlPublished():"/api/v3/users/"+this.username+"/stories"},urlPublished:function(){return"/v4/users/"+this.username+"/stories/published"},hasBannedImages:function(){var e=t.some(this.models,(function(e){if(t.some(e.get("parts"),(function(e){if(!0!==e.deleted&&e.hasBannedImages)return!0}))||e.get("hasBannedCover"))return!0}));return e},resource:function(){return"user."+this.username+".works"+(this.published?".published":"")},cacheLocal:!0}))}(window,_,wattpad,window.app)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,a,s){"use strict";s.add("Base",Monaco.Collection.extend({_loaded:null,_dependencies:null,initialize:function(){this._loaded=$.Deferred(),this.on("sync",this._setResolved,this),this.on("error",this._setRejected,this),this.init&&this.init.apply(this,arguments),this._bindEvents()},_bindEvents:function(){var e=this;this.events&&"object"===n(this.events)&&t.forEach(this.events,(function(t,n){e.on(n,e[t])}))},resource:function(){throw new Error("resource must be implemented to use localCache")},_setResolved:function(){this._loaded.resolve(this)},_setRejected:function(){this._loaded.reject(this)},dependsOn:function(e,t){this._dependencies=this._dependencies||[],this._dependencies.push(e)},generateFields:function(e){return e=e||{},!this.fields||e.data&&e.data.fields||(e.data=e.data||{},e.data.fields=this._recursiveFields(this.fields)),e},_recursiveFields:function(e){var n=this,a="";if("string"==typeof e)return e;if(Array.isArray(e))a+=t.map(e,(function(e){return n._recursiveFields(e)})).join(",");else{var s=[];t.forIn(e,(function(e,t){s.push(t+"("+n._recursiveFields(e)+")")})),a+=s.join(",")}return a},loaded:function(e){var n=this;return e=this.generateFields(e),!this.url||"function"==typeof this.url&&!this.url()?this._loaded.resolve():"pending"===this._loaded.state()&&(this._dependencies?$.when.apply($,t.map(this._dependencies,(function(e){return e.loaded()}))).done((function(){n.fetch(e)})):this.fetch(e)),this._loaded},lookup:function(e){var t=this.get(e),n=$.Deferred();return t?n.resolve(t):((t=new this.model({id:e})).collection=this,this.add(t),t.loaded().done((function(e){n.resolve(e)}))),n.promise()},ghost:function(e){var t=new this.model({id:e});return t.collection=this,this.add(t),t}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("User",a.collections.Base.extend({resource:"users.collection",model:a.models.User}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("Library",a.collections.Base.extend({eventsOn:!1,init:function(e,t){var n=this;(t=t||{}).user?this._user=t.user:(this._loaded.reject(),this._user=new a.models.User),this.on("request",(function(){this.eventsOn&&(n.off("add",n.saveItem),n.off("remove",n.deleteItem),this.eventsOn=!1)})),this.on("sync",(function(){this.eventsOn||(this.eventsOn=!0,n.on("add",n.saveItem,n),n.on("remove",n.deleteItem,n))}))},saveItem:function(t){var n=this;if(this.url()){$.post(this.url(),{stories:t.get("id")}).done((function(){n.trigger("added",t)})).fail((function(e){n.trigger("error-adding",e)}));var a=e.te.getPage();e.te.push("event","app","library","story","add",{storyid:t.get("id"),page:a}),"story_details"===a&&e.te.push("event","story_details","story","library","add",{storyid:t.get("id")})}},deleteItem:function(t){var n=this;this.url()&&($.ajax({url:this.url(!0)+"/"+t.get("id"),type:"DELETE"}).done((function(){n.trigger("removed",t.get("id"))})).fail((function(e){n.trigger("error-removing",e)})),e.te.push("event","wattpad","story","library","remove",{storyid:t.get("id")}))},_user:null,user:function(){return this._user},resource:function(){return this.user().authenticated()?"user."+this.user().get("username")+".library":null},url:function(e){return this.user().authenticated()?"/api/v3/users/"+this.user().get("username")+"/library"+(e?"":"?fields=stories(id)"):null},parse:function(e){return e.stories}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("Followers",a.collections.Base.extend({}))}(window,_,wattpad,window.app)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,a,s){"use strict";s.add("Following",s.collections.Base.extend({model:s.models.User,init:function(e,t){t=t||{},this._user=t.user},_user:null,user:function(){return this._user},resource:function(){return"user."+this.user().get("username")+".following"},url:function(){return"/api/v3/users/"+this.user().get("username")+"/following"},_clearCache:function(e,t){s.local.clear("user."+e),s.local.clear("user."+e+".following"),s.local.clear("user."+e+".profile.following"),s.local.clear("user."+t),s.local.clear("user."+t+".profile.followers")},follow:function(e){var t=this;return"string"==typeof e?this._doFollowRequest(e).done((function(){t._clearCache(t.user().get("username"),e)})):"object"===n(e)&&e instanceof s.models.User?this._doFollowRequest(e.get("username")).done((function(){t._clearCache(t.user().get("username"),e.get("username"))})):$.Deferred().reject().promise()},_doFollowRequest:function(e){return $.post(this.url()+"?users="+e)},unfollow:function(e){var t=this;return"string"==typeof e?this._doUnFollowRequest(e).done((function(){t._clearCache(t.user().get("username"),e)})):"object"===n(e)&&e instanceof s.models.User?this._doUnFollowRequest(e.get("username")).done((function(){t._clearCache(t.user().get("username"),e.get("username"))})):$.Deferred().reject().promise()},_doUnFollowRequest:function(e){return $.ajax(this.url()+"/"+e,{type:"DELETE"})}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("Stories",a.collections.Base.extend({resource:"stories.collection"}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("SimilarStories",a.collections.BaseCollection.extend({baseStoryId:null,model:a.models.StoryModel,fields:["id","title","voteCount","readCount","createDate","lastPublishedPart",{user:["name","avatar"]},"cover","url","numParts","isPaywalled","completed","mature"],resource:function(){return"group."+this.baseStoryId+".similar"},cacheLocal:!1,initialize:function(e,t){t=t||{},this.baseStoryId=t.storyId,this.limit=t.limit||3,this.baseStory=t.baseStory||{},t.showDescription&&this.fields.push("description")},fetch:function(e){return(e=e||{}).data=t.extend({limit:this.limit},e.data||{}),a.collections.BaseCollection.prototype.fetch.call(this,e)},parse:function(e){return t.filter(e,(function(e){return e.user&&e.cover}))},url:function(){return"/api/v3/stories/"+this.baseStoryId+"/recommended"}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("NewMessageReplies",a.collections.IncrementalFetch.extend({model:a.models.Message,cacheLocal:!1,arrayKey:"replies",fields:[{replies:["id","body","createDate","from","isReply","parentId","isOffensive","eventId"]},"message","nextUrl"],nextUrl:null,initialize:function(e,t){t=t||{},this.parentId=t.parentId,this.messageOwnerName=t.messageOwnerName,this.on("add remove",(function(){a.local._clearItem(this.resource())})),a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},_prepareModel:function(e,t){return e.ownername||(e.ownername=this.messageOwnerName||e.from.name),a.collections.IncrementalFetch.prototype._prepareModel.apply(this,arguments)},parse:function(e){return!0===e.hasOwnProperty("nextUrl")&&""!==e.nextUrl?this.nextUrl=e.nextUrl:this.nextUrl=!1,!0===e.hasOwnProperty("message")&&(this.parentMessage=new a.models.Message({id:e.message.id,body:e.message.body,createDate:e.message.createDate,from:e.message.from,isReply:e.message.isReply,parentId:e.message.parentId,ownername:e.message.from.name})),a.collections.IncrementalFetch.prototype.parse.apply(this,arguments)},revertParseExtras:function(e){e.nextUrl=this.nextUrl},fetchNextSet:function(e){return null===this.nextUrl?this.fetch(t.extend({data:{limit:this.limit,fields:this.getFieldsString().data.fields,direction:1,omitParentReply:1,replyId:e.replyId||null},fresh:!0,remove:!1},e||{})):!1!==this.nextUrl?this.fetch(t.extend({fresh:!0,remove:!1},e||{})):$.Deferred().reject().promise()},comparator:function(e){return moment(e.get("createDate")).unix()},hasMore:function(){return!1!==this.nextUrl},url:function(){return"string"!=typeof this.nextUrl?"/v4/messages/"+this.parentId:this.nextUrl},resource:function(){return"user.messages."+this.parentId+".replies"}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("RecommendedStories",a.collections.IncrementalFetchNextUrl.extend({model:a.models.StoryModel,arrayKey:"stories",username:null,cacheLocal:!0,cacheExpire:5,nextUrl:null,fields:[{stories:["title","voteCount","readCount","commentCount","cover","tags","rating","url","id","description","categories","firstPartId","numParts",{user:["name","avatar"]}]},"total","nextUrl"],initialize:function(e,t){if(!(t=t||{}).username)throw new Error("Recommended Collection: options.username cannot be null");this.username=t.username,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},parse:function(e){return!0===e.hasOwnProperty("nextUrl")&&""!==e.nextUrl?this.nextUrl=e.nextUrl:this.nextUrl=!1,a.collections.IncrementalFetchNextUrl.prototype.parse.apply(this,arguments)},revertParseExtras:function(e){e.nextUrl=this.nextUrl},removeAndDismiss:function(t){var n=t.get("id"),a=this,s=Promise.resolve();e.te.push("event","recommended","stories",null,"dismiss",{dismissed_storyid:n}),this.length<5&&(s=Promise.resolve(this.fetchNextSet())),s.then((function(){a.remove(t),a.trigger("update")}))},resource:function(){return this.username+".recommended-stories"},defaultUrl:function(){return"/api/v3/users/"+this.username+"/recommended"}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("ReadingListStories",a.collections.IncrementalFetchNextUrl.extend({model:a.models.StoryModel,arrayKey:"stories",listId:null,eventsOn:!1,limit:30,fields:["id","name",{stories:["id","title","cover","description","url","voteCount","readCount","numParts","firstPartId","completed","tags","mature",{user:["name","avatar"]}]},"total","nextUrl"],constructor:function(e,t){a.collections.IncrementalFetchNextUrl.prototype.constructor.apply(this,arguments)},initialize:function(e,t){if(!(t=t||{}).listId)throw new Error("ReadingListStories: listId cannot be null");this.listId=t.listId,t.nextUrl&&(this.nextUrl=t.nextUrl),a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},defaultUrl:function(){return"/api/v3/lists/"+this.listId+"/stories"},resource:function(){return"reading-list."+this.listId+".stories"},remove:function(e,n){var s=this,i=arguments;n=n||{};var l=!t.isArray(e);e=l?[e]:t.clone(e);var r=t.pluck(e,"id").join(",");return Promise.resolve($.ajax({url:this.defaultUrl()+"/"+encodeURIComponent(r),type:"DELETE"})).then((function(){a.collections.StoryGroup.prototype.remove.apply(s,i),a.local.clear(s.resource()),s.offset-=e.length,s.total-=e.length,s.nextUrl=null,t.each(e,(function(e){s.trigger("removedStory",e)})),"function"==typeof n.success&&n.success()})).catch((function(){"function"==typeof n.error&&n.error()})),l?e[0]:e},add:function(e,n){var s=this,i=arguments;n=n||{};var l=!t.isArray(e);e=l?[e]:t.clone(e);var r=t.pluck(e,"id").join(",");return Promise.resolve($.ajax({url:this.url(),data:{stories:r},type:"POST"})).then((function(){a.collections.StoryGroup.prototype.add.apply(s,i),a.local.clear(s.resource()),t.each(e,(function(e){s.trigger("addedStory",e)})),"function"==typeof n.success&&n.success()})).catch((function(){"function"==typeof n.error&&n.error()})),l?e[0]:e}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("OnboardingListStories",a.collections.IncrementalFetchNextUrl.extend({model:a.models.StoryModel,arrayKey:"stories",listId:null,eventsOn:!1,fields:["id","name",{stories:["id","title","cover","voteCount","readCount","categories"]},"total","nextUrl"],initialize:function(e,t){if(!(t=t||{}).listId)throw new Error("ReadingListStories: listId cannot be null");this.listId=t.listId,t.nextUrl&&(this.nextUrl=t.nextUrl),a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},defaultUrl:function(){return"/api/v3/lists/"+this.listId+"/stories"},resource:function(){return"onboarding-list."+this.listId+".stories"}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("OnboardingStories",a.collections.IncrementalFetchNextUrl.extend({model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["id","title","url","cover","voteCount","readCount","numParts","categories","description",{user:["name","fullname","avatar"]}]},"total","nextUrl"],resource:function(){return"stories.onboarding"},defaultUrl:function(){return"/api/v3/stories?filter=onboarding"}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("RecommendedUsers",a.collections.IncrementalFetch.extend({model:a.models.User,arrayKey:"users",fields:[{users:["username","name","avatar","following","backgroundUrl","numStoriesPublished","numFollowers","highlight_colour","recommendationHint"]}],username:null,cacheLocal:!0,cacheExpire:5,initialize:function(e,t){if(!(t=t||{}).username)throw new Error("RecommendedUsers Collection: options.username cannot be null");this.username=t.username,a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},parse:function(e){var t=a.collections.IncrementalFetch.prototype.parse.apply(this,arguments);return this.total=t.length,t},removeAndDismiss:function(t){var n=t.get("username"),a=this;e.te.push("event","recommended","users",null,"dismiss",{dismissed_username:n}),$.post(this.url()+"/"+n+"/dismiss").done((function(){a.remove(t),a.trigger("update")}))},resource:function(){return this.username+".recommended-users"},url:function(){return"/api/v3/users/"+this.username+"/recommended/users"}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("Autocomplete",Monaco.Collection.extend({cacheLocal:!1,url:function(){return"/v4/autocomplete/query?term="+this.searchTerm},resource:function(){return"search.autocomplete."+this.searchTerm},initialize:function(e,t){t=t||{},this.searchTerm=t.searchTerm||""},parse:function(e){var n=[];return t.each(e,(function(e,t){n.push({itemId:t,term:e})})),n}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("StorySearch",a.collections.IncrementalFetchNextUrl.extend({model:a.models.StoryGroup,arrayKey:"stories",expireLocal:5,fields:[{stories:["title","voteCount","readCount","commentCount","cover","tags","rating","url","id","description","categories",{user:["name"]}]},"total","nextUrl"],initialize:function(e,t){t=t||{},this.searchTerm=t.searchTerm,this.filterComplete=t.filterComplete||!1,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments),this.parentFetchNextSet=a.collections.IncrementalFetchNextUrl.prototype.fetchNextSet},fetchNextSet:function(){return""!==this.searchTerm?a.collections.IncrementalFetchNextUrl.prototype.fetchNextSet.apply(this,arguments):$.Deferred().resolve().promise()},resource:function(){return"search-results.story.query-"+this.searchTerm+this.completeFilter()},completeFilter:function(){return this.filterComplete?"&filter=complete":""},defaultUrl:function(){return"/api/v3/stories/?query="+encodeURIComponent(this.searchTerm)+this.completeFilter()}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("Notifications",a.collections.IncrementalFetchNextUrl.extend({model:a.models.NotificationEvent,username:null,arrayKey:"feed",more:null,hasUnread:!1,useLocalCache:!0,fields:[{feed:["id","type","createDate","data","isRead","children","group_url"]},"nextUrl"],initialize:function(e,t){if("string"!=typeof(t=t||{}).username||""===t.username.trim())throw new Error("Notifications: options.username cannot be null");this.username=t.username,void 0!==t.useLocalCache&&null!==t.useLocalCache&&(this.useLocalCache=t.useLocalCache),this.on("sync",this.checkUnreads,this),a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},checkUnreads:function(e,t,n){$.ajax({url:this.defaultUrl(),type:"PUT",data:{username:this.username,read:1}}),$("#notifications-menu-badge, .notification-badge").css("display","none")},defaultUrl:function(){return"/api/v3/users/"+this.username+"/notifications"},resource:function(){return this.useLocalCache?"user."+this.username+".notifications":null}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("RecentlyRead",a.collections.BaseCollection.extend({model:a.models.StoryGroup,arrayKey:"stories",fields:[{stories:["id","title","readingPosition","cover","url",{user:["name"]},{parts:["id","url"]}]}],initialize:function(e,t){if(!(t=t||{}).username)throw new Error("Recently Read Collection: options.username cannot be null");this.username=t.username,a.collections.BaseCollection.prototype.initialize.apply(this,arguments)},resource:function(){return"user."+this.username+".recently-read"},url:function(){return"/v4/users/"+this.username+"/recent_reads"}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("Discover",a.collections.BaseCollection.extend({fields:["listType,url,elements,subtitle,id,title"],url:"/v4/discover/",initialize:function(e){e=e||{},this.user=e.user||n.utils.currentUser()},resource:function(){return"user."+(this.user.get("username")||"anonymous")+".discover"}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("TagModules",a.collections.IncrementalFetch.extend({model:a.models.TagModuleItem,arrayKey:"modules",fields:[{modules:["type","data"]}],typeByPathName:{hot:"hotStoriesForTag",new:"newStoriesForTag",writers:"relatedWritersForTag",lists:"relatedReadingListsForTag"},initialize:function(e,t){if(!(t=t||{}).tags)throw new Error("A tag module collection needs a tag(s) to be passed in");this.tags=t.tags,this.user=t.user||n.utils.currentUser(),a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},resource:function(){return"user."+(this.user.get("username")||"anonymous")+"."+this.tags+".tag-modules"},parse:function(e){return a.collections.IncrementalFetch.prototype.parse.call(this,e)},url:function(){return n.utils.currentUser().authenticated(),"/v5/discover/tags?tags="+encodeURIComponent(this.tags)+"&language="+a.get("language")},getTypeByUrlPath:function(e){return this.typeByPathName[e]}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("ActivityMessages",a.collections.IncrementalFetchNextUrl.extend({model:a.models.PublicMessage,cacheLocal:!0,cacheExpire:5,arrayKey:"messages",username:null,fields:[{messages:["id","body","createDate","from","numReplies","isReply","latestReplies","isOffensive","replies"]},"total","nextUrl"],initialize:function(e,t){if("string"!=typeof(t=t||{}).username||""===t.username.trim())throw new Error("An Activity Feed collection requires a username string to be passed to the options hash on init");a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments),this.username=t.username,this.on("remove",(function(){a.local._clearItem(this.resource())}))},parse:function(e){return t.forOwn(e[this.arrayKey],(function(e){e.type=e.type||"newMessage"})),a.collections.IncrementalFetchNextUrl.prototype.parse.apply(this,arguments)},_prepareModel:function(e,t){return e.username||(e.username=this.username),a.collections.IncrementalFetch.prototype._prepareModel.apply(this,arguments)},defaultUrl:function(){return"/v4/users/"+this.username+"/messages"},resource:function(){return"user."+this.username+".profile.messages"}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("ReadingLists",a.collections.IncrementalFetchNextUrl.extend({model:a.models.ReadingList,arrayKey:"lists",fields:[{lists:["id","name",{user:["name"]},"numStories","cover","sample_covers","tags","featured","isPaywalled"]},"total","nextUrl"],initialize:function(e,t){if("string"!=typeof(t=t||{}).username||""===t.username.trim())throw new Error("A ReadingLists collection requires a username string to be passed to the options hash on init");this.username=t.username,t.getStories&&(this.fields[0].lists.push({stories:["id"]}),this.getStories=!0),this.nonEmpty=!!t.nonEmpty,this.on("sync",(function(e){a.local.clear(this.resource())}),this),a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},defaultUrl:function(){return"/api/v3/users/"+this.username+"/lists"+(this.nonEmpty?"?non_empty=1":"")},resource:function(){return"user."+this.username+".profile.reading-lists"+(this.getStories?".withStories":"")+(this.nonEmpty?".non-empty":"")}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("ProfileFollowers",a.collections.IncrementalFetchNextUrl.extend({cacheExpire:5,cacheLocal:!0,arrayKey:"users",model:a.models.User,username:null,usernameErr:"A ProfileFollowers collection requires a username string to be passed to the options hash on init",fields:[{users:["username","name","avatar","following","numStoriesPublished","numLists","numFollowers","numFollowing","location","description","backgroundUrl","highlight_colour"]},"total","nextUrl"],defaultUrl:function(){return"/api/v3/users/"+this.username+"/followers"},resource:function(){return"user."+this.username+".profile.followers"},initialize:function(e,t){if("string"!=typeof(t=t||{}).username||""===t.username.trim())throw new Error(this.usernameErr);this.username=t.username,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("ProfileFollowing",a.collections.IncrementalFetchNextUrl.extend({model:a.models.User,cacheExpire:1,cacheLocal:!0,arrayKey:"users",username:null,fields:[{users:["username","name","avatar","following","location","description","backgroundUrl","highlight_colour","numStoriesPublished","numLists","numFollowers","numFollowing","votesReceived"]},"total","nextUrl"],defaultUrl:function(){return"/api/v3/users/"+this.username+"/following"},resource:function(){return"user."+this.username+".profile.following"},initialize:function(e,t){if("string"!=typeof(t=t||{}).username||""===t.username.trim())throw new Error("A ProfileFollowing collection requires a username string to be passed to the options hash on init");this.username=t.username,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("ProfileWorks",a.collections.StoryGroup.extend({fields:[{stories:["title","lastPublishedPart","voteCount","readCount","commentCount","cover","tags","url","id","description","categories","completed","mature","rating","rankings","tagRankings","numParts","firstPartId","parts","isPaywalled"]},"total","nextUrl","numPublished","numDrafts"],url:function(){return n.utils.currentUser().get("username")===this.username?"/v4/users/"+this.username+"/stories/all":"/v4/users/"+this.username+"/stories/published"},parse:function(e){return this.numPublished=e.numPublished,this.numDrafts=e.numDrafts,a.collections.StoryGroup.prototype.parse.apply(this,arguments)},revertParse:function(){var e=a.collections.StoryGroup.prototype.revertParse.apply(this,arguments);return e.numPublished=this.numPublished,e.numDrafts=this.numDrafts,e},resource:function(){return n.utils.currentUser().get("username")===this.username?"user."+this.username+".profile.works.all":"user."+this.username+".profile.works"},initialize:function(e,t){if("string"!=typeof(t=t||{}).username||""===t.username.trim())throw new Error("A ProfileWorks collection requires a username string to be passed to the options hash on init");this.username=t.username,a.collections.StoryGroup.prototype.initialize.apply(this,arguments)}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("FollowRequests",a.collections.ProfileFollowers.extend({cacheLocal:!1,usernameErr:"FollowRequests collection requires a username string to be passed to the options hash on init",fields:[{users:["username","avatar"]},"total","nextUrl"],url:function(){return"/api/v3/users/"+this.username+"/followers/requests"},resource:function(){return"user."+this.username+".follow-requests"}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("StoryInLists",Monaco.Model.extend({initialize:function(e){if(!e.storyId)throw new Error("StoryInLists - Missing parameter storyId");this.storyId=e.storyId},url:function(){return"/v4/stories/collections?storyIds="+this.storyId},arrayKey:"collections",parse:function(e){return e[this.arrayKey]}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("CommentModel",a.models.BaseModel.extend({cacheLocal:!1,fields:[],initialize:function(e,t){t=t||{},e=e||{},this.isDeepLink=t.isDeepLink||!1,this.isDeeplinkedReply=t.isDeeplinkedReply||!1,this.commentIdToHighlight=t.commentIdToHighlight,a.models.BaseModel.prototype.initialize.apply(this,arguments)},url:function(){return this.isDeepLink&&this.get("parentId")?"/v4/comments/"+this.get("parentId").toString().split("#").join("_")+"/replies/"+this.get("id"):"/v4/comments/"+this.get("id")},_replies:null,replies:function(){return this._replies||(this._replies=new a.collections.CommentReplies([],{paragraphId:this.get("paragraphId")||null,partId:this.get("partId"),parentId:this.get("id"),isReply:!0,storyAuthor:this.get("storyAuthor")||this.storyAuthor||""})),this._replies},destroyAndUpdateMarker:function(){var e=this.get("paragraphId");Promise.resolve(this.destroy()).then((function(){a.trigger("app:story:inlinecomment",e)}))},sync:function(e,t,n){var s=this;if((n=n||{}).error=function(e,t,n){return s.handlePromiseExpected(e)},t.get("paragraphId")&&!t.get("isReply"))n.url="create"===e?"/v4/parts/"+t.get("partId")+"/paragraphs/"+t.get("paragraphId")+"/comments":"/v4/comments/"+t.get("id");else if(t.get("parentId"))if("create"===e){var i=t.get("parentId").toString().split("#").join("_");i.match(/[0-9_]+/)&&(n.url="/v4/comments/"+i)}else n.url="/v4/comments/"+t.get("id");return a.models.BaseModel.prototype.sync.apply(this,arguments)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t,n,a){"use strict";a.add("RecentComments",a.collections.IncrementalFetch.extend({model:a.models.CommentModel,arrayKey:"comments",fields:[{comments:["id","body","createDate","isOffensive","parent_id",{author:["name","avatar"]}]},"total","nextUrl"],storyId:null,url:function(){return"/v4/stories/"+this.storyId+"/recent_comments"},resource:function(){return"story."+this.storyId+".recent-comments"},initialize:function(e,t){if(a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments),void 0===(t=t||{}).storyId||""===t.storyId.toString().trim())throw new Error("A RecentComments collection requires a storyId to be passed to the options hash on init");this.storyId=t.storyId}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("InlineComments",a.collections.IncrementalFetchNextUrl.extend({model:a.models.CommentModel,arrayKey:"comments",fields:[{comments:["body","createDate","startPosition","endPosition","id","isOffensive","isReply","numReplies","paragraphId","parentId","partId","deeplink",{author:["avatar","name"]}]},"total"],cacheLocal:!1,cacheExpire:5,defaultUrl:function(){return"/v4/parts/"+this.partId+"/paragraphs/"+this.paragraphId+"/comments"},initialize:function(e,n){if(a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments),n=n||{},this.pageText=t.find(n.storyPart.loadedPages,(function(e){return e.getParagraphById(n.paragraphId)})),!this.pageText)throw new Error("The selected paragraph ID for this story does not exist.");this.partId=n.storyPart.get("id"),this.commentId=n.commentId,this.paragraphId=n.paragraphId,this.paragraphText=this.pageText.getParagraphById(n.paragraphId),this.storyAuthor=n.storyPart.get("group").user.username,this.startPosition=0,this.endPosition=this.paragraphText.length,n.paragraphId&&this.on("sync",(function(){a.trigger("app:story:inlinecomment",n.paragraphId)}),this)},hasMore:function(){return(1!==this.models.length||!this.models[0].isDeepLink)&&a.collections.IncrementalFetchNextUrl.prototype.hasMore.apply(this,arguments)},_prepareModel:function(e,t){return!e.storyAuthor&&this.storyAuthor&&(e.storyAuthor=this.storyAuthor),a.collections.IncrementalFetch.prototype._prepareModel.apply(this,arguments)}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("FeaturedStories",a.collections.IncrementalFetchNextUrl.extend({category:null,model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["id","title","voteCount","readCount","commentCount","tags",{user:["name","avatar"]},"description","cover","completed","rating","mature","url","numParts","modifyDate","categories","firstPartId"]},"total","nextUrl"],resource:function(){return"stories.featured"},defaultUrl:function(){return"/api/v3/stories?filter=featured"}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("BrowseStories",a.collections.IncrementalFetchNextUrl.extend({category:null,model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["id","title","voteCount","readCount","commentCount","tags","rankings",{user:["name","avatar"]},"description","cover","completed","rating","mature","url","numParts","modifyDate","firstPartId"]},"total","tags","nextUrl"],initialize:function(e,t){if(!(t=t||{}).category&&!t.tag)throw new Error("BrowseStories - Need to pass in a category");this.filter=t.filter||"hot",this.category=t.category,this.nextUrl=this.nextUrl||t.nextUrl||null,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},parse:function(e){return this.tags=e.tags,a.collections.IncrementalFetchNextUrl.prototype.parse.apply(this,arguments)},revertParse:function(){var e=a.collections.IncrementalFetchNextUrl.prototype.revertParse.apply(this,arguments);return e.tags=this.tags,e},resource:function(){return"stories.category."+n.utils.slugify(this.category.get("name_english"))+"."+this.filter},defaultUrl:function(){return"/api/v3/stories?filter="+this.filter+"&category="+this.category.get("id")}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("BrowseTagStories",a.collections.IncrementalFetchNextUrl.extend({tags:null,model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["id","title","voteCount","readCount","commentCount","tags",{user:["name","username","avatar"]},"description","cover","completed","rating","mature","url","numParts","modifyDate","categories","firstPartId"]},"total","nextUrl"],initialize:function(e,t){if(!(t=t||{}).category&&!t.tags)throw new Error("BrowseTagStories - Need to pass in a tag(s)");this.filter=t.filter||"hot",this.tags=t.tags,this.nextUrl=this.nextUrl||t.nextUrl||null,a.collections.IncrementalFetchNextUrl.prototype.initialize.apply(this,arguments)},resource:function(){return"stories.tag."+this.tags+"."+this.filter},url:function(){return this.nextUrl?(this.filter,this.nextUrl):this.defaultUrl()},defaultUrl:function(){var e=this.tags.split(",").map((function(e){return"%23"+e})).join("+");return"hot"===this.filter?"/v5/hotlist?tags="+this.tags:this.variation?"/v4/stories?filter="+this.filter+"&query="+e+"&variation="+this.variation:"/v4/stories?filter="+this.filter+"&query="+e}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("StoryPartComments",a.collections.IncrementalFetchNextUrl.extend({model:a.models.CommentModel,arrayKey:"comments",cacheLocal:!n.testGroups.REMOVE_MUTED_COMMENTS,cacheExpire:5,fields:[{comments:["id","body","createDate","isOffensive","parentId","numReplies",{author:["name","avatar"]}]},"total"],partId:null,defaultUrl:function(){return"/v4/parts/"+this.partId+"/comments"},resource:function(){return"part."+this.partId+".comments"},parse:function(e){if(e=a.collections.IncrementalFetchNextUrl.prototype.parse.apply(this,arguments),this.nextUrl&&this.nextUrl.startsWith("https://api.wattpad")){var t=/https:\/\/\w+.\w+.(com|dev-prod)/;this.nextUrl=this.nextUrl.replace(t,"")}return this.initialParse&&this.nextUrl&&(this.initialParse=!1,this.nextUrl=this.nextUrl.replace("limit="+this.limit,"limit="+this.normalLimit),this.limit=this.normalLimit),e},initialize:function(e,t){if(a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments),void 0===(t=t||{}).partId||""===t.partId.toString().trim())throw new Error("A StoryPartComments collection requires a partId to be passed to the options hash on init");this.partId=t.partId,this.storyAuthor=t.storyAuthor||"",this.limit=t.limit,t.initialLimit&&(this.normalLimit=this.limit,this.limit=t.initialLimit,this.initialParse=!0)},_prepareModel:function(e,t){return!e.storyAuthor&&this.storyAuthor&&(e.storyAuthor=this.storyAuthor),a.collections.IncrementalFetch.prototype._prepareModel.apply(this,arguments)},hasMore:function(){return(1!==this.models.length||!this.models[0].isDeepLink)&&a.collections.IncrementalFetchNextUrl.prototype.hasMore.apply(this,arguments)}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("CommentReplies",a.collections.IncrementalFetchNextUrl.extend({model:a.models.CommentModel,arrayKey:"replies",cacheLocal:!n.testGroups.REMOVE_MUTED_COMMENTS,cacheExpire:5,fields:[{replies:["id","body","partId","createDate","isOffensive","isReply","parentId",{author:["name","avatar"]}]},"total"],parentId:null,defaultUrl:function(){return"/v4/comments/"+this.parentId+"/replies"},resource:function(){return"comments."+this.parentId+".replies"},initialize:function(e,t){if(a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments),void 0===(t=t||{}).parentId||""===t.parentId.toString().trim())throw new Error("A CommentReplies collection requires a parentId to be passed to the options hash on init");this.limit=t.limit||10,this.parentId=t.parentId,this.storyAuthor=t.storyAuthor,this.partId=t.partId,this.isReply=t.isReply||!0,this.paragraphId=t.paragraphId,t.paragraphId&&this.on("sync",(function(){a.trigger("app:story:inlinecomment",t.paragraphId)}),this)},_prepareModel:function(e,t){return!e.storyAuthor&&this.storyAuthor&&(e.storyAuthor=this.storyAuthor),e.attributes?e.attributes.paragraphId=this.paragraphId:e.paragraphId=this.paragraphId,a.collections.IncrementalFetch.prototype._prepareModel.apply(this,arguments)}}))}(window,_,wattpad,window.app)},function(e,t){function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}!function(e,t,a,s){"use strict";s.add("NodeStorySearch",s.collections.StorySearch.extend({model:s.models.StoryModel,arrayKey:"stories",cacheLocal:!1,fields:[{stories:["id","title","voteCount","readCount","commentCount","description","mature","completed","cover","url","numParts","isPaywalled","length",{language:["id"]},{user:["name"]},{lastPublishedPart:["createDate"]},"promoted",{sponsor:["name","avatar"]},"tags",{tracking:["clickUrl","impressionUrl",{thirdParty:["impressionUrls","clickUrls"]}]},{contest:["endDate","ctaLabel","ctaURL"]}]},"total","tags","nextUrl"],initialize:function(e,t){t=t||{},this.searchTerm=t.searchTerm,this.limit=t.limit,this.promotedStories=[]},resource:function(){return"search.stories.results."+this.searchTerm.trim()+"."+(this.complete?"true":"false")+"."+(this.mature?"true":"false")},parse:function(e){var i,l=this,r=(null===(i=this.searchTerm)||void 0===i?void 0:i.match(/#[^\s]+/gi))||[],o=e.tags?n(e.tags):[];a.utils.tagsHelper.updateWithActiveTags(o,r);var c=[];(null==o?void 0:o.length)>0&&(c=a.utils.tagsHelper.addLinksToTags(o,encodeURIComponent(this.searchTerm)),c=a.utils.tagsHelper.sortActiveTags(o)),this.tags=new Monaco.Collection(c),this.tags._app=s,e.stories&&e.stories.length&&"number"!=typeof e.stories[0].parts&&t.each(e.stories,(function(e){e.category=null;var n=t.find(e.categories,(function(e){return e>0}));n&&(n=t.findWhere(l.categories.toJSON(),{id:n}),e.category=n?n.name:null),e.promoted&&l.promotedStories.push(e)})),this.limit=3===this.limit?10:this.limit},getPromotedStories:function(){return this.promotedStories},revertParse:function(e){e.tags=this.tags.toJSON()},defaultUrl:function(){return"/v4/search/stories/?query="+encodeURIComponent(this.searchTerm.trim())+this.addFilter("complete")+this.addFilter("mature")+this.addFilter("hot")+this.addFilter("age")+this.addFilter("length")+this.addFilter("category")+this.addFilter("free")+this.addFilter("paid")+"&limit="+this.limit},toJSON:function(){var e=s.collections.StorySearch.prototype.toJSON.apply(this,arguments),t=s.get("categories").find({id:this.category});return e.filters={complete:this.complete,mature:this.mature,age:this.age,category:null==t?void 0:t.get("name"),free:this.free,paid:this.paid},e},addFilter:function(e){switch(e){case"complete":if(this.complete)return"&filter=complete";break;case"mature":if(this.mature)return"&mature=true";break;case"age":if(this.age)return"&updateYoungerThan="+this.age;break;case"length":e="";return this.minParts&&(e="&minParts="+this.minParts),this.maxParts&&(e=e+"&maxParts="+this.maxParts),e;case"hot":if(this.hot)return"&hot=1";break;case"category":if(this.category)return"&category="+this.category;break;case"free":if(this.free)return"&free=1";break;case"paid":if(this.paid)return"&paid=1"}return""},setFilter:function(e,t){if(this[e]=t,"mature"===e){var n=t?1:0;a.utils.setCookie("msf",n,365,!0)}else if("age"===e)t>0?this.age=t:delete this.age;else if("length"===e)if(null!=a&&a.testGroups.NEW_SEARCH_FILTERS&&!s.get("device").is.mobile){var i=t.minParts,l=t.maxParts;0===i?delete this.minParts:this.minParts=i,0===l?delete this.maxParts:this.maxParts=l}else"1-10"===t?(this.minParts=1,this.maxParts=10):"10-20"===t?(this.minParts=10,this.maxParts=20):"20-50"===t?(this.minParts=20,this.maxParts=50):">50"===t?(this.minParts=50,delete this.maxParts):(delete this.maxParts,delete this.minParts);else"free"===e?this.free=t:"paid"===e&&(this.paid=t)}})),s.mixin(s.collections.NodeStorySearch,"CollectionParsing")}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("NodeUserSearch",a.collections.IncrementalFetchNextUrl.extend({model:a.models.UserModel,expires:5,arrayKey:"users",fields:["username","name","avatar","description","numLists","numFollowers","numStoriesPublished","badges","following"],initialize:function(e,t){t=t||{},this.searchTerm=t.searchTerm,this.limit=t.limit||3,this.offset=0},url:function(){return"/v4/search/users/?query="+encodeURIComponent(this.searchTerm.trim())+"&limit="+this.limit+"&offset="+this.offset},resource:function(){return"search.users.results."+this.searchTerm.trim()},parse:function(e){return this.offset=this.offset+this.limit,e.length<this.limit?this.nextUrl=void 0:this.nextUrl=this.url(),e},clearCache:function(){a.local.clear(this.resource())}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("NodeLibrary",a.collections.IncrementalFetchNextUrl.extend({model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["id","title","cover","voteCount","readCount","readingPosition","url",{parts:["id","url"]},{user:["name","avatar"]},{lastPublishedPart:["createDate"]}]},"total","nextUrl"],libraryType:"current-reads",initialize:function(e,t){t=t||{},this.user=t.user||n.utils.currentUser(),a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},resource:function(){return"user."+this.user.get("username")+".library.new"},defaultUrl:function(){return"/api/v3/users/"+this.user.get("username")+"/library"},addStory:function(e){var n,a=this;return e=t.isArray(e)?e:[e],n=t.map(e,(function(e){return e.get("id")})),Promise.resolve($.post(this.defaultUrl()+"/"+n.join(","))).then((function(e){return t.each(e.results.success,a.reportAdd),e.results}))},reportAdd:function(t){e.te.push("event","app","library","story","add",{storyid:t,page:e.te.getPage()})},removeStory:function(e,n){var a;return e=t.isArray(e)?e:[e],a=t.map(e,(function(e){return e.get("id")})),Promise.resolve($.ajax({url:this.defaultUrl()+"/"+a.join(),type:"DELETE",data:n?{unarchive:1}:null})).then((function(e){return!e||!e.results||e.results})).catch((function(e){return!(!e||!e.results)&&e.results}))},reportRemove:function(t){e.te.push("event","wattpad","story","library","remove",{storyid:t})}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("Archive",a.collections.NodeLibrary.extend({resource:function(){return"user."+this.user.get("username")+".archive.new"},defaultUrl:function(){return"/api/v3/users/"+this.user.get("username")+"/archive"},libraryType:"archive",reportAdd:function(t){e.te.push("event","wattpad","story","archive","add",{storyid:t})},reportRemove:function(t){e.te.push("event","wattpad","story","archive","remove",{storyid:t})}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("DiscoverCollection",a.collections.IncrementalFetch.extend({model:a.models.StoryModel,arrayKey:"stories",fields:[{stories:["id","title","description","cover","voteCount","readCount","readingPosition","numParts","tags","categories","modifyDate","url","firstPartId",{user:["name","avatar"]}]},"total","nexturl"],initialize:function(e,t){t=t||{},this.user=t.user||n.utils.currentUser(),this.url=t.url||this.url,this.layout=t.layout||n.utils.PanelBuilder.Layouts.Default,this.cacheKey=t.cache,a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},resource:function(){if(!this.cacheKey)throw new Error("Discover :: Collection :: Please set the Resource");return"user."+(this.user.get("username")||"anonymous")+".discover."+this.cacheKey},url:function(){throw new Error("Discover :: Collection :: Please set the URL")},getPanelGroup:function(){return new n.utils.PanelBuilder(this.toJSON(),this.layout).panelGroup}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("DiscoverListsCollection",a.collections.IncrementalFetch.extend({model:a.models.ReadingList,arrayKey:"lists",fields:[{lists:["id","name","sample_covers",{user:["name","avatar"]}]},"total","nexturl"],initialize:function(e,t){t=t||{},this.user=t.user||n.utils.currentUser(),this.url=t.url||this.url,this.layout=t.layout||n.utils.PanelBuilder.Layouts.Default,this.cacheKey=t.cache,a.collections.IncrementalFetch.prototype.initialize.apply(this,arguments)},resource:function(){if(!this.cacheKey)throw new Error("Discover :: Lists :: Collection :: Please set the Resource");return"user."+(this.user.get("username")||"anonymous")+".discover."+this.cacheKey},url:function(){throw new Error("Discover :: Lists :: Collection :: Please set the URL")}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("FacebookFriends",a.collections.BaseCollection.extend({arrayKey:"users",model:a.models.User,fields:["total",{users:["name","avatar","username","following","isPrivate","numFollowers","numFollowing","backgroundUrl","highlight_colour","numStoriesPublished"]}],initialize:function(){this.username=n.utils.currentUser().get("username"),a.collections.BaseCollection.prototype.initialize.apply(this,arguments)},url:function(){return"/v4/users/"+this.username+"/facebook_friends"},resource:function(){return"v4."+this.username+".fbfriends"},cacheLocal:!0}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("Base",Monaco.View.extend({constructor:function(e){this.events=this.events||{};var t={},n="tap .on-navigate",a="click .on-navigate",s="keydown .on-navigate";t[n]="onNavigate",t[a]="stopEvent",t[s]="onNavigateKeydown",_.each(this.events,(function(e,i){i.match(/tap(\s)+\.on-navigate/)&&delete t[n],i.match(/click(\s)+\.on-navigate/)&&delete t[a],i.match(/keydown(\s)+\.on-navigate/)&&delete t[s]})),this.events=_.defaults(this.events,t),Monaco.View.prototype.constructor.apply(this,arguments)},initialize:function(){_.bindAll(this,"render","afterRender"),this.render=_.wrap(this.render,(function(e){return e(),this.afterRender(),this}))},render:function(){return this},afterRender:function(){if(a.get("transition_timer")&&!a.get("transition_after_render")){var e=this;a.set("transition_after_render",$(document).ajaxStop((function(){$(this).unbind("ajaxStop"),e.endTransitionTimer()})))}},endTransitionTimer:function(){a.get("transition_timer").loaded(),a.set("transition_after_render",null),a.set("transition_timer",null)},onNavigate:function(e){var s=$(e.currentTarget).attr("href").replace(/[^\/]*\/\/[^\/]*/,""),i=!(!e||!e.gesture)&&(e.gesture.srcEvent.metaKey||e.gesture.srcEvent.ctrlKey),l=$(e.currentTarget)[0].className.match(/(navtest-create-.+)/);t.utils.currentUser().authenticated()&&l&&n.pushEvent({category:"myworks-nav",action:"click",label:l[0]}),i||(a.router.navigate(s,{trigger:!0}),$(".modal-backdrop").hide())},onNavigateKeydown:function(e){if("Enter"===e.key){var t=e.currentTarget;if(t&&t.href){var n=t.href.replace(/[^\/]*\/\/[^\/]*/,"");a.router.navigate(n,{trigger:!0})}}},stopEvent:function(e){t.utils.stopEvent(e)},getDeepLinkPage:function(){return"homepage"},getDeepLink:function(){return n.getAppLink(this.getDeepLinkPage(),this.model||{})}})),a.mixin(a.views.Base,"ErrorHandler")}(window,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("RecommendedSearches",Monaco.Collection.extend({resource:"recommendedSearchTerms",url:"/api/v3/search/recommended",initialize:function(e,t){this.currentPosition=0,this.fetch()},parse:function(e){return e.search_terms},getNextTerm:function(){var e="";return this.length>0&&(e=this.at(this.currentPosition++).keys().toString(),this.currentPosition>=this.length&&(this.currentPosition=0)),e},getListOfSearchTerms:function(){return t.map(this.toJSON(),(function(e){return Object.keys(e)[0]}))}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("DefaultTransition",a.transitions.BaseTransition.extend({start:function(t,a,s){if((s=s||{hasHeader:!0,hasFooter:!0}).hideAnnouncements=s.hideAnnouncements||!1,t?this._pageView():(s.hasHeader&&this.setupHeader(),this.setupFooter(),this.setupAnnouncements()),t&&s.pageTitle&&s.pageTitle.length>0&&n.utils.setTitle(s.pageTitle),t&&s.noIndex&&0===$("meta[content=noindex]").length&&$("head").append("<meta name=robots content=noindex />"),t&&!s.noIndex&&$("meta[name='robots']").remove(),void 0===s.emptyContainer||s.emptyContainer||$("#app-container").empty(),$("body").hasClass("modal-open")){var i=this;$(".modal.in").one("hidden.bs.modal",(function(){i.changeViews(t,a,s)})),$(".modal.in").modal("hide")}else this.changeViews(t,a,s);0===$("#header").length&&s.hasHeader&&this.setupHeader(),s.hasHeader?this.showHeader(a):void 0!==s.hasHeader&&this.hideHeader(),s.hasFooter?this.showFooter():void 0!==s.hasFooter&&this.hideFooter();var l=$("#announcements-container .writers-portal-announcement").length&&"/myworks"!==e.location.pathname;$("#header").find("#search-query").val(""),s.hideAnnouncements||l||$("#announcements-container .wattcon").length&&"/myworks"!==e.location.pathname?$("#announcements-container").addClass("hide"):$("#announcements-container").removeClass("hide"),n.utils.hideAddressBar(),this.scrollTo(e,t);var r,o,c,u=n.utils.forcedSignupHelper.isForcedSignupExemptView(a),d=parseInt(n.utils.getCookie("fs__exp")),h=n.utils.forcedSignupHelper.isForcedSignupSession(d);n.user||!h||u||(null==e||null===(r=e.google)||void 0===r||null===(o=r.accounts)||void 0===o||null===(c=o.id)||void 0===c||c.cancel(),this.showForcedSignupModal());var p=n.utils.currentUser();return!1!==p.get("has_accepted_latest_tos")||p.get("has_seen_latest_tos_notice")||this.showUpdatedPolicyNoticeModal(),a},changeViews:function(e,t,n){e&&t.el===e.el?(e.remove(),t.render(n)):e?(t.render(n),e.remove()):(n.isSSR=!0,t.render(n)),this.injectDOM(e,t,"#app-container"),void 0!==n.viewChangedCallback&&n.viewChangedCallback()},setupHeader:function(){0===$("#header-container").length&&$("#app-container").parent().prepend('<div id="header-container"></div>');var e=$("#header-container"),t=$("#header"),n=new a.views.Header;if(0===t.length){var s=n.render().$el;e.html(s),_.delay((function(){s.hammer&&_.isFunction(s.hammer)&&s.hammer({behavior:{userSelect:!0}})}))}else n.setElement(e);a.set("header-obj",n)},showHeader:function(e){var t=$("#header"),n=$("#header-container");t.removeClass("hidden").css("display","table"),n.removeClass("hidden").css("display","table"),a.trigger("navbar:search:enable")},hideHeader:function(){var e=$("#header"),t=$("#header-container");e.addClass("hidden"),t.addClass("hidden")},setupFooter:function(){var e=$("#footer-container");0===$("#footer").length?e.append((new a.views.Footer).render().$el):(new a.views.Footer).setElement(e.children()[0])},showFooter:function(){$("#footer").show()},hideFooter:function(){$("#footer").hide()},setupAnnouncements:function(){$("#announcements").children().length>0&&_.each($("#announcements").children(),(function(e){var t,n=$(e);n.hasClass("announcement")&&((t=n.hasClass("verify-email")?new a.views.VerifyEmail:n.hasClass("email-verified-success")?new a.views.EmailVerifiedSuccess:n.hasClass("survey")?new a.views.Survey:n.hasClass("beta")?new a.views.BetaProgram:n.hasClass("transition-group")?new a.views.TransitionGroup:n.hasClass("spielbergo")?new a.views.SpielbergoAnnouncment:new a.views.Announcement).setElement(e),a.set("announcement",t))}))},scrollTo:function(e,t){t&&(t.shouldNotScrollToTop?t.shouldNotScrollToTop=void 0:e.scrollTo(0,0))},showForcedSignupModal:function(){var e=new a.views.SignUpPrompt({model:new a.models.Authsignup,title:n.utils.trans("Join Wattpad"),formType:"navbar_modal",form:"signup",forcedSignup:!0});$("#generic-modal .modal-body").html(e.render().$el),$("#generic-modal").find(".modal-dialog").addClass("signup-modal-wrapper"),$("#generic-modal").find(".modal-body").addClass("forced-signup-modal"),$("#generic-modal").modal({backdrop:"static",keyboard:!1}),$("#generic-modal").one("shown.bs.modal",(function(){$(this).find("[autofocus]").focus()}))},showUpdatedPolicyNoticeModal:function(){new a.views.UpdatedPolicyNotice({model:n.utils.currentUser(),title:"Updating our Terms",body:"Were updating our Terms of Service and Privacy Policy, effective May 25th, 2018. By continuing to use Wattpad after May 25th, youre agreeing to these new <a href='/terms' target='_blank'>Terms</a> and <a href='/privacy' target='_blank'>Privacy Policy</a>."}).showModal()}}))}(window,Monaco,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("ModalTransition",a.transitions.DefaultTransition.extend({start:function(t,a,s){return s=s||{hasHeader:!0,hasFooter:!0},t&&s.pageTitle&&s.pageTitle.length>0&&n.utils.setTitle(s.pageTitle),void 0===s.emptyContainer||s.emptyContainer||$("#app-container").empty(),this.changeViews(t,a,s),t?this._pageView():(s.hasHeader&&this.setupHeader(),this.setupFooter(),this.setupAnnouncements()),s.hasHeader?this.showHeader():void 0!==s.hasHeader&&this.hideHeader(),s.hasFooter?this.showFooter():void 0!==s.hasFooter&&this.hideFooter(),$("#header").find("#search-query").val(""),n.utils.hideAddressBar(),this.scrollTo(e,t),a}}))}(window,Monaco,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("FadeTransition",a.transitions.DefaultTransition.extend({start:function(t,a,s){var i=!1,l=this;return void 0===(s=s||{hasHeader:!0}).emptyContainer||s.emptyContainer||$("#app-container").empty(),t&&a.el===t.el?(t.remove(),a.render(s)):t?(a.render(s),i=!0):a.render(s),this.injectDOM(t,a,"#app-container"),t||(a.$el.addClass("fade-transition-done"),s.hasHeader&&this.setupHeader(),this.setupFooter()),n.utils.supportsTransition()||(i=!1),i?a.delayedRender?this.listenTo(a,"render",(function(){l.doTransition(t,a)})):this.doTransition(t,a):(t&&t.remove(),a.$el.addClass("fade-transition-done"),a.$el.children().first().css("height","auto")),n.utils.hideAddressBar(),this.scrollTo(e,t),a},doTransition:function(e,t){var n=t.$el.children().first().height(),a=e.$el.height();a>n?t.$el.children().first().height(a):e.$el.height(n),t.$el.addClass("fade-transition").children().first().on("webkitAnimationEnd oanimationend msAnimationEnd animationend",(function(){e.remove(),t.$el.addClass("fade-transition-done"),t.$el.children().first().css("height","auto")}))}}))}(window,Monaco,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("OverlayTransition",a.transitions.BaseTransition.extend({start:function(e,t,n){if($("body").hasClass("modal-open")){var a=this;$(".modal.in").one("hidden.bs.modal",(function(){a.changeViews(e,t,n)})),$(".modal.in").modal("hide")}else this.changeViews(e,t,n);return t},changeViews:function(e,t,n){e.from?e.from&&e.from===t&&(e.remove(),t.$el.show()):(t.render(n),t.from=e,e.$el.hide(),this.injectDOM(e,t,"#app-container"))}}))}(window,Monaco,wattpad,window.app)},function(e,t){!function(e,t){"use strict";t.router.add({"user/:username(/)(:section)(/)":["userProfile",{regexp:{username:/[\w\-]+/,section:/about|following|followers|conversations|quests/}}]}),t.router.add({"user/:username/admin":["userProfile",{regexp:{username:/[\w\-]+/}}]})}(window,window.app)},function(e,t){!function(e,t){"use strict";t.router.add({":page(/)":["authentication",{regexp:{page:/(login|signup|reset|forgot)?/}}]}),t.router.add({"fb-auth(/)":["oauth-auth",{}],"oauth-auth(/)":["oauth-auth",{}]})}(window,window.app)},function(e,t){!function(e,t){"use strict";t.router.add({"start/writerjourney(/)*path":["onboardingWriterJourney",{}]}),t.router.add({"start(/)":["onboardingStep1",{}]}),t.router.add({"start/genres(/)*path":["onboardingGenres",{}]}),t.router.add({"start/success(/)*path":["onboardingSuccess",{}]})}(window,window.app)},function(e,t){!function(e,t){"use strict";t.router.add({notifications:["notifications",{}]})}(window,window.app)},function(e,t){!function(e,t,n){"use strict";t.router.add({"search(/:terms)(/:resultType)":["search",{regexp:{terms:/[^\?\/]+/,resultType:/stories|people/}}]})}(window,window.app,wattpad)},function(e,t){!function(e,t){"use strict";t.router.add({"stories/:tag(/:filter)":["browse-tag",{regexp:{tag:/[^\s\?\/]+/,filter:/explore|featured|hot|rising|new|writers|lists/}}]})}(window,window.app)},function(e,t){!function(e,t){"use strict";t.router.add({library:["library-current-reads"]}),t.router.add({archive:["library-archive"]}),t.router.add({"list(/:list)":["library-reading-lists",{regexp:{list:/[0-9]*/}}]}),t.router.add({"list/:list(-:slug)":["library-reading-lists",{regexp:{list:/[0-9]*/,slug:/[^\/\?#]*/}}]})}(window,window.app)},function(e,t){!function(e,t){"use strict";t.router.add({stories:["discover",{}]})}(window,window.app)},function(e,t){!function(e,t){"use strict";t.router.add({getmobile:["getmobile"]})}(window,window.app)},function(e,t){!function(e,t){"use strict";t.router.add({":partid(-:slug)(/page/:pagenum)(/comment/:commentid)(/replies/:replyid)":["storyReading",{regexp:{partid:/[0-9]+/,slug:/[^\/\?#]*/,pagenum:/[0-9]+/,commentid:/[0-9a-f_]+/i,replyid:/[0-9a-f_]+/i}}]})}(window,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("AutocompleteDedication",Monaco.Collection.extend({initialize:function(e){e=e||{},this.userType=e.userType||"users"},resource:function(){return"autocomplete:"+this.userType+(this.searchTerm?":"+this.searchTerm:"")},url:function(){return"/apiv2/dedicate?type="+this.userType+"&term="+this.searchTerm},parse:function(e){return t.map(e,(function(e){return{label:e}}))},cacheLocal:!1}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("AutocompleteFollowing",Monaco.Collection.extend({resource:function(){return"autocomplete:following:"+(this.searchTerm?":"+this.searchTerm:"")},url:function(){return"/api/v3/autocomplete/following?term="+this.searchTerm},parse:function(e){return t.map(e,(function(e){return{label:e.label}}))},cacheLocal:!1}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("AutocompleteTag",Monaco.Collection.extend({resource:function(){return"autocomplete:tag"+(this.searchTerm?":"+this.searchTerm:"")},url:function(){return"/api/v3/autocomplete/tag?term="+this.searchTerm},parse:function(e){return t.map(e,(function(e){return{label:e}}))},cacheLocal:!1}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("Home",a.collections.IncrementalFetchNextUrl.extend({model:a.models.DiscoverModule,arrayKey:"modules",fields:[{modules:["type","data"]},"nextUrl"],defaultUrl:function(){return"/v4/home"},resource:function(){return"v4.home"}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(69),s=n.n(a);!function(e,t,n,a){a.add("AutocompleteResults",Monaco.View.extend({className:"autocomplete-results",template:s.a,enabled:!0,events:function(){var e={"tap li":"onTapOption","click li":"stopEvent","mouseover li":"onHoverOption"};return e},initialize:function(e){e=e||{},this.boundField=e.boundField,this.targetSelector=e.boundField.selector,this.searchType=e.searchType||"mixed",this.title=e.title||null,this.selectedItem=null,this.anchoredResults=this.collection.length?this.collection.toJSON():[],this.searchResults=this.anchoredResults.length?this.collection.toJSON():null,t.bindAll(this,"onSearchKeyDown","onSearchInput"),$("body").on("keydown",this.targetSelector,this.onSearchKeyDown),$("body").on("input",this.targetSelector,this.onSearchInput)},render:function(){if(this.collection.length){var e={items:this.collection.toJSON(),title:this.title};this.$el.html(this.template(e)),this.showResults()}else this.hideResults();return this},callSearchAPI:t.debounce((function(e){var n=this;this.collection.searchTerm=e,Promise.resolve(this.collection.fetch()).then((function(){n.cleanup(),t.each(n.anchoredResults,(function(e){n.collection.add(e,{at:0})})),n.collection.length&&(n.searchResults=n.collection.toJSON(),n.searchResults&&""!==$(n.targetSelector).val()&&(n.render(),n.showResults()))}))}),200),showResults:function(){this.$el.show()},hideResults:function(){this.$el.empty(),this.cleanup()},cleanup:function(){this.selectedItem=null,this.searchResults=this.anchoredResults.length?this.anchoredResults:null},selectPrev:function(){if(null===this.selectedItem)return this.selectedIndex=this.collection.length-1,this.selectedItem=this.collection.at(this.selectedIndex),void this.highlightSelected();this.selectedIndex--,this.selectedIndex<0&&(this.selectedIndex=this.collection.length-1),this.selectedItem=this.collection.at(this.selectedIndex),this.highlightSelected()},selectNext:function(){if(null===this.selectedItem)return this.selectedIndex=0,this.selectedItem=this.collection.at(this.selectedIndex),void this.highlightSelected();this.selectedIndex++,this.selectedIndex>=this.collection.length&&(this.selectedIndex=0),this.selectedItem=this.collection.at(this.selectedIndex),this.highlightSelected()},highlightSelected:function(){this.selectedItem&&(this.$("li").removeClass("selected"),this.$("li:not(.title)").eq(this.selectedIndex).addClass("selected"),this.boundField.val(this.selectedItem.toJSON().label))},loadSelection:function(){this.selectedItem&&(this.boundField.val(this.selectedItem.toJSON().label),this.hideResults())},onHoverOption:function(e){this.selectedItem=this.collection.findWhere({label:$(e.currentTarget).text()}),this.selectedIndex=this.collection.indexOf(this.selectedItem),this.highlightSelected()},onTapOption:function(e){this.selectedItem=this.collection.findWhere({label:$(e.currentTarget).text()}),this.selectedIndex=this.collection.indexOf(this.selectedItem),this.loadSelection()},onSearchKeyDown:function(e){if((13===e.which&&this.selectedItem||38===e.which||40===e.which)&&n.utils.stopEvent(e),27!==e.which){if(this.searchResults&&!(this.searchResults.length<1))switch(e.which){case 38:this.selectPrev();break;case 40:this.selectNext();break;case 13:case 9:this.loadSelection()}}else this.hideResults()},remove:function(){return $("body").off("keydown",this.targetSelector,this.onSearchKeyDown),$("body").off("input",this.targetSelector,this.onSearchInput),this.hideResults(),Monaco.View.prototype.remove.apply(this,arguments)},onSearchInput:function(e){var t=$(this.targetSelector).val().trim();this.hideResults(),t.length>=2&&this.callSearchAPI(t)}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("AutocompleteField",s.Mixin.create({initAutocomplete:function(e,t){this.boundFields=this.boundFields||[],this.selector=n(e.element),this.autocompleteCollection=e.collection,this.title=e.title||null,this.autocompleteResults=new a.views.AutocompleteResults({collection:this.autocompleteCollection,boundField:this.selector,title:this.title}),this.selector.parent().find(".autocomplete-results").remove(),this.selector.before(this.autocompleteResults.render().$el),t()},remove:function(e){this.autocompleteResults&&this.autocompleteResults.remove(),e()}}))}(window,_,jQuery,window.app,window.Monaco)},function(e,t){!function(e,t,n,a,s,i,l){"use strict";i.add("FileUpload",l.Mixin.create({events:{"tap .file-select":"onFileSelect","change .file-upload":"onFileSelected","dragenter .file-drop":"onFileDragEnter","dragleave .file-drop":"onFileDragLeave","dragover .file-drop":"onFileDragOver","dragend .file-drop":"onFileDragEnd","drop .file-drop":"onFileDrop"},FileUpload:{},setElement:function(e,t){this.attachWindow(),t(e),this.connectMixin()},render:function(e){var t=e();return this.connectMixin(),t},connectMixin:function(e){var t=this.$("[data-file-upload]");t.addClass("file-upload"),this.$(".file-select").length<1&&t.find("button").addClass("file-select"),"drop"===t.data("file-upload")&&this.$(".file-drop").length<1&&t.addClass("file-drop"),this.FileUpload.$domRegion=t,this.FileUpload.$domDrop=this.$(".file-drop"),e()},attachWindow:function(t){var n=e.document,a=this;e.$(n).unbind("dragover.fileUpload").bind("dragover.fileUpload",(function(e){a.onWindowDragEnter(e)})),e.$("body").unbind("dragleave.fileUpload").bind("dragleave.fileUpload",(function(e){a.onWindowDragLeave(e)})),t()},onFileSelect:function(e){this.FileUpload.file=null,this.$(".file-upload input").trigger("click"),e()},onFileSelected:function(e){this.FileUpload.file=this.$(".file-upload > input")[0].files[0],this.FileUpload.$domDrop.addClass("drop-done"),this.showFile(),e()},onFileDragEnter:function(e,t){s.stopEvent(e),this.FileUpload.$domDrop.addClass("drag-over"),t()},onFileDragLeave:function(e,t){s.stopEvent(e),t()},onFileDragOver:function(e,t){s.stopEvent(e),this.FileUpload.$domDrop.addClass("drag-over"),t()},onFileDragEnd:function(e,t){s.stopEvent(e),this.FileUpload.$domDrop.removeClass("drag-window").removeClass("drag-over"),t()},onWindowDragEnter:function(e,t){s.stopEvent(e),this.FileUpload.$domDrop.addClass("drag-window"),t()},onWindowDragLeave:function(e,t){var n=e.relatedTarget||e.toElement;s.stopEvent(e),n&&"HTML"!=n.nodeName||this.FileUpload.$domDrop.removeClass("drag-window"),t()},onFileDrop:function(e,t){s.stopEvent(e),this.FileUpload.file=e.originalEvent.dataTransfer.files[0],this.showFile(),this.onFileDragEnd(e),this.FileUpload.$domDrop.addClass("drop-done"),t()},showFile:function(e){var t=this;this.getFile().then((function(e){t.$(".file-upload > img").attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==").css("background-image","url("+e.data+")"),t.fileReceivedCallback&&t.fileReceivedCallback(e)})),e&&e()},base64ToArrayBuffer:function(t,n){for(var a=e.atob(t),s=a.length,i=new Uint8Array(s),l=0;l<s;l++)i[l]=a.charCodeAt(l);return n(),i.buffer},getOrientation:function(e,t){var n=null,a=new DataView(this.base64ToArrayBuffer(e));if(65496==a.getUint16(0,!1))for(var s=a.byteLength,i=2;i<s;){var l=a.getUint16(i,!1);if(i+=2,65505==l){if(1165519206==a.getUint32(i+=2,!1)){var r=18761==a.getUint16(i+=6,!1);i+=a.getUint32(i+4,r);var o=a.getUint16(i,r);i+=2;for(var c=0;c<o;c++)274==a.getUint16(i+12*c,r)&&(n=a.getUint16(i+12*c+8,r))}}else{if(65280!=(65280&l))break;i+=a.getUint16(i,!1)}}return t(),n},getFile:function(t){var n=this,a=new e.FileReader,i=this.FileUpload.file,l=new Promise((function(e,t){i?(a.onload=function(t){var a=t.target.result.match(/;base64,(.+)$/)[1],s=n.getOrientation(a);e({metadata:i,data:t.target.result,parsed:t.target.result.match(/;base64,(.+)$/)[1],orientation:s}),n.$(".file-upload > input").replaceWith(n.$(".file-upload > input").clone())},a.onerror=function(){t({code:1,message:s.trans("Error reading file")})},a.readAsDataURL(i)):t({code:0,message:s.trans("Please select a file to upload")})}));return t(),l}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(70),s=n.n(a);!function(e,t,n,a,i){a.add("SocialSharing",i.Mixin.create({events:{"tap .social-share":"onSocialShareSelected","click .social-share":"stopEvent"},templates:{row:s.a},getSocialShareTemplateHTML:function(e,t,n){return this.templates[e]({links:t})},onSocialShareSelected:function(a,s){if(a.isPropagationStopped&&a.isPropagationStopped())s(a);else{var i=$(a.currentTarget),l=i.data("share-channel"),r=this.createPopup("",l,i.data("width")||600,i.data("height")||320);if(n.stopEvent(a),i.data("share-url")){var o=n.urlDecode(i.data("share-content")),c=n.urlDecode(i.data("share-text")),u=n.urlDecode(i.data("share-url")),d=n.urlDecode(i.data("url"));Promise.resolve($.get("/v4/link",{source:"web",fields:"url",content:o,medium:l,uuid:n.getCookie("wp_id"),url:d,shorten:1})).then((function(n){c=e.sprintf(c,n.url),r.location=t.utils.sprintf(u,[encodeURIComponent(c),encodeURIComponent(n.url)])}))}else r.location=i.attr("href");s(a)}},createPopup:function(e,t,a,s,i){return i(),n.openPopup(e,t+" "+n.trans("Share"),a,s)},_buildSocialShareLinks:function(t,a,s){s();var i,l,r=e.vsprintf,o=n.trans,c=n.slugify,u=n.simpleShorten,d=n.urlEncode,h=n.urlEncodeWithSpace,p=_.bind(this._getContent,this),m=_.bind(this._getSourceUrl,this),f=_.bind(this._escapeSpecifiers,this),g=" #wattpad #"+c(t.group.category),v=_.reduce(t.group.tags,(function(e,t){return e+=c(t.name)+","}),"")+"books,wattpad";v+="story_landing"===a||"story_reading"===a?",amreading":",amwriting";var w=t.group.title;t.part?(i=t.part.url,t.group.title!=t.part.title&&(w=o("%1$s - %2$s",t.group.title,t.part.title))):i=t.group.url;var y=w;return void 0!==t.user&&"string"==typeof t.user.twitter&&t.user.twitter.length>0&&(y=o("%1$s by @%2$s",w,t.user.twitter)),l={share:w,combined:g+" "+u(t.group.description,300),twitter:y+" #wattpad",tumblr:o("<b>%1$s</b> (on Wattpad) %%s\n\n%2$s",f(w),f(u(t.group.description)))},[{name:"facebook",icon:"fa-facebook",label:o("Share via Facebook"),href:r("https://www.facebook.com/sharer.php?u=%s",[d(m("facebook",i,a))])},{name:"twitter",icon:"fa-twitter",label:o("Share via Twitter"),content:p(a),text:l.twitter,urlTemplate:"https://twitter.com/intent/tweet?text=%s&url=%s",url:i,href:r("https://twitter.com/intent/tweet?text=%s&url=%s",[d(l.twitter),d(m("twitter",i,a))])},{name:"pinterest",icon:"fa-pinterest",label:o("Share via Pinterest"),href:r("https://www.pinterest.com/pin/create/button/?media=%s&description=%s&url=%s",[d(t.group.cover),d(l.combined),d(m("pinterest",i,a))])},{name:"tumblr",icon:"fa-tumblr",label:o("Share via Tumblr"),text:l.tumblr,urlTemplate:r("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%%s",[d(t.group.cover),d(v),d(i)]),content:p(a),url:i,href:r("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%s",[d(e.wattpad.siteRoot+"/banner?id="+t.group.id),d(r(l.tumblr,[m("tumblr",i,a)])),d(v),d(i),d(m("tumblr",i,a))])},{name:"email",icon:"fa-inbox",nopopup:!0,label:o("Share via Email"),href:r("mailto:?subject=%s&body=%s%%0A%s",[h(l.share),h(l.share),d(m("email",i,a))])}]},buildSocialShareLinksForStory:function(e,t,n){t=t||"story_landing";var a,s=e.attributes||e;s.categoryObject&&(a=s.categoryLabels&&s.categoryLabels.length>0?s.categoryLabels[0].name:s.categoryObject.name);var i=_.map(s.tags,(function(e){return{name:e}}));a&&i.concat(a);var l={group:{id:s.id,title:s.title,cover:s.cover,category:a,url:s.url,description:s.description,tags:i},user:{twitter:s.user.twitter}},r=this._buildSocialShareLinks(l,t),o=n(e)||[];return _.union(r,o)},buildSocialShareLinksForPart:function(e,t){var n=this._buildSocialShareLinks(e,"story_reading"),a=t(e)||[];return _.union(n,a)},buildSocialShareLinksForProfile:function(a,s){var i=e.vsprintf,l=n.trans,r=n.simpleShorten,o=n.urlEncode,c=n.urlEncodeWithSpace,u=_.bind(this._getContent,this),d=_.bind(this._getSourceUrl,this),h=(_.bind(this._escapeSpecifiers,this),t.siteRoot+"/"+a.username),p={default:l("Check out %s's profile on Wattpad",a.name),twitter:l("Check out %s's profile on #Wattpad",a.name)};n.currentUser().get("username")===a.username&&(p={default:l("Check out my profile on Wattpad, I'm %s",a.name),twitter:l("Check out my profile on #Wattpad, I'm %s",a.name)});var m=p.default+" "+d("tumblr",h,"profile")+" "+r(a.description,300);return[{name:"facebook",icon:"fa-facebook",label:l("Share via Facebook"),href:i("https://www.facebook.com/sharer.php?u=%s",[o(d("facebook",h,"profile"))])},{name:"twitter",icon:"fa-twitter",label:l("Share via Twitter"),content:u("profile"),text:p.twitter,urlTemplate:"https://twitter.com/intent/tweet?text=%s&url=%s",url:h,href:i("https://twitter.com/intent/tweet?text=%s&url=%s",[o(p.twitter),o(d("twitter",h,"profile"))])},{name:"pinterest",icon:"fa-pinterest",label:l("Share via Pinterest"),href:i("https://www.pinterest.com/pin/create/button/?media=%s&description=%s&url=%s",[o(a.avatarUrl),o(p.default+" "+r(a.description,300)),o(d("pinterest",h,"profile"))])},{name:"tumblr",icon:"fa-tumblr",label:l("Share via Tumblr"),text:m,urlTemplate:i("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%%s",[o(a.avatarUrl),o("books,wattpad,amreading"),o(h)]),content:u("profile"),url:h,href:i("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%s",[o(a.avatarUrl),o(m),o("books,wattpad,amreading"),o(h),o(d("tumblr",h,"profile"))])},{name:"email",icon:"fa-inbox",nopopup:!0,label:l("Share via Email"),href:i("mailto:?subject=%s&body=%s%%0A%s%%0A%s",[c(p.default),c(p.default),o(d("email",h,"profile")),c(a.description)])}]},buildSocialShareLinksForReadingList:function(t,a){var s=e.vsprintf,i=n.trans,l=n.slugify,r=n.urlEncode,o=n.urlEncodeWithSpace,c=_.bind(this._getContent,this),u=_.bind(this._getSourceUrl,this),d=_.bind(this._escapeSpecifiers,this),h=e.wattpad.siteRoot+"/list/"+t.id+"-"+l(t.name),p={share:i("%s - A reading list by %s",t.name,t.author),tumblr:i("Check out this reading list <b>%s</b> on Wattpad %%s",d(t.name))},m=r(p.share),f=r(p.share+" #wattpad"),g=[{name:"facebook",icon:"fa-facebook",label:i("Share via Facebook"),href:s("https://www.facebook.com/sharer.php?u=%s",[r(u("facebook",h,"list"))])},{name:"twitter",icon:"fa-twitter",label:i("Share via Twitter"),href:s("https://twitter.com/intent/tweet?text=%s&url=%s",[f,r(u("twitter",h,"list"))])},{name:"pinterest",icon:"fa-pinterest",label:i("Share via Pinterest"),href:s("https://www.pinterest.com/pin/create/button/?media=%s&description=%s&url=%s",[r(t.cover),m,r(u("pinterest",h,"list"))])},{name:"tumblr",icon:"fa-tumblr",label:i("Share via Tumblr"),text:r(p.tumblr),urlTemplate:r(s("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%%s",[r(t.cover),r("books,amreading,wattpad"),r(h)])),content:r(c("list")),url:r(h),href:s("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%s",[r(t.cover),r(s(p.tumblr,[u("tumblr",h,"list")])),r("books,amreading,wattpad"),r(h),r(u("tumblr",h,"list"))])},{name:"email",icon:"fa-inbox",nopopup:!0,label:i("Share via Email"),href:s("mailto:?subject=%s&body=%s%%0A%s",[o(p.share),o(p.share),r(u("email",h,c("list")))])}],v=a(t)||[];return _.union(g,v)},buildSocialShareLinksForTag:function(t,a){var s=e.vsprintf,i=n.trans,l=(n.slugify,n.urlEncode),r=_.bind(this._getContent,this),o=_.bind(this._getSourceUrl,this),c=e.wattpad.siteRoot+"/stories/"+t.tag,u=i("Find %s stories you'll love.",t.tag)+" "+i("Read free books and stories about %s on Wattpad.",t.tag),d=i("You should read #%s stories on Wattpad",t.tag),h="tag";t.isHot?(c+="/hot",u=i("Find the hottest %s stories you'll love. Read hot and popular stories about %s on Wattpad.",t.tag,t.tag),d=i("You should read hot #%s stories on #Wattpad",t.tag),h="tag_hot"):t.isNew?(c+="/new",u=i("Find the latest %s stories you'll love. Read new stories about %s on Wattpad.",t.tag,t.tag),d=i("You should read new #%s stories on #Wattpad",t.tag),h="tag_new"):t.isList&&(c+="/lists",u=i("Find good reading lists of %s stories you'll love. Browse collections of favorite stories about %s on Wattpad.",t.tag,t.tag),d=i("You should read collections of #%s stories on #Wattpad",t.tag),h="tag_list");var p={share:u,tumblr:u},m="books,amreading,wattpad,"+t.tag,f=l(p.share),g=[{name:"facebook",icon:"fa-facebook",label:i("Share via Facebook"),href:s("https://www.facebook.com/sharer.php?u=%s",[l(o("facebook",c,h))])},{name:"twitter",icon:"fa-twitter",label:i("Share via Twitter"),href:s("https://twitter.com/intent/tweet?text=%s&url=%s",[l(d),l(o("twitter",c,h))])},{name:"pinterest",icon:"fa-pinterest",label:i("Share via Pinterest"),href:s("https://www.pinterest.com/pin/create/button/?media=%s&description=%s&url=%s",[l(t.pinterestImage),f,l(o("pinterest",c,h))])},{name:"tumblr",icon:"fa-tumblr",label:i("Share via Tumblr"),text:p.tumblr,urlTemplate:s("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%%s",[l(t.tumblrImage),l(m),l(c)]),content:r(h),url:c,href:s("https://tumblr.com/widgets/share/tool?posttype=photo&content=%s&caption=%s&tags=%s&canonicalUrl=%s&clickthroughUrl=%s",[l(t.tag),l(s(p.tumblr,[o("tumblr",c,h)])),l(m),l(c),l(o("tumblr",c,h))])}],v=a(t)||[];return _.union(g,v)},_getContent:function(e,t){var n="share_info";switch(e){case"list":n="share_readinglist";break;case"story_landing":n="share_info";break;case"story_reading":n="share_reading";break;case"myworks":n="share_myworks";break;case"myworks_details":n="share_myworks_details";break;case"profile":n="share_profile";break;case"tag":n="share_tag";break;case"tag_hot":n="share_tag_hot";break;case"tag_new":n="share_tag_new";break;case"tag_list":n="share_tag_list"}return t(),n},_getSourceUrl:function(e,n,a,s){var i=this._getContent(a);return s(),t.utils.addSource(n,"web",e,i)},_escapeSpecifiers:function(e,t){return t(),e.replace(/%/g,"%%")},stopEvent:function(e,t){n.stopEvent(e),t()}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("MediaSharing",s.Mixin.create({events:{"tap #media-share .share-facebook":"onShareFacebook","click #media-share .share-facebook":"stopEvent","tap #media-share .share-pinterest":"onSharePinterest","click #media-share .share-pinterest":"stopEvent"},onShareFacebook:function(a,s){n.stopEvent(a),t.utils.pushEvent({category:"reading",action:"shareinlinemedia:facebook"});var i=$(a.currentTarget).parent().parent().parent().find("img").attr("src"),l=e.decodeURIComponent($(a.currentTarget).attr("href").slice(38)),r=this.model.get("group").title+" - "+this.model.get("title"),o=this.model.get("group").description;i=i.replace(/w=\d+&h=\d+/,"w=1200&h=600"),t.facebook_share_dialog(l,r,o,i),s(a)},preparePinterestUrl:function(e,t,n){return e=e.replace(/w=\d+&h=\d+/,"w=735&h=1102"),t=t.replace(/media=.*&description/g,"media="+e+"&description"),n(),t},onSharePinterest:function(e,n){t.utils.pushEvent({category:"reading",action:"shareinlinemedia:pinterest"}),n(e)}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("StoryAdminManager",s.Mixin.create({events:{"tap    .on-admin-dropdown":"onAdminDropdown","click  .on-admin-dropdown":"stopEvent"},initAdminPanel:function(e,n,s){if(t.utils.currentUser().get("isSysAdmin")||t.utils.currentUser().get("ambassador")){var i=e instanceof a.models.StoryPartModel,l=i?e.get("group").user.username:e.get("user").username,r=new a.models.User({username:l}),o={fresh:!0,data:{fields:r._recursiveFields(r.fields.concat("age","country"))}},c=i?e:null,u=i?new a.models.StoryModel({id:e.get("group").id,categories:e.get("group").categories,firstPartId:e.get("id"),language:e.get("group").language.id,deleted:e.get("group").deleted}):e,d=this;Promise.all([r.loaded(o),$.get("/api/v3/users/"+l+"/stories?fields=stories(readCount)&limit=200")]).then((function(e){var t=0;e[1].stories&&e[1].stories.length&&_.each(e[1].stories,(function(e){t+=e.readCount})),r.set("totalReads",t),d.adminView=new a.views.StoryAdmin({author:r,story:u,part:c}),d.$(n).append(d.adminView.render().$el)}))}s()},onAdminDropdown:function(e,t){var n=$(e.currentTarget).parent(".button-group");n.hasClass("open")?n.removeClass("open"):n.addClass("open"),t()}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t,n,a,s,i,l,r){"use strict";i.add("DragAndSort",l.Mixin.create({events:{"touchstart .drag-handle":"onMouseDown","mousedown .drag-handle":"onMouseDown"},DragAndSort:{clicked:!1,drop:"Before",dragging:!1,element:null,elementUnder:null,elementPlaceHolder:null,minimumDelta:10,scrollRate:0,intervalPointer:null,windowThird:0,maxScroll:0,mouseEvents:{move:"mousemove",end:"mouseup"},touchEvents:{move:"touchmove",end:"touchend"}},setElement:function(e,t){t(e),this.setupDOM()},render:function(e){var t=e();return this.setupDOM(),t},setupDOM:function(e){var t=this.DragAndSort;this.$("[data-drag]").children().addClass("drag-item"),t.elementPlaceHolder=t.elementPlaceHolder||n('<div class="drag-item-placeholder drag-item">'),e()},resolveDrag:function(e){var t=this.DragAndSort;t.element.css("top",t.offsetY+t.scrollOffset+t.startoffset),e()},movePlaceholder:function(e){var t=this.DragAndSort,n=t.elementPlaceHolder.next(),a=t.elementPlaceHolder.prev(),s=t.offsetY+t.scrollOffset+t.startoffset;n[0]===t.element[0]&&(n=n.next()),n.length&&s>n.position().top?(t.elementPlaceHolder.detach(),n.after(t.elementPlaceHolder)):a.length&&s<t.elementPlaceHolder.position().top&&(t.elementPlaceHolder.detach(),a.before(t.elementPlaceHolder)),e()},onMouseDown:function(t,a){var i,l,r=this,o=this.DragAndSort,c=t.touches||t.originalEvent.touches;l=c&&c.length?c[0]:t,1!==t.which&&"mousedown"===t.type||(s.stopEvent(t),o.clicked=!0,o.startY=l.clientY,o.scrollOffset=0,o.scrollRate=0,o.scrollY=0,o.windowThird=n(e).height()/3,o.maxScroll=n(e.document).height()-n(e).height()-50,o.element=i=n(t.currentTarget).parents(".drag-item"),o.elementPlaceHolder.css("height",i.outerHeight()).css("width",i.width()),i.width(i.width()),n(e.document).on(this.DragAndSort.mouseEvents.move,(function(e){r.onDrag(e)})).on(this.DragAndSort.mouseEvents.end,(function(e){r.onDragEnd(e)})).on(this.DragAndSort.touchEvents.move,(function(e){r.onDrag(e)})).on(this.DragAndSort.touchEvents.end,(function(e){r.onDragEnd(e)})),a())},onDrag:function(n,a){var i=this.DragAndSort,l=n&&(n.touches||n.originalEvent.touches);if(t.isEmpty(l))r=n;else var r=l[0];s.stopEvent(n),i.clientY=r?r.clientY:i.clientY,i.offsetY=i.clientY-i.startY+i.scrollY,i.clicked&&!i.dragging&&(i.offsetY>i.minimumDelta||i.offsetY<-i.minimumDelta)&&(i.startoffset=i.element.position().top,i.scrollStart=e.pageYOffset||e.document.documentElement.scrollTop,i.element.before(i.elementPlaceHolder),i.element.addClass("active-drag"),i.dragging=!0),i.clientY<i.windowThird?i.scrollRate=-Math.round((i.windowThird-i.clientY)/i.windowThird*20):i.clientY>2*i.windowThird?i.scrollRate=Math.round((i.clientY-2*i.windowThird)/i.windowThird*20):(i.scrollRate=0,i.intervalPointer&&(e.clearInterval(i.intervalPointer),i.intervalPointer=null)),0===i.scrollRate||i.intervalPointer||(i.intervalPointer=this.onScroll()),i.dragging&&(this.resolveDrag(),this.movePlaceholder()),a()},onScroll:function(){var t=this,n=this.DragAndSort;return e.setInterval((function(){(e.scrollY>100&&n.scrollRate<0||e.scrollY<n.maxScroll&&n.scrollRate>0)&&(e.scrollBy(0,n.scrollRate),n.scrollY+=n.scrollRate,t.onDrag())}),20)},onDragEnd:function(t,a){var i=this.DragAndSort;s.stopEvent(t),n(e.document).off(this.DragAndSort.mouseEvents.move).off(this.DragAndSort.mouseEvents.end).off(this.DragAndSort.touchEvents.move).off(this.DragAndSort.touchEvents.end),i.intervalPointer&&(e.clearInterval(i.intervalPointer),i.intervalPointer=null),i.clicked=!1,!0===i.dragging&&(i.dragging=!1,i.element.removeAttr("style"),i.element.removeClass("active-drag"),i.elementPlaceHolder.replaceWith(i.element),a())}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco,window.Promise)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("AffixElement",s.Mixin.create({initialize:function(e,t){this.afxElements=[],t(e)},initAffix:function(e,t,a,s){e="string"==typeof e?n(e):e,t="string"==typeof t?n(t):t,this.afxElements.push({element:e,wrap:t,offset:a,height:e.height()}),"static"===t.css("position")&&t.css("position","relative"),s()},affixOnScroll:function(a){t.forEach(this.afxElements,(function(t){if(t.element.is(":visible")){var a=n(e).scrollTop(),s=t.wrap.offset().top,i=s+t.wrap.height();s>a+t.offset?(t.element.css({position:"",top:""}),t.element.removeClass("affixed bottomed")):s<=a+t.offset&&i>a+t.height+t.offset?(t.element.css({position:"fixed",top:t.offset+"px"}),t.element.addClass("affixed").removeClass("bottomed")):(t.element.css({position:"absolute",top:i-s-t.height+"px"}),t.element.addClass("bottomed").removeClass("affixed"))}})),a()}}))}(window,_,jQuery,window.app,window.Monaco)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("ValidationView",Monaco.Mixin.create({events:{"keyup    .has-feedback input":"clearValidation","blur     .has-feedback input":"validateInput","change   .has-feedback input":"clearAndValidateInput","change   .has-feedback select.validate":"clearAndValidateInput"},initialize:function(e,t){this.bindValidationEvents(),t(e)},bindValidationEvents:function(e){this.listenTo(this.model,"attr:valid",this.setInputValid),this.listenTo(this.model,"attr:invalid",this.setInputInvalid),e()},setInputValid:function(e,t){var n=this.$('.has-feedback[data-attr="'+e+'"]').addClass("valid");this.$(".on-invalid").each((function(){n.children(".on-invalid")[0]===this?$(this).tooltip("destroy"):$(this).tooltip("hide")})),t()},setInputInvalid:function(e,t,n){var a=this.$('.has-feedback[data-attr="'+e+'"]').addClass("invalid").find(".on-invalid");this.$el.find(".on-invalid").each((function(){a[0]===this?$(this).tooltip("destroy"):$(this).tooltip("hide")})),a.tooltip({trigger:"click hover manual",title:t,html:!0}).tooltip("show"),n()},validateInput:function(t,n){var a=$(t.currentTarget),s=a.parents(".has-feedback"),i=s.data("attr"),l=this;this.activateTooltips(),s.hasClass("valid")||s.hasClass("invalid")||s.hasClass("warning")||(this.model.set(i,a.val()),this.timeout=e.setTimeout((function(){l.model.validate(i,{})}),120)),n()},clearValidation:function(e,t){var n=$(e.currentTarget).parents(".has-feedback");(n.hasClass("valid")||n.hasClass("invalid")||n.hasClass("warning"))&&n.removeClass("valid invalid warning").children(".on-invalid").tooltip("destroy"),t()},clearAndValidateInput:function(e,t){this.clearValidation(e),this.validateInput(e),t()},activateTooltips:function(e){var t=this.$el.find(".on-invalid");t.off("show.bs.tooltip").on("show.bs.tooltip",(function(e){var n=$(e.currentTarget);t.each((function(){n[0]!==this&&$(this).tooltip("hide")}))})),e()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("FacebookConnect",Monaco.Mixin.create({events:{"tap .btn-facebook":"onFacebookConnect","click .btn-facebook":"stopEvent","tap .btn-facebook-link":"onFacebookLink","click .btn-facebook-link":"stopEvent"},initialize:function(n,a){if(n=n||{},this.nextUrlFirstPart=n.nextUrlFirstPart,t.bindAll(this,"onFacebookConnect","onFacebookLink","getPermissions","getWattpadStateToken","facebookSend"),0===$("#fb-root").length){var s=e.document.createElement("script");s.async=1,s.src="https://connect.facebook.net/en_US/sdk.js",s.id="facebook-jssdk",$("body").append("<div id='fb-root'></div>").append(s)}a(n)},tries:0,onFacebookConnect:function(t,a){var s=this.nextUrlFirstPart||e.location.href,i=n.utils.getNextUrl(s);this.getPermissions((function(){e.location.href="/fb-auth?nextUrl="+i+"&access_token="+e.FBStatus.accessToken})),a()},onFacebookLink:function(t,s){var i=this.nextUrlFirstPart||e.location.href,l=n.utils.getNextUrl(i);n.testGroups.FACEBOOK_CONNECT?this.getWattpadStateToken().then((function(t){var a=n.utils.currentUser().get("username"),s=encodeURIComponent("https://www.wattpad.com/fb-auth?nextUrl=".concat(l,"&username=").concat(a));e.location.replace("https://www.facebook.com/v9.0/dialog/oauth?"+"client_id=".concat(e.wp.app_id)+"&redirect_uri=".concat(s)+"&state=".concat(t)+"&response_type=code")})):this.getPermissions((function(){Promise.resolve($.ajax({type:"PUT",url:"/api/v3/users/"+a.currentUser().get("username"),data:{fb_access_token:e.FBStatus.accessToken}})).then((function(){e.location.reload()})).catch((function(e){$(".errorMessage").html(n.utils.trans(e.responseJSON.message)),$(".alert-danger").removeClass("hidden")}))})),s()},getPermissions:function(t,s){var i=this,l=a.currentUser().get("facebook")?e.wp.facebook_reprompt_permission:e.wp.facebook_prompt_permission;l?l("email,user_birthday",(function(){i.facebookConnected&&a.currentUser().get("facebook")?i.facebookConnected():"function"==typeof t&&t()})):this.tries>4?e.alert(n.utils.trans("Error logging in through Facebook. Please refresh and try again.")):(this.tries++,e.setTimeout(i.getPermissions,500)),s()},getWattpadStateToken:function(){return Promise.resolve($.ajax({type:"GET",url:"/v4/users/"+a.currentUser().get("username")+"/facebook_hmac"})).then((function(e){return e.token})).catch((function(e){$(".errorMessage").html(n.utils.trans(e.responseJSON.message)),$(".alert-danger").removeClass("hidden")}))},facebookSend:function(e,t){FB.ui({method:"send",link:e})}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("TwitterConnect",Monaco.Mixin.create({twitterShare:function(e,t){e=e||{},a.openPopup("https://twitter.com/intent/tweet?"+$.param(e),a.trans("Share Wattpad With Twitter"),575,400)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("AuthPromptManagement",Monaco.Mixin.create({title:function(){return n.utils.trans("Join Wattpad")},subtitle:function(){return n.utils.trans("Add stories to your library and read them offline.")},onAuthPrompt:function(a,i){if(n.utils.currentUser().authenticated()){var l=this.options&&this.options.nextUrl||"";n.utils.redirectToServer(decodeURIComponent(l))}else if(0===$("#generic-modal").length)s.router.navigate("/login?nexturl="+n.utils.getNextUrl(e.location.href),{trigger:!0,replace:!0});else{var r=new s.views.SignUpPrompt({model:new s.models.Authsignup,title:t.result(this,"title"),subtitle:t.result(this,"subtitle"),formType:"modal",form:a.currentTarget.getAttribute("data-form")});$("#generic-modal .modal-content").addClass("auth-modal"),$("#generic-modal .modal-body").html(r.render().$el),$("#generic-modal").modal("show"),$("#generic-modal").one("shown.bs.modal",(function(){$(this).find("[autofocus]").focus()}))}i(a)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("VoteManagement",s.mixins.AuthPromptManagement.extend({events:{"tap .on-vote":"onVote","click .on-vote":"stopEvent"},voteButton:".on-vote",title:function(){return n.utils.trans("Sign up to Vote")},subtitle:function(){return n.utils.trans("Sign up for Wattpad and start commenting, saving stories, reading them offline, or writing your own.")},onVote:function(e,t){var i=this,l=this.$("#vote-tool-tip");if(this.stopEvent(e),n.utils.currentUser().authenticated())if(n.utils.currentUser().get("verified_email")){this.$(this.$voteTooltip).tooltip({trigger:"manual",selector:"#vote-tool-tip"}),this.$(this.voteButton).prop("disabled",!0);var r=!this.model.get("voted"),o=r?this.model.get("voteCount")+1:this.model.get("voteCount")-1;s.trigger("app:story:vote",{voted:r,voteCount:o,storyId:i.model.get("id")}),this.model.vote().then((function(){var n=i.$(".vote-text"),a=i.$(".footer-vote .fa-vote");i.$(i.voteButton).prop("disabled",!1),i.model.get("voted")?(n.html("Voted"),a.removeClass("fa-wp-neutral-2"),a.addClass("fa-wp-base-1")):(n.html("Vote"),a.removeClass("fa-wp-base-1"),a.addClass("fa-wp-neutral-2")),t(e)})).catch((function(a){s.trigger("app:story:vote",{voted:i.model.get("voted"),voteCount:i.model.get("voteCount"),storyId:i.model.get("id")}),a.message&&l.attr("data-original-title",n.utils.trans(a.message)),l.tooltip("show"),setTimeout((function(){l.tooltip("hide")}),3e3),i.$(i.voteButton).prop("disabled",!1),t(e)}))}else a.showPleaseVerifyModal();else this.onAuthPrompt(e)},stopEvent:function(e,t){n.utils.stopEvent(e),t()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";var i,l;s.add("LibraryManagement",s.mixins.AuthPromptManagement.extend({events:{"tap .on-add-story":"onAddToLibrary","click .on-add-story":"stopEvent","tap .on-remove-story":"onRemoveFromLibrary","click .on-remove-story":"stopEvent","tap .on-library-login":"onAuthPrompt","click .on-library-login":"stopEvent"},libraryButton:".btn-library",initialize:function(e,t){t(e),n.utils.currentUser().library().on("added",(function(e){this.onAddedToLibrary(e.get("id"))}),this),n.utils.currentUser().library().on("removed",(function(e){this.onRemovedFromLibrary(e)}),this)},setElement:function(e,n){var a=$(e).find(this.libraryButton);t.each(a,(function(e){var t=$(e).data("story-id"),n=this.$(this.libraryButton+"[data-story-id='"+t+"']");n&&$(e).replaceWith(n[0])}),this),n(e)},render:function(e){var t=e();return this.setupDOM(),t},setupDOM:function(e){var t=n.utils.currentUser(),a=this.$(this.libraryButton),s=a.data("storyId");a.prop("disabled",!0),t.authenticated()?s&&l.addToStoryQueue(s,this):(a.prop("disabled",!1),this.setLibraryLoginState()),e()},setLibraryLoginState:function(e){this.$(this.libraryButton).addClass("on-library-login"),e()},onAddToLibrary:function(e,t){var i=a.currentUser(),r=$(e.currentTarget).data("story-id"),o=new s.models.StoryModel({id:r});s.local.clear(i.library().resource()),i.library().saveItem(o),l.inLib[r]=!0,n.utils.stopEvent(e),t(e)},onRemoveFromLibrary:function(e,t){var i=a.currentUser(),r=$(e.currentTarget).data("story-id"),o=new s.models.StoryModel({id:r});s.local.clear(i.library().resource()),i.library().deleteItem(o),l.inLib[r]=!1,n.utils.stopEvent(e),t(e)},onAddedToLibrary:function(e,t){$(this.libraryButton+"[data-story-id='"+e+"']").removeClass("on-add-story").addClass("on-remove-story"),t(e)},onRemovedFromLibrary:function(e,t){$(this.libraryButton+"[data-story-id='"+e+"']").removeClass("on-remove-story").addClass("on-add-story"),t(e)},stopEvent:function(e,t){n.utils.stopEvent(e),t()}})),(i=function(){this.storyQueue=[],this.inLib={}}).prototype.addToStoryQueue=function(e,n){var a={storyId:e,ctx:n};if(void 0!==this.inLib[e]){var s=this.inLib[e]?"onAddedToLibrary":"onRemovedFromLibrary";t.defer((function(){n[s](e),n.$(n.libraryButton).prop("disabled",!1)}))}else this.storyQueue=t.compact(this.storyQueue),t.find(this.storyQueue,a)||(this.storyQueue.push(a),this.batchFetch())},i.prototype.batchFetch=t.debounce((function(){if(this.storyQueue=t.compact(this.storyQueue),this.storyQueue.length>0){var e=t.pluck(t.unique(this.storyQueue,"storyId"),"storyId");this.fetchStoryCollections(e.join("%2C"))}}),100,{maxWait:200}),i.prototype.fetchStoryCollections=function(e){var n=new s.models.StoryInLists({storyId:e}),a=this;Promise.resolve(n.fetch()).then((function(e){var n=e.collections;t.each(a.storyQueue,(function(e,t){if(e&&n[e.storyId]){var s=n[e.storyId].library,i=s?"onAddedToLibrary":"onRemovedFromLibrary";a.inLib[e.storyId]=s,e.ctx[i](e.storyId),e.ctx.$(e.ctx.libraryButton).prop("disabled",!1),delete a.storyQueue[t]}}))})).catch((function(e){t.each(a.storyQueue,(function(t,n){t.ctx.handlePromiseExpected(e)}))}))},l=new i,e.wattpad.StoryInLibService=l}(window,_,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(25),s=n.n(a);!function(e,t,n,a,i){i.add("StoryInListsManagement",i.mixins.AuthPromptManagement.extend({events:{"tap .on-library-login":"doAuthPrompt","click .on-library-login":"stopEvent","tap .on-modify-list":"onModifyList","click .on-modify-list":"stopEvent","tap .on-lists-add-clicked":"onAddClicked","click .on-lists-add-clicked":"stopEvent","tap .on-create-list":"onCreateList","click .on-create-list":"stopEvent","focus .list-name":"clearError"},templates:{list:s.a},readingLists:null,storyInLists:null,listsContainer:"ul.lists-menu",addButton:".btn-story-lists",setElement:function(e,t){t(e),this.$(this.addButton).length>0&&this.setupDOM()},render:function(e){var t=e();return this.setupDOM(),t},setupDOM:function(e){var t=n.utils.currentUser();this.$(this.addButton).prop("disabled",!0),t.authenticated()?this.renderAddButtons():(this.$(this.addButton).prop("disabled",!1),this.setLoginState()),e()},setLoginState:function(e){this.$(this.addButton).addClass("on-library-login"),e()},renderAddButtons:function(e){this.$(this.addButton).addClass("on-lists-add-clicked").prop("disabled",!1),e()},onAddClicked:function(e,t){t(e);var n=$(e.currentTarget).data("story-id"),a=$(e.currentTarget);this.fetchListsData(a,n,this.onAddToListsReady)},fetchListsData:function(e,a,s,l){var r,o=n.utils.currentUser(),c=this.$(this.listsContainer+"[data-story-id='"+a+"']"),u=this;this.readingLists=new i.collections.ReadingLists(null,{username:o.get("username"),limit:200}),this.storyInLists=new i.models.StoryInLists({storyId:a}),Promise.all([this.readingLists.fetchNextSet(),this.storyInLists.fetch()]).then((function(){c.empty(),r={id:0,name:n.utils.trans("My Library (Private)"),inList:u.storyInLists.get(a).library||!1,"user-device":i.get("device"),icon:"fa-library"},c.append(u.templates.list(r)),u.listenTo(o.library(),"added",(function(e){u.onListModified(!0,0,e.get("id"))})),u.listenTo(o.library(),"removed",(function(e){u.onListModified(!1,0,e)})),t.each(u.readingLists.models,(function(e){r={id:e.get("id"),name:e.get("name"),inList:u.storyInLists.get(a)[e.get("id")]||!1,"user-device":i.get("device"),icon:"fa-reading-list"},c.append(this.templates.list(r)),this.listenTo(e,"list:added",(function(e,t){u.onListModified(!0,e,t)})),this.listenTo(e,"list:removed",(function(e,t){u.onListModified(!1,e,t)}))}),u),u.checkListScrollable(c),s&&s.call(u,e,a)})),l(e,a,s)},onModifyList:function(e,t){var n,s=a.currentUser(),l=$(e.currentTarget).data("list-id"),r=$(e.currentTarget).parent().parent().data("story-id"),o=new i.models.StoryModel({id:r}),c=this.storyInLists.get(r);0===l?c.library?(s.library().deleteItem(o),c.library=!1,this.storyInLists.set(r,c)):(s.library().saveItem(o),c.library=!0,this.storyInLists.set(r,c)):(n=this.readingLists.get(l),c[l]?(n.stories().remove(o),c[l]=!1,this.storyInLists.set(r,c)):(n.stories().add(o),c[l]=!0,this.storyInLists.set(r,c))),$(e.currentTarget).prop("disabled",!0);var u=$(e.currentTarget).children(".status");u.children(".in-list").addClass("hidden"),u.children(".spinner").removeClass("hidden"),t(e)},onListModified:function(e,t,a,s){var l=this.$(this.listsContainer+"[data-story-id='"+a+"']").children("li").children("a[data-list-id= "+t+"]");l.find(".status .spinner").addClass("hidden"),e?(l.find(".status .in-list").removeClass("hidden"),l.addClass("in-list")):(l.find(".status .in-list").addClass("hidden"),l.removeClass("in-list")),l.prop("disabled",!1),0===t?i.local.clear(n.utils.currentUser().library().resource()):(i.local.clear(this.readingLists.resource()),i.local.clear(this.readingLists.get(t).stories().resource())),s()},onCreateList:function(t,s){var l=this.$("input.list-name").val().trim(),r=$(t.currentTarget).data("story-id"),o=this;if(l.length>0){var c=new i.models.ReadingList;this.clearError(),this.listenToOnce(c,"sync",(function(e){o.onListCreated(e,r)})),i.local.clear(this.readingLists.resource()),c.save({name:l,stories:r.toString()},{error:function(t,n){var a=JSON.parse(n.responseText);e.alert(a.message)}}).done((function(){a.cacheBust("ReadingLists",{username:a.currentUser().get("username")})}))}else this.$(".inputs").addClass("has-error"),this.$("input.list-error-placeholder").attr("placeholder",n.utils.trans("Reading list name required")),n.utils.stopEvent(t);s()},onListCreated:function(e,t,n){var a,s,l=this,r=this.storyInLists.get(t);r[e.get("id")]=!0,this.storyInLists.set(t,r),this.readingLists.add(e),this.listenTo(e,"list:added",(function(e,t){l.onListModified(!0,e,t)})),this.listenTo(e,"list:removed",(function(e,t){l.onListModified(!1,e,t)})),a=this.$(this.listsContainer+"[data-story-id='"+t+"']"),s={id:e.get("id"),name:e.get("name"),inList:!0,"user-device":i.get("device"),icon:"fa-reading-list"},a.append(this.templates.list(s)),a.scrollTop(a[0].scrollHeight),this.checkListScrollable(a),this.$("input.list-name").val(""),n()},stopEvent:function(e,t){n.utils.stopEvent(e),t()},clearError:function(e){this.$(".inputs").removeClass("has-error"),this.$("input.list-error-placeholder").attr("placeholder",n.utils.trans("Add new reading list...")),e()},checkListScrollable:function(e,t){0!==e.length&&(e[0].scrollHeight>200?e.addClass("scrollable"):e.removeClass("scrollable"),t())},doAuthPrompt:function(e,t){var n=this;$("body").hasClass("modal-open")?($(".modal.in").one("hidden.bs.modal",(function(){n.onAuthPrompt(e)})),$(".modal.in").modal("hide")):n.onAuthPrompt(e),t()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("FollowManager",Monaco.Mixin.create({events:{"tap .on-follow":"onFollow","click .on-follow":"stopEvent","tap .on-unfollow":"onUnfollow","click .on-unfollow":"stopEvent","tap .on-follow-login":"onFollowLogin","click .on-follow-login":"stopEvent"},followButton:".btn-fan",initialize:function(e,t){s.get("followStatus")||s.set("followStatus",{}),t(e)},setElement:function(e,n){var a=$(e).find(this.followButton);t.each(a,(function(e){var t=$(e).data("target"),n=this.$(this.followButton+"[ data-target="+t+"]");n&&0!==n.length&&$(e).replaceWith(n[0])}),this),n(e)},render:function(e){var t=e();return this.setupDOM(),t},setupDOM:function(e){var t=n.utils.currentUser();this.$(this.followButton).prop("disabled",!0),t.authenticated()?this.fetchFollowingStatus():(this.$(this.followButton).prop("disabled",!1),this.setFollowLoginState()),e()},fetchFollowingStatus:function(e){var n=this.$(this.followButton),a=this,i=null,l=null;t.each(n,(function(e){if(i=$(e),l=$(e).data("target"))if(l in s.get("followStatus"))this.updateFollowButtons(l,s.get("followStatus")[l]);else{var t=!1;if(void 0!==i.data("following"))t=i.data("following"),this.updateFollowButtons(l,t);else{var n=new s.models.User({username:l});Promise.resolve(n.determineFollowStatus()).then((function(){a.updateFollowHash(n.get("username"),n.get("following")),a.updateFollowButtons(n.get("username"),n.get("following"))}))}this.updateFollowHash(l,t)}}),this),e()},setFollowLoginState:function(e){this.$(this.followButton).addClass("on-follow-login"),e()},onFollowLogin:function(t,a){if(0===$("#generic-modal").length)e.location.href="/login?nexturl="+e.location.href;else{var i=new s.views.SignUpPrompt({model:new s.models.Authsignup,title:n.utils.trans("Join Wattpad"),subtitle:n.utils.trans("Follow others to receive story updates!")});$("#generic-modal .modal-content").addClass("auth-modal"),$("#generic-modal .modal-body").html(i.render().$el),$("#generic-modal").modal("show")}a(t)},updateFollowHash:function(e,t,n){var a=s.get("followStatus");a[e]=t,s.set("followStatus",a),n()},updateFollowButtons:function(e,t,n){var a=this.$(this.followButton+"[data-target="+e+"]");t?(a.removeClass("on-follow").addClass("on-unfollow"),s.trigger("app:user:follow",e)):(a.removeClass("on-unfollow").addClass("on-follow"),s.trigger("app:user:unfollow",e)),a.prop("disabled",!1),n()},onFollow:function(e,t){if(n.user.verified_email){var s=this,i=$(e.currentTarget).data("target"),l=this.$(this.followButton+"[data-target="+i+"]");n.utils.stopEvent(e),l.prop("disabled",!0),Promise.resolve($.when(n.utils.currentUser().following().follow(i))).then((function(){s.updateFollowHash(i,!0),s.updateFollowButtons(i,!0),s.clearCache()})),t(e)}else a.showPleaseVerifyModal()},onUnfollow:function(e,t){var a=this,s=$(e.currentTarget).data("target"),i=this.$(this.followButton+"[data-target="+s+"]");n.utils.stopEvent(e),i.prop("disabled",!0),Promise.resolve($.when(n.utils.currentUser().following().unfollow(s))).then((function(){a.updateFollowHash(s,!1),a.updateFollowButtons(s,!1),a.clearCache()})),t(e)},clearCache:function(e,t){var a=n.utils.currentUser().get("username");s.local.clear("user."+a),s.local.clear("user."+a+".following"),s.local.clear("user."+a+".profile.following"),s.local.clear("user."+e),s.local.clear("user."+e+".following"),s.local.clear("user."+e+".profile.following"),t(e)},stopEvent:function(e,t){n.utils.stopEvent(e),t(e)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("InputCounterManagement",Monaco.Mixin.create({events:{"keyup .count-input":"onCount"},onCount:function(e,t){var n,a,s,i;n=$(e.currentTarget),a=parseInt(n.data("limit"),10),s=this.setCount(n),"function"==typeof this["on"+(i=n.data("name"))+"Update"]&&this["on"+i+"Update"](s&&s<=a),t()},setCount:function(e,t){var n,a;if(e&&void 0!==e.val())return n=this.$("."+e.data("counter")),a=e.val().length,n.children("span").html(a),a>0?n.removeClass("hidden"):n.addClass("hidden"),t(),a},resetCount:function(e){this.setCount(this.$(".count-input")),e()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("ReportManagement",Monaco.Mixin.create({events:{"tap   .on-report":"onReport","click .on-report":"stopEvent"},render:function(e){var t=e();return this.renderReportModal(),t},setElement:function(e,t){t(e)},renderReportModal:function(e){e()},onReport:function(e,a){if(n.utils.stopEvent(e),n.testGroups.REACT_REPORT_MODAL){var i=($("#inline-comments-modal .inline-comments-modal").data("bs.modal")||{}).isShown;if(this.reportModalContainer=i?"#inline-comments-modal .inline-comments-modal":"#generic-modal",!this.reportModalId.name){var l=this.$(e.currentTarget).data("username");this.reportModalId.name=l}var r=new s.views.ReactReportModal({reportType:this.reportModalType,requesterUsername:n.utils.currentUser().get("username"),requesterEmail:n.utils.currentUser().get("email"),reportId:this.reportModalId,reportModalContainer:this.reportModalContainer});return i&&$("".concat(this.reportModalContainer," .modal-header")).remove(),$("".concat(this.reportModalContainer," .modal-body")).html(r.render().$el),$("".concat(this.reportModalContainer," .modal-content")).addClass("report-modal-wrapper"),$(this.reportModalContainer).modal({backdrop:!i}),void $(this.reportModalContainer).on("hidden.bs.modal",r.onClose.bind(r))}var o,c;this.reportMoreInfo&&(o=t.result(this,"reportMoreInfo")),c=this.reportUserName?t.result(this,"reportUserName"):$(e.target).attr("data-username"),this.reportModal=this.reportModal?this.reportModal:new s.views.ReportModal({model:new s.models.SupportTicket,requestType:this.requestType,reportForm:this.reportForm,mainModal:!!this.isMainReportModal,moreInfo:o,modalTitle:this.modalTitle,reportUserName:c,conductType:this.conductType}),0===this.$(this.reportModalContainer+" > .report-modal").length&&this.$(this.reportModalContainer).append(this.reportModal.render().$el),this.$(this.reportModalContainer+" > .report-modal").modal("show"),a()}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(71),s=n.n(a);!function(e,t,n,a,i){i.add("ReadingList",i.mixins.StoryInListsManagement.extend({templates:t.extend({},i.mixins.StoryInListsManagement.mixinFunctions.templates,{container:s.a}),events:function(e){return t.extend({},e(),i.mixins.StoryInListsManagement.mixinFunctions.events)},onAddToListsReady:function(t,n,a){this.$(".reading-list-dropdown").addClass("open"),$(e.document).one("click.bs.dropdown.data-api",{context:this},this.closeReadingListSelector),a(t,n)},closeReadingListSelector:function(e){this.$(".reading-list-dropdown").removeClass("open"),e()},fetchListsData:function(e,t,n,a){this.$(".reading-list-dropdown").remove(),e.after(this.templates.container({id:t})),i.mixins.StoryInListsManagement.mixinFunctions.fetchListsData.apply(this,arguments),a(e,t,n)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("ReportConduct",Monaco.Mixin.create({reportForm:{id:48854,offenses:[{name:n.utils.trans("Explicit Content"),tag:"explicit_content",moreDetail:!0,intext:n.utils.trans("Please explain the violation of our policies and where it is located on the account with as much detail as possible. If the violation occurs in a story, please provide a link to the story part(s). For example: This user is promoting sexual conduct in their about section.")},{name:n.utils.trans("Hate & Harassment"),tag:"hate_or_harassment_conduct",moreDetail:!0,intext:n.utils.trans("Please explain the violation of our Code of Conduct and where it is located on the account. If the violation occurs within a story, please include a link to the story part(s). Please provide as much information as possible. For example: The user is sending me hateful private messages.")},{name:n.utils.trans("Violence"),tag:"violence_or_self_harm_conduct",moreDetail:!0,intext:n.utils.trans("Please explain the violation of our Code of Conduct and where it takes place on this account with as much information as possible. If the violation occurs within a story, please include a link to the story part(s). For example: The profile image is depicting an act of graphic violence.")},{name:n.utils.trans("Release of Personal Info"),tag:"release_of_personal_information_conduct",moreDetail:!0,intext:n.utils.trans("If a photo of you or your personal identifying information is being released, please tell us what the information is and where it is located on the account. If the violation occurs within a story, please include a link to the story part(s). For example: An image of my face is being used as the background photo.")},{name:n.utils.trans("Self-Harm"),tag:"violence_or_self_harm_conduct",moreDetail:!0,intext:n.utils.trans("Please explain the violation of our policies and where it is located on the account. If the violation occurs within a story, please include a link to the story part(s). For example: There is a self-harm image in the avatar. Or: The user is talking about self-harming on their conversation board or comments.")},{name:n.utils.trans("Underage User"),tag:"underage_user",moreDetail:!0,intext:""},{name:n.utils.trans("Spam"),tag:"spam_conduct",moreDetail:!0,intext:n.utils.trans("Please explain what type of spam youve encountered and where we can find it on the account. If the violation occurs within a story, please include a link to the story part(s). For example: This user is sharing malicious download links on their conversation board. Or: This is a publisher trying to recruit writers.")}]}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(3),s=n.n(a),i=n(72),l=n.n(i),r=n(73),o=n.n(r),c=n(74),u=n.n(c),d=n(46),h=n.n(d),p=n(75),m=n.n(p),f=n(47),g=n.n(f);!function(e,t,n,a,i){a.add("WorksItemDetails",a.views.Base.extend({events:{"tap .on-edit-save":"onEditSaveSelected","tap .on-publish":"onPublish","tap .on-edit-cancel":"onEditCancelSelected","mouseenter .on-cover-edit-icon":"onCoverEditIconEnter","mouseleave .image-placeholder":"onCoverEditLeave","keyup .story-title":"onStoryTitleKeyUp","focus .story-title":"onStoryTitleFocus","blur .story-title":"onStoryTitleBlur","blur .story-description":"onStoryDescriptionBlur","paste [contenteditable]":"pastePlainText","change #categoryselect":"onCategorySelected","keyup .character-input":"onCharacterInputKeyUp","tap .on-add-character":"onAddCharacter","click .on-add-character":"stopEvent","tap .on-remove-character":"onRemoveCharacter","click .on-remove-character":"stopEvent","tap .on-add-tag":"onAddTagSelected","blur .on-tag-input":"onTagInputBlurred","keydown .on-tag-input":"onTagInputKeydown","change #mature-switch":"ratingChange","tap .on-new-part":"onNewPartClicked","tap .on-stats":"onStatsClicked","tap .on-delete-story":"onDeleteStoryClicked","tap .on-delete-published-story":"onDeletePublishedStoryClicked","tap .on-select":"onSelectAll","tap .on-embed":"onEmbedClicked","tap .on-delete-part":"onDeletePartClicked","tap .on-do-delete-part":"onDoDeletePart","tap .on-delete-published-part":"onDeletePublishedPartClicked","submit #delete-story-form":"onDoDeleteStory","tap .on-unpublish-part":"onUnpublishPartClicked","tap .on-unpublish-story":"onUnpublishStoryClicked","tap .on-do-unpublish-part":"onDoUnpublishPart","tap .on-do-unpublish-story":"onDoUnpublishStory","click .on-okay":"stopEvent","tap .on-okay":"onPopoverOk","click .popover-icon":"stopEvent","tap .popover-icon":"onPopover","mousedown .on-trigger-tooltip":"onTriggerTooltip","click .on-trigger-tooltip":"stopEvent","tap .on-trigger-tooltip":"stopEvent","click  .on-contest-popover":"onContestFormPopover","tap  .on-contest-popover":"onContestFormPopover","tap .on-edit-close":"onEditClose","click .on-view-as-reader":"stopEvent","tap .on-view-as-reader":"viewAsReader","click #acknowledge-checkbox":"onAcknowledge"},templates:{worksItemDetails:u.a,character:h.a,tag:o.a,status:l.a,contestBanner:g.a},initialize:function(e){e=e||{},_.bindAll(this,"onCloseTooltip"),this.defaultStoryTitle=n.trans("Untitled Story"),this.isNew=e.isNew||!1,this.showTips=e.showTips||!1,this.isPublish=e.isPublish||!1,this.isPreview=e.isPreview||!1,this.partModel=e.partModel||null,this.model=e.model,this.storyLabelsModel=e.storyLabelsModel,this.didEditCharacters=!1,this.charactersLimit=20,this.maxNumParts=t.utils.currentUser().getMaxNumParts(),this.prefilledTag=e.prefilledTag||null,this.isWattysEligible=e.isWattysEligible,this.isWattysNearEligible=e.isWattysNearEligible,this.displayWattysBanner=e.isWattysNearEligible||e.isWattysEligible,this.SUGGESTED_WRITER_TAGS=this.isWattysEligible?["wattys2021"]:[],this.isNew&&this.model.set("title",this.defaultStoryTitle),Handlebars.registerPartial("desktop.create.works_item_editable_tag",this.templates.tag),Handlebars.registerPartial("desktop.components.modal.share_embed",s.a),Handlebars.registerPartial("desktop.create.works_table_of_contents",m.a),Handlebars.registerPartial("desktop.create.works_contests",g.a.bind(this,{storyId:this.model.id})),Handlebars.registerPartial("desktop.create.works_character_item",h.a)},render:function(){var n,s,i,l,r,o=this.model.toJSON();o.published=!1,_.each(o.parts,(function(e){e.stats=!!(e.readCount||e.VoteCount||e.commentCount),o.published=o.published||!e.draft&&!e.deleted})),o.descriptionRemaining=2e3-o.description.length,o.languages=t.supportedLangs,o.categories=_.reduce(a.get("categories").toJSON(),(function(e,t){return _.contains(t.roles,"writing")&&e.push(t),e}),[]),o.language={id:o.language||t.utils.currentUser().get("language"),name:_.result(_.find(o.languages,(function(e){return e.id==o.language})),"name")},o.everyone=!o.mature&&!o.ratingLocked,o.writerMature=o.mature&&!o.ratingLocked,o.maturePrivate=o.private&&o.mature,o.communityMature=o.mature&&o.ratingLocked,o.bcover=o.cover.replace("/cover/","/bcover/"),o.tooManyTagsInTheKitchen=_.size(o.tags)>20,this.isPublish&&(""===o.cover&&(n=!0),""!==o.title.trim()&&o.title.trim()!==this.defaultStoryTitle||(s=!0),""===o.description&&(i=!0),o.categoryObject||(l=!0),0===o.tags.length&&(r=!0),o.published);var c=this.partModel?this.partModel.get("title"):"",u=this.model.get("hasBannedCover"),d=this.formatTags(o.tags,this.prefilledTag),h=t.utils.currentUser().get("locale").slice(0,2);e.store.dispatch(e.app.components.actions.setStoryTags({tags:d,withIcon:!0})),this.model.set({hasBannedImages:_.some(this.model.get("parts"),(function(e){if(!0!==e.deleted&&e.hasBannedImages)return!0}))||u}),e.store.dispatch(e.app.components.actions.updateActiveTab("toc"));var p=this.isPublish&&!o.published;this.$el.html(this.templates.worksItemDetails({story:o,showNewStats:!0,isNew:this.isNew,showTips:this.showTips,isPublish:this.isPublish,needCover:n,needTitle:s,needDescription:i,displayWattysBanner:this.displayWattysBanner,canvaApiKey:t.canvaApiKey,createCanvaCover:this.createCanvaCover.bind(this),needCategory:l,needTag:r,partTitle:c,testGroups:t.testGroups,lang:h,targetAudience:this.storyLabelsModel.get("target_audience"),characters:this.storyLabelsModel.get("characters"),charactersLimit:this.charactersLimit,prefilledTag:this.prefilledTag,hasBannedImages:this.model.get("hasBannedImages")||!1,hasBannedCover:u,onSwitchTabs:this.onSwitchTabs.bind(this),showAcknowledgeOriginalWorks:p,handleUpdateCopyright:this.handleUpdateCopyright.bind(this)}));var m=0;return _.each(this.model.get("parts"),(function(e){!0!==e.deleted&&m++})),m>=this.maxNumParts&&this.$(".on-newpart").parent().addClass("too-many-parts"),this.postRender(),this},renderContestBanner:function(){var e=null;this.displayWattysBanner&&(e=this.templates.contestBanner({storyId:this.model.id})),this.$("#contest-banner-container").html(e)},onDragEnd:function(){var e=_.map(this.$(".story-part"),(function(e){return $(e).data("id")}));e.length===this.model.get("parts").length&&(e=e.join(","),this.model.set({textids:e}),this.model.save())},onEditClicked:function(){a.router.trigger("route:createWorksEdit",this.model.get("id"))},onSelectAll:function(){var t=e.document.createRange();t.selectNode(e.document.getElementById("embed-url")),e.getSelection().addRange(t)},resetModal:function(){this.$("#embed-modal,#stats-modal,.delete-story-modal,.delete-published-story-modal,.unpublish-story-modal,.delete-part-modal,.delete-published-part-modal,.unpublish-part-modal").addClass("hidden"),this.$("#details-modal .modal-dialog").removeClass("embed").removeClass("stats")},onEmbedClicked:function(){var e=this.$("#embed-modal iframe");this.resetModal(),this.$("#details-modal .modal-dialog").addClass("embed"),e.attr("src",e.data("href")),this.$("#embed-modal").removeClass("hidden")},onStatsClicked:function(e){e.preventDefault(),a.router.navigate("/myworks/"+this.model.get("id")+"/analytics",{trigger:!0})},onDeletePartClicked:function(e){this.resetModal(),this.model.get("parts").length<2?this.onDeleteStoryClicked():(this.deleteId=$(e.currentTarget).data("id"),this.$(".delete-part-modal").removeClass("hidden"))},onDeletePublishedPartClicked:function(e){this.resetModal(),this.model.get("parts").length<2?this.onDeletePublishedStoryClicked():(this.deleteId=$(e.currentTarget).data("id"),this.unpublishId=$(e.currentTarget).data("id"),this.$(".on-delete-part").data("id",this.deleteId),this.$(".delete-published-part-modal").removeClass("hidden"))},onUnpublishPartClicked:function(e){this.resetModal(),this.unpublishId=$(e.currentTarget).data("id"),this.$(".unpublish-part-modal").removeClass("hidden")},onUnpublishStoryClicked:function(e){this.resetModal(),this.unpublishId=$(e.currentTarget).data("id"),this.$(".unpublish-story-modal").removeClass("hidden")},onDeleteStoryClicked:function(){this.resetModal(),this.$(".delete-story-modal .alert").addClass("hidden"),this.$(".delete-story-modal").removeClass("hidden")},onDeletePublishedStoryClicked:function(){this.resetModal(),this.$(".delete-published-story-modal").removeClass("hidden")},validateUsernameFields:function(e,a){var s=[];return e===a&&0!==e.length&&0!==a.length||s.push(t.utils.trans("Username fields should match")),e!==n.currentUser().get("username").trim().toLowerCase()&&s.push(t.utils.trans("Username is incorrect")),s},onDoDeleteStory:function(e){n.stopEvent(e);var t=$(e.currentTarget),s=t.find("#username").val().trim().toLowerCase(),i=t.find("#confirm-username").val().trim().toLowerCase(),l=this.validateUsernameFields(s,i);if(l.length>0){var r=t.find(".alert ul.messages");r.empty();for(var o=0;o<l.length;o++)r.append("<li>"+l[o]+"</li>");t.find(".alert").removeClass("hidden")}else{t.find("button, input").attr("disabled",!0);var c=this;this.model.set("transaction_key",n.currentUser().get("username")),Promise.resolve(this.model.destroy()).then((function(){return c.model.set("transaction_key",null),n.cacheBust("Works",{username:n.currentUser().get("username")},c.model.get("id"))})).then((function(){a.router.navigate("/myworks/",{trigger:!0,replace:!0})})).catch((function(e){c.displayErrors(e.responseJSON?e.responseJSON.message:e.message||e.errors||e)}))}},onDoDeletePart:function(){var e=this,t=new a.models.StoryPartCreateModel({id:this.deleteId,authorid:n.currentUser().get("id")});Promise.resolve(t.destroy()).then(this.handlePromiseUnexpected).catch(this.handlePromiseExpected).then((function(){return Promise.resolve(e.model.fetch({fresh:!0,data:{drafts:1}}))})).then((function(){n.cacheBust(["Works","Works"],[{username:n.currentUser().get("username")},{username:n.currentUser().get("username"),published:!0}],e.model.storyId),e.$("#details-modal").on("hidden.bs.modal",(function(){$(this).off("hidden.bs.modal"),e.$("[data-id='"+e.deleteId+"']").addClass("fade hide"),e.render()})).modal("hide");var t=0;_.each(e.model.get("parts"),(function(e){!0!==e.deleted&&t++})),t<e.maxNumParts&&e.$(".on-newpart").parent().removeClass("too-many-parts")}))},onDoUnpublishStory:function(e){var t=this,s=_.reject(this.model.get("parts"),(function(e){return e.draft||e.deleted})),i=n.currentUser().get("id"),l=0;n.stopEvent(e),this.$("#unpublish-modal .progress-bar").attr("aria-value",0).width("0%").removeClass("progress-bar-success").addClass("progress-bar-info"),this.$("#unpublish-modal .cta").attr("disabled",!0),this.$("#working-wrapper").removeClass("hidden"),0!==s.length?_.each(s,(function(e){var n=new a.models.StoryPartCreateModel({id:e.id,authorid:i});Promise.resolve(n.unpublish()).then((function(){l++,t.updateUnpublishStatus(s.length,l)}))})):this.updateUnpublishStatus(1,1)},onDoUnpublishPart:function(){var e=this,t=new a.models.StoryPartCreateModel({id:this.unpublishId,authorid:n.currentUser().get("id")});Promise.resolve(t.unpublish()).then((function(){return Promise.resolve(e.model.fetch({fresh:!0,data:{drafts:1}}))})).then((function(){e.$("#details-modal").on("hidden.bs.modal",(function(){$(this).off("hidden.bs.modal"),e.render()})).modal("hide")}))},updateUnpublishStatus:function(t,a){var s=this,i=100*Math.floor(a/t);this.$(".unpublish-story-modal .progress-bar").attr("aria-valuenow",i).width(i+"%"),t===a&&(this.$("#unpublish-working").text(n.trans("Done")),this.$(".unpublish-story-modal .progress-bar").removeClass("progress-bar-info").addClass("progress-bar-success"),n.cacheBust(["Works","Works"],[{username:n.currentUser().get("username")},{username:n.currentUser().get("username"),published:!0}],this.selectedStoryId),this.model.fetch({fresh:!0}).then((function(){e.setTimeout((function(){s.$("#details-modal").on("hidden.bs.modal",(function(){$(this).off("hidden.bs.modal"),s.render()})).modal("hide")}),500)})))},onNewPartClicked:function(e){var t=0;if(_.each(this.model.get("parts"),(function(e){!0!==e.deleted&&t++})),t>=this.maxNumParts)n.stopEvent(e);else{for(var s=this,i=!1,l=!1,r=1,o=new a.models.StoryPartCreateModel({groupid:this.model.get("id"),title:n.trans("Untitled Part ")+(this.model.get("parts").length+1),language:this.model.get("language"),copyright:this.model.get("copyright"),category1:this.model.get("categories")[0],draft:1,tags:this.model.get("tags").join(" ")});!1===l;)_.findWhere(this.model.get("parts"),{title:o.get("title")})?(o.set("title",n.trans("Untitled Part ")+(this.model.get("parts").length+1)+" ("+r+")"),r++):l=!0;n.stopEvent(e),Promise.resolve(o.save()).then((function(e){s.handlePromiseUnexpected(e)})).catch((function(e){i=!0,s.handlePromiseExpected(e)})).then((function(){if(!i)return Promise.resolve(s.model.fetch({fresh:!0,data:{drafts:1}}))})).then((function(){i||a.router.navigate("/myworks/"+s.model.get("id")+"/write/"+o.get("id"),{trigger:!0})}))}},onCharacterInputKeyUp:_.throttle((function(e){var t=$(e.currentTarget),n=t.parent(".character").find(".btn"),a=n.find(".fa");t.val().trim().length>0?(n.removeClass("btn-grey").addClass("btn-orange"),a.removeClass("fa-wp-neutral-1").addClass("fa-wp-neutral-5")):(n.removeClass("btn-orange").addClass("btn-grey"),a.removeClass("fa-wp-neutral-5").addClass("fa-wp-neutral-1"))}),200),onAddCharacter:function(e){var t=$(e.currentTarget),n=t.parent(".character").find("input").val().trim();n.length>0&&(this.didEditCharacters=!0,t.parent(".character").remove(),this.$(".characters").append(this.templates.character({name:n,readonly:!0})),this.$(".character").length<this.charactersLimit&&this.$(".characters").append(this.templates.character()))},onRemoveCharacter:function(e){var t=$(e.currentTarget).parent(".character");this.didEditCharacters=!0,this.$(".character [readonly]").length==this.charactersLimit&&this.$(".characters").append(this.templates.character()),t.remove(),0==this.$(".character").length&&this.$(".characters").empty().append(this.templates.character())},saveCharacters:function(){var e=[],t=this;_.each(this.$(".characters .character input"),(function(t){var n=$(t).val().trim();n.length>0&&e.push({name:n})})),this.storyLabelsModel.clear({silent:!0}),Promise.resolve(this.storyLabelsModel.save({id:parseInt(this.model.get("id")),characters:e})).catch((function(){t.handlePromiseExpected("")}))},onTagInputKeydown:function(e){var a=e.keyCode||e.which;13!==a&&32!==a||(n.stopEvent(e),this.onTagInputBlurred()<t.tagCountLimit&&this.onAddTagSelected());8===a&&0===this.getCurrentInput().length&&(n.stopEvent(e),this.$("#editable-tags .tag-item").last().remove(),this.onAddTagSelected())},getCurrentInput:function(){return this.$("#tag-input").val().trim()},onAddTagSelected:function(e){n.stopEvent(e),this.$("#add-tag").addClass("hidden"),this.$("#tag-input").val("").removeClass("hidden").focus();var s=_.difference(this.SUGGESTED_WRITER_TAGS,this.getTags()).map((function(e){return{label:e}}));this.initAutocomplete({element:"#tag-input-wrapper #tag-input",collection:new a.collections.AutocompleteTag(s),title:t.utils.trans("Suggested Tags")})},onTagInputBlurred:function(){var n=this.$("#tag-input"),a=this.cleanHTMLToText(n).trim(),s=this.getTags(),i=s.length,l=[];return this.autocompleteResults&&this.autocompleteResults.remove(),n.addClass("hidden"),i<t.tagCountLimit&&a&&-1===["texttospeech"].indexOf(a)&&-1===s.indexOf(a)&&("wattys2021"===a&&this.isWattysEligible&&e.store.dispatch(e.app.components.actions.openContestForm(this.model.id)),i++,l=this.formatTags(s.concat([a]),this.prefilledTag),e.store.dispatch(e.app.components.actions.setStoryTags({tags:l,withIcon:!0}))),i<t.tagCountLimit&&(this.$("#add-tag").removeClass("hidden"),i>0&&(this.$("#add-tag").removeClass("empty-border"),this.$("#tag-empty-warning").removeClass("red-warning"))),i},getTags:function(){return e.store.getState().storyTags.tags.map((function(e){return e.name}))},formatTags:function(e,t){return e.map((function(e){var n=e.trim();return{id:n,name:n,active:!0,className:"wattys2021"===n?"wattys-tag":t&&n===t?"prefilled-tag":null}}))},pastePlainText:function(e){n.pastePlainText(e)},cleanHTMLToText:function(e){return(e.is("input")||e.is("textarea")?n.sanitizeHTMLExceptQuotes(e.val().trim()):n.sanitizeHTMLExceptQuotes(e.text().trim())).replace(/<(br|p|div)(\s*)>/gi,"\n").replace(/(<([^>]+)>)/gi,"")},sendViewAsReaderEvent:function(t){var n=$(t.currentTarget).data(),s=this.model.get("id"),i=n.id;a.currentView instanceof a.views.WorksWriter?e.te.push("event","writer",null,null,"reader_view",{storyid:s,source:"prepublish"}):"wid-btn"===n.attr?e.te.push("event","writer",null,null,"reader_view",{storyid:s,source:"story_details"}):"wid-toc"===n.attr&&e.te.push("event","writer",null,null,"reader_view",{storyid:s,partid:i,source:"table_of_contents"})},viewAsReader:function(a){var s=this,i=$(a.target).data("url");if(this.sendViewAsReaderEvent(a),n.stopEvent(a),this.isMissingRequiredFields())return this.$(".on-switch-type").removeClass("active"),this.$(".main-edit-form").removeClass("hidden"),void this.$(".table-of-contents").addClass("hidden");this.isPublish=!1;var l=e.open("","_blank");Promise.resolve(this.onEditSaveSelected()).then((function(e){l.location.href=i})).catch((function(e){l.close();var n=e.responseJSON?e.responseJSON.message:e.message||e.errors||t.utils.trans("We seem to have had some issues saving your story. Please try again.");return s.displayErrors(n)}))},isMissingRequiredFields:function(){var e=this.cleanHTMLToText(this.$(".story-title")),t=this.cleanHTMLToText(this.$(".story-description")),a=this.$("#categoryselect").val(),s=this.$("#editable-tags .tag-item"),i=this.$("#acknowledge-checkbox").hasClass("checked"),l=!1;return this.$("#publish-status-banner").empty(),this.isPublish&&!i&&(this.$("#acknowledge-empty-warning").removeClass("hidden").addClass("red-warning"),n.scrollIntoView(this.$("#acknowledge-checkbox")),l=!0),e===this.defaultStoryTitle&&(this.$(".story-title").addClass("empty-border"),this.$("#title-warning").removeClass("hidden").addClass("red-warning"),l=!0),""===t&&(this.$(".story-description").addClass("empty-border"),this.$("#description-warning").removeClass("hidden").addClass("red-warning"),l=!0),"-1"===a&&(this.$("#categoryselect").addClass("empty-border"),this.$("#category-empty-warning").removeClass("hidden").addClass("red-warning"),l=!0),0===s.length&&this.isPublish&&(this.$("#add-tag").addClass("empty-border"),this.$("#tag-empty-warning").removeClass("hidden").addClass("red-warning"),l=!0),l},onAcknowledge:function(e){this.$("#acknowledge-empty-warning").addClass("hidden").removeClass("red-warning")},onPublish:function(e){this.isPublish=!0,this.onEditSaveSelected()},onEditSaveSelected:function(){var t=this;if(this.model.get("id")){var n=e.store.getState().storyNotes,a=e.app.components.actions.postStoryNotes(this.model.get("id"),n.data);e.store.dispatch(a)}if(!this.showTips){if(this.$("button").attr("disabled",!0),this.$(".save-working").removeClass("hidden"),this.isPublish||this.model.get("published"))if(this.isMissingRequiredFields())return this.$("button").removeAttr("disabled"),void this.$(".save-working").addClass("hidden");var s=this.$("#complete-switch").prop("checked")?1:0,i=this.$("#mature-switch").prop("checked")?4:1,l=this.cleanHTMLToText(this.$(".story-title")),r=this.cleanHTMLToText(this.$(".story-description")),o=this.$("#categoryselect").val(),c=this.$("#languageselect").val();this.model.set({title:l,description:r,category1:o,language:c,complete:s,human_rating:i}),this.partModel&&this.partModel.set({category1:o});var u=this.model.validate(void 0,{ignore:{title:this.isPublish?[]:["isRequired","isNotEq"]}});if(u)throw this.displayErrors(_.values(u)),new Error(_.first(_.values(u)));return this.isNew?Promise.resolve(this.create(!0,!0)):Promise.resolve(this.save().then((function(){t.renderContestBanner()})))}this.$("#finish-tooltip").popover("show")},onEditCancelSelected:function(){this.model.get("id")?a.router.navigate("/myworks",{trigger:!0}):n.goBackInHistory()},displayErrors:function(e){var t=a.currentView instanceof a.views.WorksWriter?".modal-content":"html, body";this.$("#publish-status-banner").html(this.templates.status({errors:[].concat(e)})),$(t).animate({scrollTop:"0px"}),this.$("button").removeAttr("disabled"),this.$(".save-working").addClass("hidden")},create:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,l=new a.models.StoryPartCreateModel({title:this.model.get("title"),description:this.model.get("description"),part_title:n.trans("Untitled Part 1"),language:this.model.get("language"),draft:1});return l.set("skip_title",1),Promise.resolve(l.save(void 0,{validation:{ignore:{title:["isRequired","isNotEq","maxLength"]}}})).then((function(e){return i.model.set({id:e.groupid,textids:e.id.toString(),parts:[e]}),i.model.set("skip_title",1),e.groupid,Promise.resolve(i.model.save())})).then((function(){return"-1"==i.$("#target-audience").val()||(i.storyLabelsModel.clear({silent:!0}),Promise.resolve(i.storyLabelsModel.save({id:parseInt(i.model.get("id")),target_audience:i.$("#target-audience").val()})).catch(i.handlePromiseExpected))})).then((function(){return!i.didEditCharacters||(i.didEditCharacters=!1,i.saveCharacters())})).then((function(){return i.saveTags()})).then((function(){return s?i.saveCover():Promise.resolve()})).then((function(){var t=n.currentUser().get("username");if(a.local.clear(l.resource()),a.local.clear(i.model.resource()),n.cacheBust(["Works"],[{username:t}]),e){var s="/myworks/"+i.model.get("id")+"/write/"+i.model.get("parts")[0].id;a.router.navigate(s,{trigger:!0,replace:!1})}})).catch((function(e){i.displayErrors(e.responseJSON?e.responseJSON.message:e.message||e.errors||t.utils.trans("We seem to have had some issues saving your story. Please try again."))}))},bustWorksCache:function(){var e=n.cacheBust("Works",{username:t.utils.currentUser().get("username"),published:!0}),a=n.cacheBust("Works",{username:t.utils.currentUser().get("username")}),s=n.cacheBust("StoryCreateModel",{id:this.model.get("id")},null,!0);return Promise.all([e,a,s])},save:function(){var e=this;return this.model.set({language:this.model.get("language")}),Promise.resolve(this.model.save(void 0,{validation:{ignore:{title:["isRequired","isNotEq","maxLength"]}}})).then((function(){return"-1"==e.$("#target-audience").val()||(e.storyLabelsModel.clear({silent:!0}),Promise.resolve(e.storyLabelsModel.save({id:parseInt(e.model.get("id")),target_audience:e.$("#target-audience").val()})).catch(e.handlePromiseExpected))})).then((function(){return!e.didEditCharacters||(e.didEditCharacters=!1,e.saveCharacters())})).then((function(){return e.saveTags()})).then((function(){return!e.isPublish||Promise.resolve(e.partModel.publish())})).then((function(){return e.bustWorksCache()})).then((function(){if(e.isPublish)e.isPreview?($("#generic-modal").modal("hide"),$(".draft-tag").addClass("hidden"),$(".on-publish").addClass("hidden"),$(".on-write").addClass("hidden"),$(".preview-alert").addClass("hidden")):e.partModel&&a.router.navigate(t.utils.formatStoryUrl(e.partModel.get("url")),{trigger:!0});else{var n=t.utils.trans("Saved."),s=a.currentView instanceof a.views.WorksWriter?".modal-content":"html, body";e.$("#publish-status-banner").html(e.templates.status({successMessage:n})),$(s).animate({scrollTop:"0px"}),e.$("button").attr("disabled",!1),e.$(".save-working").addClass("hidden")}})).catch((function(n){var a=n.responseJSON?n.responseJSON.message:n.message||n.errors||t.utils.trans("We seem to have had some issues saving your story. Please try again.");throw e.displayErrors(a),new Error(a)}))},saveTags:function(){var e=this.getTags();return Promise.resolve($.ajax({type:"POST",url:"/apiv2/editstorytags",data:{request_type:"add",tag_value:e.join(" "),story_id:this.model.get("parts")[0].id,remove_old_tags:!0}}))},requestSaveCover:function(e,t,n){var a={id:e,image:t};return n&&(a.cover_source_id=n,a.cover_partner="canva"),Promise.resolve($.ajax({type:"POST",url:"/apiv2/updatestorycover",data:a}))},saveCover:function(){var t=this;return!this.FileUpload.file||t.getFile().then((function(a){if(a)return n.cacheBust(["Works","Works"],[{username:n.currentUser().get("username")},{username:n.currentUser().get("username"),published:!0}],t.model.get("id")),t.bustWorksCache(),t.$(".banned-overlay").addClass("hidden"),t.requestSaveCover(t.model.get("id"),a.parsed,a.metadata&&a.metadata.designId).then((function(n){t.model.set("cover",n.cover),t.model.set("cover_source_id",n.cover_source_id),t.model.set("cover_partner",n.cover_partner),e.te.push("event","writer","cover",null,"add",{storyid:t.model.get("id")})}))}))},onCoverEditIconEnter:function(){this.$("#cover-uploader").addClass("active"),this.$(".on-cover-edit").removeClass("hidden")},onCoverEditLeave:function(){this.$("#cover-uploader").removeClass("active"),this.$(".on-cover-edit").addClass("hidden")},onFileDragEnter:function(){this.onCoverEditIconEnter()},onPopoverOk:function(e){n.stopEvent(e),$(e.currentTarget).parent().parent().parent().popover("hide")},onCloseTooltip:function(e){var t=$(e.currentTarget),n=t.data("bs.popover");if(n&&n.tip().hasClass("in")){var a=t.attr("id");"image-tooltip"===a?this.$(".add-cover-text").click():"description-tooltip"===a?this.$(".story-description").focus():"tags-tooltip"===a?this.onAddTagSelected():"finish-tooltip"===a&&(this.showTips=!1,this.onEditSaveSelected())}},onTriggerTooltip:function(e){n.stopEvent(e);var t=$(e.currentTarget);t.parent().find('[data-toggle="popover"]').popover("show"),t.removeClass("on-trigger-tooltip"),_.delay((function(){t.hasClass("new-cover-upload")&&t.find(".dropdown-holder").attr("data-toggle","dropdown")}))},onContestFormPopover:function(e){var n=t.utils.trans;this.initPopover("#content-tooltip",n("What is mature content?"),n("These ratings help us understand if your story has sexual content, and if it does, to what magnitude. Stories with any level of sexual content are eligible to win, as long as they abide by our content guidelines."),{1:"https://www.wattpad.com/1066992263-the-2021-watty-awards-how-to-submit",2:"https://www.wattpad.com/1067023578-wattys-2021-comment-soumettre",3:"https://www.wattpad.com/1067047519-wattys-2021-come-iscriversi",4:"https://www.wattpad.com/1068809985-wattys-2021-wie-kann-eingereicht-werden",5:"https://www.wattpad.com/1068871662-wattys-2021-c%C3%B3mo-enviar",6:"https://www.wattpad.com/1068880353-wattys-2021-como-enviar",13:"https://www.wattpad.com/1068975624-wattys-2021-hoe-kun-je-inzenden",18:"https://www.wattpad.com/1069301402-wattys-2021-paano-magsumite",20:"https://www.wattpad.com/1069327801-wattys-2021-cara-mendaftar",23:"https://www.wattpad.com/1068991895-2021-watty-%C3%B6d%C3%BClleri-nasil-ba%C5%9Fvurulur"}[a.get("language")])},postRender:function(){var e=t.utils.trans;this.isPreview&&this.model.get("title")===this.defaultStoryTitle&&this.$(".story-title").removeClass("has-title"),this.initPopover("#image-tooltip",e("Stories with a cover image get 23x more reads than ones without"),e("Must be in PNG, GIF, or JPG format, smaller than 2MB. Recommended cover dimensions: 512x800 pixels"),"https://www.wattpad.com/253535287-secrets-to-getting-more-reads-add-a-story-cover"),this.initPopover("#description-tooltip",e("Stories with descriptions get 100x more reads than ones without"),e("Write a short description that will excite your readers and hook them in"),"https://www.wattpad.com/253611251-secrets-to-getting-more-reads-write-a-story"),this.initPopover("#category-tooltip",e("This information helps us understand more about your story"),null,"https://support.wattpad.com/hc/en-us/articles/200774334-Content-Guidelines#categories"),this.initPopover("#characters-tooltip",e("Add up to 20 Main Characters. This information will not be shown to your readers. Instead, this information will be used to help Wattpad more easily discover your story."),null,"https://support.wattpad.com/hc/en-us/articles/360027382932-Add-Main-Characters-to-a-Story"),this.initPopover("#tags-tooltip",e("Adding 10 or more tags can help increase discoverability"),e("Tags should be a word or concept, reflective of your storys themes and subgenres"),"https://www.wattpad.com/253614397-secrets-to-getting-more-reads-tags-tags-tags"),this.initPopover("#target-audience-tooltip",e("This information will not be shown to your readers. Instead, this information will be used to help Wattpad more easily discover your story."),null,"https://support.wattpad.com/hc/en-us/articles/360027383472-Add-a-Target-Audience-to-a-Story"),this.initPopover("#language-tooltip",e("Wattpad has a global audience; make sure your story reaches the right readers")),this.initPopover("#rating-tooltip",e("Rate your story appropriately to ensure a positive reading experience for your readers with no unwanted surprises"),null,"https://support.wattpad.com/hc/en-us/articles/200774334-Content-Guidelines#ratings");var n="";1===parseInt(a.get("language"),10)&&(n='<a href="https://www.wattpad.com/256413083-secrets-to-getting-more-reads-mark-your-story" target="_blank">Learn more</a>'),this.initPopover("#story-tooltip",e("If your story is complete, please let your readers know. ")+n),this.initPopover("#finish-tooltip",e("Dont worry, you can finish adding your story information later"),null,"https://www.wattpad.com/story/71065441-secrets-to-getting-more-reads","finish-tooltip-ok"),this.prefilledTag&&(this.initPopover("#prefilled-tag-tooltip","<p>We've automatically added <span class='bold'>#"+this.prefilledTag+"</span> to your submission. This ensures we've received your entry.</p>",null,null,null,!0),this.$("#prefilled-tag-tooltip").popover("show"))},initPopover:function(e,n,a,s,i,l){var r="";n&&(r+="<div class='main-content'>"+n,a&&(r+="<div class='secondary-content'>"+a+"</div>"),r+="</div>"),r+="<div class='tooltip-footer'>",s&&(r+="<a target='_blank' href="+s+">"+t.utils.trans("Learn More")+"</a>"),r+="<button class='btn on-okay "+(l?"btn-link ":"btn-purple"),i&&(r+=i),r+="'>"+(l?"Got It":t.utils.trans("OK"))+"</button></div>";var o=this;this.$(e).popover({template:'<div class="popover writer-tooltip" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',html:!0,placement:"auto",content:function(){return r}}).on("shown.bs.popover",(function(e){var t=$(e.target);$(document).on("click.closePopover",(function(e){0===$(e.target).parents(".popover").length&&t.popover("hide")}))})).on("hide.bs.popover",(function(e){$(document).off("click.closePopover"),o.onCloseTooltip(e)}))},ratingChange:function(e){$(e.currentTarget).prop("checked")?(this.$(".everyone").addClass("hidden"),this.$(".writerMature").removeClass("hidden")):(this.$(".everyone").removeClass("hidden"),this.$(".writerMature").addClass("hidden"))},onStoryTitleKeyUp:function(){"-1"!==this.$("#categoryselect").val()&&this.isNew&&this.$(".on-edit-save .text").text(t.utils.trans("Next"))},onStoryTitleFocus:function(){var e=this.$(".story-title");e.text().trim()===this.defaultStoryTitle&&(e.text(""),e.addClass("has-title"))},onStoryTitleBlur:function(){var e=this.$(".story-title");""===e.text().trim()?(e.text(this.defaultStoryTitle),e.removeClass("has-title")):e.hasClass("empty-border")&&""!==e.text()&&(e.removeClass("empty-border"),this.$("#title-warning").removeClass("red-warning"))},onCategorySelected:function(e){""!==this.$(".story-title").text()&&this.isNew&&this.$(".on-edit-save .text").text(t.utils.trans("Next"));var n=$(e.currentTarget);n.hasClass("empty-border")&&"-1"!==n.val()&&(n.removeClass("empty-border"),this.$("#category-empty-warning").removeClass("red-warning"))},onEditClose:function(){$(".publish-modal").modal("hide")},remove:function(){$(document).off("click.closePopover"),a.views.Base.prototype.remove.apply(this,arguments)},showFile:function(){this.isNew&&(this.$(".new-cover-upload").addClass("hidden"),this.$("#cover-uploader").removeClass("hidden"),this.$("#image-tooltip").addClass("hidden"))},onStoryDescriptionBlur:function(e){var t=$(e.currentTarget);t.hasClass("empty-border")&&""!==t.val()&&(t.removeClass("empty-border"),this.$("#description-warning").removeClass("red-warning"))},onSwitchTabs:function(e){"toc"===e&&this.$(".table-of-contents").hasClass("hidden")?(this.$(".table-of-contents").removeClass("hidden"),this.$(".main-edit-form").addClass("hidden")):"story-detail"===e&&this.$(".main-edit-form").hasClass("hidden")?(this.$(".main-edit-form").removeClass("hidden"),this.$(".table-of-contents").addClass("hidden")):"story-planner"===e&&(this.$(".table-of-contents").addClass("hidden"),this.$(".main-edit-form").addClass("hidden"))},fileReceivedCallback:function(){var t=this;this.model.id&&this.saveCover().then((function(){e.dispatchEvent(new CustomEvent("myworks:cover:saved",{detail:t.model.toJSON()}))}))},createCanvaCover:function(t){var n=this,a=new XMLHttpRequest;a.open("GET",t.exportUrl,!0),a.responseType="blob",a.onload=function(a){if(200==this.status){var s=this.response;n.FileUpload.file=s,n.FileUpload.file.designId=t.designId,n.showFile(),n.FileUpload.$domDrop.addClass("drop-done"),e.te.push("event","writer","cover",null,"create",{target:"canva"})}},a.send()},handleUpdateCopyright:function(e){this.model.set({copyright:e})}})),a.mixin(a.views.WorksItemDetails,"FileUpload","DragAndSort","SocialSharing","AutocompleteField")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(76),s=n.n(a);!function(e,t,n,a,i){a.add("PostPublishModal",a.views.Base.extend({template:s.a,className:"post-publish-modal modal fade",events:{"tap .share-embed":"hideModal","click .share-embed":"stopEvent","tap .on-post-message":"onPostMessage","click .on-post-message":"stopEvent"},showModal:function(){this.$el.modal("show")},hideModal:function(){this.$el.modal("hide")},render:function(){return this.$el.html(this.template(t.extend(this.model.toJSON(),{links:this.options.links,showBroadcastMessaging:this.options.showBroadcastMessaging,username:i.currentUser().get("username"),testGroups:n.testGroups}))),this},sendPrometheusEventFromBroadcast:function(){var t=this.model.get("group").id;e.te.push("event","modal","story_publish","broadcast_message","click",{storyid:t})},onPostMessage:function(e){i.stopEvent(e);var t=this.$(".broadcast-message").val().trim(),s=this.model.get("group").id,l=n.siteRoot+"/story/"+s;if(""!==t){var r={broadcast:!0,body:t+" "+l};new a.models.Message({ownername:i.currentUser().get("username")}).save(r,{success:this.onBroadcastMessageSuccess.bind(this),error:this.onBroadcastMessageError.bind(this)})}},onBroadcastMessageSuccess:function(e,t,n){this.sendPrometheusEventFromBroadcast(),this.trigger("message:new",e),this.$(".broadcast-message").val("").blur();var a=i.iconify("fa-check",16,"wp-base-2")+i.trans("Your message has been posted!");this.$(".message-info").html(a),this.$(".message-wrapper").addClass("hidden"),this.$(".profile-link").removeClass("hidden")},onBroadcastMessageError:function(e,t,n){var a=i.iconify("fa-warning",16,"wp-lighterror")+i.trans("There was a problem posting your message, please try again later.");this.$(".message-info").html(a)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t,n){"use strict";n.r(t);var a=n(77),s=n.n(a);!function(e,t,n,a){a.add("DummyReactView",a.views.Base.extend({template:s.a,initialize:function(e){if(!(e=e||{}).component)throw new Error("Must pass in a React component");if(!e.componentId)throw new Error("Must pass in a React componentId");this.component=e.component,this.componentId=e.componentId,this.componentData=e.componentData||{}},render:function(){return this.$el.html(this.template(_.extend(this.componentData,{component:this.component,componentId:this.componentId}))),this}}))}(window,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(26),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("PromotedStoryItem",l.views.Base.extend({className:"promoted-story-section",events:{"tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent"},initialize:function(e){Handlebars.registerPartial("core.item_views.story_item",s.a),e=e||{},this.fromPage=e.fromPage||"",this.template=e.template||t.noop,this.storyId=e.storyId||null,this.promotedEl=e.promotedEl||"",this.viewed=!1,this.model=new l.models.PromotedStoryModel(e),t.bindAll(this,"trackViews")},remove:function(){this.recommendedStories&&this.recommendedStories.remove(),n(e).off("scroll",this.trackViews),l.views.Base.prototype.remove.apply(this,arguments)},render:function(){var a=this;return a.model.fetch().then((function(s){if(s)if("stories-similar"==a.templateName){var i={hasStories:!0,stories:[s]};a.$el.empty().append(a.template(i)),n(e).on("scroll",a.trackViews),n(a.promotedEl).removeClass("hidden"),t.defer((function(){a.trackViews()}))}else{s.user.fullname=s.user.fullname||s.user.name,s.user.name=s.user.username;var o={items:{stories:[s]},tracking:{impressionUrl:a.model.impressionUrls,clickUrl:a.model.clickUrls}},c=new r.Model;c.set("data",o),c.set("type","promotedStoriesRecommended"),a.recommendedStories=new l.views.DiscoverModule({model:c,experience:"story_reading"}),a.recommendedStories.setElement(n(".promoted-recommended-stories-view")),a.recommendedStories.render(),n(".colWrap").removeClass("no-promoted-section"),n(".colWrap").addClass("has-promoted-section"),n(a.promotedEl).removeClass("hidden")}})),this},trackViews:t.throttle((function(){i.isOnScreen(this.$el,.67)&&!this.viewed&&(this.viewed=!0,t.each(this.model.impressionUrls,(function(e){n.ajax({type:"GET",url:e})})))}),200),onStoryPreview:function(a){var s=n(a.currentTarget),i=this.model.storyModel;"storyReading"==this.fromPage&&e.te.push("event","reading","similar_stories","promoted_story","click",{current_storyid:this.storyId,storyid:i.get("id"),campaignid:s.data("author-name")}),t.each(this.model.clickUrls,(function(e){n.ajax({type:"GET",url:e})}));var r=new l.views.BrowseStoryPreview({isHome:!1,model:i});this.$("#preview-modal").empty().append(r.render().$el),r.openModal()}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(78),s=n.n(a);!function(e,t,n,a){a.add("SearchFieldBase",a.views.Base.extend({autocompleteTemplate:s.a,events:{"tap    .on-autocomplete-item":"onAutocompleteItem"},initialize:function(e){this.listenTo(a,"navbar:search:save",this.saveSearchTerm)},getSearchUrl:function(e){return"/search/"},saveSearchTerm:function(e){try{if(e=e.trim(),!t.isEmpty(e)){this.sendSearchTracking(e);var n=JSON.parse(localStorage.getItem("recentSearches"))||[];n.unshift(e),n=t.uniq(n),localStorage.setItem("recentSearches",JSON.stringify(n.slice(0,4)))}}catch(e){}},sendSearchTracking:function(t){e.te.push("event","search","story",null,"search",{search:t.trim(),tags:t.match(/#[\w]+(?=\s|$)/g)})},onAutocompleteItem:function(e){var t,s=$(e.currentTarget).attr("href"),i=null!==(t=$(e.currentTarget).data("target"))&&void 0!==t?t:"";i.length>0&&this.saveSearchTerm(i),null!=n&&n.testGroups.NEW_SEARCH_SKELETON&&!a.get("device").is.mobile&&($(".story-card-skeleton-container").removeClass("hidden"),$(".story-card-container").addClass("hidden"),$(".profile-skeleton-container").removeClass("hidden"),$("#results-people .list-group").addClass("hidden"),$("#results-people .load-more").addClass("hidden")),n.utils.pushEvent({autocomplete:{click:!0,category:"Nav",action:"Autocomplete",label:s.split("/").slice(1).join(":")}}),this.$(this.targetSelector).blur(),this.enabled||(n.utils.stopEvent(e),this.saveSearchTerm(i),a.trigger("navbar:search:set",i))}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(4),s=n.n(a);!function(e,t,n,a){a.add("SearchField",a.views.SearchFieldBase.extend({className:"dropdown",template:s.a,enabled:!0,events:t.extend({"input    #search-query":"onSearchInput","blur     #search-query":"onSearchBlur","keydown  #search-query":"onSearchKeyDown","submit form":"onSubmit","mousedown  .triangle":"onPopupClick","mousedown  .autocomplete-item-container":"onPopupClick"},a.views.SearchFieldBase.prototype.events),initialize:function(e){this.selectedItem=null,this.searchResults=null,this.targetSelector="#search-query",this.listenTo(a,"navbar:search:enable",this.enable),this.listenTo(a,"navbar:search:disable",this.disable),this.listenTo(a,"navbar:search:set",this.set),a.views.SearchFieldBase.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(this.template()),this},renderAutocomplete:function(e){this.$("ul.autocomplete-item-container").append(this.autocompleteTemplate({results:e}))},showAutocompleteSuggestions:t.debounce((function(e){var t=new a.collections.Autocomplete([],{searchTerm:e}),n=this;Promise.resolve(t.fetch()).then((function(){n.cleanup(),t.length&&(n.searchResults=t.toJSON(),n.renderAutocomplete(n.searchResults),n.showResults())}))}),500),cancelAutocompleteLookup:function(){this.showAutocompleteSuggestions&&this.showAutocompleteSuggestions.cancel()},showResults:function(){var e=this.$el.children("form");e.hasClass("open")||e.addClass("open")},hideResults:function(){var e=this.$el.children("form");e.hasClass("open")&&(e.removeClass("open"),this.cleanup())},cleanup:function(){this.$("ul").empty(),this.selectedItem=null,this.searchResults=null},selectPrev:function(){if(null===this.selectedItem)return this.selectedItem=this.searchResults.length-1,void this.highlightSelected();var e=this.selectedItem-1;e<0&&(e=this.searchResults.length-1),this.selectedItem=e,this.highlightSelected()},selectNext:function(){if(null===this.selectedItem)return this.selectedItem=0,void this.highlightSelected();var e=this.selectedItem+1;e>=this.searchResults.length&&(e=0),this.selectedItem=e,this.highlightSelected()},highlightSelected:function(){var e=this.searchResults[this.selectedItem].itemId;this.$(".autocomplete-item").removeClass("selected"),this.$(".autocomplete-item#"+e).addClass("selected")},loadSelection:function(){if(null!==this.selectedItem){var e=this.searchResults[this.selectedItem].itemId;this.$(".autocomplete-item#"+e).children("a").trigger("tap")}},onSearchKeyDown:function(e){switch((13===e.which&&this.selectedItem||38===e.which||40===e.which)&&n.utils.stopEvent(e),e.key){case"Backspace":case"Esc":case"Escape":return void this.hideResults()}if(this.searchResults&&!(this.searchResults.length<1))switch(e.which){case 38:this.selectPrev();break;case 40:this.selectNext();break;case 13:this.loadSelection()}},onSearchInput:function(e){var t=this.$(this.targetSelector).val();this.hideResults(),this.cancelAutocompleteLookup(),t.trim().length>=2&&this.showAutocompleteSuggestions(t.trim())},onPopupClick:function(e){e.preventDefault()},onSearchBlur:function(t){var n=this;e.setTimeout((function(){n.hideResults()}),500)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},set:function(e,t){this.$(this.targetSelector).val(e),!1!==t&&a.trigger("navbar:search:query",e)},onSubmit:function(e){this.hideResults(),this.cancelAutocompleteLookup();var t=this.$("#search-query").val();t=this.formatSearchTerm(t),document.getElementById("search-query").value=t,this.saveSearchTerm(t),this.enabled?this.searchXHR&&(e.stopPropagation(),this.searchXHR.abort()):(n.utils.stopEvent(e),a.trigger("navbar:search:query",t))},formatSearchTerm:function(e){var t;if(null!==(t=e)&&void 0!==t&&t.includes("#")){var n=(e=e.replace(/#/g," #")).split(/\s+/),a=new Set,s=[];n.forEach((function(e){if("#"===e.charAt(0)){var t=e.replace(/\\/g,"");!a.has(t)&&t.length>1&&(a.add(t),s.push(t))}else s.push(e)})),e=s.join(" ")}return e.replace(/\s+/g," ").trim()}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(79),s=n.n(a),i=n(4),l=n.n(i),r=n(80),o=n.n(r),c=n(27),u=n.n(c),d=n(28),h=n.n(d),p=n(29),m=n.n(p),f=n(81),g=n.n(f);!function(e,t,n,a){a.add("Header",a.views.Base.extend({template:null,partials:{"core.header.community_menu":m.a,"desktop.browse.browse_topics":h.a,"core.header.discover_menu":u.a,"desktop.components.header.partials.profile_menu":o.a,"core.header.search_field":l.a,"desktop.components.header.partials.create_menu":g.a},events:{"tap    .on-language":"onLanguageSelected","click  .on-language":"stopEvent","tap    #header-item-login":"onAuthModal","click  #header-item-login":"stopEvent","tap    #header-item-signup":"onAuthModal","click  #header-item-signup":"stopEvent","tap .on-logout":"onLogout","click .on-logout":"stopEvent","tap .on-premium":"onPremium","click  .on-navigate":"onNavigate","mouseleave .show-related-tags":"onUnhoverCategory","mouseenter .show-related-tags":"onCategoryHovered","tap .show-related-tags":"onCategoryHovered","click .show-related-tags":"stopEvent","tap .on-topic":"onTopicClick","click .on-topic":"onTopicClick","click .triangle":"onPopupClick","click .header-list":"onPopupClick"},title:function(){n.utils.trans("Join Wattpad")},subtitle:function(){n.utils.trans("Be part of a global community of readers and writers, all connected through the power of story.")},initialize:function(e){e=e||{},this.template=s.a,t.each(this.partials,(function(e,t,n){Handlebars.registerPartial(t,e)})),this.searchFieldView=new a.views.SearchField;var n=a.get("device");this.showCurationPanel=n.is.desktop;var i=a.get("supported-languages").get(a.get("language"));this.language=i.get("code")},render:function(){var s,i={},l=!1,r=null,o=null,c=[],u=this;return i.currentUrl=n.utils.getNextUrl(e.location.href),n.utils.currentUser().authenticated()?(i["current-user"]=n.utils.currentUser().toJSON(),i["current-user"].recommendedTags=e.wattpad.userRecommendedTags):1!==parseInt(a.get("language"),10)&&(l=!0),t.each(JSON.parse(n.newCurationProfiles),(function(e){e.code===u.language&&(o=e.username)})),o&&(r=new a.collections.ReadingLists([],{username:o}),c.push(r.fetchNextSet())),s=new a.collections.BrowseTopics,c.push(s.fetch()),Promise.all(c).then((function(){i.showWattpadPicks=!l,i.browseTopics=n.utils.sortByColumns(s.toJSON(),3),i.newCurationLists=o&&u.showCurationPanel?r.toJSON():null,i.testGroups=n.testGroups,u.renderAllViews(i)})).catch((function(){u.renderAllViews(i)})),this},renderAllViews:function(e){this.$el.html(this.template(e)),this.searchFieldView&&this.$("#header-item-search").html(this.searchFieldView.render().$el)},setElement:function(e){Monaco.View.prototype.setElement.apply(this,arguments),this.searchFieldView&&this.searchFieldView.setElement(this.$("#header-item-search > div"))},onLanguageSelected:function(t){var n=$("#languageModal iframe");n.attr("src","/settings/language?jq=true"),n[0].onload=function(){n[0].contentWindow.callbackFn=function(t){$("#languageModal").modal("hide"),t&&e.location.reload()}},$("#languageModal").modal({show:!0}).removeClass("hide")},onAuthModal:function(t){var s=t.currentTarget.getAttribute("data-form"),i="signup"===s?n.utils.trans("Join Wattpad"):n.utils.trans("Log in to Wattpad"),l=new a.views.SignUpPrompt({model:new a.models.Authsignup,title:i,subtitle:n.utils.trans("Be part of a global community of readers and writers, all connected through the power of story."),formType:"navbar_modal",form:s,nextUrl:e.location.href}),r=s.concat("-modal-wrapper");$("#generic-modal .modal-body").html(l.render().$el),$("#generic-modal").find(".modal-dialog").addClass(r),$("#generic-modal").modal("show")},onPremium:function(t){e.te.push("event","subscriptions","cta",null,"view",{cta_type:"header_button"})},onNavigate:function(e){e.preventDefault(),a.views.Base.prototype.onNavigate.apply(this,arguments)},onLogout:function(t){n.utils.setCookie("hc",0),e.localStorage.clear(),n.utils.redirectToServer("/logout")},currentTimer:null,onCategoryHovered:function(e){this.currentTimer=setTimeout((function(){var t=this.$("#main-browse-navigate .active");$(t.data("id")).addClass("hide"),t.removeClass("active");var n=$(e.target);$(n.data("id")).removeClass("hide"),n.addClass("active")}),50)},onUnhoverCategory:function(e){clearTimeout(this.currentTimer)},onTopicClick:function(t){var n=$(t.target).text();e.te.push("event","browse","item",null,"click",{page:"navigation",target:n})},onPopupClick:function(e){"on-navigate on-topic"===$(e.target).attr("class")&&$("#discover-dropdown").removeClass("open"),"on-navigate"===$(e.target).attr("class")&&($("#discover-dropdown").removeClass("open"),$("#profile-dropdown").removeClass("open")),e.stopPropagation()}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(82),s=n.n(a);!function(e,t,n,a,i){i.add("Announcement",Monaco.View.extend({template:s.a,className:"announcement",events:{"click  .on-dismiss":"stopEvent","tap    .on-dismiss":"onDismiss"},initialize:function(e){this.options=e},render:function(){return this.$el.html(this.template(this.getData())),this},getData:function(){return this.options||{}},onDismiss:function(e){$("#announcements").remove(),this.remove(),a.setCookie("anDi",1,3)},stopEvent:function(e){n.utils.stopEvent(e)}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(83),s=n.n(a);!function(e,t,n,a){a.add("VerifyEmail",a.views.Announcement.extend({template:s.a,state:"default",className:a.views.Announcement.prototype.className+" verify-email",events:t.extend({"click  .on-verify":"stopEvent","tap    .on-verify":"onVerify","click  .on-changeemail":"stopEvent","tap    .on-changeemail":"onChangeEmail","click  .learn-more":"stopEvent","tap    .learn-more":"onLearnMore","tap    .on-close":"onClose","click  .on-close":"stopEvent"},a.views.Announcement.prototype.events),initialize:function(e){Handlebars.registerPartial("core.signup_prompt",(function(){return""}))},getData:function(){var e={};return e[this.state]=!0,e},onVerify:function(e){n.utils.stopEvent(e);var t=this;Promise.resolve($.ajax({type:"POST",url:"/api/v3/users/validate",data:{activation_email:"true"}})).then((function(e){t.onEmailSent({isChangeEmailModal:!1,isSuccess:!0})})).catch((function(e){t.onEmailSent({isChangeEmailModal:!1,isSuccess:!1})}))},onEmailSent:function(e){var t=new a.views.VerifyEmailModal(e);$("#generic-modal .modal-body").html(t.render().$el),$("#generic-modal .modal-content").addClass("sent-email-modal-wrapper"),$("#generic-modal").modal({})},onChangeEmail:function(e){n.utils.stopEvent(e);n.utils.showChangeEmailModal({isChangeEmailModal:!0,isSuccess:!1})},onLearnMore:function(e){n.utils.stopEvent(e),n.utils.showPleaseVerifyModal()},onClose:function(e){$("#generic-modal").modal("hide"),setTimeout((function(){$("#generic-modal .modal-content").removeClass("sent-email-modal-wrapper"),$("#generic-modal .modal-content").removeClass("change-email-modal-wrapper")}),500)}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(84),s=n.n(a);!function(e,t,n,a){a.add("EmailVerifiedSuccess",a.views.Announcement.extend({template:s.a,state:"default",className:a.views.Announcement.prototype.className+" email-verified-success",events:t.extend({"tap    .on-close":"onClose","click  .on-close":"stopEvent"},a.views.Announcement.prototype.events),onClose:function(e){this.remove()}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("ChangeEmailModal",Monaco.Model.extend({defaults:{email:null},validationRules:{email:[{func:"isRequired",msg:a.trans("Email is required.")},{func:"isEmail",msg:a.trans("That is not a valid email address.")},{func:"uniqueEmail",async:!0}]},uniqueEmail:function(e,t){return Promise.resolve($.ajax("/api/v3/users/validate",{data:{email:e}}))},uniqueUsername:function(e,t){return Promise.resolve($.ajax("/api/v3/users/validate",{data:{username:e}}))}})),s.mixin(s.models.ChangeEmailModal,"ValidationModel")}(window,_,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("PleaseVerifyModal",a.views.DummyReactView.extend({component:"PleaseVerify",componentId:"please-verify",constructor:function(e){this.componentData={email:n.utils.currentUser().attributes.email,userId:n.utils.currentUser().get("id"),hideModal:this.onClose};var t={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,t)},onClose:function(e){$("#generic-modal").modal("hide"),setTimeout((function(){$("#generic-modal .modal-content").removeClass("please-verify-modal-wrapper")}),500)}})),a.mixin(a.views.PleaseVerifyModal)}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("VerifyEmailModal",a.views.DummyReactView.extend({component:"VerifyEmail",componentId:"verify-email",constructor:function(e){this.componentData={isChangeEmailModal:e.isChangeEmailModal,email:e.email?e.email:n.utils.currentUser().attributes.email,userId:n.utils.currentUser().get("id"),isSuccess:e.isSuccess,hideModal:this.onClose,onUpdateEmail:e.onUpdateEmail};var t={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,t)},onClose:function(e){$("#generic-modal").modal("hide"),setTimeout((function(){$("#generic-modal .modal-content").removeClass("sent-email-modal-wrapper"),$("#generic-modal .modal-content").removeClass("change-email-modal-wrapper")}),500)}})),a.mixin(a.views.VerifyEmailModal)}(window,_,wattpad,window.app,wattpad.utils)},function(e,t,n){"use strict";n.r(t);var a=n(85),s=n.n(a);!function(e,t,n,a,i){i.add("SpielbergoAnnouncment",i.views.Announcement.extend({template:s.a,className:i.views.Announcement.prototype.className+" spielbergo",events:t.extend({"click  .on-navigate":"stopEvent","tap    .on-navigate":"onNavigate"},i.views.Announcement.prototype.events),render:function(){return i.views.Announcement.prototype.render.apply(this,arguments),this.$el.html(this.template({isMobile:i.get("device").is.mobile})),this},onDismiss:function(e){a.setCookie("noSbg",1),i.views.Announcement.prototype.onDismiss.apply(this,arguments)},onNavigate:function(t){this.onDismiss(t),e.location.href=$(t.currentTarget).attr("href")}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(86),s=n.n(a);!function(e,t,n,a){a.add("BetaProgram",a.views.Announcement.extend({template:s.a,state:"default",className:a.views.Announcement.prototype.className+" beta",events:t.extend({"click  .on-joinbeta":"stopEvent","tap    .on-joinbeta":"onJoinBeta"},a.views.Announcement.prototype.events),getData:function(){var e={};return e[this.state]=!0,e},onDismiss:function(e){this.remove(),n.utils.setCookie("nobb","1")},onJoinBeta:function(e){n.utils.stopEvent(e);var t=this,a=n.utils.currentUser();a&&$.ajax({type:"PUT",url:"/api/v3/users/"+a.get("username"),data:{beta_enabled:!0},success:function(e){t.state=e&&e.beta_enabled?"success":"fail",t.render()},error:function(e){t.state="fail",t.render()}})}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(87),s=n.n(a);!function(e,t,n,a){a.add("Survey",a.views.Announcement.extend({template:s.a,state:"default",className:a.views.Announcement.prototype.className+" survey",events:t.extend({"tap    .on-click":"onClick","click  .on-click":"stopEvent"},a.views.Announcement.prototype.events),onClick:function(t){var a=this.$("div.survey-banner");n.utils.stopEvent(t),e.document.cookie=a.data("survey-cookie")+"=1;path=/;domain="+e.location.hostname.replace("www",""),this.remove(),e.open(a.data("target"),"_blank")},onDismiss:function(t){var a=this.$("div.survey-banner");n.utils.stopEvent(t),e.document.cookie=a.data("survey-cookie")+"=1;path=/;domain="+e.location.hostname.replace("www",""),this.remove()}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(88),s=n.n(a);!function(e,t,n,a){a.add("TransitionGroup",a.views.Announcement.extend({template:s.a,state:"default",className:a.views.Announcement.prototype.className+" transition-group",events:t.extend({"click  .on-learnmore":"stopEvent","tap    .on-learnmore":"onLearnMore"},a.views.Announcement.prototype.events),getData:function(){var e={};return e[this.state]=!0,e},onDismiss:function(e){this.remove(),n.utils.setCookie("noRe","1")},onLearnMore:function(t){switch(n.utils.stopEvent(t),this.remove(),n.utils.setCookie("noRe","1"),n.utils.getCookie("locale")||"en_US"){case"en_US":e.location="https://support.wattpad.com/hc/en-us/articles/204991780";break;case"fr_FR":e.location="https://support.wattpad.com/hc/en-us/articles/204775074";break;case"es_ES":e.location="https://support.wattpad.com/hc/es/articles/204991780";break;case"pt_PT":e.location="https://support.wattpad.com/hc/en-us/articles/204776024";break;case"ru_RU":e.location="https://support.wattpad.com/hc/en-us/articles/204777014";break;case"de_DE":e.location="https://support.wattpad.com/hc/en-us/articles/204991230";break;case"tr_TR":e.location="https://support.wattpad.com/hc/tr/articles/204991780";break;default:e.location="https://support.wattpad.com/hc/en-us/articles/204991780"}}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(89),s=n.n(a);!function(e,t,n,a){a.add("Footer",Monaco.View.extend({template:s.a,events:{"click .on-language":"stopEvent","tap .on-language":"onLanguageSelected","click .on-premium":"stopEvent","tap .on-premium":"onPremium","click .on-back-to-mobile":"stopEvent","tap .on-back-to-mobile":"onBackToMobile"},render:function(){var e={isCookieSet:!!n.utils.getCookie("mw-no")};return this.$el.html(this.template(e)),this},onLanguageSelected:function(e){var t=$("#languageModal iframe");t.attr("src","/settings/language?jq=true"),t[0].onload=function(){t[0].contentWindow.callbackFn=function(e){var t=n.utils.getWindowSearch()||"?";$("#languageModal").modal("hide"),e&&(t.indexOf("language")>-1?t=t.replace(/language=[^\&]*/,"language="+e):t+="&language="+e,n.utils.reloadWithQuery(t.replace(/\?\&/,"?")))}},$("#languageModal").modal({show:!0}).removeClass("hide")},onPremium:function(t){e.te.push("event","subscriptions","cta",null,"view",{cta_type:"footer_button"}),n.utils.redirectToServer(t.currentTarget.href)},onBackToMobile:function(t){e.backToMobileWeb()},stopEvent:function(e){n.utils.stopEvent(e)}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(90),s=n.n(a);!function(e,t,n,a){a.add("ReportModal",a.views.Base.extend({className:"report-modal modal fade",attributes:{role:"dialog"},template:s.a,events:{"tap   .on-option-selected":"onOptionSelected","click .on-option-selected":"onOptionSelected","keyup .details-input":"onInputDetails","tap   .on-prev":"onPrev","click .on-prev":"stopEvent","tap   .on-next":"onNext","click .on-next":"stopEvent"},buttonStates:{SUBMITTED:1,SUBMIT:2,NEXT:3},zendeskCustomFieldIds:{REQUEST_TYPE:21523158,CONDUCT_REPORT:22875340,PLATFORM:21519886,UI_LANGUAGE:22708584,CONDUCT_TYPE:360041074311},initialize:function(e){if(!(e=e||{}).requestType)throw new Error("ReportModal Mixin | support ticket request type not specified");if(!e.reportForm)throw new Error("ReportModal Mixin | report form specifications not given");this.requestType=e.requestType,this.moreInfo=e.moreInfo,this.reportForm=e.reportForm,this.mainModal=e.mainModal,this.modalTitle=e.modalTitle,this.reportUserName=e.reportUserName,this.conductType=e.conductType,this.step=1,this.requireDetail=!1},render:function(){var e=this;return this.$el.html(this.template(this.reportForm)),this.$el.on("hidden.bs.modal",(function(){e.resetModal()})),this.$el.addClass("main-report-modal"),this.$(".modal-title").text(this.modalTitle),this},onOptionSelected:function(e){var t=this.$(e.currentTarget),n=t.data("require-detail"),a=t.data("intext"),s=t.data("tag");n?(this.setButtonState(!1,this.buttonStates.NEXT),this.$(".reason-selected").html(t.val()),this.$(".details-input").attr("placeholder",a),this.$(".checkbox").addClass("hide"),this.$("."+s).removeClass("hide"),this.requireDetail=!0):(this.setButtonState(!1,this.buttonStates.SUBMIT),this.requireDetail=!1)},onInputDetails:function(e){this.setButtonState(!this.$(e.currentTarget).val().length,this.buttonStates.SUBMIT)},onNext:function(e){1===this.step&&this.requireDetail?this.toStep2():this.toStep3()},onPrev:function(e){3===this.step&&this.requireDetail?this.toStep2():(this.toStep1(),this.$(":checkbox").prop("checked",!1),this.$(".details-input").val(""))},toStep1:function(){this.step=1,this.$(".btn-prev").addClass("hidden"),this.$(".modal-body-content").removeClass("step-2 step-3").addClass("step-1"),this.setButtonState(!1,this.requireDetail?this.buttonStates.NEXT:this.buttonStates.SUBMIT)},toStep2:function(){this.step=2,this.$(".btn-prev").removeClass("hidden"),this.$(".modal-body-content").removeClass("step-1 step-3").addClass("step-2"),this.setButtonState(!this.$(".details-input").val().length,this.buttonStates.SUBMIT)},toStep3:function(){var e=this.$(".btn-prev"),t=this.$(".requester-contact-info");this.step=3,this.$(".modal-body-content").removeClass("step-1 step-2").addClass("step-3"),this.isRequesterValid()?(e.addClass("hidden"),t.addClass("hidden"),this.submitReport(),this.$(".report-success").removeClass("faded"),this.setButtonState(!0,this.buttonStates.SUBMITTED)):(e.removeClass("hidden"),t.removeClass("hidden"),this.setButtonState(!1,this.buttonStates.SUBMIT))},isRequesterValid:function(){return this.$("#requester-name").hasClass("valid")&&this.$("#requester-email").hasClass("valid")||n.utils.currentUser().authenticated()},setButtonState:function(e,t){var a=this.$(".modal-footer > button");switch(a.prop("disabled",e),t){case this.buttonStates.SUBMITTED:a.html(n.utils.trans("Report submitted"));break;case this.buttonStates.NEXT:a.html(n.utils.trans("Next"));break;case this.buttonStates.SUBMIT:default:a.html(n.utils.trans("Submit report"))}},submitReport:function(){var e,s="",i=this.$("input[name=report-reason-option]:checked").data("tag"),l=this.$("."+i+" input").toArray(),r=this;l.forEach((function(e){if(e.checked){var t=r.$(e).data("id");r.model.setCustomField(t,r.$(e).data("checktag"))}else{t=r.$(e).data("id");r.model.setCustomField(t,r.$(e).data("nochecktag"))}})),this.moreInfo&&(s=t.reduce(this.moreInfo,(function(e,n){return e+"\n"+n.key+": "+t.result(n,"val")}),"\n")),e=this.$(".details-input").val()+s,this.model.set("comment",e),this.model.set("ticket_form_id",parseInt(this.$("form[data-ticket-form-id]").data("ticket-form-id"),10)),this.reportUserName&&this.model.set("username",this.reportUserName),"reported_users"==this.requestType&&this.model.set("reportType","user"),this.model.set("reason",this.$("input[name=report-reason-option]:checked").data("tag")),this.model.setCustomField(this.zendeskCustomFieldIds.REQUEST_TYPE,this.requestType),this.model.setCustomField(this.zendeskCustomFieldIds.UI_LANGUAGE,n.utils.getCookie("locale")||"en_US"),this.model.setCustomField(this.zendeskCustomFieldIds.PLATFORM,a._settings.device.is.mobile?"mobile_web":"web"),this.model.setCustomField(this.zendeskCustomFieldIds.CONDUCT_REPORT,this.$("input[name=report-reason-option]:checked").data("tag")),this.model.setCustomField(this.zendeskCustomFieldIds.CONDUCT_TYPE,this.conductType),this.model.setRequester(),this.model.save(),l.forEach((function(e){var t=r.$(e).data("id");r.model.setCustomField(t,null)}))},resetModal:function(){this.step=1,this.$(".btn-prev").addClass("hidden"),this.$(".modal-body-content").removeClass("step-2 step-3").addClass("step-1"),this.setButtonState(!0,this.buttonStates.SUBMIT),this.$("input[name=report-reason-option]").attr("checked",!1),this.$(":checkbox").prop("checked",!1),this.$(".details-input").val(""),this.$("#requester-name > input").val(""),this.$("#requester-email > input").val(""),this.$("#requester-name").removeClass("valid invalid warning"),this.$("#requester-email").removeClass("valid invalid warning")}})),a.mixin(a.views.ReportModal,"ValidationView")}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("ReactReportModal",a.views.DummyReactView.extend({component:"ReportModal",componentId:"report-modal",constructor:function(e){this.reportModalContainer=e.reportModalContainer,this.componentData={title:e.title,reportType:e.reportType,requesterUsername:e.requesterUsername,requesterEmail:e.requesterEmail,reportId:e.reportId,hideModal:this.onClose.bind(this),showErrorToast:this.showErrorToast};var t={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,t)},showErrorToast:function(e){n.utils.showToast(e,{type:"dismissable"})},onClose:function(t){if($(this.reportModalContainer).modal("hide"),$(this.reportModalContainer).off("hidden.bs.modal"),$("".concat(this.reportModalContainer," .modal-content")).removeClass("report-modal-wrapper"),"comment"===this.componentData.reportType&&n.testGroups.REMOVE_MUTED_COMMENTS){var s=this.componentData.reportId.name;e.store&&e.store.getState().profileData&&e.store.getState().profileData.mutedUsers&&e.store.getState().profileData.mutedUsers.some((function(e){return e.username==s}))&&a.trigger("app:comment:mute",{username:s})}}})),a.mixin(a.views.ReactReportModal)}(window,_,wattpad,window.app,wattpad.utils)},function(e,t,n){"use strict";n.r(t);var a=n(91),s=n.n(a);!function(e,t,n,a,i){a.add("SubscriptionModal",a.views.Base.extend({template:s.a,className:"subscription-modal modal fade",events:{"tap .on-track-event":"sendTrackingEvent","hidden.bs.modal":"sendTrackingEvent","shown.bs.modal":"sendTrackingEvent"},initialize:function(e){this.model.set("mode","go_premium"),a.views.Base.prototype.initialize.apply(this,arguments)},showModal:function(){this.$el.modal("show")},sendTrackingEvent:function(a){var s,i=$(a.currentTarget),l=this.model.get("mode");s="shown"===a.type?"prompt":"hidden"===a.type?"dismiss":i.data("action-type");var r={country:t.get(n.utils.currentUser().toJSON(),"country"),partid:this.model.get("id"),modal_type:l,cta_type:null};e.te.push("event","subscriptions","modal",null,s,r)},render:function(){return this.$el.html(this.template(t.assign(this.model.toJSON(),{appUrl:i.getAppUrl("homepage")}))),this}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t,n,a,s,i,l){"use strict";i.add("RegionManager",i.views.Base.extend({regionMethod:"append",constructor:function(){this.regions={},i.views.Base.apply(this,arguments)},clearRegion:function(e){void 0!==this.regions[e]&&(this.regions[e].view.remove(),delete this.regions[e].view,delete this.regions[e])},setRegion:function(e,t){var n;for(var a in this.regions)if(this.regions.hasOwnProperty(a)&&this.regions[a].view===t){n=!0;break}if(n)throw new Error("RegionManager: The subview (in element "+e+") is already bound to another region on this view.");void 0===this.regions[e]?this.regions[e]={view:null}:void 0!==this.regions[e].view&&(this.regions[e].view.remove(),delete this.regions[e].view),this.regions[e].view=t,this.$el.find(e)[this.regionMethod](t.$el)},attachRegions:function(){var e=this;t.forOwn(this.regions,(function(t,n){t.view&&t.view.setElement(e.$(n))}))},remove:function(){t.forOwn(this.regions,(function(e,t){e.view&&this.clearRegion(t)}),this),i.views.Base.prototype.remove.apply(this,arguments)}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("CollectionView",a.views.Base.extend({directions:{up:"prepend",down:"append"},constructor:function(e){if(e=e||{},void 0===this.itemView)throw new Error("CollectionView: this.itemView does not exist (required).");if(this.viewPointers={},this.direction=this.directions[e.direction||"down"],null===this.direction)throw new Error("CollectionView: this.direction is not valid.");this.containerId=e.containerId||this.containerId||null,this.containerClass=e.containerClass||this.containerClass||null,this.$container=null,this.collectionFilter=null,t.bindAll(this,"renderCollection","renderItem"),a.views.Base.prototype.constructor.apply(this,arguments)},bindEvents:function(){this.stopListening(this.collection,"reset sort add remove"),this.listenTo(this.collection,"reset sort",this.renderCollection,this),this.listenTo(this.collection,"add",(function(e){this.renderItem(e)}),this),this.listenTo(this.collection,"remove",(function(e){this.removeItem(e)}),this)},setDirection:function(e){"string"==typeof e?(this.direction=this.directions[e],void 0!==this.direction&&null!==this.direction||(this.direction=this.directions.down)):this.direction=this.directions.down},setElement:function(e){var n=this;if(a.views.Base.prototype.setElement.call(this,e),this.$container=this.getContainer(),this.collection&&0!==this.$container.length){var s=0;t.each(this.collection.models,(function(e){var t=n.viewPointers[e.cid];t&&(t.setElement(n.$container.children()[s]),s++)}))}},getContainer:function(){return this.containerId?this.$el.find(this.containerId):this.containerClass?this.$el.children(this.containerClass):this.$el},renderItem:function(e,n,a,s){if(n=n||this.getContainer(),null===this.collectionFilter||!0===this.collectionFilter.apply(e)){var i={model:e,cvIndex:a};s?t.extend(i,s):t.extend(i,this.getItemViewOptions()),this.viewPointers[e.cid]=new this.itemView(i),this.viewPointers[e.cid].render(),n[this.direction](this.viewPointers[e.cid].$el)}},getItemViewOptions:function(){return{}},renderCollection:function(e){var t=this.getContainer();return this.removeAll(),this.collection.each((function(n,a){this.renderItem(n,t,a,e)}),this),this},setCollectionfilter:function(e){this.collectionFilter=e},removeItem:function(e){t.has(this.viewPointers,e.cid)&&(this.viewPointers[e.cid].remove(),delete this.viewPointers[e.cid])},removeAll:function(){t.each(this.viewPointers,(function(e){this.removeItem(e.model)}),this)},remove:function(){this.removeAll(),a.views.Base.prototype.remove.apply(this,arguments)}}))}(window,_,wattpad,window.app,Monaco)},function(e,t){!function(e,t,n,a,s,i){"use strict";s.add("IncrementalList",s.views.CollectionView.extend({containerClass:".collection",events:{"tap        .on-showmore":"onShowMore","touchstart .on-showmore":"setTouchState","touchend   .on-showmore":"removeTouchState"},constructor:function(e){s.views.CollectionView.prototype.constructor.apply(this,arguments),this.listenTo(this.collection,"fetchNext:done",this.setButtonState)},render:function(){return this.$el.empty().append(this.template(this.getTemplateData())),this.renderCollection(this.getItemViewOptions()),this.setButtonState(),this.bindEvents(),this},getItemViewOptions:function(){return null},getTemplateData:function(){return this.model?this.model.toJSON():{}},setButtonState:function(){"function"==typeof this.collection.hasMore&&this.collection.hasMore()?this.$(".show-more").removeClass("hidden"):this.$(".show-more").addClass("hidden")},onShowMore:function(e){var t=this;e&&a.stopEvent(e),this.$(".show-more-message").addClass("hidden"),this.$(".loading-message").removeClass("hidden"),Promise.resolve(this.collection.fetchNextSet()).then((function(){t.$(".show-more-message").removeClass("hidden"),t.$(".loading-message").addClass("hidden")}))},setTouchState:function(e){this.$(".on-showmore").addClass("touched")},removeTouchState:function(e){this.$(".on-showmore").removeClass("touched")}}))}(window,_,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(92),s=n.n(a);!function(e,t,n,a){a.add("Error404",a.views.RegionManager.extend({id:"error-404",template:s.a,initialize:function(e){e=e||{},this.type=e.type,this.modelId=e.modelId,this.browseTopics=e.browseTopics,Handlebars.registerPartial("core.header.search_field",(function(){return""})),this.searchFieldView=new a.views.SearchField},setElement:function(e){Monaco.View.prototype.setElement.apply(this,arguments);var t="#error-404-stories";this.regions[t]&&this.regions[t].view&&this.$(t).length>0&&this.regions[t].view.setElement($(this.$(t+" > div")))},render:function(){var e,n={},a=JSON.parse(t.tagBgColours),s=JSON.parse(t.tagTextColours);switch(e=t.utils.trans("Page not found"),console.log("type:"+this.type),n.heading=t.utils.trans("This page seems to be missing..."),this.type){case"story":e=t.utils.trans("Story not found"),n.subHeading=t.utils.trans("The story has either been deleted or removed.");break;case"user":e=t.utils.trans("User not found"),n.subHeading=t.utils.trans("We couldn't find the profile you were looking for.");break;default:e=t.utils.trans("Page not found"),n.subHeading=t.utils.trans("We couldn't find what you were looking for.")}n.subHeading=n.subHeading+" "+t.utils.trans("You could try searching for something else you love!"),n.browseTopics=_.map(this.browseTopics.toJSON(),(function(e,t){var n=t%s.length;return{name:e.name,topic:e.topic,background:a[n],color:s[n]}})),t.utils.setTitle(e),this.$el.html(this.template(n)),this.searchFieldView&&this.$("#header-item-search").html(this.searchFieldView.render().$el)},getCategories:function(){var e=a.get("categories")?a.get("categories").toJSON():[];return _.sortBy(e,"name")}}))}(window,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(93),s=n.n(a),i=n(94),l=n.n(i),r=n(95),o=n.n(r),c=n(30),u=n.n(c),d=n(96),h=n.n(d),p=n(97),m=n.n(p),f=n(98),g=n.n(f),v=n(99),w=n.n(v),y=n(31),b=n.n(y),x=n(100),C=n.n(x),S=n(101),k=n.n(S),M=n(102),T=n.n(M),P=n(103),E=n.n(P);!function(e,t,n,a,i,r,c){r.add("UserEvent",r.views.Base.extend({tagName:"article",className:"user-event",template:null,userEventConvoBtn:s.a,templates:{comment:E.a,inline_comment:T.a,follow:k.a,library:C.a,message:b.a,upload:w.a,vote:g.a,placeholder:m.a,dedicate:h.a},partials:{regions:{"core.events.partials.user_event_footer":u.a,"core.events.partials.user_event_story_meta":o.a,"core.events.partials.user_event_user_meta":l.a}},events:{"tap    .on-user":"onUser","click  .on-user":"stopEvent","tap    .on-user-mention":"onNavigate","click  .on-user-mention":"stopEvent","tap    .on-add-to-library":"onAddToLibrary","tap    .on-remove-from-library":"onRemoveFromLibrary","tap    .on-hide":"onHideUserEvent"},initialize:function(){this.template=this.templates[this.model.get("type")],t.each(this.partials.regions,(function(e,t,n){Handlebars.registerPartial(t,e)}))},render:function(){var e,t=this.model.get("type"),n=this.model.get("data");switch((e=this.model.toJSON()).isValidMessage=!1,t){case"comment":case"inline_comment":e.data.comment.body=i.sanitizeHTML(n.comment.body),e.leftButton=this.userEventConvoBtn(e);break;case"upload":e.data.story.isNew=1===n.story.numParts;break;case"dedicate":e.outgoing=n.dedicator.name===this.model.get("username"),e.data.dedicatee.hasWorks=n.dedicatee.numWorks>0,e.meta=e.meta||{},e.meta.user=e.data.dedicatee}return n.story&&n.story.part&&(e.data.story.inLibrary=!!i.currentUser().library().get(n.story.id),"upload"!==n.type&&n.story.title===n.story.part.title&&(e.data.story.part.title=""),e.data.story.url=a.utils.formatStoryUrl(n.story.url),e.data.story.part.url=a.utils.formatStoryUrl(n.story.part.url)),e.hideMenu=this.model.get("username")!==a.utils.currentUser().get("username")&&!e.isValidMessage||!(this.model instanceof r.models.PublicMessage),this.$el.html(this.template(e)),"placeholder"!==t&&("dedicate"!==t?n.user.name===this.model.get("username")&&this.$el.addClass("self"):e.outgoing&&this.$el.addClass("self")),this},onUser:function(e){var t=n(e.currentTarget),a=new RegExp("user/"+t.data("username")+"($|/)");null===Backbone.history.fragment.match(a)&&r.router.navigate("/user/"+t.data("username"),{trigger:!0})},onHideUserEvent:function(e){i.stopEvent(e),this.model.destroy()},onAddToLibrary:function(e){var t=i.currentUser(),n=new r.models.StoryGroup({id:this.model.get("data").story.id});t.library().add(n),this.deactivateLibraryButton()},onRemoveFromLibrary:function(e){var t=i.currentUser(),n=new r.models.StoryGroup({id:this.model.get("data").story.id});t.library().remove(n),this.activateLibraryButton()},activateLibraryButton:function(){var e=a.utils.iconify("fa-plus",14,"wp-base-2-dark")+" "+a.utils.trans("Add to Library");this.$(".on-remove-from-library").html(e),this.$(".on-remove-from-library").addClass("on-add-to-library"),this.$(".on-remove-from-library").addClass("btn-white"),this.$(".on-remove-from-library").removeClass("btn-teal"),this.$(".on-remove-from-library").removeClass("on-remove-from-library")},deactivateLibraryButton:function(){var e=a.utils.iconify("fa-check",14,"wp-neutral-5")+" "+a.utils.trans("Added to Library");this.$(".on-add-to-library").html(e),this.$(".on-add-to-library").addClass("on-remove-from-library"),this.$(".on-add-to-library").addClass("btn-teal"),this.$(".on-add-to-library").removeClass("btn-white"),this.$(".on-add-to-library").removeClass("on-add-to-library")}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(104),s=n.n(a),i=n(105),l=n.n(i),r=n(106),o=n.n(r),c=n(107),u=n.n(c),d=n(108),h=n.n(d),p=n(48),m=n.n(p),f=n(109),g=n.n(f),v=n(110),w=n.n(v),y=n(111),b=n.n(y),x=n(112),C=n.n(x),S=n(49),k=n.n(S),M=n(113),T=n.n(M),P=n(114),E=n.n(P),I=n(115),U=n.n(I),L=n(50),$=n.n(L),A=n(15),R=n.n(A),D=n(116),F=n.n(D),N=n(117),B=n.n(N),O=n(51),z=n.n(O);!function(e,t,n,a,i,r,c){r.add("FeedItem",c.View.extend({tagName:"article",className:"feed-item-new panel",template:null,templates:{comment:z.a,inline_comment:z.a,follow:B.a,library:F.a,upload:R.a,update:R.a,newMessage:$.a,message:$.a,vote:U.a,dedicate:E.a,placeholder:T.a},groupTemplates:{comment:k.a,inline_comment:k.a,follow:C.a,library:b.a,upload:R.a,update:R.a,vote:w.a,dedicate:g.a},itemTemplates:{comment:m.a,inline_comment:m.a,follow:h.a,library:u.a,vote:o.a,dedicate:l.a},events:{"tap    .on-hide":"onHideUserEvent","click    .on-hide":"stopEvent","tap    .send-avatar-event":"sendAvatarClickTrackingEvent","click  .send-avatar-event":"stopEvent"},initialize:function(){this.model.get("group")?this.template=this.groupTemplates[this.model.get("type")]:this.template=this.templates[this.model.get("type")],Handlebars.registerPartial("core.feed_items.aggregates.item_views.feed_comment_item",this.itemTemplates.comment),Handlebars.registerPartial("core.feed_items.aggregates.item_views.feed_follow_item",this.itemTemplates.follow),Handlebars.registerPartial("core.feed_items.aggregates.item_views.feed_library_item",this.itemTemplates.library),Handlebars.registerPartial("core.feed_items.aggregates.item_views.feed_dedicate_item",this.itemTemplates.dedicate),Handlebars.registerPartial("core.feed_items.aggregates.item_views.feed_vote_item",this.itemTemplates.vote),Handlebars.registerPartial("core.feed_items.feed_item_options",s.a),"follow"!==this.model.get("type")&&"dedicate"!==this.model.get("type")||(this.listenTo(r,"app:user:follow",this.onUpdateFollow),this.listenTo(r,"app:user:unfollow",this.onUpdateUnfollow))},render:function(){var e=this.model.toJSON(),n=this;return e.group&&(t.each(e.group,(function(t){e.data.story&&(t.data.story.inLibrary=!!i.currentUser().library().get(t.data.story.id))})),e.groupCount=e.children.length+1),"dedicate"===e.type&&(e.outgoing=e.data.dedicatee.name!==a.utils.currentUser().get("username")),e.username&&(e.profile=e.username),this.$el.html(this.template(e)),t.defer((function(){n.$(".panel-body [data-toggle=tooltip]").tooltip()})),this},onUpdateFollow:function(e){var t=this.$(this.followButton+"[data-target="+e+"]");t.children(".fa").removeClass("fa-follow fa-wp-neutral-2").addClass("fa-following fa-wp-neutral-5"),t.children(".toggle-triangle").addClass("active"),t.children(".toggle-shadow").addClass("active"),t.attr("title",a.utils.trans("Following")).tooltip("fixTitle")},onUpdateUnfollow:function(e){var t=this.$(this.followButton+"[data-target="+e+"]");t.children(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-neutral-2"),t.children(".toggle-triangle").removeClass("active"),t.children(".toggle-shadow").removeClass("active"),t.attr("title",a.utils.trans("Follow")).tooltip("fixTitle")},onAddedToLibrary:function(e){var t=this.$(this.libraryButton+"[data-story-id='"+e+"']");t.children(".fa").removeClass("fa-wp-neutral-2 fa-plus").addClass("fa-wp-neutral-5 fa-check"),t.children(".toggle-triangle").addClass("active"),t.children(".toggle-shadow").addClass("active"),t.attr("title",a.utils.trans("Added to Library")).tooltip("fixTitle")},onRemovedFromLibrary:function(e){var t=this.$(this.libraryButton+"[data-story-id='"+e+"']");t.children(".fa").addClass("fa-wp-neutral-2 fa-plus").removeClass("fa-wp-neutral-5 fa-check"),t.children(".toggle-triangle").removeClass("active"),t.children(".toggle-shadow").removeClass("active"),t.attr("title",a.utils.trans("Add to Library")).tooltip("fixTitle")},onHideUserEvent:function(e){i.stopEvent(e),this.model.destroy()},sendAvatarClickTrackingEvent:function(t){e.te.push("event","newsfeed","avatar","","click",{feed_item_type:this.model.get("type")})},stopEvent:function(e){i.stopEvent(e)}})),r.mixin(r.views.FeedItem,"LibraryManagement","FollowManager")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(118),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("List",l.views.IncrementalList.extend({itemView:{},template:s.a,className:"list container",containerClass:".collection",initialize:function(e){if(void 0===e.itemView)throw new Error("List View: options.itemView cannot be null");this.itemView=e.itemView,this.className=e.className?e.className:this.className,this.title=e.title?e.title:"",e.pageTitle&&this._setTitle(e.pageTitle)},_setTitle:function(t){e.document.title!==t&&(e.document.title=t)},getTemplateData:function(){return{hasItems:this.collection.length>0,title:this.title}}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t,n,a){"use strict";a.add("CoreFeed",a.views.IncrementalList.extend({itemView:a.views.UserEvent,getItemView:function(e){switch(e.get("type")){case"message":case"newMessage":return a.views.NewFeedItemMessage;case"comment":case"inline_comment":case"library":case"upload":case"vote":case"placeholder":case"dedicate":case"follow":default:return a.views.FeedItem}},renderItem:function(e,t){this.itemView=this.getItemView(e),a.views.IncrementalList.prototype.renderItem.apply(this,arguments)}}))}(window,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s,i,l){"use strict";i.add("FeedEventFollow",i.views.UserEvent.extend({events:t.extend({"tap    .on-follow-user":"onFollowUser","tap    .on-unfollow-user":"onUnfollowUser"},i.views.UserEvent.prototype.events),render:function(){var e,t=this.model.get("data");(e=this.model.toJSON()).leftButton="",e.data.followed.hasWorks=t.followed.numWorks>0,e.meta=e.meta||{},e.meta.user=e.data.followed,this.$el.html(this.template(e)),t.user.name===this.model.get("username")&&this.$el.addClass("self")},onFollowUser:function(e){var t=this.model.get("data"),a=s.currentUser(),l=a.get("username"),r=t.followed.name,o=this;n.when(a.following().follow(r)).done((function(){o.deactivateFollowButton(),t.followed.following=!0,o.model.set("data",t),i.local.clear("user."+l),i.local.clear("user."+l+".following"),i.local.clear("user."+l+".profile.following"),i.local.clear("user."+r),i.local.clear("user."+r+".following"),i.local.clear("user."+r+".profile.following")}))},onUnfollowUser:function(e){var t=this.model.get("data"),a=s.currentUser(),l=a.get("username"),r=t.followed.name,o=this;n.when(a.following().unfollow(r)).done((function(){o.activateFollowButton(),t.followed.following=!1,o.model.set("data",t),i.local.clear("user."+l),i.local.clear("user."+l+".following"),i.local.clear("user."+l+".profile.following"),i.local.clear("user."+r),i.local.clear("user."+r+".following"),i.local.clear("user."+r+".profile.following")}))},activateFollowButton:function(){var e=a.utils.iconify("fa-follow",14,"wp-base-2-dark")+" "+a.utils.trans("Follow");this.$(".on-unfollow-user").html(e),this.$(".on-unfollow-user").addClass("on-follow-user"),this.$(".on-unfollow-user").addClass("btn-white"),this.$(".on-unfollow-user").removeClass("btn-teal"),this.$(".on-unfollow-user").removeClass("on-unfollow-user")},deactivateFollowButton:function(){var e=a.utils.iconify("fa-following",14,"wp-neutral-5")+" "+a.utils.trans("Following");this.$(".on-follow-user").html(e),this.$(".on-follow-user").addClass("on-unfollow-user"),this.$(".on-follow-user").addClass("btn-teal"),this.$(".on-follow-user").removeClass("btn-white"),this.$(".on-follow-user").removeClass("on-follow-user")}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(32),s=n.n(a),i=n(33),l=n.n(i);!function(e,t,n,a,i,r,o){r.add("NewFeedItemMessage",r.views.FeedItem.extend({reportModalContainer:".message-report-modal",requestType:"inappropriate_comments",isMainReportModal:!1,modalTitle:a.utils.trans("Report a Public Message"),conductType:"public_message_conduct",events:t.extend({"tap  .on-reply":"onReply","click .on-reply":"stopEvent","tap  .new-reply":"newReply","click .new-reply":"stopEvent","tap  .on-delete":"onDeleteMessage","click .on-delete":"stopEvent","tap  .on-send-event":"sendEventForBeautifyUrl","click .on-send-event":"stopEvent","tap    .send-avatar-event":"sendAvatarClickTrackingEvent","click  .send-avatar-event":"stopEvent","tap    .on-mute":"onMute","click  .on-mute":"stopEvent","tap    .on-unmute":"onUnmute","click  .on-unmute":"stopEvent"},r.views.FeedItem.prototype.events),initialize:function(n){Handlebars.registerPartial("core.feed_items.feed_item_message_options",l.a),Handlebars.registerPartial("core.shared.beautify_url",s.a),Handlebars.registerPartial("core.feed_items.feed_message_reply",(function(){return""})),this.template=this.templates.newMessage,this.pinnedItem=n.pinnedItem||null;var o=this.model.get("username"),c=this.model.get("from").name;this.newMessageView=new r.views.NewMessageNew({to:o,parentId:this.model.get("id"),placeholder:a.utils.trans("Write a reply..."),canBroadcast:!1,autoMention:c}),this.listenTo(this.newMessageView,"message:new",this.expand),this.listenTo(r,"message:scroll",t.debounce(this.scrollToComment)),this.reportModalType="public-message",this.reportModalId={name:this.model.get("from").name,location:e.location.href,body:i.sanitizeHTML(this.model.get("body"))},this.onMuteHelper=this.onMuteHelper.bind(this)},render:function(){var e=t.cloneDeep(this.model.toJSON()),n=this;if("message"===e.type&&(e.id=e.data.message.id),e.currentUser=a.utils.currentUser().toJSON(),e.canDelete=!1,this.model.get("username")){var s=a.utils.currentUser().get("username")===this.model.get("username"),i=a.utils.currentUser().get("username")===this.model.get("from").name,l=a.utils.currentUser().get("isSysAdmin");e.canDelete=s||i||l}e.numReplies=e.numReplies-e.latestReplies.length,e.showTarget=!1,e.pinnedItem=this.pinnedItem,this.getMuteData(e),this.collection=new r.collections.NewMessageReplies(e.latestReplies,{parentId:e.id,messageOwnerName:this.model.get("username"),limit:10}),this.repliesView=new r.views.MessageRepliesList({collection:this.collection,forFeeds:!0});var o=this.model.getBeautifyUrlSettings(e);return o&&!this.model.get("beautifyUrlMetadata")&&n.model.getMetadataForBeautifyUrl(o).then((function(t){e.beautifyUrlMetadata=t,n.$el.html(n.template(e)),n.renderLatestReplies()})),this.$el.html(this.template(e)),this.renderLatestReplies(),r.trigger("message:scroll"),this},getMuteData:function(t){var n=this.model.get("from").name;t.showMuteOption=a.testGroups.MUTE_PUBLIC_MESSAGE_MENU&&a.utils.currentUser().get("username")&&n!==a.utils.currentUser().get("username"),t.canMute=e.store&&e.store.getState().profileData&&e.store.getState().profileData.mutedUsers&&!e.store.getState().profileData.mutedUsers.some((function(e){return e.username==n})),t.feedItemMessageOptionsAuthor=n},scrollToComment:function(){var t=e.location.hash.replace("#","");if(t===this.model.get("id").toString()){var a=n("#comment-"+t);a.length&&(n("html, body").animate({scrollTop:a.offset().top-n("#header").height()},1e3),this.newMessageView._setActiveState(),this.newMessageView.$("textarea").focus())}},sendEventForBeautifyUrl:function(t){var a=n(t.currentTarget).parent(".beautify-url").data(),s=a.storyId,i=a.profileOwner;e.te.push("event","profile","message","story","click",{username:i,storyid:s})},renderLatestReplies:function(){var e=this;this.stopListening(this.newMessageView,"message:new",this.expand),this.autoMention=this.model.get("from").name;var t=this.$(".replies-list");this.collection.listenTo(this.newMessageView,"message:new",this.collection.add),this.newMessageView.listenTo(this.repliesView,"message:mention",this.newMessageView.addMention),0===this.$(".panel-footer").children(".message-new").length&&(this.$(".panel-footer").empty().append(this.newMessageView.render().$el),this.newMessageView.delegateEvents()),t.append(this.repliesView.render().$el),t.collapse("show"),t.one("hidden.bs.collapse",(function(){e.repliesView.remove(),e.collection.reset(),e.collection.stopListening(e.newMessageView,"message:new"),r.local.clear(e.collection.resource())})),t.addClass("no-collapse")},onReply:function(e){var t=n(e.target).data("target"),a=this;if(!this.$(t).hasClass("collapsing"))if(this.$(t).hasClass("collapse")&&this.$(t).hasClass("in")&&!this.$(t).hasClass("no-collapse"))this.listenTo(this.newMessageView,"message:new",this.expand),this.$(t).collapse("hide"),n(e.target).blur();else{this.autoMention=this.model.get("from").name;var s=this.$(t),i={};this.collection.models.length&&(i.replyId=this.collection.models[0].get("id")),Promise.resolve(this.collection.fetchNextSet(i)).then((function(e){a.updateReplyCount(e.replies.length),s.one("hidden.bs.collapse",(function(){a.repliesView.remove(),a.collection.reset(),a.collection.stopListening(a.newMessageView,"message:new"),r.local.clear(a.collection.resource())}))}))}},newReply:function(e){this.$(".panel-footer").empty().append(this.newMessageView.render().$el),this.newMessageView.focus()},updateReplyCount:function(e){var t=this.$el.children(".on-reply"),s=t.text().trim(),i=new RegExp(/([0-9]*)([M|K]?)(\s)? more (reply|replies)/gi).exec(s);if(!i[2]){var l=0;i[1].trim().length>0&&(l=parseInt(i[1],10));var r=l-e,o=a.utils.sprintf(a.utils.ngettext("View %s more reply","View %s more replies",r),[a.utils.count(r)]);t.html(o),r>0&&this.$el.children(".on-reply").removeClass("hidden"),r<=0&&(this.$el.children(".on-reply").addClass("hidden"),n(this.$el.children(".on-reply").data("target")).removeClass("no-collapse"))}},expand:function(){this.$('button[data-target="#replies-'+this.model.get("id")+'"]').trigger("tap")},onDeleteMessage:function(t){var n=this.model.toJSON(),s=new r.models.Message({id:n.id,body:n.body,createDate:n.createDate,from:{name:n.from.name,avatar:n.from.avatar,isActive:!0},isReply:!1,parentId:null,ownername:this.model.get("ownername")||this.model.get("username")||a.utils.currentUser().get("username")});e.confirm("Are you sure you want to delete this message?")&&(s.destroy(),this.model.collection.remove(this.model))},reportMoreInfo:function(){var t=this;return[{key:"Message Author",val:this.model.get("from").name},{key:"Message Location",val:e.location.href},{key:"Message Body",val:function(){return i.sanitizeHTML(t.model.get("body"))}}]},sendAvatarClickTrackingEvent:function(t){e.te.push("event","newsfeed","avatar","","click",{feed_item_type:this.model.get("type")})},onMuteHelper:function(e){var t=new r.views.MuteModal({modalType:e,username:this.model.get("from").name,showMutedProfile:this.model.get("from").name==this.model.get("username")});n("#generic-modal .modal-body").html(t.render().$el),n("#generic-modal .modal-content").addClass("mute-modal-wrapper"),n("#generic-modal").modal({}),this.listenTo(t,"".concat(e,":done"),this.render)},onMute:function(){this.onMuteHelper("mute")},onUnmute:function(){this.onMuteHelper("unmute")}})),r.mixin(r.views.NewFeedItemMessage,"InputCounterManagement","ReportManagement","ReportConduct")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(119),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("FeedMessageReply",r.View.extend({reportModalContainer:".message-report-modal-reply",requestType:"inappropriate_comments",isMainReportModal:!1,modalTitle:a.utils.trans("Report a Public Message"),tagName:"li",className:"list-group-item",conductType:"public_message_conduct",template:null,events:{"tap    .on-user":"onNavigate","click  .on-user":"stopEvent","tap    .on-user-mention":"onNavigate","click  .on-user-mention":"stopEvent","tap  .on-reply":"onReply","click .on-reply":"stopEvent","tap  .on-delete":"onDelete","click .on-delete":"stopEvent","tap  .on-send-reply-event":"sendEventForBeautifyUrl","click .on-send-reply-event":"stopEvent","tap    .on-mute-reply":"onMute","click  .on-mute-reply":"stopEvent","tap    .on-unmute-reply":"onUnmute","click  .on-unmute-reply":"stopEvent"},initialize:function(){this.template=s.a,this.reportModalType="public-message",this.reportModalId={name:this.model.get("username")||this.model.get("from").name,location:e.location.href,body:i.sanitizeHTML(this.model.get("body"))}},render:function(){var t=this.model.toJSON(),n=i.currentUser().get("username"),s=this;t.body&&(t.body=i.sanitizeHTML(t.body)),t.canDelete=0!==this.model.get("id")&&(this.model.get("ownername")===n||this.model.get("from").name===n||a.utils.currentUser().get("isSysAdmin"));var l=this.model.get("from").name;t.showMuteOption=a.testGroups.MUTE_PUBLIC_MESSAGE_MENU&&a.utils.currentUser().get("username")&&l!==a.utils.currentUser().get("username"),t.canMute=e.store&&e.store.getState().profileData&&e.store.getState().profileData.mutedUsers&&!e.store.getState().profileData.mutedUsers.some((function(e){return e.username==l})),t.feedItemMessageOptionsAuthor=l;var r=this.model.getBeautifyUrlSettings(t);return r&&!this.model.get("beautifyUrlMetadata")&&s.model.getMetadataForBeautifyUrl(r).then((function(e){t.beautifyUrlMetadata=e,s.$el.html(s.template(t))})),this.$el.html(this.template(t)),this},sendEventForBeautifyUrl:function(t){var a=n(t.currentTarget).parent(".beautify-url").data(),s=a.storyId,i=a.profileOwner;e.te.push("event","profile","message","story","click",{username:i,storyid:s})},onNavigate:function(e){var t=n(e.currentTarget);l.router.navigate(t.attr("href"),{trigger:!0})},onReply:function(e){this.stopEvent(e),this.trigger("message:mention",this.model.get("from").name)},onDelete:function(t){this.stopEvent(t),e.confirm("Are you sure you want to delete this message?")&&this.model.destroy()},stopEvent:function(e){i.stopEvent(e)},reportMoreInfo:function(){var t=this;return[{key:"Message Author",val:this.model.get("username")||this.model.get("from").name},{key:"Message Location",val:e.location.href},{key:"Message Body",val:function(){return i.sanitizeHTML(t.model.get("body"))}}]},onMuteHelper:function(e){var t=new l.views.MuteModal({modalType:e,username:this.model.get("from").name,showMutedProfile:this.model.get("from").name==this.model.get("ownername")});n("#generic-modal .modal-body").html(t.render().$el),n("#generic-modal .modal-content").addClass("mute-modal-wrapper"),n("#generic-modal").modal({}),this.listenTo(t,"".concat(e,":done"),this.render)},onMute:function(){this.onMuteHelper("mute")},onUnmute:function(){this.onMuteHelper("unmute")}})),l.mixin(l.views.FeedMessageReply,"ReportManagement","ReportConduct")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(26),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("StoryItem",l.views.Base.extend({className:"story-item clearfix",template:s.a,render:function(){var e=this.model.toJSON();return e.categories=[],t.each(this.model.get("categories"),(function(t){var n=l.get("categories").get(t);n&&e.categories.push(n.get("name"))})),e.description&&(e.description=i.sanitizeHTML(e.description)),this.$el.html(this.template(e)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(120),s=n.n(a),i=n(30),l=n.n(i),r=n(31),o=n.n(r);!function(e,t,n,a,i,r,c){r.add("MessageReply",r.views.Base.extend({tagName:"article",className:"user-event",template:o.a,events:{"tap    .on-user":"onUser","click  .on-user":"stopEvent","tap    .on-user-mention":"onNavigate","click  .on-user-mention":"stopEvent","tap  footer button.on-reply":"onReply","click footer button.on-reply":"stopEvent","tap  footer li .on-report":"onReport","tap  footer li .on-delete":"onDelete"},initialize:function(){Handlebars.registerPartial("core.events.partials.user_event_footer",l.a)},render:function(){var e={},t=i.currentUser().get("username");e.user={name:this.model.get("from").name,avatar:this.model.get("from").avatar},e.message=this.model.toJSON(),e.message.body&&(e.message.body=i.sanitizeHTML(e.message.body));var n=0!==this.model.get("id")&&(this.model.get("ownername")===t||this.model.get("from").name===t||a.utils.currentUser().get("isSysAdmin")),l=0!==this.model.get("id"),r=!l,o={createDate:this.model.get("createDate"),data:e,canDelete:n,isValidMessage:l,repliesBtnText:a.utils.trans("Reply"),hideMenu:r};return o.leftButton=s()(o),this.$el.html(this.template(o)),this.model.get("from").name===this.model.get("ownername")?this.$el.addClass("self"):this.$el.addClass("external"),this},onUser:function(e){var t=n(e.currentTarget);r.router.navigate("/user/"+t.data("username"),{trigger:!0})},onReply:function(e){this.stopEvent(e),this.trigger("message:mention",this.model.get("from").name)},onReport:function(e){this.stopEvent(e);var t=encodeURIComponent(this.model.get("body")),n=this.model.get("from").name;i.redirectToServer("/help/report?author="+n+"&comment="+t)},onDelete:function(t){this.stopEvent(t),e.confirm(a.utils.trans("Are you sure you want to delete this comment?"))&&this.model.destroy()},stopEvent:function(e){i.stopEvent(e)}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(33),s=n.n(a),i=n(121),l=n.n(i);!function(e,t,n,a,i,r,o){r.add("PinnedItemMessage",r.views.NewFeedItemMessage.extend({className:"feed-item-new panel pinned-item",template:l.a,initialize:function(t){Handlebars.registerPartial("core.feed_items.feed_item_message_options",s.a),Handlebars.registerPartial("core.feed_items.feed_message_reply",(function(){return""}));var n=this.model.get("username"),l=this.model.get("from").name;this.newMessageView=new r.views.NewMessageNew({to:n,parentId:this.model.get("id"),placeholder:a.utils.trans("Write a reply..."),canBroadcast:!1,autoMention:l}),this.listenTo(this.newMessageView,"message:new",this.expand),this.listenTo(this.newMessageView,"message:new",(function(e){this.model.get("latestReplies").push(e.toJSON())})),this.reportModalType="public-message",this.reportModalId={name:this.model.get("username")||this.model.get("from").name,location:e.location.href,body:i.sanitizeHTML(this.model.get("body"))}},render:function(){var e=this,n={pinnedItem:t.cloneDeep(this.model.toJSON())};if(n.pinnedItem.currentUser=a.utils.currentUser().toJSON(),n.canDelete=!1,this.model.get("username")){var s=a.utils.currentUser().get("username")===this.model.get("username"),i=a.utils.currentUser().get("username")===this.model.get("from").name,l=a.utils.currentUser().get("isSysAdmin");n.canDelete=s||i||l}n.pinnedItem.numReplies=n.pinnedItem.numReplies-n.pinnedItem.latestReplies.length,n.pinnedItem.showTarget=!1,n.pinnedItem.pinnedItem=this.pinnedItem,this.getMuteData(n),this.collection=new r.collections.NewMessageReplies(n.pinnedItem.latestReplies,{parentId:n.pinnedItem.id,messageOwnerName:this.model.get("username"),limit:10}),this.repliesView=new r.views.MessageRepliesList({collection:this.collection,forFeeds:!0});var o=this.model.getBeautifyUrlSettings(n.pinnedItem);return o&&!this.model.get("beautifyUrlMetadata")&&e.model.getMetadataForBeautifyUrl(o).then((function(t){n.pinnedItem.beautifyUrlMetadata=t,e.$el.html(e.template(n)),e.renderLatestReplies()})),this.$el.html(this.template(n)),this.renderLatestReplies(),this},onDeleteMessage:function(t){var n=this.model.toJSON(),s=this,i=new r.models.Message({id:n.id,body:n.body,createDate:n.createDate,from:{name:n.from.name,avatar:n.from.avatar,isActive:!0},isReply:!1,parentId:null,ownername:this.model.get("ownername")||this.model.get("username")||a.utils.currentUser().get("username")});e.confirm("Are you sure you want to delete this message?")&&Promise.resolve(i.destroy()).then((function(){s.trigger("pinnedItem:remove",s.model)}))}})),r.mixin(r.views.PinnedItemMessage,"ReportManagement","ReportConduct")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(122),s=n.n(a),i=n(123),l=n.n(i);!function(e,t,n,a,i,r,o){r.add("MessageRepliesList",r.views.IncrementalList.extend({className:"message-replies",template:null,itemView:r.views.MessageReply,initialize:function(e){(e=e||{}).forFeeds?this.template=l.a:this.template=s.a,this.forFeeds=e.forFeeds||!1},renderItem:function(e){var t=this;this.forFeeds&&(this.itemView=r.views.FeedMessageReply),r.views.IncrementalList.prototype.renderItem.apply(this,arguments),this.listenTo(this.viewPointers[e.cid],"message:mention",(function(e){t.trigger("message:mention",e)}))},getTemplateData:function(){return{hasReplies:0!==this.collection.models.length}}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t,n,a){"use strict";a.add("DiscoverModuleListItem",a.models.Base.extend({defaults:{id:null,name:null,numStories:null,cover:null}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("DiscoverModuleStoryItem",a.models.StoryModel.extend({defaults:{id:null,title:null,cover:null,voteCount:null,readCount:null,url:null}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("DiscoverModuleUserItem",a.models.Base.extend({defaults:{avatar:null,description:null,name:null,numFollowers:null,numLists:null,numStoriesPublished:null,username:null}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("DiscoverModuleStories",a.collections.BaseCollection.extend({model:a.models.DiscoverModuleStoryItem,arrayKey:"stories"}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("DiscoverModuleLists",a.collections.BaseCollection.extend({model:a.models.DiscoverModuleListItem,arrayKey:"lists"}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("DiscoverModuleUsers",a.collections.BaseCollection.extend({model:a.models.DiscoverModuleUserItem}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(124),s=n.n(a);!function(e,t,n,a){a.add("DiscoverModuleLists",a.views.Base.extend({className:"discover-module-lists on-discover-module-item",template:s.a,render:function(){var e=this.model?this.model.toJSON():{empty:!0};return e.type="reading_lists",e.isDesktop=a.get("device").isDesktop(),this.$el.html(this.template(e)),this}}))}(window,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(125),s=n.n(a),i=n(126),l=n.n(i);!function(e,t,n,a,i,r,o){r.add("DiscoverModuleStoriesLarge",r.views.StoryItem.extend({className:"discover-module-stories-large on-discover-module-item",template:l.a,initialize:function(){Handlebars.registerPartial("core.tag_metadata",s.a)},render:function(){var e=this.model?this.model.toJSON():{empty:!0};return e.isRecentlyRead=this.options.isRecentlyRead,e.type="stories",e.isDesktop=r.get("device").isDesktop(),e.isProfileWorksView=this.options.isProfileWorksView,e.user||(e.user=this.options.user),e.descCharLimit=e.isDesktop?170:130,e.descCharLimit=this.options.descCharLimit||e.descCharLimit,e.titleCharLimit=e.isDesktop?35:24,e.titleCharLimit=this.options.titleCharLimit||e.titleCharLimit,e.tagMeta=t.extend(this.formatTags(e.tags,r.get("device")&&r.get("device").is.mobile?2:3),{storyId:e.id}),e.showTagRankings=e.tagRankings&&e.tagRankings.length&&e.isProfileWorksView,e.isPaywalled&&(e.descCharLimit-=40,e.tagMeta&&(e.tagMeta.numNotShown=0)),e.testGroups=a.testGroups,this.$el.html(this.template(e)),this},formatTags:function(e,n){if(e=e||null,n=n||3,t.isEmpty(e))return null;e=t.clone(e);var a={tags:[],numNotShown:Math.max(e.length-n,0)},s=null;if(e.length<=n)t.each(e,(function(e){a.tags.push({name:e})}));else for(;a.tags.length<n;)s=e.splice(Math.floor(Math.random()*e.length),1)[0],a.tags.push({name:s});return a}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(34),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("DiscoverModuleStoriesSmall",l.views.StoryItem.extend({className:"discover-module-stories-small on-discover-module-item",template:s.a,render:function(){var e=this.model?this.model.toJSON():{empty:!0};e.isRecentlyRead=this.options.isRecentlyRead,e.isDesktop=this.options.isDesktop;var t=this.model?this.model.get("category"):null;return e.type="stories",e.titleCharLimit=e.isDesktop?35:25,e.titleCharLimit=this.options.titleCharLimit||e.titleCharLimit,t&&(e.category=l.get("categories").get(t).toJSON()),this.$el.html(this.template(e)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(127),s=n.n(a),i=n(128),l=n.n(i);!function(e,t,n,a,i,r,o){r.add("DiscoverModuleUsers",r.views.Base.extend({className:"on-discover-module-item",render:function(){var e=this.model&&this.options.numUsersInCollection>0?this.model.toJSON():{empty:!0},t=r.get("device").isDesktop(),n=!1;return(t&&this.options.numUsersInCollection<6||!t&&this.options.numUsersInCollection<3)&&(n=!0),n?(this.template=l.a,this.$el.addClass("discover-module-users-large"),e.nameMaxLength=t?35:25,e.descMaxLength=t?170:110):(this.template=s.a,this.$el.addClass("discover-module-users-small"),e.nameMaxLength=t?35:28),this.$el.html(this.template(e)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(129),s=n.n(a);!function(e,t,n,a){a.add("DiscoverModule",a.views.IncrementalList.extend({className:"discover-module",template:s.a,containerClass:".collection",events:_.extend({"tap .module-header":"onModuleHeader","click .module-header":"stopEvent","tap .on-discover-module-item":"onModuleItem","click .on-discover-module-item":"stopEvent","tap a.module-title":"onModuleTitle","click a.module-title":"stopEvent","tap .on-avatar":"onAvatar","click .on-avatar":"stopEvent","tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent","tap .on-continue-reading":"onContinueReading","click .on-continue-reading":"stopEvent","tap .send-cover-event":"sendCoverClickTrackingEvent","click .send-cover-event":"stopEvent"},a.views.IncrementalList.prototype.events),constructor:function(t){var n=t.model;if(this.pageNum=t.pageNum,this.experience=t.experience||"home",this.trackedTypes=["storiesByPromotedUser","listPromoted","promotedStoriesRecommended"],n.get("data").items.stories)this.itemView=a.views.DiscoverModuleStoriesLarge,this.collection=new a.collections.DiscoverModuleStories(n.get("data").items.stories);else if(n.get("data").items.lists){this.itemView=a.views.DiscoverModuleLists;for(var s=_.clone(n.get("data").items.lists),i=n.get("data").user,l=0;l<s.length;l++)null==s[l].user&&(s[l].user=_.clone(i));this.collection=new a.collections.DiscoverModuleLists(s)}else n.get("data").items.users&&(this.itemView=a.views.DiscoverModuleUsers,this.collection=new a.collections.DiscoverModuleUsers(n.get("data").items.users));a.views.IncrementalList.prototype.constructor.apply(this,arguments),this.listenTo(a,"app:user:follow",this.onUpdateFollow),this.listenTo(a,"app:user:unfollow",this.onUpdateUnfollow),-1!=_.indexOf(this.trackedTypes,this.model.get("type"))&&(this.trackViewsWrapper=_.throttle(this.trackViews,200),this.sentViewTracking=!1,this.viewTrackingUrls=_.flatten([this.model.get("data").tracking.impressionUrl]),this.clickTrackingUrls=_.flatten([this.model.get("data").tracking.clickUrl]),this.model.get("data").tracking.thirdParty&&(this.viewTrackingUrls=this.viewTrackingUrls.concat(this.model.get("data").tracking.thirdParty.impressionUrls),this.clickTrackingUrls=this.clickTrackingUrls.concat(this.model.get("data").tracking.thirdParty.clickUrls)),_.bindAll(this,"trackViewsWrapper"),$(e).on("scroll",this.trackViewsWrapper))},remove:function(){$(e).off("scroll",this.trackViewsWrapper),a.views.IncrementalList.prototype.remove.apply(this,arguments)},renderCollection:function(e){var t=this.getContainer();if(this.removeAll(),e=e||{},_.extend(e,{isDesktop:a.get("device").isDesktop()}),"storiesRecentlyRead"===this.model.get("type")?_.extend(e,{isRecentlyRead:!0}):this.model.get("data").items.users&&_.extend(e,{numUsersInCollection:this.model.get("data").items.users.length}),this.collection.each((function(n,a){if(this.renderItem(n,t,a,e),"storiesByPromotedUser"===this.model.get("type"))return t.find(".on-discover-module-item").after(t.find(".promoted-blurb")),t.addClass("promoted-story"),!1}),this),-1!=_.indexOf(this.trackedTypes,this.model.get("type"))){var n=this;_.defer((function(){n.trackViewsWrapper()}))}return this},getTemplateData:function(){var e,s,i,l,r,o,c,u,d,h,p=new n.Device;switch(this.model.get("type")){case"listCurated":e=this.model.get("data").list.name,s=t.utils.trans("A reading list by %s, handpicked for you",this.model.get("data").list.user.fullname||this.model.get("data").list.user.name),o="/list/"+this.model.get("data").list.id,c=this.model.get("data").list.id;break;case"storiesRecentlyRead":e=t.utils.trans("Continue Reading"),s=t.utils.trans("Find more in your library"),o="/library";break;case"storiesRecommended":e=t.utils.trans("Recommendations"),s=t.utils.trans("A fresh set of stories, just for you");break;case"storiesRecommendedExplore":e=t.utils.trans("Explore something different"),s=t.utils.trans("The more you explore, the more personalized your stories get");break;case"storiesRecommendedInfluential":e=t.utils.trans("Community Showcase"),s=t.utils.trans("Sample what Wattpad has to offer");break;case"storiesSupported":e=t.utils.trans("Paid Stories"),s=t.utils.trans("Become a supporter and help your favorite writers earn money");break;case"storiesRecommendedRNN":e=t.utils.trans("What to read next"),s=t.utils.trans("Stories based on your recent reads");break;case"storiesReadingRecommended":e=t.utils.trans("Recommendations"),h=!0;break;case"promotedStoriesRecommended":e=t.utils.trans("Promoted stories"),h=!0;break;case"storiesRecentlyUpdated":e=t.utils.trans("Recently Updated"),s=t.utils.trans("Stories from your library and connections");break;case"storiesTop":e=t.utils.trans("Most Shared Stories"),s=t.utils.trans("See what everyone's talking about");break;case"storiesByFollowedHub":e=t.utils.sprintf(t.utils.ngettext("Story by %s","Stories by %s",this.model.get("data").items.stories&&this.model.get("data").items.stories.length||0),[this.model.get("data").user.fullname||this.model.get("data").user.name]),s=t.utils.trans("Stories written by a profile you follow"),o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"tagTop":e=t.utils.trans("Hottest stories tagged %s","#"+this.model.get("data").tag.name),s=t.utils.trans("A tag that might interest you"),o="/stories/"+this.model.get("data").tag.name,c=this.model.get("data").tag.name;break;case"tagRecommended":e=t.utils.trans("%s stories","#"+this.model.get("data").tag.name),s=t.utils.trans("A tag recommended just for you"),o="/stories/"+this.model.get("data").tag.name,c=this.model.get("data").tag.name;break;case"storiesByRecentVote":e=t.utils.trans("Because you voted on %s",this.model.get("data").story.title),s=t.utils.trans("We think you'll like these stories too"),o=this.model.get("data").story.url,c=this.model.get("data").story.url;break;case"hubTop":e=t.utils.trans("Reading lists by %s",this.model.get("data").user.fullname||this.model.get("data").user.name),s=t.utils.trans("Collections from a top profile"),o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"listsByFollowedHub":e=t.utils.trans("Reading lists by %s",this.model.get("data").user.fullname||this.model.get("data").user.name),s=t.utils.trans("Handpicked by a profile you follow"),o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"storiesRecentlyVotedByFollowedHubs":e=t.utils.trans("%s voted on",this.model.get("data").user.fullname||this.model.get("data").user.name),s=t.utils.trans("Stories you might also like"),o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"hubsFollowedByFollowedHub":e=t.utils.trans("%s follows",this.model.get("data").user.fullname||this.model.get("data").user.name),s=t.utils.trans("Discover new profiles"),o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"listTrending":e=this.model.get("data").list.name,s=t.utils.trans("A trending reading list"),o="/list/"+this.model.get("data").list.id,c=this.model.get("data").list.id;break;case"hubTrending":e=t.utils.trans("Reading lists by %s",this.model.get("data").user.fullname||this.model.get("data").user.name),s=t.utils.trans("Selected by a trending profile"),o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"tagTrending":e="#"+this.model.get("data").tag.name,s=t.utils.trans("A trending tag"),o="/stories/"+this.model.get("data").tag.name,c=this.model.get("data").tag.name;break;case"storiesBySearchResults":e=t.utils.trans("Based on recent searches"),s=t.utils.trans("Stories you might also like"),o="/stories/"+this.model.get("data").items.tags[0],c=this.model.get("data").items.tags[0];break;case"emergentStories":e=t.utils.trans("Emerging Stories"),s=t.utils.trans("Stories we think you'll love");break;case"storiesByPromotedUser":e=t.utils.sprintf(t.utils.ngettext("Story by %s","Stories by %s",1),[this.model.get("data").user.fullname||this.model.get("data").user.name]),s=t.utils.ngettext("Story written by a fellow Wattpad writer","Stories written by a fellow Wattpad writer",1),u=this.model.get("data").user.fullname||this.model.get("data").user.name,i=!0,r=!0,o="/user/"+this.model.get("data").user.name,c=this.model.get("data").user.name;break;case"listPromoted":e=this.model.get("data").list.name,s=t.utils.trans("A reading list, handpicked for you"),this.model.get("data").sponsor?(u=this.model.get("data").sponsor.name,this.model.get("data").sponsor.avatar&&(d=this.model.get("data").sponsor.avatar)):u=this.model.get("data").list.user.fullname||this.model.get("data").list.user.name,o="/list/"+this.model.get("data").list.id,c=this.model.get("data").list.id,i=!0,l=!0}var m={title:e,subtitle:s,promoted:i,promotedReadingList:l,promotedByUser:r,fromStoryReading:h,sponsorName:u,sponsorAvatar:d,moduleUser:this.model.get("data").user||this.model.get("data").list&&this.model.get("data").list.user,list:this.model.get("data").list,moduleLink:o,moduleTarget:c,type:this.model.get("type"),isDesktop:p.is.desktop,testGroups:t.testGroups,languageId:parseInt(a.get("language"),10)};return this.model.get("data").items.lists?m.isLists=!0:this.model.get("data").items.users&&(m.isUsers=!0),(this.model.get("data").items.stories||this.model.get("data").items.lists||this.model.get("data").items.users).length<=2&&(m.turnOffLooping=!0),m.isHome="home"===this.experience,m},onAvatar:function(t){var n=this.model.get("type");e.te.push("event",this.experience,"module","avatar","click",{module_type:n,username:t.currentTarget.getAttribute("data-target")}),-1!=_.indexOf(this.trackedTypes,n)&&e.te.push("event",this.experience,"promoted_module","avatar","click",{module_type:n,username:t.currentTarget.getAttribute("data-target")})},onStoryPreview:function(a){var s=this,i=$(a.currentTarget).data("story-id"),l=this.collection.get(i);n.shouldSeePaidOnboarding(l.get("isPaywalled"))?e.app.components.showPaidOnboardingModal({premium:t.utils.currentUser().get("isPremium"),onOnboardingFinish:function(){s.showBrowsePreview(i)}}):this.showBrowsePreview(i)},showBrowsePreview:function(e){var t=new a.models.StoryModel({id:e});Promise.resolve(t.fetch({fresh:!0})).then((function(){var e=new a.views.BrowseStoryPreview({isHome:!0,showTagRankings:!0,model:t});$("#preview-modal").empty().append(e.render().$el),e.openModal()})),-1!=_.indexOf(this.trackedTypes,this.model.get("type"))&&this.trackClicks()},onUpdateFollow:function(e){var t=this.$(this.followButton+"[data-target="+e+"]");t.removeClass("btn-white").addClass("btn-teal"),t.children(".fa").removeClass("fa-follow fa-wp-neutral-2").addClass("fa-following fa-wp-neutral-5"),t.children(".follow-text").text(n.trans("Following"))},onUpdateUnfollow:function(e){var t=this.$(this.followButton+"[data-target="+e+"]");t.removeClass("btn-teal").addClass("btn-white"),t.children(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-neutral-2"),t.children(".follow-text").text(n.trans("Follow"))},onFollow:function(t){var n=this.model.get("type");e.te.push("event",this.experience,"module","user","follow",{module_type:n,username:t.currentTarget.getAttribute("data-target")}),-1!=_.indexOf(this.trackedTypes,n)&&e.te.push("event",this.experience,"promoted_module","user","follow",{module_type:n,username:t.currentTarget.getAttribute("data-target")})},onUnfollow:function(t){var n=this.model.get("type");e.te.push("event",this.experience,"module","user","unfollow",{module_type:n,username:t.currentTarget.getAttribute("data-target")}),-1!=_.indexOf(this.trackedTypes,n)&&e.te.push("event",this.experience,"promoted_module","user","unfollow",{module_type:n,username:t.currentTarget.getAttribute("data-target")})},onContinueReading:function(e){var n=$(e.currentTarget).data("story-id"),s=this.collection.get(n);Promise.resolve(s.fetch({fresh:!0})).then((function(){Promise.resolve($.get("/apiv2/syncreadingposition",{story_id:s.get("firstPartId")})).then((function(e){var n=_.where(s.get("parts"),{id:parseInt(e.part,10)});n[0]?a.router.navigate(t.utils.formatStoryUrl(n[0].url),{trigger:!0}):a.router.navigate(t.utils.formatStoryUrl(s.get("url")),{trigger:!0})}))}))},onModuleTitle:function(t){var n=this.model.get("type"),a=null,s=$(t.currentTarget).data("target"),i=$(t.currentTarget).attr("href").split("/");"storiesRecentlyRead"===n?s=null:"list"===i[1]?a="reading list":"user"===i[1]&&(a="user"),e.te.push("event",this.experience,"module","title","click",{module_type:n,item_type:a,itemid:s}),-1!=_.indexOf(this.trackedTypes,n)&&(e.te.push("event",this.experience,"promoted_module","title","click",{module_type:n,item_type:a,itemid:s}),this.trackClicks())},onModuleItem:function(t){var n=$(t.currentTarget).find(".content"),a=this.model.get("type"),s=null;switch(a){case"hubsFollowedByFollowedHub":case"listsByFollowedHub":case"storiesByFollowedHub":case"storiesByPromotedUser":case"storiesRecentlyVotedByFollowedHubs":case"hubTrending":s=_.get(this.model.get("data"),"user.name");break;case"listCurated":case"listPromoted":case"listTrending":s=_.get(this.model.get("data"),"list.id");break;case"tagTop":case"tagTrending":case"tagRecommended":s=_.get(this.model.get("data"),"tag.name");break;case"storiesBySearchResults":s=_.get(this.model.get("data"),"tags[0]")}e.te.push("event",this.experience,"module","content","click",{module_type:a,content_type:n.data("type"),contentid:n.data("target"),itemid:s,page_number:this.pageNum}),-1!=_.indexOf(this.trackedTypes,a)&&e.te.push("event",this.experience,"promoted_module","content","click",{module_type:a,content_type:n.data("type"),contentid:n.data("target"),itemid:s})},trackClicks:function(){_.each(this.clickTrackingUrls,(function(e){$.ajax({type:"GET",url:e})}))},trackViews:function(){n.isOnScreen(this.$el,.67)&&!this.sentViewTracking&&(this.sentViewTracking=!0,_.each(this.viewTrackingUrls,(function(e){$.ajax({type:"GET",url:e})})))},sendCoverClickTrackingEvent:function(t){e.te.push("event","discover","list","cover","click",{storyid:$(t.currentTarget).data("story-id"),moduletype:this.model.get("type")})},stopEvent:function(e){t.utils.stopEvent(e)}})),a.mixin(a.views.DiscoverModule,"InfiniteScroll","FollowManager")}(window,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(130),s=n.n(a);!function(e,t,n,a){a.add("DiscoverRows",a.views.IncrementalList.extend({className:"discover-rows",template:s.a,itemView:a.views.DiscoverModule,containerId:"#module-collection",initialize:function(){this.setCollectionfilter(a.models.DiscoverModule.prototype.isValid),_.bindAll(this,"moduleInView"),this.pageNum=1},renderCollection:function(){a.views.IncrementalList.prototype.renderCollection.apply(this,arguments),_.defer(this.afterRender.bind(this))},afterRender:function(){$(e).on("scroll",this.moduleInView),this.initCarousel()},getTemplateData:function(){return{hasRows:this.collection.length>0,testGroups:t.testGroups}},getItemViewOptions:function(){return{pageNum:this.pageNum}},remove:function(){$(e).off("scroll",this.moduleInView)},onShowMore:function(e){e&&n.stopEvent(e),this.pageNum++,this.$(".show-more-message").addClass("hidden"),this.$(".loading-message").removeClass("hidden");var t=this;Promise.resolve(this.collection.fetchNextSet()).then((function(){t.$(".show-more-message").removeClass("hidden"),t.$(".loading-message").addClass("hidden"),t.initCarousel()}))},renderItem:function(e,t,n){a.views.IncrementalList.prototype.renderItem.apply(this,arguments)},initCarousel:function(){var e={nav:!0,navText:['<span class="fa fa-left fa-wp-neutral-2 carousel-left"></span>','<span class="fa fa-right fa-wp-neutral-2 carousel-right"></span>']};n.rtlLanguage(parseInt(a.get("language"),10))&&_.extend(e,{rtl:!0}),a.get("device").is.mobile?_.extend(e,{responsive:{0:{items:1},600:{items:2},900:{items:3}}}):_.extend(e,{items:2,autoWidth:!0,margin:30}),this.$(".owl-carousel").one("initialized.owl.carousel",(function(){$(this).removeClass("invisible")})),this.$(".owl-carousel.no-loop, .owl-carousel.users").owlCarousel(e),_.extend(e,{loop:!0}),this.$(".owl-carousel:not(.no-loop):not(.users)").owlCarousel(e)},moduleInView:_.throttle((function(){var t=$(".discover-module"),a=this;this.visitedModule=this.visitedModule||{},t.each((function(t,s){if(!a.visitedModule[t]&&n.isOnScreen($(s),.67)){var i,l,r=$(s).children(".collection").data("target"),o=a.collection.findWhere({type:r}),c=o.get("data"),u=c.items.stories||c.items.lists||c.items.users;c.user?(i="user",l=c.user.name):c.list?(i="reading_list",l=c.list.id):c.tag?(i="tag",l=c.tag.name):(i=null,l=null),a.visitedModule[t]=s,e.te.push("event","home","module",null,"view",{module_type:o.get("type"),content_type:c.items.stories?"stories":"reading_lists",contentids:_.pluck(u,"id").join("|"),content_count:u.length,item_type:i,itemid:l});-1!=_.indexOf(["storiesByPromotedUser","listPromoted"],o.get("type"))&&e.te.push("event","home","promoted_module",null,"view",{module_type:o.get("type"),content_type:c.items.stories?"stories":"reading_lists",contentids:_.pluck(u,"id").join("|"),content_count:u.length,item_type:i,itemid:l})}}))}),500)})),a.mixin(a.views.DiscoverRows,"InfiniteScroll")}(window,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("BrowseTopics",a.collections.BaseCollection.extend({cacheLocal:!0,arrayKey:"topics",fields:{topics:["name","categoryID","browseURL","tagURL"]},initialize:function(e,t){t=t||{},this.topic=t.topic||null,this.discoverURL=t.discoverURL||null,this.image=t.image||null,this.type=t.type||null},resource:function(){return"topics"+(this.topic?"."+this.topic:"")},url:function(){var e=n.utils.currentUser().get("language")||a.get("language");return this.discoverURL?this.discoverURL.replace(/^.*\/\/[^\/]+/,"")+"?language="+e:"/v5/browse/topics"+(this.topic?"/"+this.topic:"")+"?language="+e+(this.type?"&type="+this.type:"")}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("Tags",a.collections.BaseCollection.extend({model:a.models.BaseModel,arrayKey:"tags"}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("CategoryModuleItem",a.models.Base.extend({validTypes:["hotStoriesForCategory","featuredStoriesForCategory","newStoriesForCategory"],isValid:function(){return t.contains(this.validTypes,this.get("type"))}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.add("CategoryModules",s.collections.BaseCollection.extend({model:s.models.CategoryModuleItem,arrayKey:"modules",fields:{modules:["type","data"]},typeByPathName:{hot:"hotStoriesForCategory",new:"newStoriesForCategory",featured:"featuredStoriesForCategory"},initialize:function(e,t){t=t||{},this.categoryId=t.categoryId},resource:function(){return"user."+(a.currentUser().get("username")||"anonymous")+".category.modules."+this.categoryId},url:function(){return"/v5/discover/categories/"+this.categoryId},getTypeByUrlPath:function(e){return this.typeByPathName[e]}}))}(window,_,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(131),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("TagModuleWriters",l.views.Base.extend({className:"tag-module-writers",template:s.a,render:function(){var e=this.model?this.model.toJSON():{empty:!0};return e.nameMaxLength=l.get("device").isDesktop()?30:28,this.$el.html(this.template(e)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(132),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("TagModuleLists",l.views.Base.extend({className:"tag-module-lists",template:s.a,render:function(){var e=this.model?this.model.toJSON():{empty:!0};return e.isDesktop=l.get("device").isDesktop(),e.testGroups=a.testGroups,this.$el.html(this.template(e)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(133),s=n.n(a),i=n(13),l=n.n(i);!function(e,t,n,a,i,r){r.add("BrowseResults",r.views.IncrementalList.extend({className:"browse-results",template:l.a,containerId:"#browse-results-item-view",constructor:function(e){e=e||{},this.events={"tap    .on-story-preview":r.get("device").is.mobile?"navigateToStory":"onStoryPreview","click  .on-story-preview":"stopEvent"},this.model=e.model,this.filter=e.filter,this.tag=e.tag||"",this.topicModel=e.topicModel||null,this.isStories=!1,-1!==t.indexOf(["hot","new"],this.filter)?(this.itemView=r.views.BrowseStoryItem,this.collection=new r.collections.BrowseTagStories(this.model.get("data").items.stories,{tags:this.tag||this.topicModel.get("name"),filter:this.filter,nextUrl:this.model.get("data").items.nextUrl}),this.isStories=!0,this.trackViews):"writers"===this.filter?(this.itemView=r.views.TagModuleWriters,this.collection=new r.collections.DiscoverModuleUsers(this.model.get("data").items.users)):"lists"===this.filter&&(this.itemView=r.views.TagModuleLists,this.collection=new r.collections.DiscoverModuleLists(this.model.get("data").items.lists)),r.views.IncrementalList.prototype.constructor.apply(this,arguments)},initialize:function(){Handlebars.registerPartial("core.item_views.tag_module_stories_large",s.a),this.listenTo(r,"app:component:TagMetaItem:click",this.navigateToTagPage),t.bindAll(this,"trackViews"),this.initializeTracking()},remove:function(){n(e).off("scroll",this.trackViews),r.views.IncrementalList.prototype.remove.apply(this,arguments)},renderItem:function(e,t,n){r.views.IncrementalList.prototype.renderItem.apply(this,arguments),n=n||this.collection.indexOf(e),t=t||this.getContainer()},getTemplateData:function(){return{stories:this.isStories}},getItemViewOptions:function(){var e={};return"hot"===this.filter&&(e.showStoryRank=!0),e},onStoryPreview:function(e){a.utils.stopEvent(e);var t=n(e.currentTarget).data("story-id"),s=this.collection.get(t),i=new r.views.BrowseStoryPreview({model:s});this.$("#preview-modal").empty().append(i.render().$el),i.openModal(),this.sendStoryClickTrackingEvent(s)},navigateToStory:function(e){a.utils.stopEvent(e);var t=n(e.currentTarget).data("story-id"),s=this.collection.get(t);r.router.navigate(a.utils.formatStoryUrl(s.get("url")),{trigger:!0}),this.sendStoryClickTrackingEvent(s)},navigateToTagPage:function(e){var t=n(e.currentTarget).text().trim();r.router.navigate("/stories/"+encodeURIComponent(t),{trigger:!0})},sendStoryClickTrackingEvent:function(t){var n,a=t.id,s=t.sources||"",i=this.collection.indexOf(t),l=this.model.get("type");n=this.tag||this.topicModel?this.tag?this.tag.split(","):[this.topicModel.get("topic")]:[],e.te.push("event","app","story",null,"click",{storyid:a,page:"tag"}),e.te.push("event","story",null,null,"click",{storyid:a,page:"tag",algo_source:s,query:n,position:i,type:l})},initializeTracking:function(){this.collection instanceof r.collections.BrowseTagStories&&(n(e).off("scroll",this.trackViews),this.viewedStories=[],n(e).on("scroll",this.trackViews))},trackViews:t.throttle((function(){var n=this;t.each(this.collection.models,(function(a){var s,l=a.id,r=a.sources||"",o=n.collection.indexOf(n.collection.get(l)),c=n.model.get("type");if(s=n.tag||n.topicModel?n.tag?n.tag.split(","):[n.topicModel.get("topic")]:[],-1===t.indexOf(n.viewedStories,l)){var u=n.$("#browse-results-item-view > .browse-story-item").find("[data-story-id='"+l+"']");i.isOnScreen(u,.5)&&(n.viewedStories.push(l),e.te.push("event","story",null,null,"view",{storyid:l,page:"tag",algo_source:r,query:s,position:o,type:c}))}}))}),350)})),r.mixin(r.views.BrowseResults,"InfiniteScroll")}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(52),s=n.n(a),i=n(134),l=n.n(i),r=n(13),o=n.n(r),c=n(135),u=n.n(c);!function(e,t,n,a){a.add("Browse",a.views.RegionManager.extend({id:"browse-container",template:u.a,subviews:{results:a.views.BrowseResults,dummyReactView:a.views.DummyReactView},events:{"tap    .tab-control":"onSwitchTabs","click  .tab-control":"stopEvent","tap  .on-topic":"onTopicClick","click  .on-topic":"onTopicClick"},constructor:function(e){this.tagTabs=[{moduleType:"hotStoriesForTag",tabValue:"hot",translatedTabName:n.trans("Hot")},{moduleType:"newStoriesForTag",tabValue:"new",translatedTabName:n.trans("New")},{moduleType:"relatedWritersForTag",tabValue:"writers",translatedTabName:n.trans("Related Writers")},{moduleType:"relatedReadingListsForTag",tabValue:"lists",translatedTabName:n.trans("Related Reading Lists")}],a.views.RegionManager.prototype.constructor.apply(this,arguments)},initialize:function(e){e=e||{},this.tag=e.tag||null,this.topicModel=e.topicModel,this.rootTopicModel=e.rootTopicModel,this.lastTopicModel=e.lastTopicModel,this.errors=[],this.topic=e.topic||null,this.browseTopicsCollection=e.browseTopicsCollection||null,this.isTopicsLevel=!_.isEmpty(this.topic),this.browseLabel=this.getBrowseLabel(),this.section=e.section||"hot",this.collection=e.collection,this.listenTo(a,"app:component:TagCarouselItem:click",this.navigateToTagPage),a.get("device").is.mobile?Handlebars.registerPartial("mobile.browse.browse_results",o.a):(Handlebars.registerPartial("desktop.browse.browse_results",o.a),Handlebars.registerPartial("core.components.browse_tags",l.a),Handlebars.registerPartial("core.components.browse_header",s.a))},render:function(){var e=this,s=[];return _.defer((function(){var i=e.getTabs(),l=_.findWhere(e.collection.toJSON(),{type:"relatedTagsForTag"});l&&(s=l.data.items.tags.map((function(e){return{id:e,name:e,link:"/stories/".concat(e)}})));var r=e.isTopicsLevel?e.topic:e.tag,o=r.split(",").reverse();if(_.forEach(o,(function(e){s.unshift({id:e,name:e,active:!0})})),1===r.split(",").length&&(s[0].noRemoveIcon=!0),_.isEmpty(e.errors)){var c=t.utils.getCookie("locale");c&&0!==c.trim().length||(c="en_US");var u={tabs:i,relatedTags:{tags:s,withIcon:!0},urlBasePath:e.getUrlBasePath(e.tag||e.topic),activeTab:e.section,translatedActiveTab:n.trans(e.section.charAt(0).toUpperCase()+e.section.slice(1)),browseLabel:e.browseLabel,isEnglish:"en_US"===c,testGroups:t.testGroups,rootTopic:e.rootTopicModel};e.numStories&&_.extend(u,{numStories:e.numStories}),e.$el.html(e.template(u)),e.renderBrowseRegion("#browse-content"),e.renderBrowseHeader("#browse-header-container")}else a.router.trigger("route:error-404","browse-tag")})),a.trigger("navbar:browse-label:set",this.browseLabel,this.topic),this},renderBrowseRegion:function(e){var t,a="mobile"===n.getDeviceType();if(this.$(e).empty(),this.isTopicsLevel&&"explore"===this.section){var s=[],i=a?"":"?prev="+encodeURIComponent(this.topic),l="/stories/"+encodeURIComponent(this.topic),r=this.collection.findWhere({type:"relatedTagsForTag"});r&&_.each(_.get(r.get("data"),"items.tags",[]),(function(e){s.push({key:e,name:e,url:l+encodeURIComponent(",")+e+i})})),a&&(t=new this.subviews.dummyReactView({component:"MenuOptions",componentId:"exploreTags",componentData:{options:s}}))}else{var o=this.collection.findWhere({type:this.collection.getTypeByUrlPath(this.section)});o&&(t=new this.subviews.results({model:o,filter:this.section,tag:this.tag,topicModel:this.topicModel}))}t&&this.setRegion(e,t.render())},renderBrowseHeader:function(e){if(this.$(e).empty(),!("mobile"===n.getDeviceType())){var t=_.findWhere(this.tagTabs,{tabValue:this.section}).moduleType,a={numStories:this.collection.findWhere({type:t}).get("data").items.total||0,activeTab:this.section,urlBasePath:this.getUrlBasePath(this.tag||this.topic),translatedActiveTab:n.trans(this.section.charAt(0).toUpperCase()+this.section.slice(1)),tabs:this.getTabs()};this.$el.find(e).html(s()(a))}},getTabs:function(){for(var e=[],t=this.collection.pluck("type"),n=0;n<this.tagTabs.length;n++)-1!==_.indexOf(t,this.tagTabs[n].moduleType)&&e.push(this.tagTabs[n]);return e},getUrlBasePath:function(e){return"stories/"+encodeURIComponent(e)},getPrevPageTag:function(){var e,t,n=this.tag?this.tag.split(","):[];if(n.length>1){var a=_.clone(n);a.pop(),e=encodeURIComponent(a.join(","))+this.getPrevRootTopicQuery(),t=n[n.length-2]}else{if(!this.rootTopicModel)return null;e=this.rootTopicModel.get("name"),t=this.rootTopicModel.get("topic")}return{tag:e,label:t}},getPrevRootTopicQuery:function(){return a.get("device").is.mobile?"":this.lastTopicModel?"?prev="+this.lastTopicModel.get("name"):""},getBrowseLabel:function(){var e;if(this.rootTopicModel)e=this.rootTopicModel.get("topic");else if(this.tag){var t=this.tag.split(",")[0];e=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}else e=this.topicModel.get("topic");return e=n.trans("%s Stories",n.trans(e))},onSwitchTabs:function(e){var t=$(e.currentTarget);this.section=t.data("section"),this.$(".tab-control").removeClass("active"),t.addClass("active");for(var n=this.el.querySelectorAll(".fa-stack.check"),s=0;s<n.length;s++)n[s].classList.add("hidden");t.find(".fa-stack.check").removeClass("hidden"),this.renderBrowseRegion("#browse-content"),this.renderBrowseHeader("#browse-header-container");var i=(encodeURIComponent(this.tag||this.topic)+"/").toLowerCase();a.router.navigate("/stories/"+i+t.attr("data-section")+this.getPrevRootTopicQuery(),{trigger:!1})},navigateToTagPage:function(e,t){var n=$(t.currentTarget).hasClass("active"),s=(this.tag||this.topic).toLowerCase(),i=n?"/stories/"+encodeURIComponent(this.removeOneTag(s,e)):"/stories/"+encodeURIComponent(s+","+e)+this.getPrevRootTopicQuery();a.router.navigate(i,{trigger:!0})},removeOneTag:function(e,t){var n=e.split(",");return 1!==n.length&&n.splice(n.indexOf(t),1),n.join(",")},onTopicClick:function(t){var n=$(t.target).text();e.te.push("event","browse","topic",null,"click",{topic:n})}}))}(window,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(43),s=n.n(a),i=n(35),l=n.n(i),r=n(136),o=n.n(r),c=n(28),u=n.n(c),d=n(27),h=n.n(d),p=n(4),m=n.n(p),f=n(29),g=n.n(f),v=n(137),w=n.n(v),y=n(138),b=n.n(y);!function(e,t,n,a){a.add("Authentication",a.views.Base.extend({className:"authentication-wrapper",template:w.a,events:{"tap   .on-login":"loginClick","click .on-login":"stopEvent","tap   .on-signup":"onNavigatePage","click .on-signup":"stopEvent","tap   .on-password-forgot":"onPasswordForgot","click .on-password-forgot":"stopEvent","tap   .get-the-app":"onDownloadApp","click .get-the-app":"stopEvent","tap    .on-pw-toggle":"onPasswordToggle","blur     select":"onBlurPicker","shown.bs.dropdown    #auth-header .button-group":"toggleMenu","hidden.bs.dropdown   #auth-header .button-group":"toggleMenu","tap    #language-options li a":"onChangeLanguage","change #language-options":"onChangeLanguage","tap   .scroll-arrow":"onScrollToValues","click .scroll-arrow":"stopEvent","tap   #back-to-top":"onScrollToForm","click #back-to-top":"stopEvent","mouseleave .show-related-tags":"onUnhoverCategory","mouseenter .show-related-tags":"onCategoryHovered","tap .show-related-tags":"onCategoryHovered","click .show-related-tags":"stopEvent"},initialize:function(e){e=e||{page:"signup"},this.options=e,this.options.from=e.from||null,this.timeout=null,this.deviceType=a.get("device")&&a.get("device").is.mobile?"mobile":"desktop","desktop"===this.deviceType&&(this.deviceType=a.get("device")&&a.get("device").is.tablet?"tablet":"desktop",Handlebars.registerPartial("core.header.community_menu",g.a),Handlebars.registerPartial("core.header.search_field",m.a),Handlebars.registerPartial("core.header.discover_menu",h.a),Handlebars.registerPartial("desktop.browse.browse_topics",u.a)),this.options.nextUrl=n.utils.getNextUrl(e.nexturl),this.title=n.utils.trans("Log in to Wattpad"),Handlebars.registerPartial("core.authentication.auth_headline",o.a),Handlebars.registerPartial("core.authentication.auth_form",l.a),Handlebars.registerPartial("mobile.authentication.auth_footer",b.a),("desktop"===this.deviceType||"tablet"===this.deviceType)&&Handlebars.registerPartial("core.components.get_app",s.a)},render:function(s){var i,l,r,o={};s=s||{},o[this.options.page]=!0,i=n.utils.getCookie("locale"),l=a.get("supported-languages"),r=n.utils.getCookie("signupFrom"),i&&0!==i.trim().length||(i="en_US");var c=l.where({locale:i})[0].toJSON();if(o.googlePlayImage=this._googlePlayImage(c.code),o.nextUrl=this.options.nextUrl,o.interfaceLang=l.where({locale:i})[0].toJSON(),o.languages=l.toJSON(),o.translatedLangs=n.translatedLangs,o.device=a.get("device"),o.signupFrom=r,o.hybridLayout=this.options.hybridLayout,this.options.hybridLayout&&(o.model=this.options.model),o.notice=n.utils.getParam("notice"),o.model=new a.models.Authsignup({}),o.msg=n.utils.getParam("msg"),s.isSSR||"signup"!==this.options.page)return this.$el.html(this.template(o)),t.defer(this.afterRender.bind(this)),this;n.utils.redirectToServer(e.location.href)},afterRender:function(){this.$(".on-dob-hover").tooltip({trigger:"click hover manual",title:"We ask for your date of birth so you can have the right Wattpad experience for your age."})},onNavigatePage:function(e){var t=$(e.currentTarget);a.router.navigate(t.attr("href"),{trigger:!0})},onDownloadApp:function(a){if("mobile"===this.deviceType)e.location.href=n.utils.getAppUrl();else{var i=$(a.currentTarget),l=i.data("download-link"),r=i.data("download-text");this.$("#get-app-modal-container").empty().html(s()({downloadLink:l,downloadText:r}));var o=this.$("#get-app-modal");o.find("#phonenumber").intlTelInput({utilsScript:n.intlTelInputUtilsScript||"/js/intl-tel-input-utils.js",preferredCountries:[],defaultCountry:"us"});var c=t.bind(this.onSendAppLink,this),u=o.find(".on-send-app-link").on("tap",c);o.modal("toggle").on("hide.bs.modal",(function e(){u.off("tap",c),o.off("hide.bs.modal",e)}))}},toggleMenu:function(e){$(e.currentTarget).find("> button > span").toggleClass("fa-down fa-up")},onPasswordToggle:function(t){var n=$(t.currentTarget),a=n.siblings("input"),s=a.attr("type");e.clearTimeout(this.timeout),"password"===s&&(a.attr("type","text").focus(),n.addClass("active")),"text"===s&&(a.attr("type","password").focus(),n.removeClass("active"))},onSendAppLink:function(a){var s=$("#get-app-modal #phonenumber"),i=s.intlTelInput("isValidNumber");this.model.validate("getApp"),i?i&&(this.model.trigger("attr:valid","getApp"),Promise.resolve($.ajax({type:"POST",url:"/apiv2/send_download_link",data:{to:s.intlTelInput("getNumber")}})).then((function(){var e=$("#get-app-modal .on-send-app-link");e.addClass("sent"),t.delay((function(){e.removeClass("sent"),$("#get-app-modal").modal("hide")}),5e3)})).catch((function(t){e.alert(n.utils.trans(t))}))):this.model.trigger("attr:invalid","getApp",n.utils.trans("Please enter a valid SMS number."))},onChangeLanguage:function(t){var a="en_US";a=t.currentTarget.selectedOptions?$(t.currentTarget.selectedOptions[0]).data("code"):$(t.currentTarget).data("code"),n.utils.setCookie("locale",a,3650,!0),e.location.reload()},onScrollToValues:function(e){$("html, body").animate({scrollTop:$("#value-props").offset().top},1e3),n.utils.stopEvent(e)},onScrollToForm:function(e){$("html, body").animate({scrollTop:0},1e3),$("#signup-username").focus(),n.utils.stopEvent(e)},setSubElements:function(e){var n,a="";e&&(n=e.className.trim().split(" "),t.each(n,(function(e){a+="."+e})),e.setElement($(a.trim())))},loginClick:function(e){n.utils.pushEvent({category:"login-btn",action:"click",label:e.currentTarget.dataset.label||"under_form"}),this.title=n.utils.trans("Log in to Wattpad"),this.onAuthPrompt(e)},preType:function(){this.changeBg()},currentTimer:null,onCategoryHovered:function(e){this.currentTimer=setTimeout((function(){var t=this.$("#main-browse-navigate .active");$(t.data("id")).addClass("hide"),t.removeClass("active");var n=$(e.target);$(n.data("id")).removeClass("hide"),n.addClass("active")}),50)},onUnhoverCategory:function(e){clearTimeout(this.currentTimer)},onPasswordForgot:function(e){var t=$("#login-user").val(),s=e.currentTarget.href.replace(n.siteRoot,"");a.router.navigate(s,!0),$("#forgot-email").prop("value",t)},onBlurPicker:function(e){var t=$(e.currentTarget),n=t.val(),a=t.closest(".form-group").data("attr");null===n&&this.model.validate(a)},_googlePlayImage:function(e){switch(e.toLowerCase()){case"ar":return"homepages/googleplay/ar.png";case"cs":return"homepages/googleplay/cs.png";case"de":return"homepages/googleplay/de.png";case"es":return"homepages/googleplay/es.png";case"fr":return"homepages/googleplay/fr.png";case"id":return"homepages/googleplay/id.png";case"it":return"homepages/googleplay/it.png";case"pl":return"homepages/googleplay/pl.png";case"pt":case"pt_pt":case"pt_br":return"homepages/googleplay/pt.png";case"ro":return"homepages/googleplay/ro.png";case"ru":return"homepages/googleplay/ru.png";case"sk":return"homepages/googleplay/sk.png";case"sv":return"homepages/googleplay/sv.png";case"tr":return"homepages/googleplay/tr.png";case"vi":return"homepages/googleplay/vi.png";case"en":default:return"homepages/googleplay/en.png"}}})),a.mixin(a.views.Authentication,"ValidationView","FacebookConnect","AuthPromptManagement")}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(35),s=n.n(a),i=n(139),l=n.n(i);!function(e,t,n,a){a.add("SignUpPrompt",a.views.Base.extend({className:"signup-modal login-modal",template:l.a,events:{"tap    .on-pw-toggle":"onPasswordToggle","tap    .on-close":"onClose","click  .on-close":"stopEvent","tap    .on-password-forgot":"onPasswordForgot","click  .on-password-forgot":"stopEvent","tap    .on-signup":"onSignup","click  .on-signup":"stopEvent","tap    .on-login":"onLogin","click  .on-login":"stopEvent","blur     select":"onBlurPicker"},initialize:function(t){t=t||{},this.nextUrl=n.utils.getNextUrl(t.nextUrl,e.location.href),this.nextUrlFirstPart=t.nextUrlFirstPart,this.title=t.title||null,this.subtitle=t.subtitle||null,this.bulletPoints=t.bulletPoints||null,this.form=t.form||"signup",this.forcedSignup=t.forcedSignup||!1,this.focus=!1!==t.focus||t.focus,this.formType=t.formType||"sidebar",this.skipOnboarding=t.skipOnboarding||!1,this.libraryStoryId=t.libraryStoryId||null,Handlebars.registerPartial("core.authentication.auth_form",s.a),$("#generic-modal").one("hidden.bs.modal",(function(e){$("#generic-modal .modal-dialog").removeClass("login-modal-wrapper signup-modal-wrapper")}))},render:function(){this.signupAction="https://"+e.location.hostname+(e.location.port?":"+e.location.port:"")+"/"+this.form;var s={title:this.title,subtitle:this.subtitle,bulletPoints:this.bulletPoints,signup:"signup"===this.form,login:"login"===this.form,forgot:"forgot"===this.form,nextUrl:this.nextUrl,nextUrlFirstPart:this.nextUrlFirstPart,signupFrom:n.utils.getCookie("signupFrom"),signupAction:this.signupAction,formType:this.formType,modal:-1!==this.formType.indexOf("modal"),skipOnboarding:this.skipOnboarding,libraryStoryId:this.libraryStoryId,forcedSignup:this.forcedSignup,model:new a.models.Authsignup({}),focus:this.focus};return this.$el.html(this.template(s)),this.focus&&this.$el.find("[autofocus]").focus(),t.defer(this.afterRender.bind(this)),this},afterRender:function(){this.$(".on-dob-hover").tooltip({trigger:"click hover manual",title:"We ask for your date of birth so you can have the right Wattpad experience for your age."})},onPasswordToggle:function(t){var n=$(t.currentTarget),a=n.siblings("input"),s=a.attr("type");e.clearTimeout(this.timeout),"password"===s&&(a.attr("type","text").focus(),n.addClass("active")),"text"===s&&(a.attr("type","password").focus(),n.removeClass("active"))},onClose:function(e){n.utils.setCookie("prSu",!0,0,null),$("#generic-modal").modal("hide"),$("#generic-modal .modal-dialog").removeClass("login-modal-wrapper signup-modal-wrapper")},onSignup:function(e){this.title=n.utils.trans("Join Wattpad"),this.form="signup",this.render(),n.utils.stopEvent(e)},onLogin:function(e){this.title=n.utils.trans("Log in to Wattpad"),this.form="login",this.render(),n.utils.stopEvent(e)},onPasswordForgot:function(e){var t=$("#login-user").val();this.title=n.utils.trans("Lost your password?"),this.subtitle=n.utils.trans("Type your username or email below and we'll send you instructions on how to reset it."),this.form="forgot",this.render(),$("#forgot-email").prop("value",t)},onBlurPicker:function(e){var t=$(e.currentTarget),n=t.val(),a=t.closest(".form-group").data("attr");null===n&&this.model.validate(a)}})),a.mixin(a.views.SignUpPrompt,"ValidationView","FacebookConnect")}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("OauthAuthentication",a.views.Base.extend({events:{"tap    .on-pw-toggle":"onPasswordToggle"},initialize:function(e){this.timeout=null},onPasswordToggle:function(t){var n=$(t.currentTarget),a=n.siblings("input"),s=a.attr("type");e.clearTimeout(this.timeout),"password"===s&&(a.attr("type","text").focus(),n.addClass("active")),"text"===s&&(a.attr("type","password").focus(),n.removeClass("active"))}})),a.mixin(a.views.OauthAuthentication,"ValidationView")}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(140),s=n.n(a);!function(e,t,n,a){a.add("UpdatedPolicyNotice",a.views.Base.extend({className:"updated-policy-notice",template:s.a,events:{"tap    .on-continue":"onContinue","click  .on-continue":"stopEvent"},initialize:function(e){this.model=e.model,this.title=e.title||"",this.body=e.body||""},render:function(e){var t={title:this.title,body:this.body};return this.$el.html(this.template(t)),this},showModal:function(){var e=$("#generic-modal");e.find(".modal-body").html(this.render().$el),e.find(".modal-dialog").addClass("updated-policy-notice-modal"),e.modal({backdrop:"static",keyboard:!1})},hideModal:function(){var e=$("#generic-modal");e.modal("hide"),setTimeout((function(){e.find(".modal-dialog").removeClass("updated-policy-notice-modal")}),500)},onContinue:function(){this.model.acceptLatestTermsOfService().then((function(e){e||new a.views.ErrorToast({message:n.utils.trans("Sorry, something went wrong. Please try again.")}).render()})),this.hideModal()}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("Landing",a.views.DummyReactView.extend({component:"LandingPage",componentId:"landing-page",constructor:function(e){this.componentData={locale:n.utils.getCookie("locale"),page:e.page,model:e.model,mobile:e.mobile};var t={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,t)}})),a.mixin(a.views.Landing,"FacebookConnect")}(window,_,wattpad,window.app,wattpad.utils)},function(e,t,n){"use strict";n.r(t);var a=n(141),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("UserItem",l.views.Base.extend({className:"col-md-3 col-sm-4 col-xs-6 ",template:s.a,events:{"tap  .on-dismiss":"onRemoveFollower"},initialize:function(e){e=e||{},this.showRemove=e.showRemoveFollower,this.listenTo(l,"app:user:follow",this.updateToFollowingButton),this.listenTo(l,"app:user:unfollow",this.updateToFollowButton)},render:function(){var e=t.extend(this.model.toJSON(),{showRemove:this.showRemove}),n=this;return e.disabled=void 0===this.model.get("following"),e.disabled&&Promise.resolve(this.model.determineFollowStatus()).then((function(){e=t.extend(n.model.toJSON(),{showRemove:n.showRemove}),n.$el.html(n.template(e))})),this.$el.html(this.template(e)),this},updateToFollowingButton:function(e){if(this.model.get("username")===e){var t=this.$('.btn-fan[data-target="'+e+'"]');t.removeClass("btn-white").addClass("btn-teal"),t.find(".fa").removeClass("fa-follow fa-wp-base-2-dark").addClass("fa-following fa-wp-neutral-5"),t.find(".truncate").text(i.trans("Following")),this.model.set("following",!0)}},updateToFollowButton:function(e){if(this.model.get("username")===e){var t=this.$('.btn-fan[data-target="'+e+'"]');t.removeClass("btn-teal").addClass("btn-white"),t.find(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-base-2-dark"),t.find(".truncate").text(i.trans("Follow")),this.model.set("following",!1)}},onRemoveFollower:function(){var e=this;this.model.deleteFollower().then((function(){e.model.collection&&e.model.collection.remove(e.model)}))},onNavigate:function(){l.router.navigate("/user/"+this.model.get("username"),{trigger:!0})},stopEvent:function(e){i.stopEvent(e)}})),l.mixin(l.views.UserItem,"FollowManager")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(142),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("UserRowItem",l.views.Base.extend({className:"col-xs-12",template:s.a,events:{"tap    .on-navigate":"onNavigate","click  .on-navigate":"stopEvent","tap    .on-remove-follower":"onRemoveFollower","click  .on-remove-follower":"stopEvent"},initialize:function(e){e=e||{},this.showRemoveFollowersOption=e.showRemoveFollowersOption},render:function(){var e=this.model.toJSON(),n={},a=[],s=this;return e.numStoriesPublished&&a.push(i.sprintf(i.ngettext("%s Work","%s Works",e.numStoriesPublished),[i.count(e.numStoriesPublished)])),e.numLists&&a.push(i.sprintf(i.ngettext("%s Reading List","%s Reading Lists",e.numLists),[i.count(e.numLists)])),a.length<2&&e.numFollowers&&a.push(i.sprintf(i.ngettext("%s Follower","%s Followers",e.numFollowers),[i.count(e.numFollowers)])),n.metadata=a,n.showRemoveFollowersOption=this.showRemoveFollowersOption,e.disabled=void 0===this.model.get("following"),e.disabled&&Promise.resolve(this.model.determineFollowStatus()).then((function(){s.$el.html(s.template(t.extend(n,s.model.toJSON())))})),this.$el.html(this.template(t.extend(n,e))),this},onRemoveFollower:function(e){var t=this,n=this.model.get("name")||this.model.get("username"),a=i.trans("Are you sure you want to remove your follower %s?",n);confirm(a)&&this.model.deleteFollower().then((function(){t.model.collection&&t.model.collection.remove(t.model)}))},onNavigate:function(){l.router.navigate("/user/"+this.model.collection.username,{replace:!0}),l.router.navigate("/user/"+this.model.get("username"),{trigger:!0})}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(34),s=n.n(a),i=n(143),l=n.n(i);!function(e,t,n,a,i,r){r.add("ReadingListItem",r.views.Base.extend({className:"reading-list",template:l.a,events:{"mouseover  .on-story-details":"onStoryDetails","mouseleave .popover":"offStoryDetails","mouseleave .panel-body":"offStoryDetails","tap    .send-list-event":"sendListClickTrackingEvent","click  .send-list-event":"stopEvent","tap    .story-item":"sendStoryClickTrackingEvent","click  .story-item":"stopEvent"},initialize:function(){this.collection=this.model.stories(5);var e=this;Promise.resolve(this.collection.fetchNextSet()).then((function(){e.render()})),Handlebars.registerPartial("core.item_views.discover_module_stories_small",s.a)},render:function(){var e=this;return this.$el.html(this.template(this.formatViewData())),t.defer((function(){e.$('[data-toggle="tooltip"]').tooltip()})),this},formatViewData:function(){var e=this.model.toJSON();return t.extend(e,{storyItems:this.collection.toJSON().splice(0,5)}),e},onStoryDetails:function(t){var a=n(t.currentTarget).siblings(".popover");this.offStoryDetails(),a.css("display","block"),e.setTimeout((function(){a.removeClass("faded")}),50)},offStoryDetails:function(){this.$(".popover").removeAttr("style").addClass("faded")},sendListClickTrackingEvent:function(){e.te.push("event","profile","reading_list","list","click",{reading_listid:this.collection.listId,username:this.model.get("user").name})},sendStoryClickTrackingEvent:function(t){e.te.push("event","profile","reading_list","story","click",{reading_listid:this.collection.listId,storyid:n(t.currentTarget).data("story-id"),username:this.model.get("user").name})}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(144),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("StoryGridItem",l.views.Base.extend({className:"col-sm-2 col-xs-4 story-item story text-center",template:s.a,render:function(){var e=this.model.toJSON();return e.url=i.formatStoryUrl(this.model.get("url")),e.description&&(e.description=i.sanitizeHTML(e.description)),this.$el.html(this.template(e)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(145),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("StoryGrid",l.views.IncrementalList.extend({className:"story-grid",template:s.a,itemView:l.views.StoryGridItem,events:t.extend({"mouseover  .on-story-details":"onStoryDetails","mouseleave .popover":"offStoryDetails","mouseleave .panel-body":"offStoryDetails"},l.views.IncrementalList.prototype.events),getTemplateData:function(){return{stories:this.collection.toJSON()}},onStoryDetails:function(t){var a=n(t.currentTarget).siblings(".popover");this.offStoryDetails(),a.css("display","block"),e.setTimeout((function(){a.removeClass("faded")}),50)},offStoryDetails:function(){this.$(".popover").removeAttr("style").addClass("faded")},render:function(){var e=this;return Promise.resolve(this.collection.fetchNextSet()).then((function(){l.views.IncrementalList.prototype.render.apply(e,arguments)})),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(36),s=n.n(a),i=n(146),l=n.n(i),r=n(147),o=n.n(r),c=n(148),u=n.n(c),d=n(37),h=n.n(d),p=n(149),m=n.n(p),f=n(150),g=n.n(f),v=n(151),w=n.n(v),y=n(53),b=n.n(y),x=n(152),C=n.n(x),S=n(153),k=n.n(S),M=n(154),T=n.n(M),P=n(155),E=n.n(P);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,n,a){a.add("NotificationEvent",a.views.Base.extend({templates:{follow:E.a,follower_approved:T.a,vote:k.a,message:C.a,comment:b.a,inline_comment:b.a,dedicate:w.a,library:g.a,upload:m.a,base:h.a,error:u.a,forum_post:o.a,friend_join:l.a},trackingEvents:{follow:"new_followers",follower_approved:"follow_approved",vote:"votes",message:{default:"profile_posts",replies:"replies",mentions:"mentions",broadcast:"announcements"},comment:{default:"comments",replies:"replies",mentions:"mentions"},inline_comment:{default:"comments",replies:"replies",mentions:"mentions"},dedicate:"dedications",library:"reading_list_adds",upload:"story_updates",friend_join:"friend_joins"},template:null,events:{"click .show-full":"stopEvent","tap  .show-full":"showFullMessage","click .expanded-text":"stopEvent","tap  .expanded-text":"navigateTo","tap .on-notification-click":"navigateAndSendTracking","click .on-notification-click":"stopEvent","tap  .on-delete":"onDeleteComment","click  .on-delete":"stopEvent","tap  .on-report":"onReportComment","click  .on-report":"stopEvent"},reportModalContainer:".comment-report-modal",modalTitle:t.utils.trans("Report a Comment"),requestType:"inappropriate_comments",isMainReportModal:!1,conductType:"story_comment_conduct",initialize:function(){Handlebars.registerPartial("core.item_views.comment_item_options",s.a),this.template=this.templates[this.model.get("type")],this.model.get("data")&&this.model.get("data").comment&&(this.reportModalType="comment",this.reportModalId={name:this.model.get("data").comment.user.name,location:this.model.get("data").comment.deeplink_url.split("/comment")[0],body:n.sanitizeHTML(this.model.get("data").comment.body),deepLink:this.model.get("data").comment.deeplink_url})},render:function(){var e=this.model.get("data"),s=this.model.get("type");if(e.createDate=this.model.get("createDate"),e.isRead=this.model.get("isRead"),e.id=this.model.get("id"),e.isNotification=!1,["comment","inline_comment","message"].includes(s)){var i=e.comment||e.message;this.hasMentions=!_.isEmpty(n.getMentions(i.body)),e.hasMentions=this.hasMentions}"message"===s&&(e.toMe=this.model.collection.username===e.message.to.name,e.theirFeed=e.message.from.name===e.message.to.name),this.model.get("children").length>0&&(e.children=this.model.get("children").length+1,e.groupUrl=this.model.get("group_url"));var l="";if("message"===s&&void 0!==e.message){var r=a.get("device");l=e.message.body,r.is.mobile,e.navigateTo="/user/"+e.message.to.name+"/conversations#"+e.message.id}else if(("inline_comment"===s||"comment"===s)&&void 0!==e.comment&&(l=e.comment.body,e.navigateTo=e.comment.deeplink_url.substring(23),e.isCommentNotification=!0,t.utils.currentUser().authenticated())){var o=t.utils.currentUser().get("ambassador")||t.utils.currentUser().get("isSysAdmin"),c=e.comment.user.name===t.utils.currentUser().get("username");e.canDelete=o||c}return e.maxTextLength=465,e.isTruncated=l.length>e.maxTextLength,this.$el.html(this.template(e)),this},showFullMessage:function(e){var t=this.model.get("type");"message"!==t&&"comment"!==t&&"inline_comment"!==t||this.model.get("data").isTruncated&&(this.$el.find(".shown-message").addClass("hidden"),this.$el.find(".show-full").addClass("hidden"),this.$el.find(".full-message").removeClass("hidden").addClass("expanded-text"));n.stopEvent(e)},navigateTo:function(e){var t=this.model.get("type");if("message"===t||"comment"===t||"inline_comment"===t){var n=this.model.get("data");void 0!==n.navigateTo&&a.router.navigate(n.navigateTo,{trigger:!0})}this.sendTrackingEvent()},navigateAndSendTracking:function(e){this.sendTrackingEvent(),a.views.Base.prototype.onNavigate.apply(this,arguments)},sendTrackingEvent:function(){var t=this.trackingEvents[this.model.get("type")],n=this.model.get("data");t&&"object"===I(t)&&(t=this.hasMentions?t.mentions:n.message&&n.message.wasBroadcast?t.broadcast:n.comment&&n.comment.parentId||n.message&&n.message.parentId?t.replies:t.default),e.te.push("event","notifications_feed","item",null,"click",{notification_type:t,storyid:n.story&&n.story.id?n.story.id:null,username:n.message&&n.message.from?n.message.from.name:null,reading_listid:n.list&&n.list.id?n.list.id:null})},onDeleteComment:function(s){n.stopEvent(s);var i=this.model.get("data").comment;if(e.te.push("event","notifications_feed","comment",null,"delete",{commenter_username:i.user.name,commentid:i.id,partid:this.model.get("data").story.part.id}),e.confirm(t.utils.trans("Are you sure you want to delete this comment?"))){var l=new a.models.CommentModel({id:i.id,parentId:null});return Promise.resolve(l.destroy()).then((function(t){e.location.reload()}))}},onReportComment:function(t){var n=this.model.get("data").comment;e.te.push("event","notifications_feed","comment",null,"report",{commenter_username:n.user.name,commentid:n.id,partid:this.model.get("data").story.part.id})}})),a.mixin(a.views.NotificationEvent,"ReportManagement","ReportConduct")}(window,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(156),s=n.n(a);!function(e,t,n,a,i){a.add("NotificationsPage",a.views.RegionManager.extend({id:"notifications",className:"container",template:s.a,events:{"tap .on-expand":"onExpandAggregation","click .on-expand":"stopEvent"},initialize:function(){this.username=t.utils.currentUser().get("username"),this.collection={notifications:new a.collections.Notifications([],{username:this.username}),requests:new a.collections.FollowRequests([],{username:this.username})},Handlebars.registerPartial("core.notifications.notifications",(function(){return""})),Handlebars.registerPartial("core.notifications.follow_requests",(function(){return""})),Handlebars.registerPartial("core.invite_friends.components.invite_panel",(function(){return""}))},render:function(){var e,n,s,i=this,l=[],r=t.utils.currentUser().get("isPrivate");return this.$el.html(this.template({hasRequests:!1,testGroups:t.testGroups})),l=[this.collection.notifications.fetchNextSet()],r&&l.push(this.collection.requests.fetchNextSet()),Promise.all(l).then((function(t){e=new a.views.Notifications({collection:i.collection.notifications}),i.$("#notification-feed").empty(),i.setRegion("#notification-feed",e.render()),n=new a.views.InvitePanel({action:"select_from_notifications",content:"invite_notifications"}),i.$(".invite-panel-component").empty(),i.setRegion(".invite-panel-component",n.render()),r&&i.collection.requests.total>0&&(i.$("#follow-requests-col").removeClass("hidden"),s=new a.views.FollowRequests({collection:i.collection.requests}),i.$("#follow-requests").empty(),i.setRegion("#follow-requests",s.render()))})),this},onExpandAggregation:function(e){var n,s=this.$(e.currentTarget).data("id"),i=this,l=this.collection.notifications.get(s),r=l.get("children"),o=new a.collections.Notifications([],{username:this.username,useLocalCache:!1,turnOffPagination:!0});n=o.url()+"?event_ids="+s+",",_.each(r,(function(e,t){n+=e,t<r.length-1&&(n+=",")})),o.limit=r.length+1,Promise.resolve(o.fetchNextSet({url:n})).then((function(){o.more=!1;var e=new a.views.Notifications({collection:o}),n="";"follow"===l.get("type")?n=t.utils.trans("You have <strong>%s new followers</strong>",o.limit):"vote"===l.get("type")?n=t.utils.trans("%s people voted on <strong>%s - %s</strong>",o.limit,l.get("data").story.title,l.get("data").story.part.title):"forum_post"===l.get("type")?n=t.utils.trans("There are <strong>%s new comments</strong> on club thread <strong>%s</strong>",o.limit,l.get("data").discussion.discussion):"message"===l.get("type")&&(n=t.utils.sprintf(t.utils.ngettext("You have %s new announcement","You have %s new announcements",o.limit),[o.limit])),i.$("#expand-modal .modal-header > .content > time").html(t.utils.calendar(l.get("createDate"))),i.$("#expand-modal .modal-header > .count").html(o.limit),i.$("#expand-modal .modal-header > .content > .heading").html(n),i.$("#expand-modal .modal-body").html(e.render().$el),i.$("#expand-modal").modal({keyboard:!0}),i.$("#expand-modal").modal("show")}))}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(37),s=n.n(a),i=n(157),l=n.n(i);!function(e,t,n,a,i){a.add("Notifications",a.views.IncrementalList.extend({containerClass:".collection",template:l.a,itemView:a.views.NotificationEvent,initialize:function(){Handlebars.registerPartial("core.notifications.items.notification_base",s.a),this.setCollectionfilter(a.models.NotificationEvent.prototype.isValid)},renderCollection:function(e){var t=a.views.CollectionView.prototype.renderCollection.apply(this,arguments);return 0===this.collection.length?this.$(".empty-message").removeClass("hidden"):this.$(".empty-message").addClass("hidden"),t},getTemplateData:function(){return{notifications:{hasMore:this.collection.hasMore(),hasItems:this.collection.length>0},device:a.get("device")}}})),a.mixin(a.views.Notifications,"InfiniteScroll")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(158),s=n.n(a),i=n(159),l=n.n(i);!function(e,t,n,a,i){a.add("FollowRequestItem",a.views.Base.extend({className:"follow-request-item",template:{notification:l.a,profile:s.a},events:{"tap   .on-approve":"onApprove","click .on-approve":"stopEvent","tap   .on-ignore":"onIgnore","click .on-ignore":"stopEvent"},initialize:function(e){e=e||{},this.inProfile=!!e.inProfile,this.ignored=!!e.ignored},render:function(){var e=this.inProfile?this.template.profile:this.template.notification,t=this.inProfile?_.extend(this.model.toJSON(),{followerIgnored:this.ignored}):this.model.toJSON();return this.$el.html(e(t)),this},onApprove:function(e){var t=this;this.model.acceptFollowRequest().then((function(){t.model.collection&&t.model.collection.remove(t.model)}))},onIgnore:function(e){var t=this;this.model.ignoreFollowRequest().then((function(){t.model.collection&&t.model.collection.remove(t.model)}))}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(160),s=n.n(a);!function(e,t,n,a,i){a.add("FollowRequests",a.views.IncrementalList.extend({containerClass:".collection",template:s.a,itemView:a.views.FollowRequestItem,getTemplateData:function(){return{requests:{hasItems:this.collection.length>0,hasMore:this.collection.hasMore()},device:a.get("device")}}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t,n,a,s,i){"use strict";s.add("CoreProfileActivity",s.views.CoreFeed.extend({className:"activity-feed",events:t.extend({"tap .on-update-feed":"onUpdateFeed","click .on-update-feed":"onUpdateFeed"},s.views.CoreFeed.prototype.events),initialize:function(e){e=e||{},this.setCollectionfilter(s.models.PublicMessage.prototype.isValid),n.utils.currentUser().authenticated()&&"wattpad"!==this.model.get("username").toLowerCase()&&(this.newMessageView=new s.views.NewMessageNew({to:this.model.get("username"),canBroadcast:n.utils.currentUser().get("username")===this.model.get("username"),placeholder:e.placeholder}),this.listenTo(this.newMessageView,"message:new",this.addNewMessage))},render:function(){var e=this;return Promise.all([Promise.resolve(this.collection.fetchNextSet({data:{newest_id:null}})),Promise.resolve(a.currentUser().library().loaded()),Promise.resolve(!this.pinnedItem||this.pinnedItem.fetch())]).then((function(){e.pinnedItem&&e.pinnedItem.get("id")&&e.collection instanceof s.collections.ActivityMessages&&(e.collection.length>=1&&e.collection.first().get("id")===e.pinnedItem.get("id")&&e.collection.remove(e.pinnedItem.id),e.pinnedItemView=new s.views.PinnedItemMessage({model:e.pinnedItem}),e.listenTo(e.pinnedItemView,"pinnedItem:remove",e.removePinnedItem)),s.views.IncrementalList.prototype.render.apply(e,arguments),e.newMessageView&&e.$el.children(".collection").before(e.newMessageView.render().$el),e.pinnedItem&&e.pinnedItemView&&e.$el.children(".collection").before(e.pinnedItemView.render().$el),e.collection.length>0&&"message"===e.collection.at(0).get("type")&&t.defer((function(){e.viewPointers[e.collection.at(0).cid].expand()})),e.postRender()})),this},postRender:function(){},onUpdateFeed:function(e){s.local.clear(this.collection.resource()),s.router.navigate("/user/"+this.model.get("username"),{trigger:!1}),this.collection.reset(),this.render()},addNewMessage:function(e){this.setDirection("up"),this.collection instanceof s.collections.ActivityMessages?(e.set("type",e.type||"newMessage"),e.set("username",this.model.get("username")),e.get("ownername")===n.utils.currentUser().get("username")?this.pinnedItemView&&this.pinnedItemView.model?(this.collection.add(this.pinnedItemView.model.toJSON(),{at:0}),this.pinnedItem=e,this.stopListening(this.pinnedItemView,"pinnedItem:remove",this.removePinnedItem),this.pinnedItemView.undelegateEvents(),this.pinnedItemView=new s.views.PinnedItemMessage({model:this.pinnedItem}),this.$(".pinned-item").html(this.pinnedItemView.render().$el),this.listenTo(this.pinnedItemView,"pinnedItem:remove",this.removePinnedItem)):(e.set("username",this.model.get("username")),e.get("ownername")===n.utils.currentUser().get("username")?(this.pinnedItem=e,this.pinnedItemView=new s.views.PinnedItemMessage({model:this.pinnedItem}),this.$(".collection").before(this.pinnedItemView.render().$el)):this.collection.fetchNextSet()):this.collection.add(e.toJSON())):this.collection.add(new s.models.PublicMessage({id:e.get("eventId"),type:"message",createDate:e.get("createDate"),data:{user:{name:e.get("from").name,avatar:e.get("from").avatar},message:{id:e.get("id"),createDate:e.get("createDate"),body:e.get("body"),to:{name:this.model.get("username"),avatar:this.model.get("avatar")},broadcast:e.get("isBroadcast"),isOffensive:e.get("isOffensive")},highlight_color:"#00B2B2"},username:this.model.get("username")})),this.setDirection("down"),s.local.clear(this.collection.resource())},removePinnedItem:function(e){var t=this;this.collection.remove(e),this.pinnedItem=new s.models.PinnedMessage({username:this.model.get("username"),type:"newMessage"}),Promise.resolve(this.pinnedItem.fetch({fresh:!0})).then((function(){t.pinnedItem.id?(t.collection.first().get("id")===t.pinnedItem.toJSON().id&&t.collection.remove(t.pinnedItem),t.pinnedItemView.undelegateEvents(),t.pinnedItemView=new s.views.PinnedItemMessage({model:t.pinnedItem}),t.$(".pinned-item").replaceWith(t.pinnedItemView.render().$el),t.listenTo(t.pinnedItemView,"pinnedItem:remove",t.removePinnedItem)):t.$(".pinned-item").empty()}))}}))}(window,_,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(161),s=n.n(a),i=n(162),l=n.n(i);!function(e,t,n,a,i,r,o){r.add("ProfileAbout",o.View.extend({className:"about-info panel panel-default2",template:l.a,partials:{link:s.a},events:{"tap   .on-edit":"onEdit","click .on-edit":"stopEvent"},render:function(){var e=this.model.toJSON(),t=this;e.links=this.getLinkValues(e),e.userFollowings=this.options.following.toJSON(0,14);var a=this.options.following.total;return e.numFollowingMobile=a>14?a-14:null,e.numFollowingTablet=a>3?a-3:null,e.numFollowingDesktop=a>4?a-4:null,e.numFollowingDesktopWide=a>6?a-6:null,e.socialShareSection=this.getSocialShareHTML(),this.$el.html(this.template(e)),e.facebook&&n.ajax({url:"https://graph.facebook.com/"+e.facebook,data:{fields:"link"},cache:!1}).done((function(e){t.renderFacebookUrl(e)})),this},getLinkValues:function(e){var t,n,a;if(!e.facebook&&!e.website&&!e.smashwords)return null;if(t={},n=/^[\w]{3,5}:\/\//i,a=e.name?e.name.split(" ")[0]:e.username,e.facebook&&(t.facebook={},t.facebook.name=i.trans("%s's Facebook profile",a),t.facebook.url="https://www.facebook.com/"+e.facebook),e.website&&(t.website={},t.website.name=e.website.replace(n,""),t.website.url=e.website.match(n)?e.website:"http://"+e.website),e.smashwords){t.smashwords={};var s=e.smashwords.split("/");t.smashwords.name="smashwords.com/"+s[s.length-1],t.smashwords.url=e.smashwords}return t},getSocialShareHTML:function(){try{var e={username:this.model.get("username"),name:this.model.get("name")||this.model.get("username"),avatarUrl:this.model.get("avatar"),description:this.model.get("description")},t=this.buildSocialShareLinksForProfile(e);return this.getSocialShareTemplateHTML("row",t)}catch(e){return""}},onEdit:function(){r.trigger("app:profile:edit")},renderFacebookUrl:function(e){if(e.link){var t=this.$("li.facebook"),n={name:e.link.replace(/^([\w]{3,5}:\/\/)*(w{3}\.)*/i,""),url:e.link};t.children("a").remove(),t.append(this.partials.link(n))}}})),r.mixin(r.views.ProfileAbout,"SocialSharing")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(163),s=n.n(a);!function(e,t,n,a,i,l){l.add("PinnedMessage",l.views.Base.extend({className:"pinned-message",template:s.a,render:function(){return this.$el.html(this.template(t.extend(this.formatViewData(),this.model.toJSON()))),this},formatViewData:function(){return{isDesktop:l.get("device").isDesktop()}}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(164),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("NewPinnedItem",r.View.extend({className:"pinned-item panel panel-default",template:s.a,render:function(){var e=this.model.toJSON();return this.$el.html(this.template({pinnedItem:e})),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(165),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("ProfileRequest",r.View.extend({className:"follower-request",template:s.a,events:{"tap   .on-request-addressed":"onRequestAddressed","click .on-request-addressed":"stopEvent"},initialize:function(){this.requestItemView=null,Handlebars.registerPartial("core.profile.profile_follow_request_item",(function(){return""}))},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.renderRequestItem(),this},renderRequestItem:function(){this.requestItemView=new l.views.FollowRequestItem({model:this.model,inProfile:!0,ignored:"ign"===this.model.get("followerRequest")}),this.$el.find(".request-item-container").html(this.requestItemView.render().$el)},setElement:function(e){var t=n(e);r.View.prototype.setElement.call(this,e),this.requestItemView&&this.requestItemView.setElement(t.find("."+this.requestItemView.className.trim().replace(/ /g,".")))},onRequestAddressed:function(e){var t=n(e.currentTarget);this.requestItemView.remove(),t.hasClass("on-approve")?this.remove():(this.model.set("followerRequest","ign"),this.renderRequestItem())}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(5),s=n.n(a),i=n(166),l=n.n(i);!function(e,t,n,a,i,r,o){r.add("ProfileInteractions",r.views.CoreProfileActivity.extend({template:l.a,partials:{"incremental-list":s.a},initialize:function(e){e=e||{};var t=a.utils.currentUser();this.pinnedItem=e.pinnedItem||null,t.authenticated()&&t.get("username")===this.model.get("username")?e.placeholder=a.utils.trans("Post a Message"):e.placeholder=a.utils.trans("Write to %s",this.model.get("username")),Handlebars.registerPartial("desktop.components.incremental_list",this.partials["incremental-list"]),r.views.CoreProfileActivity.prototype.initialize.apply(this,arguments)},onShowMore:function(e){e&&!this.registered&&(this.registerForScrolling(),this.registered=!0),r.views.CoreProfileActivity.prototype.onShowMore.apply(this,arguments)},getTemplateData:function(){return{count:this.collection.total,containerId:"content",hasMore:this.collection.hasMore,username:this.model.get("username"),pinnedItem:!!this.pinnedItem&&this.pinnedItem.toJSON()}}})),r.mixin(r.views.ProfileInteractions,"InfiniteScroll")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(5),s=n.n(a),i=n(167),l=n.n(i);!function(e,t,n,a,i,r){r.add("ProfileLists",r.views.IncrementalList.extend({className:"reading-lists",template:l.a,itemView:r.views.ReadingListItem,containerId:"#lists-item-view",events:t.extend({"tap .on-newlist":"onOpenNewListModal","tap .on-create-list":"onOpenNewListModal","tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent"},r.views.IncrementalList.prototype.events),initialize:function(){Handlebars.registerPartial("desktop.components.incremental_list",s.a)},onStoryPreview:function(e){var t=n(e.currentTarget).data("story-id"),a=new r.models.StoryModel({id:t});Promise.resolve(a.fetch({fresh:!0})).then((function(){var e=new r.views.BrowseStoryPreview({isHome:!0,model:a});self.$("#preview-modal").empty().append(e.render().$el),e.openModal()}))},getTemplateData:function(){return{totalLists:this.collection.total,username:this.model.get("username")}},onOpenNewListModal:function(){var e=n("#generic-modal"),t=new r.views.LibraryListCreate;e.find(".modal-body").empty().append(t.render().$el),e.modal("show")}})),r.mixin(r.views.ProfileLists,"InfiniteScroll")}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(168),s=n.n(a);!function(e,t,n,a,i,l){l.add("ProfileWorks",l.views.IncrementalList.extend({className:"profile-works-content",template:s.a,itemView:l.views.DiscoverModuleStoriesLarge,containerId:"#works-item-view",events:t.extend({"tap    .on-story-preview":"onStoryPreview","click  .on-story-preview":"stopEvent"},l.views.IncrementalList.prototype.events),initialize:function(e){var t=this;Promise.resolve(this.collection.fetchNextSet()).then((function(){t.render(),t.collection.limit=10})).then(this.afterRender.call(this))},afterRender:function(){var e=this;t.defer((function(){e.$('[data-toggle="tooltip"]').tooltip()}))},getTemplateData:function(){var e=i.currentUser().get("username")===this.model.get("username");return{name:this.model.get("name")||this.model.get("username"),username:this.model.get("username"),totalWorks:this.collection.total,numPublished:e?this.collection.numPublished:this.collection.total,numDrafts:this.collection.numDrafts}},getItemViewOptions:function(){return{isProfileWorksView:!0,user:{fullname:this.model.get("name")||null,name:this.model.get("username")},descCharLimit:215,titleCharLimit:70}},onStoryPreview:function(t){var a=n(t.currentTarget).data("story-id"),s=new l.views.BrowseStoryPreview({showTagRankings:!0,model:this.collection.get(a)});this.$("#preview-modal").empty().append(s.render().$el),s.openModal(),e.te.push("event","profile","works","story","click",{storyid:a,username:this.collection.username})}})),l.mixin(l.views.ProfileWorks,"InfiniteScroll")}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(169),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("NewPost",r.View.extend({className:"new-post",template:s.a,events:{"focus  textarea":"onTextInputFocus","blur   textarea":"onTextInputBlur","keyup  textarea":"onTextInput","tap    .on-post":"onPost","click  .on-post":"stopEvent",keyup:"onKeyUp"},initialize:function(e){e=e||{},this.placeholder=e.placeholder||"",this.source=e.source||null,t.bindAll(this,"onKeyUp")},render:function(){var e={};return e.avatar=a.utils.currentUser().get("avatar"),e.placeholder=this.placeholder,e.viewId=this.getViewId(),this.$el.html(this.template(e)),this},onTextInputFocus:function(){if(!i.currentUser().authenticated()){(s=n("#inline-comments-modal .inline-comments-modal"))&&s.modal("hide");var t=new l.views.SignUpPrompt({model:new l.models.Authsignup,title:a.utils.trans("Join Wattpad"),subtitle:a.utils.trans("Be part of a global community of readers and writers, all connected through the power of story."),nextUrl:e.location.href});return n("#generic-modal .modal-content").addClass("auth-modal"),n("#generic-modal .modal-body").html(t.render().$el),void n("#generic-modal").modal("show")}var s;if(!i.currentUser().attributes.verified_email)return(s=n("#inline-comments-modal .inline-comments-modal"))&&s.modal("hide"),n(".count-input").blur(),void i.showPleaseVerifyModal();var r=this.$("textarea"),o=this;r.hasClass("active")||(this._setActiveState(),e.setTimeout((function(){o.moveCaretToEnd(r[0])}),1))},moveCaretToEnd:function(e){if(e)if("number"==typeof e.selectionStart)e.selectionStart=e.selectionEnd=e.value.length;else if(void 0!==e.createTextRange){e.focus();var t=e.createTextRange();t.collapse(!1),t.select()}},onTextInputBlur:function(){var t=this;this.$("textarea").val()||(this.blurTimeout=e.setTimeout((function(){t._setInactiveState()}),500))},_setActiveState:function(){this.$("textarea").val(""),this.$("textarea").addClass("active"),this.$(".post-ui").removeClass("hidden").children("button").prop("disabled",!0)},_setInactiveState:function(){this.$("textarea").removeClass("active"),this.$(".post-ui").addClass("hidden")},onTextInput:function(e){var t=this.$("textarea").val().trim(),n=this.$(".post-ui button");""===t?n.prop("disabled",!0):n.prop("disabled",!1)},onPost:function(){},addMention:function(e){var t,a=/^(\@[\w\-]+)\s/i,s="@"+e+" ",i=this.$("textarea").val();t=a.test(i)?i.replace(a.exec(i)[0],s):""!==n.trim(i)&&i!==this.placeholder?s+i:s,this._setActiveState(),this.$("textarea").focus(),this.$("textarea").val(t)},onKeyUp:function(e){27===e.which&&this.$("textarea").blur()},focus:function(){this.$("textarea").trigger("focus")},onPostContentUpdate:function(e){this.$(".on-post").prop("disabled",!e),e?this.$(".post-counter").removeClass("count-error"):this.$(".post-counter").addClass("count-error")},getViewId:function(){return"new-post-"+Date.now()},onError:function(e){this.$(".warning > .text").text(e),this.$(".warning").removeClass("hidden"),this.$(".post-ui button").prop("disabled",!1)}})),l.mixin(l.views.NewPost,"InputCounterManagement")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(170),s=n.n(a);!function(e,t,n,a,i,l){l.add("NewMessageNew",l.views.NewPost.extend({className:"message-new new-message-new",template:s.a,broadcastLimit:3,blurTimeout:null,events:t.extend(l.views.NewPost.prototype.events,{"change .on-broadcast-checkbox":"onCheckboxSelected","tap .broadcast-info":"onBroadcastInfo"}),constructor:function(e){(e=e||{}).canBroadcast&&(this.id="broadcast-container"),l.views.NewPost.prototype.constructor.apply(this,arguments)},initialize:function(e){if(l.views.NewPost.prototype.initialize.apply(this,arguments),"string"!=typeof(e=e||{}).to||""===e.to.trim())throw new Error("NewMessageNew View : options.to cannot be null");this.to=e.to,this.parentId=e.parentId||null,this.placeholder=e.placeholder||"",this.canBroadcast=e.canBroadcast||!1,this.autoMention=e.autoMention||null,this.additionalText=e.additionalText||null;try{this.unsent=JSON.parse(localStorage.getItem("unsent-repsonse")),this.unsent=this.unsent.id===this.parentId?this.unsent.body:void 0}catch(e){}},render:function(){var e={};return e.avatar=a.utils.currentUser().get("avatar"),e.canBroadcast=this.canBroadcast,e.placeholder=this.unsent||this.placeholder,this.$el.html(this.template(e)),this.defaultText=this.$("textarea").val(),i.isOperaMini&&this._setActiveState(),t.defer(this.afterRender.bind(this)),this},afterRender:function(){this.canBroadcast&&n(".on-broadcast-info").tooltip({title:i.trans("By using this feature, this message will be sent to all your followers notification feeds. Please note that you can only post up to %s announcements per day.",this.broadcastLimit)})},onBroadcastInfo:function(e){i.stopEvent(e),this.$(".on-broadcast-info").tooltip("toggle")},isBroadCast:function(){return Boolean(this.$("input[type='checkbox']").prop("checked"))},_setActiveState:function(){var t=this.autoMention===a.utils.currentUser().get("username"),n=this.autoMention&&!t?"@"+this.autoMention+" ":"",s=this;this.$("textarea").val(this.unsent||n).addClass("active"),e.setTimeout((function(){s.$(".post-ui").removeClass("hidden").children("button").prop("disabled",!s.unsent)}),250)},onTextInputBlur:function(){var t=this;this.$("textarea").val()&&this.$("textarea").val().trim()!=="@"+this.autoMention||(this.blurTimeout=e.setTimeout((function(){t._setInactiveState()}),500))},addMention:function(e){l.views.NewPost.prototype.addMention.apply(this,arguments),this.autoMention=e},onCheckboxSelected:function(t){if(e.clearTimeout(this.blurTimeout),this.isBroadCast()){this.onTextInputFocus(),this.$("#broadcast-submit").text(i.trans("Announce"));try{JSON.parse(localStorage.getItem("shownAnnouncementModal"))||(this.showAnnouncementModal(),localStorage.setItem("shownAnnouncementModal",!0))}catch(e){this.showAnnouncementModal()}}else this.onTextInputBlur(),this.$("#broadcast-submit").text(i.trans("Post"))},showAnnouncementModal:function(){var e=new l.views.DummyReactView({component:"AnnouncementModal",componentId:"announcement-modal"});e.render(),n("#generic-modal .modal-body").html(e.$el),n("#generic-modal").modal("show")},onPost:function(t){i.stopEvent(t),this.$(".warning").addClass("hidden");var s,r,o=n.trim(this.$("textarea").val()),c=this.$(t.currentTarget),u=this;if(""!==o){if(a.utils.currentUser().authenticated())localStorage.removeItem("unsent-repsonse"),this.unsent=void 0;else{try{localStorage.setItem("unsent-repsonse",JSON.stringify({body:o,id:this.parentId}))}catch(e){}l.router.navigate("/login?nexturl="+e.location.href,{trigger:!0})}c.prop("disabled",!0),r=new l.models.Message({ownername:this.to}),s={broadcast:this.isBroadCast(),parent_id:this.parentId,body:this.additionalText?o+this.additionalText:o},r.save(s,{success:function(e,t,n){u.trigger("message:new",e),u.$("textarea").val("").blur(),u.$("input[type='checkbox']").prop("checked",!1),u.$("#broadcast-submit").text(i.trans("Post")),c.prop("disabled",!1)},error:function(e,t,n){var s;throw s=t?t.responseJSON?t.responseJSON.error.message:t.statusText:a.utils.trans("There was a problem posting your message, please try again later."),u.onError(s),new Error("MessageNew View | status: "+(n&&n.xhr&&n.xhr.status?n.xhr.status:"none")+" | response: "+(t?JSON.stringify(t):"none")+" | isBroadcast: "+u.isBroadcast())}})}}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("CommentNew",a.views.NewPost.extend({title:function(){return t.utils.trans("Join Wattpad")},subtitle:function(){return t.utils.trans("Sign up to vote, comment, and read stories offline.")},onPost:function(e){var n=$.trim(this.$("textarea").val());this.$(".warning").addClass("hidden"),this.$(".post-ui button").prop("disabled",!0),""!==n?t.utils.currentUser().authenticated()?t.utils.currentUser().get("verified_email")?this.createComment(n):this.onError(t.utils.trans("To comment, please verify your account.")):this.onAuthPrompt(e):this.$(".post-ui button").prop("disabled",!1)},createComment:function(e){var n,s=this,i=new a.models.CommentModel({body:e,paragraphId:this.collection.paragraphId||null,parentId:this.collection.commentId||this.collection.parentId||null,isReply:this.collection.isReply||!1,startPosition:this.collection.startPosition||0,endPosition:this.collection.endPosition||0,partId:this.collection.partId||null,storyAuthor:(null===(n=this.collection)||void 0===n?void 0:n.storyAuthor)||""}),l={url:this.getUrlFromSource(i),wait:!0,success:this.onSuccess.bind(this),error:function(e,n,a){var i;i=n?n.responseJSON?n.responseJSON.error.message:n.statusText:t.utils.trans("There was a problem posting your message, please try again later."),s.onError(i)}};i.save({},l)},onSuccess:function(e){this.collection.add(e,{at:0}),a.local.clear("part."+this.collection.partId+".comments"),this.collection.trigger("add:new",e),this.$("textarea").val(""),this.$(".post-ui button").prop("disabled",!1),this.onTextInputBlur()},getUrlFromSource:function(e){return this.source&&this.source instanceof a.models.StoryPartModel?"/v4/parts/"+this.source.get("id")+"/comments":e.url()}})),a.mixin(a.views.CommentNew,"AuthPromptManagement")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(171),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("ErrorToast",l.views.Base.extend({className:"error-toast",template:s.a,events:{"tap  .on-dismiss":"onDismiss"},initialize:function(e,t){var n=a.utils.trans("An error has occurred. We're sorry about that!");this.type="default",this.delay=0,this.error=e.message?e:e.error||{message:n},this.dismissAfterDuration=5e3,t&&(t.type&&(this.type=t.type),t.delay&&(this.delay=t.delay),t.dismissAfterDuration&&(this.dismissAfterDuration=t.dismissAfterDuration))},render:function(){var e={};return e.error=this.error,"dismissable"===this.type&&(this.$el.addClass("dismissable"),e.dismissable=!0),n("#toast-container").append(this.$el.html(this.template(e))),this.showToast(),this},showToast:function(){var t=this,n=this.$el.css("height");this.$el.css({bottom:-1*parseInt(n)+"px"}),e.setTimeout((function(){t.$el.css({bottom:"12px",opacity:"1",position:"relative"}),"default"===t.type&&t.autoDismiss()}),1e3*t.delay)},onDismiss:function(t){var n=this;this.$el.css("opacity",0),e.setTimeout((function(){n.remove()}),500)},autoDismiss:function(){var t=this;e.setTimeout((function(){t.onDismiss()}),this.dismissAfterDuration)}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(172),s=n.n(a),i=n(173),l=n.n(i),r=n(174),o=n.n(r),c=n(175),u=n.n(c);!function(e,t,n,a,i,r,c){r.add("ProfileMain",r.views.RegionManager.extend({className:"user-information row",template:{public:u.a,private:o.a},initialize:function(e){e=e||{},this.isPrivateToMe=e.isPrivateToMe,this.listenTo(this,"scroll-to-element",this.scrollToElement),Handlebars.registerPartial("core.profile.private_profile_disclaimer",l.a),Handlebars.registerPartial("core.profile.theme_settings",s.a),Handlebars.registerPartial("core.signup_prompt",(function(){return""}))},render:function(){var n="req"===this.model.get("followerRequest")||"ign"===this.model.get("followerRequest"),s=t.extend(this.model.toJSON(),{followerRequested:n,showSubscriptionModal:this.showSubscriptionModal.bind(this),isPremium:i.getCurrentUserAttr("isPremium")}),l=this.isPrivateToMe?this.template.private:this.template.public;if(this.$el.html(l(s)),n){var o=new r.views.ProfileRequest({model:this.model});this.setRegion("#profile-request",o.render())}if(this.isPrivateToMe)return this;var c=new r.models.PinnedMessage({username:this.model.get("username")}),u={lists:new r.collections.ReadingLists([],{username:this.model.get("username"),limit:2,nonEmpty:!0}),following:new r.collections.ProfileFollowing([],{username:this.model.get("username"),limit:14}),works:new r.collections.ProfileWorks([],{username:this.model.get("username"),limit:3})},d={about:new r.views.ProfileAbout({model:this.model,following:u.following}),lists:new r.views.ProfileLists({model:this.model,collection:u.lists,manualRegistration:!0}),works:new r.views.ProfileWorks({model:this.model,collection:u.works,manualRegistration:!0}),quests:new r.views.DummyReactView({component:"Quests",componentId:"quests",componentData:this.model}),pinnedItem:new r.views.PinnedMessage({model:c})};a.utils.setCookie("signupFrom","user_profile",0,e.location.hostname.replace("www","")),a.utils.currentUser().authenticated()||(d.signup=new r.views.SignUpPrompt({model:new r.models.Authsignup,subtitle:a.utils.trans("Sign up to follow <strong>@%s</strong>",s.username),focus:!1}),this.setRegion("#authentication-panel",d.signup.render())),this.setRegion("#profile-lists",d.lists),this.setRegion("#profile-works",d.works),this.setRegion("#profile-about",d.about.render());var h=this;Promise.resolve(u.lists.fetchNextSet()).then((function(){d.lists.render()})).then((function(){h.scrollToElementId&&t.delay((function(){h.trigger("scroll-to-element")}),500)})),Promise.resolve(u.following.fetchNextSet()).then((function(){d.about.render()}));h=this;return Promise.resolve(c.fetch()).then((function(){c.get("id")&&(h.$("#profile-pinned-item").empty(),h.setRegion("#profile-pinned-item",d.pinnedItem),d.pinnedItem.render())})),this},showSubscriptionModal:function(){if(n("#subscription-modal").length){var e=new r.views.SubscriptionModal({model:this.model});this.$("#subscription-modal").empty().append(e.render().$el),e.showModal()}},setElement:function(e){var t,a,s=n(e);for(var i in r.views.RegionManager.prototype.setElement.call(this,e),this.regions)this.regions.hasOwnProperty(i)&&(a=(t=this.regions[i].view).className.trim().replace(/ /g,"."),t.setElement(s.find("."+a)))},setScrollToElementId:function(e,t){this.scrollToElementId=e,t&&this.trigger("scroll-to-element")},scrollToElement:function(){this.scrollToElementId&&n("html, body").animate({scrollTop:this.$("#"+this.scrollToElementId).offset().top-n("#header").height()},500)}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(176),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("ProfileConversations",l.views.RegionManager.extend({className:"user-activity row",template:s.a,initialize:function(e){e=e||{};var t=a.utils.currentUser();t.authenticated()&&t.get("username")===this.model.get("username")?e.placeholder=a.utils.trans("Post a Message"):e.placeholder=a.utils.trans("Write to %s",this.model.get("username"))},render:function(){var e=this.model.toJSON(),n=this.template,a=this;this.$el.html(n(e));var s=new l.views.ProfileInteractions({model:this.model,pinnedItem:new l.models.PinnedMessage({username:this.model.get("username"),type:"newMessage"}),collection:new l.collections.ActivityMessages([],{username:this.model.get("username"),limit:10}),isMessage:!0});return this.setRegion("#profile-messages",s.render()),t.defer((function(){a.$("#profile-messages [data-toggle=tooltip]").tooltip()})),this},setElement:function(e){var t,a,s=n(e);for(var i in l.views.RegionManager.prototype.setElement.call(this,e),this.regions)this.regions.hasOwnProperty(i)&&(a=(t=this.regions[i].view).className.trim().replace(/ /g,"."),t.setElement(s.find(i+" ."+a)))}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(54),s=n.n(a),i=n(177),l=n.n(i);!function(e,t,n,a,i,r){r.add("ProfileFollowersFollowingModal",r.views.IncrementalList.extend({className:"profile-followers-following-modal modal fade",template:l.a,itemView:r.views.UserRowItem,containerId:"#user-row-items",initialize:function(e){e=e||{},this.isMobile=r.get("device").is.mobile,this.showRemoveFollowersOption=!1,e.showFollowing?this.title=i.sprintf("%s %s",[i.format(this.collection.total),i.trans("Following")]):(this.model&&this.model.get("isPrivate")&&this.model.get("username")===a.utils.currentUser().get("username")&&(this.showRemoveFollowersOption=!0),this.title=i.sprintf(i.ngettext("%s Follower","%s Followers",this.collection.total),[i.format(this.collection.total)])),this.isMobile?Handlebars.registerPartial("mobile.profile.profile_follow_modal",s.a):Handlebars.registerPartial("desktop.profile.profile_follow_modal",s.a),this.listenTo(r,"app:user:follow",this.updateToFollowingButton),this.listenTo(r,"app:user:unfollow",this.updateToFollowButton)},showModal:function(){this.$el.modal("show")},getTemplateData:function(){return{isMobile:this.isMobile,title:this.title,hasMore:this.collection.offset<this.collection.total}},getItemViewOptions:function(){return{showRemoveFollowersOption:this.showRemoveFollowersOption}},onShowMore:function(e){e&&i.stopEvent(e),this.$(".show-more-message").addClass("hidden"),this.$(".loading-message").removeClass("hidden");var t=this;Promise.resolve(this.collection.fetchNextSet()).then((function(){t.setupDOM(),t.$(".show-more-message").removeClass("hidden"),t.$(".loading-message").addClass("hidden")}))},updateToFollowingButton:function(e){var n=this.collection.findWhere({username:e});if(!t.isEmpty(n)){var a=this.$('.btn-fan[data-target="'+e+'"]');a.removeClass("btn-white").addClass("btn-teal"),a.find(".fa").removeClass("fa-follow fa-wp-base-2-dark").addClass("fa-following fa-wp-neutral-5"),a.find(".truncate").text(i.trans("Following")),n.set("following",!0)}},updateToFollowButton:function(e){var n=this.collection.findWhere({username:e});if(!t.isEmpty(n)){var a=this.$('.btn-fan[data-target="'+e+'"]');a.removeClass("btn-teal").addClass("btn-white"),a.find(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-base-2-dark"),a.find(".truncate").text(i.trans("Follow")),n.set("following",!1)}}})),r.mixin(r.views.ProfileFollowersFollowingModal,"InfiniteScroll","FollowManager")}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(5),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("ProfileFollowing",l.views.IncrementalList.extend({className:"user-following row",template:s.a,itemView:l.views.UserItem,getTemplateData:function(){var e={};return e.count=this.collection.total,e.containerId="content",e.emptyMessage=i.trans("This user is not following anyone yet."),e},setElement:function(e){l.views.IncrementalList.prototype.setElement.apply(this,arguments),this.setButtonState()}})),l.mixin(l.views.ProfileFollowing,"InfiniteScroll")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(178),s=n.n(a),i=n(179),l=n.n(i),r=n(180),o=n.n(r),c=n(181),u=n.n(c),d=n(182),h=n.n(d),p=n(38),m=n.n(p);!function(e,t,n,a,i,r,c){r.add("ProfileLayout",r.views.RegionManager.extend({className:"profile-layout",template:h.a,partials:{profile_edit:u.a,profile_mute_modal:o.a,profile_close_modal:l.a,profile_timeout_modal:s.a,user_badges:m.a},events:{"tap   .on-nav-item":"onSectionNavigate","click .on-nav-item":"stopEvent","tap   .on-follow-user":"onFollowUser","click .on-follow-user":"stopEvent","tap   .on-following-request":"onFollowingRequest","tap   .on-follower-request":"onFollowerRequest","tap   .on-message":"onMessage","click .on-message":"stopEvent","touchstart .on-touch":"setTouchState","touchend   .on-touch":"removeTouchState","tap    .on-edit-profile":"onEditProfile","tap    .on-edit-cancel":"onCancelEdit","tap    .on-edit-save":"onSaveEdit","tap    .on-change-invalid-image":"onChangeInvalidImage","tap    .on-mute-user":"onMuteUser","keypress .on-mute-user":"onMuteUser","tap    .on-unmute-user":"onUnmuteUser","keypress .on-unmute-user":"onUnmuteUser","tap    .on-block-user":"onBlockUser","keypress .on-block-user":"onBlockUser","tap    .on-timeout-user":"onTimeoutUser","tap    .on-close-user-account":"onCloseUserAccount","tap    .on-notice-action":"onNoticeAction","tap    .on-notice-cancel":"onNoticeCancel","tap   .scroll-to-element":"scrollToElement","click .scroll-to-element":"stopEvent","tap   .on-followers":"showFollowersModal","click .on-followers":"stopEvent","tap   .on-view-conversations":"viewAllConversations","click .on-view-conversations":"stopEvent"},sections:{about:{View:r.views.ProfileMain},following:{View:r.views.ProfileFollowing,Collection:r.collections.ProfileFollowing},conversations:{View:r.views.ProfileConversations}},editMode:null,reportModalContainer:".profile-options-modal",requestType:"reported_users",isMainReportModal:!0,modalTitle:a.utils.trans("Report a User"),conductType:"user_account_conduct",initialize:function(t){if(t=t||{},this.username=t.username,this.sectionView=null,this.isPrivateToMe=t.isPrivateToMe,this.recentlyUnmuted=t.recentlyUnmuted,this.recentlyUnblocked=t.recentlyUnblocked,this.section=t.section||"about",this.isFollowersSection=!1,this.showEditProfile=t.showEditProfile,this.reportModalType="user",this.reportModalId={name:t.username,location:e.location.href},this.recentlyUnmuted){var n={className:"unmute",body:a.utils.trans("%s is now unmuted. You can mute them at any time.",t.username)};setTimeout((function(){e.store.dispatch(e.app.components.actions.toggleToast(n))}),0)}if(this.recentlyUnblocked){var s={className:"unblock",body:a.utils.trans("%s is now unblocked. You can block them at any time.",t.username)};setTimeout((function(){e.store.dispatch(e.app.components.actions.toggleToast(s))}),0)}"followers"===t.section&&(this.section="about",this.isFollowersSection=!0),Handlebars.registerPartial("desktop.profile.profile_mute_modal",this.partials.profile_mute_modal),Handlebars.registerPartial("desktop.profile.profile_close_modal",this.partials.profile_close_modal),Handlebars.registerPartial("desktop.profile.profile_timeout_modal",this.partials.profile_timeout_modal),Handlebars.registerPartial("core.components.user_badges",this.partials.user_badges),this.listenTo(r,"app:profile:edit",this.onEditProfile),this.listenTo(r,"app:user:follow",this.updateToFollowingButton),this.listenTo(r,"app:user:unfollow",this.updateToFollowButton)},render:function(){var n,s,l,r,o,c,u,d,h=this.model.toJSON(),p=this,m=this.model.isStaff(),f=null===(n=a.utils)||void 0===n||null===(s=n.currentUser())||void 0===s?void 0:s.get("ambassador"),g=(null===(l=a.utils)||void 0===l||null===(r=l.currentUser())||void 0===r?void 0:r.get("isSysAdmin"))&&e.location.href.endsWith("/admin"),v=this.model.isWattpadStar();m&&(h.ambassador=!1,h.verified=!1);var w=a.utils.currentUser().authenticated(),y=null===(o=this.model)||void 0===o||null===(c=o.get("safety"))||void 0===c?void 0:c.isMuted,b=null===(u=this.model)||void 0===u||null===(d=u.get("safety"))||void 0===d?void 0:d.isBlocked;return this.$el.html(this.template(t.extend(h,{showModerationOptions:w,recentlyUnmuted:this.recentlyUnmuted,recentlyUnblocked:this.recentlyUnblocked,isMuted:y,isBlocked:b,isPrivateToMe:this.isPrivateToMe,staff:m,isAmbassador:f,isSysAdmin:g,star:v,followingRequested:"req"===this.model.get("followingRequest"),dataModel:this.model,onWalletClick:function(){return i.showBuyCoinsModal("profile")}}))),this.setSection(this.section),t.defer((function(){p.$("header [data-toggle=tooltip]").tooltip(),p.$("nav [data-toggle=tooltip]").tooltip(),p.isFollowersSection&&p.showFollowersModal()})),p.showEditProfile&&setTimeout((function(){p.onEditProfile()}),0),this},reportMoreInfo:function(){return[{key:"Reported User",val:e.location.href}]},reportUserName:function(){return this.model.get("username")},setElement:function(e){var a=n(e);if(r.views.RegionManager.prototype.setElement.call(this,e),this.sectionView&&this.sectionView.className){var s="",i=this.sectionView.className.trim().split(" ");t.each(i,(function(e){s+="."+e})),this.sectionView.setElement(a.find(s.trim()))}},setSection:function(e){var t,a,s,l,o=this,c=this.$("#page-navigation"),u=this;c.find("nav li").removeClass("active"),c.find("nav li[data-section="+e+"]").addClass("active"),this.clearRegion("#content"),"about"===e||"conversations"===e?(this.sectionView=new this.sections[e].View({model:this.model,isPrivateToMe:this.isPrivateToMe}),this.setRegion("#content",this.sectionView.render())):"quests"===e?setTimeout((function(){o.sectionView=new r.views.DummyReactView({component:"Quests",componentId:"quests",componentData:o.model}),o.setRegion("#content",o.sectionView.render())}),0):(t=new this.sections[e].Collection([],{username:this.username,limit:12}),this.sectionView=new this.sections[e].View({model:this.model,collection:t}),this.setRegion("#content",this.sectionView),l=this.sectionView.cid,n.when(t.fetchNextSet()).done((function(){l===u.sectionView.cid&&u.sectionView.render()})),this.model.get("username")===i.currentUser().get("username")&&"following"===e&&(a=this.model.get("numFollowing"),s=c.find('li[data-section="following"] span'),t.on("remove",(function(){s.html(i.count(a-1))})))),this.section=e,this._setTitle(e)},_setTitle:function(e){var t;if("about"===e)t=this.model.get("name")?this.model.get("name")+" (@"+this.username+")":this.username;else if("quests"===e){var n=this.username;this.model.get("name")&&(n=this.model.get("name")+" (@"+this.username+")"),t=a.utils.trans("%s's quests",n)}else if("conversations"===e){n=this.username;this.model.get("name")&&(n=this.model.get("name")+" (@"+this.username+")"),t=a.utils.trans("%s's conversations",n)}else"following"===e?t=a.utils.trans("People followed by %s",this.username):"followers"===e&&(t=a.utils.trans("People following %s",this.username));a.utils.setTitle(t)},onSectionNavigate:function(e){var t=n(e.currentTarget),s=t.parent().data("section"),i="about"===s?"/user/"+this.username:"/user/"+this.username+"/"+s;a.utils.currentUser().authenticated()||"conversations"!==s&&"following"!==s?(r.router.navigate(i,{replace:!0}),this.setSection(s),a.utils.pushEvent({},"virtualPageview")):(a.utils.stopEvent(e),this.onAuthPrompt(e),t.hasClass("num-following")&&n(".modal-backdrop").addClass("profile-show"))},viewAllConversations:function(t){i.stopEvent(t),a.utils.currentUser().authenticated()?e.location=n(t.currentTarget).attr("href"):(this.onAuthPrompt(t),n(".modal-backdrop").addClass("profile-show"))},onFollowUser:function(e){if(i.currentUser().authenticated()){var t=this.model.get("numFollowers");t=this.model.get("following")?t-1:t+1,this.$(".followers-count").text(i.count(t)),this.model.set("numFollowers",t)}},updateToFollowingButton:function(e){if(this.model.get("username")===e){var t=this.$('.btn-fan[data-target="'+e+'"]');t.removeClass("btn-white").addClass("btn-teal"),t.find(".fa").removeClass("fa-follow fa-wp-base-2-dark").addClass("fa-following fa-wp-neutral-5"),t.find(".truncate").text(i.trans("Following")),this.model.set("following",!0)}},updateToFollowButton:function(e){if(this.model.get("username")===e){var t=this.$('.btn-fan[data-target="'+e+'"]');t.removeClass("btn-teal").addClass("btn-white"),t.find(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-base-2-dark"),t.find(".truncate").text(i.trans("Follow")),this.model.set("following",!1)}},onFollowingRequest:function(e){var t=this,n=this.$(e.currentTarget),s="req"===this.model.get("followingRequest"),l=s?"unfollow":"follow",r=s?"btn-white":"btn-teal",o=s?i.iconify("fa-follow",16,"wp-base-2")+" "+i.trans("Request"):i.iconify("fa-following-request",16,"wp-neutral-5")+" "+i.trans("Requested"),c=s?"":"req";i.currentUser().authenticated()?(n.removeClass("btn-teal btn-white").addClass(r).html(o),Promise.resolve(a.utils.currentUser().following()[l](this.model)).then((function(){t.model.set("followingRequest",c)}))):this.onAuthPrompt(e)},setTouchState:function(e){n(e.currentTarget).addClass("touched")},removeTouchState:function(e){n(e.currentTarget).removeClass("touched")},initEditProfile:function(){var a=this,s=this.model.toJSON();s.aboutCount=s.description.length,this.$el.append(this.partials.profile_edit(s)),t.bindAll(this,"onAvatarSubmit","onBackgroundSubmit","onFileUploadComplete","onFileUploadError"),this.uploadBG=new e.ss.SimpleUpload({url:"/api/v3/users/"+this.username+"/image",name:"file",allowedExtensions:["jpg","jpeg","png","gif"],accept:"image/jpeg, image/png, image/gif",data:{type:"background"},button:this.$("#edit-background button"),maxSize:1024,onSubmit:this.onBackgroundSubmit,onComplete:this.onFileUploadComplete,onExtError:this.onExtentionError,onSizeError:this.onSizeError,onError:this.onFileUploadError}),this.uploadAvatar=new e.ss.SimpleUpload({url:"/api/v3/users/"+this.username+"/image",name:"file",allowedExtensions:["jpg","jpeg","png","gif"],accept:"image/jpeg, image/png, image/gif",data:{type:"avatar"},button:this.$("#edit-avatar button"),maxSize:1024,onSubmit:this.onAvatarSubmit,onComplete:this.onFileUploadComplete,onExtError:this.onExtentionError,onSizeError:this.onSizeError,onError:this.onFileUploadError}),this.inputFields={},this.$('.edit-profile input[type="text"], .edit-profile textarea').each((function(){a.inputFields[n(this).data("field")]=n(this)}))},onExtensionError:function(){e.alert(i.trans("The type of file you are trying to upload is not supported."))},onSizeError:function(){e.alert(i.trans("The image you are trying to upload is too large, please upload a file smaller than 1MB."))},onEditProfile:function(){a.utils.currentUser().get("verified_email")?(null===this.editMode&&this.initEditProfile(),this.showEditUI(),this.editMode=!0):i.showPleaseVerifyModal()},onDescriptionUpdate:function(e){this.$(".on-edit-save").prop("disabled",!e),e?this.$(".description-counter").removeClass("count-error"):this.$(".description-counter").addClass("count-error")},onSaveEdit:function(){var t,n,a,s={},l={},o=this;for(t in this.inputFields)this.inputFields.hasOwnProperty(t)&&(n=this.inputFields[t].val())!==(a=this.model.get(t))&&(l[t]=a,s[t]=n);r.local.clear("user."+this.username),this.model.set(s),this.model.save(s,{patch:!0,type:"put"}).fail((function(t,n){o.model.set(l),e.alert(i.trans("Something went wrong, your changes were not saved. ")+(t.responseJSON.message||""))})),this.editMode=!1,this.hideEditUI(),this.setSection("about")},onCancelEdit:function(){var e;for(e in this.hideEditUI(),this.inputFields)this.inputFields.hasOwnProperty(e)&&this.inputFields[e].val(this.model.get(e));this.$(".on-edit-save").prop("disabled",!1),this.resetCount(),this.editMode=!1},showEditUI:function(){this.$(".edit-profile").removeClass("hidden faded"),n("#header, .background-lg h3, #content").addClass("hidden")},hideEditUI:function(){var e=this.model.get("name"),t=this.model.get("username"),a=this.$(".profile-name").text();e&&a!==e?this.$(".profile-name").text(e):e||a===t||this.$(".profile-name").text(t),this.$(".edit-profile").addClass("hidden faded"),n("#header, .background-lg h3, #content").removeClass("hidden"),n('input[type="file"]').parent().css("visibility","hidden")},onAvatarSubmit:function(e,t,a){var s,i=n("#edit-avatar");(s={image:this.$(".avatar img"),button:i.find("button"),loading:i.find(".loading, .loading-bg")}).oldSrc=s.image.attr("src"),s.image.attr("src",""),this.uploadValues={type:"avatar",data:s},this.uploadSubmitUI(s)},onBackgroundSubmit:function(e,t,a){var s,i=n("#edit-background");(s={image:n("header.background-lg"),button:n("#edit-background button, #edit-overlay"),loading:i.find(".loading")}).oldSrc=s.image.css("background-image"),s.image.css("background-image",""),this.uploadValues={type:"background",data:s},this.uploadSubmitUI(s)},onFileUploadComplete:function(t,n,a){var s,i,l,o=this.uploadValues.type,c=this.uploadValues.data,u=/\.(\d)+\.(jpe*g|gif|png)/;this.uploadCompleteUI(c),"avatar"===o?(s=c.oldSrc.replace(u,"."+Date.now()+".$2"),c.image.attr("src",s),r.local.clear("user."+this.username),this.model.set("avatar",s)):"background"===o&&("none"===c.oldSrc?(s='url("'+(l=e.location.origin+"/userbgs/"+this.model.get("username")+".1920."+Date.now()+".jpg")+'")',i=l):(s=c.oldSrc.replace(u,"."+Date.now()+".$2"),i=this.model.get("backgroundUrl").replace(u,"."+Date.now()+".$2")),c.image.css("background-image",s),r.local.clear("user."+this.username),this.model.set("backgroundUrl",i))},onFileUploadError:function(t,n,a,s,i,l){e.alert("Error during upload - "+a+":"+s+" - "+i.msg)},uploadSubmitUI:function(e){i.supportsTransition()?e.button.on(i.transitionEndStrings,(function(){n(this).off(i.transitionEndStrings).addClass("longfade")})).addClass("faded"):e.button.addClass("faded"),e.loading.each((function(){n(this).removeClass("faded")}))},uploadCompleteUI:function(t){i.supportsTransition()?e.setTimeout((function(){t.button.each((function(){n(this).on(i.transitionEndStrings,(function(){n(this).off(i.transitionEndStrings).removeClass("longfade")})).removeClass("faded")}))}),3600):e.setTimeout((function(){t.button.removeClass("faded")}),4e3),t.loading.each((function(){n(this).addClass("faded")}))},onChangeInvalidImage:function(t){var a=n(t.currentTarget).data("imagetype"),s=this.model.get("username"),i=e.prompt("Why is this being banned? Options: 'copyright' or 'banned content' or 'self-harm'","copyright OR banned content OR self-harm");i?(this.deleteImage(s,a,i),r.local.clear("user."+s)):e.alert("Banning was cancelled.")},deleteImage:function(t,a,s){Promise.resolve(n.ajax({type:"POST",data:{reason:s},url:"/api/v3/internal/users/"+t+"/"+a})).then((function(t){e.alert("Successfully deleted "+a+"!"),e.location.reload()})).catch((function(t){console.error(t),e.alert("Failed to delete "+a+"."),e.location.reload()}))},onMuteUser:function(){var t=this.model.get("username"),s=this;e.store.dispatch(e.app.components.actions.setMutedUsersFromBackBone(t,"mute")),n.ajax({type:"POST",url:"/apiv2/ignoreuser?id="+t+"&action=ignore_user",success:function(){var e,n;r.local.clear("user."+t),a.utils.clearCommentLocalStorage(),s.model.set("safety",{isMuted:!0,isBlocked:null===(e=s.model)||void 0===e||null===(n=e.get("safety"))||void 0===n?void 0:n.isBlocked});var i=new r.views.RestrictedProfile({profileType:"mute",model:s.model,recentlyMuted:!0,isMobile:r.get("device").is.mobile});r.transitionTo(i,{username:t,hasHeader:!0,hasFooter:!0})},error:function(e){var t;try{467===e.responseJSON.code&&(t=e.responseJSON.message)}catch(e){t=a.utils.trans("There was an error muting this user. Please try again.")}a.utils.showToast(t,{type:"dismissable"})}})},onUnmuteUser:function(){var t=this.model.get("username"),s=this;e.store.dispatch(e.app.components.actions.setMutedUsersFromBackBone(t,"unmute")),n.ajax({type:"POST",url:"/apiv2/ignoreuser?id="+t+"&action=unignore_user",success:function(){s.$("#profile-more-options .mute").removeClass("hide"),s.$("#profile-more-options .unmute").addClass("hide")},error:function(){new r.views.ErrorToast({message:a.utils.trans("There was an error unmuting this user. Please try again.")},{type:"dismissable"}).render()}})},onBlockUser:function(){var t=this.model.get("username"),s=this;e.store.dispatch(e.app.components.actions.setBlockedUsersFromBackBone(t,"block")),n.ajax({type:"PUT",url:"/v4/users/".concat(t,"/blocks"),success:function(e){if(!1===e.success){var n;try{var i;null!=e&&null!==(i=e.error)&&void 0!==i&&i.message&&(n=e.error.message)}catch(e){n=a.utils.trans("There was an error blocking this user. Please try again.")}a.utils.showToast(n,{type:"dismissable"})}else{var l,o;r.local.clear("user."+t),a.utils.clearCommentLocalStorage(),a.utils.clearStoriesLocalStorage();var c=new r.views.RestrictedProfile({model:s.model,recentlyBlocked:!0,profileType:"block",isMobile:r.get("device").is.mobile,isMuted:null===(l=s.model)||void 0===l||null===(o=l.get("safety"))||void 0===o?void 0:o.isMuted});r.transitionTo(c,{username:t,hasHeader:!0,hasFooter:!0})}},error:function(){var e=a.utils.trans("There was an error blocking this user. Please try again.");a.utils.showToast(e,{type:"dismissable"})}})},onCloseUserAccount:function(t,s){var i;s=s||e;var l=null===(i=document)||void 0===i?void 0:i.getElementById("close-reason"),r=l.value,o=l.options[l.selectedIndex].text;if(r){var c=a.testGroups.BLOCK_MVP?"You are closing this users' account because of "+o+". Are you sure?":"You are blocking this user because of "+o+". Are you sure?";if(s.confirm(c))n.ajax({type:"POST",url:"/api/v3/users/"+this.model.get("username")+"/close",data:{reason:r},success:function(){s.alert("successfully closed user account"),s.location.reload()},error:function(e){s.alert(JSON.parse(e.responseText).message)}});else{var u=a.testGroups.BLOCK_MVP?"User's account has not been closed":"User has not been blocked";s.alert(u)}}else s.alert("You must select an option")},onTimeoutUser:function(t,a){a=a||e;var s=document.getElementById("timeout-reason").value;if(""===s)a.alert("You must specify a reason");else{var i=document.getElementById("timeout-duration").value;n.ajax({type:"POST",url:"/v4/users/"+this.model.get("username")+"/timeout",data:{duration:i,reason:s},success:function(){a.alert("successfully timed-out user"),a.location.reload()},error:function(e){e.responseText?a.alert(JSON.parse(e.responseText).message):a.alert("Something went wrong. Please try again")}})}},onNoticeAction:function(){e.open("//support.wattpad.com/hc/articles/203154850-The-New-Profile-is-Here-","_blank")},onNoticeCancel:function(){n("body").removeClass("show-notice"),a.utils.setCookie("x-newpro-note",1,60)},scrollToElement:function(e){var t=!0;"about"!==this.section&&(this.setSection("about"),r.router.navigate("/user/"+this.username,{replace:!0}),t=!1),this.sectionView.setScrollToElementId(n(e.currentTarget).data("id"),t)},showFollowersModal:function(e){var t=this,n=new r.collections.ProfileFollowers([],{username:this.username,limit:10});a.utils.currentUser().authenticated()?Promise.resolve(n.fetchNextSet()).then((function(){var e=new r.views.ProfileFollowersFollowingModal({model:t.model,collection:n});t._setTitle("followers"),t.$("#follower-modal").empty().append(e.render().$el),e.showModal(),t.$("#follower-modal").on("hidden.bs.modal",(function(){if(t.isFollowersSection){t.isFollowersSection=!1;var n="about"===t.section?"":"/"+t.section;r.router.navigate("/user/"+t.username+n,{replace:!0})}t._setTitle(t.section),e.remove()}))})):this.onAuthPrompt(e)},onMessage:function(){a.utils.currentUser().get("verified_email")?e.location.href="/inbox/".concat(this.username):a.utils.showPleaseVerifyModal()}})),r.mixin(r.views.ProfileLayout,"InputCounterManagement","ReportManagement","ReportConduct","AuthPromptManagement","FollowManager")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t,n,a,s,i){"use strict";i.add("RestrictedProfile",i.views.DummyReactView.extend({component:"RestrictedProfile",componentId:"restricted-profile",reportModalContainer:".profile-options-modal",requestType:"reported_users",isMainReportModal:!0,modalTitle:n.utils.trans("Report a User"),conductType:"user_account_conduct",events:{"tap    .on-timeout-user":"onTimeoutUser","tap    .on-close-user-account":"onCloseUserAccount"},constructor:function(t){var a,s;this.reportModalType="user",this.reportModalId={name:"user",location:e.location.href},this.profileType=t.profileType,this.model=t.model,this.recentlyMuted=t.recentlyMuted||!1,this.recentlyBlocked=t.recentlyBlocked||!1,this.isMobile=t.isMobile,this.isMuted=t.isMuted||!1,this.isAmbassador=null===(a=n.utils)||void 0===a||null===(s=a.currentUser())||void 0===s?void 0:s.get("ambassador");var l={componentData:this.getComponentData(),component:this.component,componentId:this.componentId};i.views.DummyReactView.call(this,l)},getComponentData:function(){var e;return{safety:null===(e=this.model)||void 0===e?void 0:e.get("safety"),profileType:this.profileType,username:this.model.get("username"),avatar:this.model.get("avatar"),name:this.model.get("name"),backgroundUrl:this.model.get("backgroundUrl"),numLists:this.model.get("numLists"),numStoriesPublished:this.model.get("numStoriesPublished"),numFollowers:this.model.get("numFollowers"),onUnmute:this.onUnmuteUser.bind(this),onUnblock:this.onUnblockUser.bind(this),onBlock:this.onBlockUser.bind(this),recentlyMuted:this.recentlyMuted,recentlyBlocked:this.recentlyBlocked,isMobile:this.isMobile||i.get("device").is.mobile,isMuted:this.isMuted,isAmbassador:this.isAmbassador}},onUnmuteUser:function(t){var s=this;e.store.dispatch(e.app.components.actions.setMutedUsersFromBackBone(t,"unmute")),a.ajax({type:"POST",url:"/apiv2/ignoreuser?id="+t+"&action=unignore_user",success:function(){var e,a=s.getComponentData(),l=s.model.get("isPrivate"),r=new i.models.User({username:t});Promise.resolve(r.loaded()).then((function(){var s;r.set("safety",{isMuted:!1,isBlocked:null==r||null===(s=r.get("safety"))||void 0===s?void 0:s.isBlocked}),e=i.get("device").is.mobile?new i.views.UserProfile({model:r,section:"about",username:a.username,recentlyUnmuted:!0,isPrivateToMe:l}):new i.views.ProfileLayout({model:r,section:"about",username:a.username,recentlyUnmuted:!0,isPrivateToMe:l}),i.local.clear("user."+t),n.utils.clearCommentLocalStorage(),i.transitionTo(e,{username:a.username,hasHeader:!0,hasFooter:!0})}))},error:function(){new i.views.ErrorToast({message:n.utils.trans("There was an error unmuting this user. Please try again.")},{type:"dismissable"}).render()}})},reportMoreInfo:function(){return[{key:"Reported User",val:e.location.href}]},reportUserName:function(){return this.model.get("username")},onCloseUserAccount:function(t,s){s=s||e;var i=document.getElementById("close-reason"),l=i.value;if(l){var r=i.options[i.selectedIndex].text,o=n.testGroups.BLOCK_MVP?"You are closing this users' account because of "+r+". Are you sure?":"You are blocking this user because of "+r+". Are you sure?";if(s.confirm(o))a.ajax({type:"POST",url:"/api/v3/users/"+this.model.get("username")+"/close",data:{reason:l},success:function(){s.alert("successfully closed user account"),s.location.reload()},error:function(e){s.alert(JSON.parse(e.responseText).message)}});else{var c=n.testGroups.BLOCK_MVP?"User's account has not been closed":"User has not been blocked";s.alert(c)}}else s.alert("You must select an option")},onTimeoutUser:function(t,n){n=n||e;var s=document.getElementById("timeout-reason").value;if(""===s)n.alert("You must specify a reason");else{var i=document.getElementById("timeout-duration").value;a.ajax({type:"POST",url:"/v4/users/"+this.model.get("username")+"/timeout",data:{duration:i,reason:s},success:function(){n.alert("successfully timed-out user"),n.location.reload()},error:function(e){e.responseText?n.alert(JSON.parse(e.responseText).message):n.alert("Something went wrong. Please try again")}})}},onUnblockUser:function(t){var s=this;a.ajax({type:"DELETE",url:"/v4/users/".concat(t,"/blocks"),success:function(){e.store.dispatch(e.app.components.actions.setBlockedUsersFromBackBone(t,"unblock"));var a,l=s.getComponentData(),r=s.model.get("isPrivate"),o=new i.models.User({username:t});Promise.resolve(o.loaded()).then((function(){var e,c,u;o.set("safety",{isBlocked:!1,isMuted:null===(e=s.model)||void 0===e||null===(c=e.get("safety"))||void 0===c?void 0:c.isMuted}),null!=o&&null!==(u=o.get("safety"))&&void 0!==u&&u.isMuted?i.local.clear("user."+t):(a=i.get("device").is.mobile?new i.views.UserProfile({model:o,section:"about",username:l.username,recentlyUnblocked:!0,isPrivateToMe:r}):new i.views.ProfileLayout({model:o,section:"about",username:l.username,recentlyUnblocked:!0,isPrivateToMe:r}),i.local.clear("user."+t),n.utils.clearCommentLocalStorage(),n.utils.clearStoriesLocalStorage(),i.transitionTo(a,{username:l.username,hasHeader:!0,hasFooter:!0}))}))},error:function(){new i.views.ErrorToast({message:n.utils.trans("There was an error unblocking this user. Please try again.")},{type:"dismissable"}).render()}})},onBlockUser:function(t){var s=this;a.ajax({type:"PUT",url:"/v4/users/".concat(t,"/blocks"),success:function(a){if(e.store.dispatch(e.app.components.actions.setBlockedUsersFromBackBone(t,"block")),!1===a.success){var l;try{var r;null!=a&&null!==(r=a.error)&&void 0!==r&&r.message&&(l=a.error.message)}catch(e){l=n.utils.trans("There was an error blocking this user. Please try again.")}n.utils.showToast(l,{type:"dismissable"})}else{var o,c=s.getComponentData(),u=s.model.get("isPrivate"),d=new i.models.User({username:t});Promise.resolve(d.loaded()).then((function(){var e,a,l;d.set("safety",{isBlocked:!0,isMuted:null===(e=s.model)||void 0===e||null===(a=e.get("safety"))||void 0===a?void 0:a.isMuted}),null!=d&&null!==(l=d.get("safety"))&&void 0!==l&&l.isMuted?i.local.clear("user."+t):(o=i.get("device").is.mobile?new i.views.UserProfile({model:d,section:"about",username:c.username,recentlyBlocked:!0,isPrivateToMe:u}):new i.views.ProfileLayout({model:d,section:"about",username:c.username,recentlyBlocked:!0,isPrivateToMe:u}),i.local.clear("user."+t),n.utils.clearCommentLocalStorage(),n.utils.clearStoriesLocalStorage(),i.transitionTo(o,{username:c.username,hasHeader:!0,hasFooter:!0}))}))}},error:function(){new i.views.ErrorToast({message:n.utils.trans("There was an error blocking this user. Please try again.")},{type:"dismissable"}).render()}})}})),i.mixin(i.views.RestrictedProfile,"ReportManagement","ReportConduct")}(window,_,wattpad,jQuery,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("MuteModal",a.views.DummyReactView.extend({constructor:function(e){this.modalType=e.modalType,this.showMutedProfile=e.showMutedProfile,this.component="mute"==this.modalType?"MuteModal":"UnmuteModal",this.componentId="mute"==this.modalType?"mute-modal":"unmute-modal",this.componentData={username:e.username,toggleModal:this.onClose,muteUser:this.onMute.bind(this),onUnmute:this.onMute.bind(this)};var t={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,t)},onMute:function(){var t,i=this.componentData.username,l="mute"==this.modalType?"ignore_user":"unignore_user",r="/apiv2/ignoreuser?id=".concat(i,"&action=").concat(l),o=this.modalType,c=this;e.store.dispatch(e.app.components.actions.setMutedUsersFromBackBone(i,o)),Promise.resolve($.ajax({type:"POST",url:r})).then((function(){if(c.showMutedProfile){var l=new a.models.User({username:i});Promise.resolve(l.loaded()).then((function(){var t=new a.views.RestrictedProfile({profileType:"mute",model:l,recentlyMuted:!0,isMobile:a.get("device").is.mobile});a.transitionTo(t,{username:i,hasHeader:!0,hasFooter:!0}),e.te.push("event","app","page",null,"view",{page:"profile",username:i})}))}else t="mute"==o?s.trans("%s is now muted. You can unmute them at any time.",i):s.trans("%s is now unmuted. You can mute them at any time.",i),s.showToast(t,{type:"dismissable"}),n.testGroups.REMOVE_MUTED_COMMENTS&&"mute"==o?a.trigger("app:comment:mute",{username:i}):c.trigger("".concat(o,":done"));n.utils.clearCommentLocalStorage()})).catch((function(e){"mute"==o?t=e.responseJSON&&467===e.responseJSON.code?e.responseJSON.message:s.trans("There was an error muting this user. Please try again."):"unmute"==o&&(t=s.trans("There was an error unmuting this user. Please try again.")),s.showToast(t,{type:"dismissable"})}))},onClose:function(e){$("#generic-modal").modal("hide"),setTimeout((function(){$("#generic-modal .modal-content").removeClass("mute-modal-wrapper"),$("#generic-modal .modal-dialog").removeClass("mute-modal-dialog")}),500)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("BlockModal",a.views.DummyReactView.extend({constructor:function(e){this.modalType=e.modalType,this.showRestrictedProfile=e.showRestrictedProfile,this.component="block"==this.modalType?"BlockModal":"UnblockModal",this.componentId="block"==this.modalType?"block-modal":"unblock-modal",this.componentData={username:e.username,toggleModal:this.onClose,blockUser:this.onBlock.bind(this),onUnblock:this.onBlock.bind(this)};var t={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,t)},onBlock:function(){var t,i=this.componentData.username,l="block"===this.modalType?"PUT":"DELETE",r=this.modalType,o=this;Promise.resolve($.ajax({type:l,url:"/v4/users/".concat(i,"/blocks")})).then((function(l){if(!1===l.success){var c;try{var u;null!=l&&null!==(u=l.error)&&void 0!==u&&u.message&&(c=l.error.message)}catch(e){c=n.utils.trans("There was an error blocking this user. Please try again.")}n.utils.showToast(c,{type:"dismissable"})}else if(e.store.dispatch(e.app.components.actions.setBlockedUsersFromBackBone(i,"block")),o.showRestrictedProfile){var d=new a.models.User({username:i});Promise.resolve(d.loaded()).then((function(){var t=new a.views.RestrictedProfile({profileType:"block",model:d,isMobile:a.get("device").is.mobile,recentlyBlocked:!0});a.transitionTo(t,{username:i,hasHeader:!0,hasFooter:!0}),e.te.push("event","app","page",null,"view",{page:"profile",username:i})})),n.utils.clearCommentLocalStorage(),n.utils.clearStoriesLocalStorage()}else t="block"==r?s.trans("%s is now blocked. You can unblock them at any time.",i):s.trans("%s is now unblocked. You can block them at any time.",i),s.showToast(t,{type:"dismissable"})})).catch((function(e){"block"==r?t=s.trans("There was an error blocking this user. Please try again."):"unblocking"==r&&(t=s.trans("There was an error unblocking this user. Please try again.")),s.showToast(t,{type:"dismissable"})}))},onClose:function(e){$("#generic-modal").modal("hide"),setTimeout((function(){$("#generic-modal .modal-content").removeClass("block-modal-wrapper"),$("#generic-modal .modal-dialog").removeClass("block-modal-dialog")}),500)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t,n){"use strict";n.r(t);var a=n(183),s=n.n(a);!function(e,t,n,a,i,l,r,o){l.add("OnboardingStep1",r.View.extend({events:{"click .on-continue":"onContinue","click .opt":"onSelectOpt"},template:s.a,className:"onboarding-wrapper",render:function(){var e={username:a.utils.currentUser().get("username")};return this.$el.html(this.template(e)),this},onSelectOpt:function(e){e.stopPropagation();var a,s=e.target;-1!==s.classList.contains("gender-card")?a=n(s).siblings(".gender-text"):-1!==s.classList.contains("gender-text")?a=n(s):-1!==s.classList.contains("opt")&&(a=n(s).children(".gender-text"));var i=this.$el.find(".gender-text");t.forEach(i,(function(e){e.classList.remove("selected")})),a&&a.get(0).classList.add("selected"),this.$(".continue-button").removeClass("disabled")},onSkipStep:function(t){i.stopEvent(t);var n=a.utils.getCookie("nextUrl");n&&"/home"!==n&&"/"===n[0]?(e.te.push("event","onboarding",null,null,"complete"),l.router.navigate(n)):l.router.navigate("/start/genres")},onContinue:function(t){i.stopEvent(t);var s,r=a.utils.currentUser(),c=this.$el.find(".selected").attr("value");c&&(c=c.slice(0,1)),s={gender:c},o.resolve(n.ajax({url:"/api/v3/users/"+r.get("username"),type:"PUT",data:s})).then((function(t){a.utils.currentUser().set(t);var n=a.utils.getCookie("nextUrl");n&&"/home"!==n&&"/"===n[0]?(e.te.push("event","onboarding",null,null,"complete"),l.router.navigate(n,{trigger:!0})):l.router.navigate("/start/genres",{trigger:!0})}))}})),l.mixin(l.views.OnboardingStep1)}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco,window.Promise)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("OnboardingWriterJourney",a.views.DummyReactView.extend({component:"OnboardingWriterJourney",componentId:"onboarding-writer-journey",constructor:function(e){this.componentData={locale:n.utils.getCookie("locale"),username:e.user?e.user.get("username"):""};var t={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,t)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("OnboardingGenres",a.views.DummyReactView.extend({component:"OnboardingGenres",componentId:"onboarding-genres",constructor:function(e){this.componentData={locale:n.utils.getCookie("locale"),username:e.user?e.user.get("username"):"",genres:e.genres};var t={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,t)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("OnboardingSuccess",a.views.DummyReactView.extend({component:"OnboardingSuccess",componentId:"onboarding-success",constructor:function(e){var t={component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,t)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t,n){"use strict";n.r(t);var a=n(184),s=n.n(a);!function(e,t,n,a){a.add("StoryDetails",a.views.Base.extend({template:s.a,className:"story-details",events:{"tap .on-ranking-navigate":"onRankingNavigate","click .on-ranking-navigate":"stopEvent"},render:function(){var t={story:this.model.toJSON()};return t.reportUrl="/help/content?message="+n.utils.urlEncode("I am reporting the following content:\n")+"&story_link="+n.utils.urlEncode(e.location.href),t.story.sourceLink&&(t.story.sourceLink.url&&!t.story.sourceLink.url.match(/^[\w]{4,5}:\/\//i)&&(t.story.sourceLink.url="https://"+t.story.sourceLink.url),t.story.sourceLink.icon=t.story.sourceLink.label.indexOf("Amazon")>-1?"fa-buy":"fa-website"),this.$el.html(this.template(t)),this},stopEvent:function(e){n.utils.stopEvent(e)},onRankingNavigate:function(t){e.te.push("event","story_details","tag_ranking",null,"click",{storyid:this.model.get("id"),tag:this.model.get("tagRankings")[0].name}),this.onNavigate(t)}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(6),s=n.n(a);!function(e,t,n,a){a.add("StoriesSimilar",a.views.IncrementalList.extend({template:s.a,events:{"tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent"},filter:null,className:"stories",itemView:a.views.StoryItem,initialize:function(e){(e=e||{}).is404&&(this.itemView=a.views.RecommendedStoryItemCover),this.fromStoryReading=e.fromStoryReading||!1,this.baseStory=e.currentStory||{},this.alwaysFetch=e.alwaysFetch||!1,this.collection=e.collection||new a.collections.SimilarStories([],{storyId:e.storyId,limit:e.limit||4,baseStory:this.baseStory,showDescription:e.showDescription||!1})},getTemplateData:function(){return{hasStories:this.collection.length>0}},render:function(){var e=this;return Promise.resolve(this.collection.fetch({fresh:this.alwaysFetch})).then((function(){a.views.IncrementalList.prototype.render.apply(e,arguments),e.trigger("postRender")})),this},onStoryPreview:function(n){var s=$(n.currentTarget).data("story-id"),i=this.collection.get(s),l=t.isEmpty(this.baseStory)?null:this.baseStory.get("group").id,r=this;this.fromStoryReading&&e.te.push("event","reading","similar_stories","story","click",{current_storyid:l,storyid:s}),i&&Promise.resolve(i.fetch({fresh:!0})).then((function(){var e=new a.views.BrowseStoryPreview({isHome:!1,model:i});r.$("#preview-modal").empty().append(e.render().$el),e.openModal()}))}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(185),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("FeaturedStoryItem",l.views.Base.extend({className:"featured-story-item story-item",template:s.a,render:function(){return this.$el.html(this.template(this.model.toJSON())),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(186),s=n.n(a);!function(e,t,n,a,i,l){l.add("BrowseStoryItem",l.views.StoryItem.extend({template:s.a,className:"browse-story-item",initialize:function(e){e=e||{},this.showStoryRank=e.showStoryRank||!1},render:function(){var t=this.model.toJSON();return t.rank=this.showStoryRank?this.model.collection.indexOf(this.model)+1:null,t.app={deviceType:a.utils.getDeviceType(),devicePixelRatio:e.devicePixelRatio,matchMedia:e.matchMedia,msMatchMedia:e.msMatchMedia},this.$el.html(this.template(t)),this.model.get("completed")&&this.$el.addClass("completed"),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(7),s=n.n(a),i=n(187),l=n.n(i),r=n(188),o=n.n(r);!function(e,t,n,a){a.add("BrowseStoryPreview",a.views.Base.extend({template:o.a,className:"browse-preview",events:{"tap .on-cover":"onCover","tap .on-start-reading":"onStartReading","tap .on-story-details":"onStoryDetails","click .on-story-details":"stopEvent",keyup:"onKeyUp"},initialize:function(e){e=e||{},this.isHome=e&&e.isHome,this.showTagRankings=e&&e.showTagRankings,t.bindAll(this,"clearLists"),this.listenTo(a,"app:component:TagMetaItem:click",this.navigateToTagPage),this.listenTo(a,"app:component:TagMetaNumNotShown:click",this.onStoryDetails),this.adjustReadButtonCopy(),a.get("device").is.mobile?(Handlebars.registerPartial("core.components.add_to_library_dropdown",(function(){return""})),Handlebars.registerPartial("core.components.add_to_library_modal",l.a)):(Handlebars.registerPartial("core.components.add_to_library_dropdown",s.a),Handlebars.registerPartial("core.components.add_to_library_modal",(function(){return""})))},render:function(){var e=this.model.toJSON();return e.tagMeta={tags:e.tags},e.showTagRankings=e.tagRankings&&e.tagRankings.length&&this.showTagRankings,this.$el.html(this.template(e)),this},adjustReadButtonCopy:function(){var a=this,s=t.get(e,"wattpad.testGroups.PAID_CONTENT")||!1,i=this.model.get("isPaywalled");if(s&&!1!==i){var l=this.model.get("id"),r=this.model.get("parts")||[],o=t.pluck(r,"id");0!==r.length&&e.store.dispatch(e.app.components.actions.fetchPaidContentMetadata(l,o)).then((function(){var t=e.store.getState().paidMetadata,s=n.utils.markBlockedParts(t,r);n.utils.isPaidPreview(s)&&a.$(".on-start-reading").text(n.utils.trans("Free Preview"))}))}},onAddedToLibrary:function(t){this.isHome&&e.te.push("event","modal","story_details","library","add",{page:this.getPage(),story_id:this.model.get("id")});var a=this.$(this.libraryButton+"[data-story-id='"+t+"']");a.addClass("btn-teal").removeClass("btn-orange"),a.children(".fa").removeClass("fa-plus").addClass("fa-check"),a.children(".text").text(n.utils.trans("In Library"))},onRemovedFromLibrary:function(e){var t=this.$(this.libraryButton+"[data-story-id='"+e+"']");t.addClass("btn-orange").removeClass("btn-teal"),t.children(".fa").addClass("fa-plus").removeClass("fa-check"),t.children(".text").text(n.utils.trans("Add to Library"))},onStoryDetails:function(t){this.isHome&&e.te.push("event","modal","story_details","details","click",{page:this.getPage(),story_id:this.model.get("id")}),a.router.navigate(n.utils.formatStoryUrl(this.model.get("url")),{trigger:!0})},onStartReading:function(s){$(document.body).addClass("modal-open"),this.isHome&&e.te.push("event","modal","story_details","read",{page:this.getPage(),story_id:this.model.get("id")});var i=this.model.get("firstPartId"),l=this.model.get("parts");null!==i||t.isEmpty(l)?Promise.resolve($.get("/apiv2/syncreadingposition",{story_id:i})).then((function(e){var s=t.where(l,{id:parseInt(e.part,10)});s[0]?a.router.navigate(n.utils.formatStoryUrl(s[0].url),{trigger:!0}):a.router.navigate("/"+i,{trigger:!0})})):a.router.navigate(n.utils.formatStoryUrl(l[0].url),{trigger:!0})},onAuthPrompt:function(){$("#preview-modal").modal("hide")},onKeyUp:function(e){27===e.which&&$("#preview-modal").modal("hide")},onCover:function(t){this.isHome&&e.te.push("event","modal","story_details","cover","click",{page:this.getPage(),story_id:this.model.get("id")})},getPage:function(){var e=document.baseURI;return void 0===e&&(e=document.URL),e.indexOf("tags/")>-1?"tag page":e.indexOf("home")>-1?"home":"browse page"},onAddToListsReady:function(t,n){a.get("device").is.mobile?this.$(".addToLibraryModal[data-story-id='"+n+"']").modal({show:!0}):(this.clearLists(),t.parent(".button-group").addClass("open"),t.removeClass("on-lists-add-clicked"),t.addClass("on-dismiss-lists"),$(e.document).one("click.bs.dropdown.data-api",this.clearLists))},clearLists:function(n){var a=!1;if(n&&3===n.which)return!1;var s=null;n&&(s=$(n.target));var i=$(".btn-story-lists");return t.each(i,(function(e){var t=$(e);s&&0!==t.parent(".button-group").find(s).length?s&&(a=!0):(t.parent(".button-group").removeClass("open"),t.removeClass("on-dismiss-lists"),t.addClass("on-lists-add-clicked"))})),a&&$(e.document).one("click.bs.dropdown.data-api",this.clearLists),!0},onDismissLists:function(e){var t=$(e.currentTarget).data("story-id"),n=this.$(this.addButton+"[data-story-id='"+t+"']");n.parent(".button-group").removeClass("open"),n.removeClass("on-dismiss-lists"),n.addClass("on-lists-add-clicked")},openModal:t.debounce((function(){this.$(".browse-preview[data-story-id="+this.model.get("id")+"]").modal({show:!0})}),50),navigateToTagPage:function(e){var t=$(e.currentTarget).text().trim();a.router.navigate("/stories/"+encodeURIComponent(t),{trigger:!0})}})),a.mixin(a.views.BrowseStoryPreview,"StoryInListsManagement")}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(189),s=n.n(a);!function(e,t,n,a){a.add("BrowseStories",a.views.IncrementalList.extend({template:s.a,filter:null,className:"stories",containerClass:".collection",itemView:a.views.BrowseStoryItem,events:t.extend({"tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent","tap .on-story-details":"sendEventTracking","tap .on-start-reading":"sendEventTracking"},a.views.IncrementalList.prototype.events),initialize:function(e){var t=this;switch((e=e||{}).filter){case"hot":if(e.category){switch(this.showHotListHeader=!0,this.category=e.category.toJSON(),this.categoryNameForHotListHeader=this.category.name,this.category.id){case 2:this.appendStoriesSuffix=!1;break;case 17:this.categoryNameForHotListHeader=n.utils.trans("Short Stories"),this.appendStoriesSuffix=!1;break;default:this.appendStoriesSuffix=!0}this.collection=new a.collections.BrowseStories([],{category:e.category,filter:"hot",limit:18})}else e.tag&&(this.collection=new a.collections.BrowseTagStories([],{tags:e.tag,filter:"hot",limit:18}));break;case"featured":e.category&&(this.collection=new a.collections.BrowseStories([],{category:e.category,filter:"featured",limit:18}));break;case"new":e.category?this.collection=new a.collections.BrowseStories([],{category:e.category,filter:"new",limit:18}):e.tag&&(this.collection=new a.collections.BrowseTagStories([],{tags:e.tag,filter:"new",limit:18}));break;case"recommended":this.collection=new a.collections.RecommendedStories([],{username:n.utils.currentUser().get("username")});break;case"featured404":this.collection=new a.collections.FeaturedStories([],{})}this.device=a.get("device"),Handlebars.registerPartial("core.item_views.browse_story_item",(function(){return""})),this.collection.once("sync",(function(){t.render()})),this.collection.fetchNextSet()},getTemplateData:function(){return{hasStories:this.collection.length>0,showHotListHeader:this.showHotListHeader||!1,appendStoriesSuffix:this.appendStoriesSuffix||!1,categoryNameForHotListHeader:this.categoryNameForHotListHeader||"",category:this.category||"","user-device":this.device,tags:this.collection.tags,isMobile:this.device.is.mobile}},renderItem:function(e,t,s){a.views.IncrementalList.prototype.renderItem.apply(this,arguments),s=s||this.collection.indexOf(e),t=t||this.$el.children(".collection");var i=n.utils.advertisementAtEveryIndex({hash:{unit:"mobile"===n.utils.getDeviceType()?"leaderboard_mobile":"leaderboard",experience:"browse",parentClass:"ad-wrapper ad-unit"},data:{index:s}});i&&t.append(i)},render:function(){return this.render=function(){return a.views.IncrementalList.prototype.render.apply(this,arguments),this}.bind(this),this},onStoryPreview:function(e){var t=$(e.currentTarget).data("story-id"),n=this.collection.get(t),s=new a.views.BrowseStoryPreview({model:n});this.$("#preview-modal").empty().append(s.render().$el),s.openModal()},sendEventTracking:function(){e.te.push("event","app","story",null,"click",{storyid:this.$("#preview-modal .browse-preview.modal").data("story-id"),page:"category"})},onShowMore:function(e){this.collection.limit=20,a.views.IncrementalList.prototype.onShowMore.apply(this,arguments)}})),a.mixin(a.views.BrowseStories,"InfiniteScroll")}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(190),s=n.n(a);!function(e,t,n,a){a.add("FeaturedStories",a.views.IncrementalList.extend({template:s.a,filter:null,className:"stories",containerClass:".collection",itemView:a.views.FeaturedStoryItem,initialize:function(e){e=e||{},this.collection=new a.collections.FeaturedStories([],{limit:e.limit||3}),Handlebars.registerPartial("core.item_views.featured_story_item",(function(){return""}))},getTemplateData:function(){return{hasStories:this.collection.length>0,"user-device":a.get("device")}},render:function(){var e=this;return Promise.resolve(this.collection.fetchNextSet()).then((function(){a.views.IncrementalList.prototype.render.apply(e,arguments)})),this}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(36),s=n.n(a),i=n(191),l=n.n(i);!function(e,t,n,a,i,r,o){r.add("CommentItem",r.views.Base.extend({template:l.a,className:"comment",events:{"tap  .on-delete":"onDelete","click  .on-delete":"stopEvent","tap  .on-reply":"onReply","click  .on-reply":"stopEvent","tap  .on-mute-reply":"onMute","click  .on-mute-reply":"stopEvent","tap  .on-mute-comment":"onMute","click  .on-mute-comment":"stopEvent","tap  .on-unmute":"onUnmute","click  .on-unmute":"stopEvent"},reportModalContainer:".comment-report-modal",modalTitle:a.utils.trans("Report a Comment"),requestType:"inappropriate_comments",isMainReportModal:!1,conductType:"story_comment_conduct",initialize:function(t){Handlebars.registerPartial("core.item_views.comment_item_options",s.a),this.isDeeplinkedReply=t.isDeeplinkedReply,this.$el.attr("id","comment-"+this.model.get("id")),this.storyAuthor=this.model.get("storyAuthor")||this.model.storyAuthor||"",this.reportModalType="comment",this.reportModalId={name:this.model.get("author").name,location:e.location.href,body:i.sanitizeHTML(this.model.get("body")),deepLink:this.model.get("deeplink")},this.onRemoveMutedComment=this.onRemoveMutedComment.bind(this),this.listenTo(r,"app:comment:mute",this.onRemoveMutedComment),this.listenTo(this.model,"change",this.render)},render:function(){var t=this.model.toJSON();if(t.body=i.sanitizeHTML(t.body),a.utils.currentUser().authenticated()){var n=a.utils.currentUser().get("ambassador")||a.utils.currentUser().get("isSysAdmin"),s=!!t.storyAuthor&&t.storyAuthor===a.utils.currentUser().get("username"),l=t.author.name===a.utils.currentUser().get("username");t.canDelete=n||s||l}return t.isCommentNotification=!1,t.showMuteOption=a.testGroups.MUTE_COMMENT_MENU&&a.utils.currentUser().get("username")&&t.author.name!==a.utils.currentUser().get("username"),t.canMute=e.store&&e.store.getState().profileData&&e.store.getState().profileData.mutedUsers&&!e.store.getState().profileData.mutedUsers.some((function(e){return e.username==t.author.name})),t.commentItemOptionsAuthor=t.author.name,t.isStoryWriter=this.storyAuthor===t.commentItemOptionsAuthor||!1,this.$el.html(this.template(t)),this},onDelete:function(t){t.stopPropagation();var n=this.model.get("paragraphId");e.confirm(a.utils.trans("Are you sure you want to delete this comment?"))&&(n?this.model.destroyAndUpdateMarker():this.model.destroy())},reportMoreInfo:function(){var t=this;return[{key:"Comment Author",val:this.model.get("author").name},{key:"Comment Location",val:e.location.href},{key:"Comment Body",val:function(){return i.sanitizeHTML(t.model.get("body"))}},{key:"Comment DeepLink",val:this.model.get("deeplink")}]},onReply:function(t){var s,l,o=this.$(t.currentTarget);if(t.stopPropagation(),!i.currentUser().authenticated()){var c;(c=n("#inline-comments-modal .inline-comments-modal"))&&c.modal("hide");var u=new r.views.SignUpPrompt({model:new r.models.Authsignup,title:a.utils.trans("Join Wattpad"),subtitle:a.utils.trans("Be part of a global community of readers and writers, all connected through the power of story."),nextUrl:e.location.href});return n("#generic-modal .modal-content").addClass("auth-modal"),n("#generic-modal .modal-body").html(u.render().$el),void n("#generic-modal").modal("show")}if(!i.currentUser().get("verified_email"))return(c=n("#inline-comments-modal .inline-comments-modal"))&&c.modal("hide"),void i.showPleaseVerifyModal();if(!this.model.get("isReply")){if(s=o.data("target"),(l=this.$(s)).hasClass("collapsing"))return;if(l.hasClass("collapse")&&l.hasClass("in"))l.collapse("hide"),o.blur();else{o.attr("disabled",!0);var d=this.model.replies(),h=new r.views.Comments({collection:d,chronological:!0,enablePosts:a.utils.currentUser().authenticated(),placeholder:a.utils.trans("Reply to this conversation"),commentIdToHighlight:this.model.commentIdToHighlight,model:this.model});this.listenToOnce(h,"render:done",(function(){l.collapse("show"),0===d.length&&l.find("textarea").focus(),l.one("hidden.bs.collapse",(function(){h.remove(),d.reset(),r.local.clear(d.resource())})),this.listenTo(d,"add:new",(function(){this.updateReplyCount(1)})),this.listenTo(d,"remove",(function(){this.updateReplyCount(-1)})),o.attr("disabled",!1)})),l.append(h.render().$el)}}},updateReplyCount:function(e){var t=this.$el.children(".component-wrapper").children("footer").children(".on-reply"),n=t.text().trim(),s=new RegExp(/([0-9]*)([M|K]?)(\s)?(Reply|Replies)/g).exec(n);if(!s[2]){var l=0;s[1].trim().length>0&&(l=parseInt(s[1],10));var r=l+e===0?a.utils.trans("Reply"):a.utils.sprintf(a.utils.ngettext("%s Reply","%s Replies",l+e),[a.utils.count(l+e)]);i.cacheBust(["StoryPartComments"],[{partId:this.model.collection.partId}],this.model.get("id")),t.html(r)}},expand:function(){this.$el.children(".component-wrapper").children("footer").children(".on-reply").trigger("tap")},onMuteHelper:function(e,t){var a=new r.views.MuteModal({modalType:e,username:t}),s=n("#inline-comments-modal .inline-comments-modal");s&&s.modal("hide"),n("#generic-modal .modal-body").html(a.render().$el),n("#generic-modal .modal-content").addClass("mute-modal-wrapper"),n("#generic-modal").modal({}),this.listenTo(a,"".concat(e,":done"),this.render)},onMute:function(e){var t=this.$(e.currentTarget).attr("data-username");this.onMuteHelper("mute",t)},onUnmute:function(e){var t=this.$(e.currentTarget).attr("data-username");this.onMuteHelper("unmute",t)},hideComment:function(){this.$el.css({opacity:0,transition:"opacity 0.5s"}).slideUp(800)},onRemoveMutedComment:function(e){var t=this.model.get("numReplies"),n=this.model.get("author").name,s=a.utils.currentUser().get("username"),i=this.model.get("body");if(e)if(n===s&&i.includes("@".concat(e.username)))this.hideComment();else{if(e.username!==n&&0==t)return;e.username===n?this.hideComment():this.model.fetch()}}})),r.mixin(r.views.CommentItem,"InputCounterManagement","ReportManagement","ReportConduct")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(192),s=n.n(a),i=n(193),l=n.n(i);!function(e,t,n,a){a.add("Comments",a.views.IncrementalList.extend({template:null,className:"comments",itemView:a.views.CommentItem,events:t.extend(a.views.IncrementalList.prototype.events,{"tap .on-add-mention":"onAddMention","click .on-add-mention":"stopEvent","tap .on-return-all-comments":"onReturnToAllComments","click .on-return-all-comments":"stopEvent"}),initialize:function(e){e=e||{},this.chronological=e.chronological||!1,this.commentIdToHighlight=e.commentIdToHighlight,this.enablePosts=e.enablePosts||!1,this.chronological?this.template=l.a:this.template=s.a,this.resetDirection(),this.enablePosts&&(this.newReplyView=new a.views.CommentNew({collection:this.collection,placeholder:e.placeholder||n.utils.trans("Leave a comment"),source:e.source}))},getTemplateData:function(){return{hasComments:this.collection.length>0||this.enablePosts,device:a.get("device"),isDeepLinkView:this.collection.length>0&&this.collection.first().isDeepLink}},render:function(){var t=this;return Promise.resolve(this.collection.fetchNextSet()).then((function(){if(t.renderView(),t.options.source&&t.collection.length>=2){var a=t.options.source.attributes.isMicroPart||t.options.source.attributes.pages<2,s=t.options.source.attributes.anonymousUser||null===n.user,i=a&&t.options.source.attributes.length>1500?"longer-micro-part":"",l=s?a?"readingshort_comments_loggedout":"readinglong_comments_loggedout":a?"readingshort_comments":"readinglong_comments";$(".comments.right-rail .reading-widget").html(n.utils.advertisement({data:{root:t.options.source.toJSON()},hash:{unit:l,experience:"reading",lazy:!0,storyGroup:t.options.source.toJSON().group,additionalClasses:i}})),e.dispatchEvent(new CustomEvent("ad-available",{bubbles:!0}))}})).catch((function(){t.renderView()})),this},renderView:function(){return a.views.IncrementalList.prototype.render.apply(this,arguments),this.enablePosts&&this.$(".post-comment").empty().append(this.newReplyView.render().$el),this.trigger("render:done"),this},renderItem:function(e,t){var n=this.collection.indexOf(e);if(0===n&&(this.direction=this.chronological?this.directions.down:this.directions.up),a.views.IncrementalList.prototype.renderItem.apply(this,arguments),this.resetDirection(),e.get("id")===this.commentIdToHighlight&&this.model.isDeepLink){var s=this.$el.find("#comment-"+this.commentIdToHighlight);s&&s.addClass("highlight")}},resetDirection:function(){this.direction=this.chronological?this.directions.up:this.directions.down},onAddMention:function(e){n.utils.stopEvent(e);var t=this.$(e.currentTarget).data("id"),a=this.collection.get(t).get("author").name;this.newReplyView&&this.newReplyView.addMention(a)},onReturnToAllComments:function(){this.collection.reset(),this.$(".single-comment-warning").remove(),this.collection.fetchNextSet()}}))}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(194),s=n.n(a),i=n(195),l=n.n(i);!function(e,t,n,a,i,r){r.add("InlineCommentsModal",r.views.IncrementalList.extend({className:"inline-comments-modal modal fade",template:l.a,events:t.extend(r.views.IncrementalList.prototype.events,{"tap .on-return-all-comments":"onReturnToAllComments","click .on-return-all-comments":"stopEvent"}),itemView:r.views.CommentItem,containerId:"#inline-comments",initialize:function(e){e=e||{},this.partRating=e.source.get("rating")||null,this.chronological=!1,this.commentIdToHighlight=e.commentIdToHighlight,this.isDeepLinkedComment=t.get(e.collection.models,"[0].isDeepLink"),Handlebars.registerPartial("core.mixins.show_more",s.a)},showModal:function(){this.$el.modal("show")},onReturnToAllComments:function(){this.collection.reset(),this.$(".single-comment-warning").remove(),this.collection.fetchNextSet()},getTemplateData:function(){return{paragraphText:this.options.collection.paragraphText,storyGroup:this.options.source.get("group"),storyPart:this.options.source.toJSON(),isDeepLinkView:this.isDeepLinkedComment}},render:function(){var e=this;return r.views.IncrementalList.prototype.render.apply(this,arguments),this.isDeepLinkedComment||t.defer((function(){var t=new r.views.CommentNew({collection:e.collection,placeholder:a.utils.trans("Leave a comment"),source:e.source});e.$(".post-comment").empty().append(t.render().$el)})),this},renderItem:function(e,t){var n=this.collection.indexOf(e);if(0===n&&(this.direction=this.chronological?this.directions.down:this.directions.up),r.views.IncrementalList.prototype.renderItem.apply(this,arguments),this.resetDirection(),e.get("id")===this.commentIdToHighlight&&this.model.isDeepLink){var a=this.$el.find("#comment-"+this.commentIdToHighlight);a&&a.addClass("highlight")}},resetDirection:function(){this.direction=this.chronological?this.directions.up:this.directions.down}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(196),s=n.n(a);!function(e,t,n,a,i){a.add("StoryParts",a.views.Base.extend({template:s.a,className:"story-parts",events:{"tap .on-navigate-part":"onNavigatePart","click .on-navigate-part":"stopEvent"},initialize:function(e){this.listenTo(this.model,"reading-position-available",this.onPositionAvailable)},onPositionAvailable:function(e){if(e&&e.part!==this.model.get("firstPartId")||e.position>0){var t=this.$el.find("li[data-part-id='"+e.part+"']"),a=$(t).children("a"),s=n.utils.trans("%s%% Read",(100*e.position).toFixed(2));t.addClass("active"),a.children().remove(),a.append('<small class="pull-right">'+s+"</small>")}},render:function(){var a={};if(a.story=this.model.toJSON(),a.story.parts=this.model.get("parts"),(t.get(e,"wattpad.testGroups.PAID_CONTENT")||!1)&&a.story.isPaywalled){var s=e.store.getState().paidMetadata;a.story.parts=i.markBlockedParts(s,a.story.parts)}return a.story.numParts=this.model.get("numParts"),this.$el.html(this.template(a)),n.utils.currentUser().authenticated()&&this.model.syncPosition(),this},onNavigatePart:function(e){this.onNavigate(e)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t,n){"use strict";n.r(t);var a=n(197),s=n.n(a);!function(e,t,n,a,i){a.add("StoryAdmin",i.View.extend({className:"dropdown-menu story-admin-dropdown",template:s.a,events:{"tap    .on-options-hot-list-review":"onHotListReview","click  .on-options-hot-list-review":"stopEvent","tap    .on-options-edit-details":"onOptionsEditDetails","click  .on-options-edit-details":"stopEvent","tap    .on-options-edit-part":"onOptionsEditPart","click  .on-options-edit-part":"stopEvent","tap    .on-cover-remove":"onCoverRemove","click  .on-cover-remove":"stopEvent","change #story-language-select":"onLanguageChanged","change #story-category-select":"onCategoryChanged"},initialize:function(e){if(e=e||{},this.reported=!1,!(e.author&&e.author instanceof a.models.User))throw new Error("StoryAdmin View : `options.author` must be defined (`UserModel` reference)");if(this.author=e.author,!(e.story&&e.story instanceof a.models.StoryModel))throw new Error("StoryAdmin View : `options.story` must be defined (`StoryModel` reference)");if(this.story=e.story,e.part&&!(e.part instanceof a.models.StoryPartModel))throw new Error("StoryAdmin View : `options.part` should be a `StoryPartModel` reference");this.part=e.part||null,this.langs=this.getLangs()},render:function(){var n={isAdmin:t.utils.currentUser().get("isSysAdmin"),isStaff:t.utils.currentUser().get("is_staff"),author:this.author.toJSON(),story:this.story.toJSON(),part:this.part?this.part.toJSON():null,languages:this.langs,reportLink:"/help/content?message="+t.utils.urlEncode("I am reporting the following content:\n")+"&story_link="+t.utils.urlEncode(e.location.href),translateLink:"https://translate.google.com/translate?u="+t.utils.urlEncode(e.location.href)+"&tl=en&hl=en&ie=UTF-8",categories:a.get("categories").toJSON()};return this.$el.html(this.template(n)),this.connectMixin(),this},getLangs:function(){var e=[];return _.each(t.supportedLangs,(function(t){e.push({id:t.id,name:1!==t.id&&11!==t.id?t.name+" ("+t.nameEnglish+")":t.name})})),e.push({id:11,name:"Other"}),e},onHotListReview:function(t){var n=this.part?this.part.get("id"):this.story.get("firstPartId"),a=this;!1===this.reported&&e.confirm("Are you sure?")&&$.post("/api/v3/story_parts/"+n+"/report").done((function(e){a.successFeedback(".options-row"),a.reported=!0})).fail((function(e){a.failureFeedback(".options-row",a.getErrorMessage(e))}))},onOptionsEditDetails:function(e){n.stopEvent(e),a.router.navigate("/myworks/"+this.story.get("id"),{trigger:!0})},onOptionsEditPart:function(e){n.stopEvent(e),a.router.navigate("/mystories?compose=true&id="+this.part.get("id"),{trigger:!0})},onLanguageChanged:function(t){var n=this.$("#story-language-select").val(),a=this.story.get("language"),s="Set the language to "+_.find(this.langs,(function(e){return e.id==n})).name+"?",i=this;n!==a&&e.confirm(s)?(this.story.set("language",n),this.saveStory().done((function(e){i.successFeedback(".language-row")})).fail((function(e){i.failureFeedback(".language-row",i.getErrorMessage(e)),i.story.set("language",a),i.$("#story-language-select").val(a)}))):this.$("#story-language-select").val(a)},onCategoryChanged:function(t){var n=this.$("#story-category-select").val(),s=this.story.get("categories"),i="Set the category to "+a.get("categories").get(n).get("name")+"?",l=this;n!==s[0]&&e.confirm(i)?(this.story.set("categories",[parseInt(n),s[1]]),this.saveStory().done((function(e){l.successFeedback(".category-row")})).fail((function(e){l.failureFeedback(".category-row",l.getErrorMessage(e)),l.story.set("categories",s),l.$("#story-category-select").val(s[0])}))):this.$("#story-category-select").val(s[0])},onCoverRemove:function(){var t=this,n=e.prompt("Why is this cover being removed? Options: 'copyright', 'banned content', 'self harm'");if(n){var a={id:this.story.get("id"),ownerid:this.author.id,req_type:"upload",cover:"",coverDeleteReason:n};$.post("/apiv2/uploadstorygroup",a).done((function(n){t.successFeedback(".cover-row"),e.location.reload()})).fail((function(e){t.failureFeedback(".cover-row",t.getErrorMessage(e))}))}else e.alert("Banning was cancelled.")},onFileSelected:function(){var e=this;e.getFile().then((function(t){t&&Promise.resolve($.ajax({type:"POST",url:"/apiv2/updatestorycover",data:{id:e.story.get("id"),image:t.parsed}})).then((function(){e.successFeedback(".cover-row")})).catch((function(){e.failureFeedback(".cover-row")}))}))},saveStory:function(){var e=this.story.get("categories");return $.post("/api/v3/story_parts/"+this.story.get("firstPartId")+"/moderate",{language:this.story.get("language"),category1:e[0],category2:e[1]?e[1]:0})},getErrorMessage:function(e){return e&&e.responseJSON?e.responseJSON.message:"Error saving changes. Please try again."},successFeedback:function(n){var a=this,s=n+" > .response-status";a.clearFeedback(),this.$(s).html(t.utils.iconify("fa-check",24,"wp-success")),e.setTimeout((function(){a.clearFeedback()}),3e3)},failureFeedback:function(n,a){var s=this,i=n+" > .response-status";s.clearFeedback(),this.$(i).html(t.utils.iconify("fa-warning",24,"wp-error-1")),this.$(".error-row > .alert").html(a),this.$(".error-row").removeClass("hidden"),e.setTimeout((function(){s.clearFeedback()}),3e3)},clearFeedback:function(){this.$(".error-row").addClass("hidden"),this.$(".response-status").empty()},stopEvent:function(e){t.utils.stopEvent(e)}})),a.mixin(a.views.StoryAdmin,"FileUpload")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(6),s=n.n(a),i=n(7),l=n.n(i),r=n(3),o=n.n(r),c=n(198),u=n.n(c);!function(e,t,n,a,i){a.add("StoryLanding",a.views.RegionManager.extend({template:u.a,partials:{"core.story_landing.story_details":function(){return""},"core.story_landing.story_parts":function(){return""},"core.collection_views.stories_similar":function(){return""},"core.signup_prompt":function(){return""},"desktop.components.item_views.user_item":function(){return""},"desktop.components.modal.share_embed":o.a,"core.components.add_to_library_dropdown":l.a},events:{"tap   .on-tab-nav":"onSectionNavigate","click .on-tab-nav":"stopEvent","tap .on-story-navigate":"onStoryNavigate","click .on-story-navigate":"stopEvent","tap    .on-dismiss-lists":"onDismissLists","click  .on-dismiss-lists":"stopEvent","tap .share-embed":"onShareEmbed","click .share-embed":"stopEvent","tap .on-sponsor-navigate":"onSponsorNavigate","click .on-sponsor-navigate":"stopEvent","tap .send-author-event":"sendAuthorClickTrackingEvent","click .send-author-event":"stopEvent","tap .send-story-cover-event":"sendSimilarStoryCoverTrackingEvent","click .send-story-cover-event":"stopEvent"},regionTags:{details:"#story-details",content:"#tab-content",similar:".similar-stories",promoted:".promoted-stories",signup:"#authentication-panel"},id:"story-landing",subviews:{details:{view:a.views.StoryDetails},similar:{view:a.views.StoriesSimilar},signup:{view:a.views.SignUpPrompt},promoted:{view:a.views.PromotedStoryItem},parts:{view:a.views.StoryParts}},initialize:function(t){var n=e.matchMedia||e.msMatchMedia;t=t||{};this.section=t.section||"parts",_.bindAll(this,"clearLists"),_.each(this.partials,(function(e,t,n){Handlebars.registerPartial(t,e)})),this.model.set("categories",[_.find(this.model.get("categories"),(function(e){return e>0}))]),this.model.set("categoryLabels",_.reduce(this.model.get("categories"),(function(e,t){var n=a.get("categories").get(t);return n&&e.push({name:n.get("name"),name_english:n.get("name_english")}),e}),[])),n&&(_.bindAll(this,"onWidthChange"),n("( min-width: 992px )").addListener(this.onWidthChange)),this.listenTo(this.model,"reading-position-available",this.onPositionAvailable),this.listenTo(a,"app:component:TagGridItem:click",this.navigateToTagPage)},onPositionAvailable:function(e){if(e&&e.part!==this.model.get("firstPartId")||e.position>0){var n=_.find(this.model.get("parts"),(function(t){return t.id===e.part}));n&&this.$(".story-controls > .on-story-navigate").text(t.utils.trans("Continue")).attr("href",t.utils.formatStoryUrl(n.url))}},navigateToTagPage:function(t){var n=$(t.currentTarget).text().trim();e.te.push("event","story_details","tag",null,"click",{storyid:this.model.get("id"),tags:n}),a.router.navigate("/stories/"+encodeURIComponent(n),{trigger:!0})},setElement:function(e){i.View.prototype.setElement.apply(this,arguments),_.each(this.regionTags,(function(e){this.regions[e]&&this.regions[e].view&&this.$(e).length>0&&this.regions[e].view.setElement($(this.$(e+" > div")))}),this)},writerPreviewHasBannedCover:function(){return t.utils.currentUser()&&this.model.get("hasBannedCover")&&this.model.get("user").username===t.utils.currentUser().get("username")},render:function(){var s={},i=this,l=a.get("device");this.descCharLimit=l.is.desktop?170:130,s.story=this.model.toJSON(),s.story.firstPart=_.find(s.story.parts,(function(e){return e.id===s.story.firstPartId})),s.tagGridTags={tags:[]},_.each(this.model.get("tags"),(function(e){s.tagGridTags.tags.push({id:e,name:e})})),s.story.promoted&&(s.story.sponsorName=s.story.sponsorName||s.story.user.username);var r=this.buildSocialShareLinksForStory(this.model);if(s.socialShareHidden=r.splice(3,3),s.socialShareVisible=r,s.active={},s.active[this.section]=!0,s.isLogged=t.utils.currentUser().authenticated(),s.descCharLimit=this.descCharLimit,s.showAdminPanel=t.utils.currentUser().get("isSysAdmin")||t.utils.currentUser().get("ambassador"),s.isAdmin=t.utils.currentUser().get("isSysAdmin"),s.writerPreviewHasBannedCover=this.writerPreviewHasBannedCover(),t.utils.setCookie("signupFrom","story_landing",0,e.location.hostname.replace("www","")),(_.get(e,"wattpad.testGroups.PAID_CONTENT")||!1)&&s.story.isPaywalled){var o=e.store.getState().paidMetadata;s.story.parts=n.markBlockedParts(o,s.story.parts),s.story.isPaidPreview=n.isPaidPreview(s.story.parts)}return this.$el.html(this.template(s)),this.setMain(),this.setSection(this.section),t.utils.currentUser().authenticated()&&"parts"!==this.section&&this.model.syncPosition(),_.defer((function(){i.$(".author-info").children("small").tooltip(),i.$(".meta").children("span").tooltip(),i.$(".story-details [data-toggle=tooltip]").tooltip(),i.initAdminPanel(i.model,"#admin-panel")})),this},setMain:function(){this.$(this.regionTags.details).empty();var e=new this.subviews.details.view({model:this.model});if(this.setRegion(this.regionTags.details,e.render()),!this.model.get("deleted")){this.$(this.regionTags.promoted).empty(),this.promotedStoryView=new this.subviews.promoted.view({storyId:this.model.get("id"),baseStoryCategory:this.model.get("categories")[0],zoneIds:[170406],template:s.a,fromPage:"storyLanding",descCharLimit:this.descCharLimit,promotedEl:".promoted-story-panel"});var n=this;_.defer((function(){n.setRegion(n.regionTags.promoted,n.promotedStoryView.render())})),this.$(this.regionTags.similar).empty(),e=new this.subviews.similar.view({filter:"similar",storyId:this.model.get("id"),limit:10,showDescription:!0}),this.setRegion(this.regionTags.similar,e.render())}if(this.$(this.regionTags.signup).empty(),!t.utils.currentUser().authenticated()){var i=this.model.get("firstPartId"),l=_.find(this.model.get("parts"),(function(e){return e.id===i}));e=new this.subviews.signup.view({model:new a.models.Authsignup,subtitle:t.utils.trans("Get notified when %s is updated","<strong>"+t.utils.sanitizeHTML(this.model.get("title"))+"</strong>"),nextUrlFirstPart:l&&l.url||null,libraryStoryId:this.model.get("id")}),this.setRegion(this.regionTags.signup,e.render())}},setSection:function(t){var n,s,i=this.$("#story-tabs");if(i.find("nav li").removeClass("active"),i.find("nav li[data-section="+t+"]").addClass("active"),this.section!==t&&(this.clearRegion(this.regionTags.content),s=e.location.pathname,s="parts"===t?s+"/parts":s.replace("/parts",""),a.router.navigate(s,{trigger:!1,replace:!0})),this.section!==t||!this.regions[this.regionTags.content]){switch(t){case"parts":n=new this.subviews.parts.view({model:this.model});break;case"details":n=new this.subviews.details.view({model:this.model})}this.setRegion(this.regionTags.content,n.render()),this.section=t}},onSectionNavigate:function(e){var t=$(e.currentTarget).parent().data("section");this.setSection(t)},onStoryNavigate:function(t){e.te.push("event","story_details","story",null,"read",{storyid:this.model.get("id")}),this.onNavigate(t)},onWidthChange:function(e){e.matches&&"details"===this.section&&this.setSection("parts")},onSponsorNavigate:function(e){var t=$(e.target).data("clickUrl");$.ajax({type:"GET",url:t}),this.onNavigate(e)},buildSocialShareLinksForStory:function(e){return[{name:"embed",icon:"fa-code",nopopup:!0,label:t.utils.trans("Embed Story"),href:t.utils.sprintf("https://embed.wattpad.com/story/%s",[e.get("id")])}]},onAddToListsReady:function(t,n){this.clearLists(),t.parents(".button-group").addClass("open"),t.removeClass("on-lists-add-clicked"),t.addClass("on-dismiss-lists"),$(e.document).one("click.bs.dropdown.data-api",this.clearLists)},clearLists:function(t){var n=!1;if(t&&3===t.which)return!1;var a=null;t&&(a=$(t.target));var s=$(".btn-story-lists");return _.each(s,(function(e){var t=$(e);a&&0!==t.parents(".button-group").find(a).length?a&&(n=!0):(t.parents(".button-group").removeClass("open"),t.removeClass("on-dismiss-lists"),t.addClass("on-lists-add-clicked"))})),n&&$(e.document).one("click.bs.dropdown.data-api",this.clearLists),!0},onDismissLists:function(e){var t=$(e.currentTarget);t.parents(".button-group").removeClass("open"),t.removeClass("on-dismiss-lists"),t.addClass("on-lists-add-clicked")},onShareEmbed:function(e){var t=$("#generic-modal"),a=this;n.stopEvent(e),t.find(".modal-dialog").addClass("embed").find(".modal-body").html(this.partials["desktop.components.modal.share_embed"]({id:this.model.get("id"),close:!0}));var s=t.find(".on-select").on("tap",this.onSelectEmbedUrl),i=t.find("iframe");i.attr("src",i.data("href"));t.modal("show").on("hide.bs.modal",(function e(){s.off("tap",a.onSelectEmbedUrl),t.off("hide.bs.modal",e)}))},onSelectEmbedUrl:function(){var t=e.document.createRange();t.selectNode(e.document.getElementById("embed-url")),e.getSelection().addRange(t)},onSocialShareSelected:function(t){e.te.push("event","story_details","story",null,"share",{storyid:this.model.get("id"),channel:$(t.currentTarget).data("share-channel")})},sendAuthorClickTrackingEvent:function(){e.te.push("event","story_details","author","","click",{storyid:this.model.get("id"),username:this.model.get("user").username})},sendSimilarStoryCoverTrackingEvent:function(t){e.te.push("event","story_details","similar_stories","cover","click",{storyid:$(t.currentTarget).data("story-id"),current_storyid:this.model.get("id")})}})),a.mixin(a.views.StoryLanding,"StoryInListsManagement","SocialSharing","StoryAdminManager")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(199),s=n.n(a);!function(e,t,n,a,i){i.add("StoryRanking",i.views.Base.extend({id:"story-ranking",template:s.a,events:{"tap .on-rank-navigate":"onRankNavigate","click .on-rank-navigate":"stopEvent"},className:function(){var e="container";return i.get("device").is.mobile&&(e+=" mobile"),e},initialize:function(){var e=this.model.get("tagRankings").map((function(e){return e.name+"|"+e.rank})).join("|");window.te.push("event","tag_ranking",null,null,"view",{storyid:this.model.get("id"),tags:e})},render:function(){var t=e.cloneDeep(this.model.get("tagRankings")),a=t[0];t.shift();var s=t,l={storyTitle:this.model.get("title"),storyUrl:this.model.get("url"),topRank:a,otherRankings:s,isDesktop:i.get("device").isDesktop(),testGroups:n.testGroups};return this.$el.html(this.template(l)),this},onRankNavigate:function(e){var n=t(e.currentTarget);window.te.push("event","tag_ranking","ranking",null,"click",{storyid:this.model.get("id"),tag:n.data("name"),rank:n.data("rank")}),this.onNavigate(e)}}))}(_,jQuery,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(200),s=n.n(a);!function(e,t,n,a,i){a.add("BaseStoryReadingFunbar",a.views.Base.extend({template:s.a,id:"funbar",className:"clearfix",initialize:function(){this.listenTo(a,"app:story:vote",this.onUpdateVote)},render:function(){return this},onUpdateVote:function(e){e&&e.storyId===this.model.get("id")&&(e.voted?this.voteSelected():this.voteDeselected())},voteSelected:function(){var e=t.utils.iconify("fa-vote",16,"wp-base-1"),n=t.utils.trans("Voted");this.$("#funbar-controls .on-vote .fa-vote").replaceWith(e),this.$("#funbar-controls .on-vote .story-vote").text(n)},voteDeselected:function(){var e=t.utils.iconify("fa-vote",16,"wp-neutral-3"),n=t.utils.trans("Vote");this.$("#funbar-controls .on-vote .fa-vote").replaceWith(e),this.$("#funbar-controls .on-vote .story-vote").text(n)}})),a.mixin(a.views.BaseStoryReadingFunbar,"VoteManagement")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(32),s=n.n(a),i=n(201),l=n.n(i);!function(e,t,n,a,i){a.add("PostToProfileModal",a.views.Base.extend({template:l.a,className:"post-to-profile-modal",initialize:function(e){Handlebars.registerPartial("core.shared.beautify_url",s.a),this.groupUrl=n.siteRoot+"/story/"+this.model.toJSON().group.id,this.newMessageView=new a.views.NewMessageNew({to:e.target,placeholder:n.utils.trans("Write a message..."),canBroadcast:!0,autoMention:e.target,additionalText:"\n\n"+this.groupUrl}),this.listenTo(this.newMessageView,"message:new",this.onSuccess)},render:function(){var e=t.extend(this.model.toJSON().group,{username:this.options.target,isMobile:a.get("device").is.mobile,url:this.groupUrl});return this.$el.html(this.template(e)),this.$(".post-comment").empty().append(this.newMessageView.render().$el),this},onSuccess:function(){this.$(".post-comment").remove(),this.$(".success-message").removeClass("hidden"),n.utils.pushEvent({category:"reading",action:"share:post-to-profile",label:this.model.get("id")})}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t,n){"use strict";n.r(t);var a=n(202),s=n.n(a);!function(e,t,n,a,i){a.add("BottomBanner",i.View.extend({template:s.a,className:"bottom-banner-container",events:{"tap .bottom-login":"onAuthModal","click .bottom-login":"stopEvent","tap .bottom-signup":"onAuthModal","click .bottom-signup":"stopEvent","tap .dismiss":"onDismiss","click .dismiss":"stopEvent","tap .on-add-story":"onAddToLibrary","click .on-add-story":"stopEvent"},initialize:function(n){n=n||{},this.image=n.image,this.title=n.bannerTitle,this.showBottomBanner=n.showBottomBanner,this.dismissibleBanner=!t.utils.getCookie("dB"),this.fatBanner=n.fatBanner,this.listenTo(a,"app:story:vote",this.onUpdateVote),this.view=n.view||{},this.openAuthModalOnLoad="#signin-popup"===e.location.hash},render:function(){var t={};a.get("device").is.tablet;return t.showBottomBanner=this.showBottomBanner,t.bottomBannerImage=this.image,t.bottomBannerTitle=this.bannerTitle,t.dismissibleBanner=this.dismissibleBanner,t.fatBanner=this.fatBanner,t.isiOS=a.get("device").is.ios,t.isAndroid=a.get("device").is.android,"/presents"===e.location.pathname&&(t.showBottomBanner=!1),this.$el.html(this.template(t)),this.deepLink,_.defer(this.afterRender.bind(this)),this},afterRender:function(){this.openAuthModalOnLoad&&this.onAuthModal(),self.$(".open-app a").attr("href",this.deepLink),self.$(".dismissible a").attr("href",this.deepLink),self.$(".dismissible").addClass("show"),self.$(".nondismissible").addClass("show"),self.$(".bottom-banner a").attr("href",this.deepLink),self.dismissibleBanner&&self.$(".branding").addClass("hidden")},onAuthModal:function(e){var n=void 0!==e?e.currentTarget.getAttribute("data-form"):"login",s=("signup"===n?t.utils.trans("Join Wattpad"):t.utils.trans("Log in to Wattpad"),new a.views.SignUpPrompt({model:new a.models.Authsignup,formType:"navbar_modal",form:n,skipOnboarding:!0}));"login"===n?$("#generic-modal .modal-dialog").addClass("login-modal-wrapper"):"signup"===n&&$("#generic-modal .modal-dialog").addClass("signup-modal-wrapper"),$("#generic-modal .modal-content").addClass("auth-modal"),$("#generic-modal .modal-body").html(s.render().$el),$("#generic-modal").modal("show")},onAddToLibrary:function(e){t.utils.currentUser().authenticated()||this.onAuthModal(e)},onDismiss:function(e){n.stopEvent(e),this.$(".dismissible").slideUp("50"),this.$(".dismissible").removeClass("show"),this.$(".branding").removeClass("hidden"),t.utils.setCookie("dB",1,0)},setDeepLink:function(e,t){this.deepLink="https://read.w.tt/f4RR/eadd1193",this.deepLinkPage=t,this.render()},onUpdateVote:function(e){e&&e.storyId===this.model.get("id")&&(e.voted?this.voteSelected():this.voteDeselected())},voteSelected:function(){var e=t.utils.iconify("fa-vote",16,"wp-base-1"),n=t.utils.trans("Voted");this.$("#funbar-controls .on-vote .fa-vote").replaceWith(e),this.$("#funbar-controls .on-vote .story-vote").text(n)},voteDeselected:function(){var e=t.utils.iconify("fa-vote",16,"wp-neutral-3"),n=t.utils.trans("Vote");this.$("#funbar-controls .on-vote .fa-vote").replaceWith(e),this.$("#funbar-controls .on-vote .story-vote").text(n)},getSharingItems:function(e){var t;e.group.category&&(t=a.get("categories").get(e.group.category).get("name"));var n={group:{id:e.group.id,title:e.group.title,cover:e.group.cover,category:t,description:e.group.description,tags:_.map(e.group.tags,(function(e){return{name:e}})).concat([{name:t}]),completed:e.group.completed},part:{id:e.id,title:e.title,url:e.url},user:{twitter:e.group.user.twitter}};return this.buildSocialShareLinksForPart(n)}})),a.mixin(a.views.BottomBanner,"VoteManagement","LibraryManagement","SocialSharing")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(39),s=n.n(a);!function(e,t,n,a,i){a.add("PictureViewer",a.views.Base.extend({events:{"tap .on-report-image":"onReportImage","tap .on-dismiss":"onDismiss","click .on-dismiss":"stopEvent","click .on-report-image":"stopEvent","tap .vertical-align-helper":"onTapPicture","click .vertical-align-helper":"stopEvent"},template:s.a,id:"picture-viewer",initialize:function(t){var a;if(t=t||{},this.contents="",this.mediaLink="",this.reportLink="#",t.contents&&(this.contents=t.contents,this.mediaLink=$(this.contents).attr("src"),a=$(t.contents).attr("src")),t.paragraph&&(this.reportLink=n.sprintf("http://www.wattpad.com/help/content/1?story_link=%s&media_link=%s",[e.encodeURIComponent(e.location.href),this.mediaLink])),this.mediaShare=t.mediaShare||[],this.mediaShare[1]){var s=this.mediaShare[1].href;s=this.preparePinterestUrl(a,s),this.mediaShare[1].href=s}this.model=t.partModel||{}},render:function(){var e=a.get("device").isTouchDevice();return this.$el.html(this.template({contents:this.contents,reportLink:this.reportLink,mediaShare:this.mediaShare,isTouchDevice:e})),this},onReportImage:function(e){return n.openPopup($(e.currentTarget).attr("href"),n.trans("Report Story"),700,400)},onDismiss:function(){$("#picture-viewer").one("hidden.bs.modal",(function(){$(".modal-backdrop").removeClass("black")})),$("#picture-viewer").modal("hide")},onSharePinterest:function(t){var n=$(t.currentTarget).attr("href");e.open(n)},onTapPicture:function(e){n.stopEvent(e),a.get("device").isTouchDevice()&&$(".icon-wrapper").toggleClass("hidden")}})),a.mixin(a.views.PictureViewer,"MediaSharing")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(203),s=n.n(a);!function(e,t,n,a,i){a.add("StoryReadingFunbar",a.views.BaseStoryReadingFunbar.extend({isDesktop:!0,events:{"mouseenter #funbar-reading-progress":"openProgressTooltip","mouseleave #funbar-reading-progress":"closeProgressTooltip","tap .on-publish":"onPublish","click .on-publish":"stopEvent"},initialize:function(){Handlebars.registerPartial("desktop.story_reading.table_of_contents",s.a),a.views.BaseStoryReadingFunbar.prototype.initialize.apply(this,arguments)},render:function(){var e=this.model.toJSON(),a=this;this.listenTo(this.model,"reading-progress",this.updateProgress),this.listenTo(this.model,"change:pageNumber",this.pageChanged),e.showAdminPanel=!1,e.isAdmin=!1,e.isDesktop=this.isDesktop,t.utils.currentUser().get("isSysAdmin")&&(e.showAdminPanel=!0,e.isAdmin=!0),t.utils.currentUser().get("ambassador")&&(e.showAdminPanel=!0),t.utils.currentUser().get("username")===e.group.user.username&&(e.isAuthor=!0,e.group.url="/myworks/"+e.group.id+"-"+n.slugify(e.group.title)),e.isPreview=!!this.options&&this.options.isPreview;var s=e.blockedPart||{};return this.model.get("group").isPaywalled&&(e.onWalletClick=n.showBuyCoinsModal.bind(n,"reading",e.group.id,s.id)),this.$el.html(this.template(e)),this.initAdminPanel(this.model,"#admin-panel"),_.defer((function(){a.$("[data-toggle=tooltip]").tooltip()})),this},stopEvent:function(e){n.stopEvent(e)},onAddToListsReady:function(e,t){e.parent(".button-group").addClass("open"),e.removeClass("on-lists-add-clicked"),e.addClass("on-dismiss-lists")},onDismissLists:function(e){var t=$(e.currentTarget).data("story-id"),n=this.$(this.addButton+"[data-story-id='"+t+"']");n.parent(".button-group").removeClass("open"),n.removeClass("on-dismiss-lists"),n.addClass("on-lists-add-clicked")},openProgressTooltip:function(e){this.$("#progresstooltip").tooltip("show")},closeProgressTooltip:function(e){this.$("#progresstooltip").tooltip("hide")},_timeToComplete:function(e,t){var n=e*(1-t)/250;return moment.duration(n,"minutes").humanize()},updateProgress:function(e){100*e>.5?this.$("#progressbar").width(100*e+"%"):this.$("#progressbar").removeAttr("style");var n=this.model.get("wordCount");if(n&&1!==e){var a=t.utils.trans("%s left",this._timeToComplete(n,e));this.$("#progresstooltip").attr("data-original-title",a)}else this.$("#progresstooltip").removeAttr("data-original-title")},pageChanged:function(){this.openProgressTooltip(),_.delay(_.bind(this.closeProgressTooltip,this),1e3)},showPostPublishModal:function(){var e=new a.views.PostPublishModal({model:this.model,links:this.model.get("socialShareVisible")||a.currentView.socialLinks});$("#post-publish-modal").empty().append(e.render().$el),e.showModal()},onPublish:function(){var e=this,t=[],s=this.model.get("group");s.textids=_.pluck(this.model.get("group").parts,"id").join(","),this.publishModel=new a.models.StoryPartCreateModel({id:this.model.get("id"),authorid:n.currentUser().get("id"),title:this.model.get("title"),groupid:this.model.get("group").id,language:this.model.get("language"),copyright:this.model.get("copyright"),category1:this.model.get("group").categories[0],textUrl:this.model.get("text_url"),url:this.model.get("url")});var i;this.storyLabelsModel=new a.models.StoryLabelsModel({storyId:parseInt(s.id)}),i=Promise.resolve(this.storyLabelsModel.fetch()).catch((function(){})),Promise.all([$.get("/apiv2/storytext?id="+this.model.get("id")+"&output=json"),i]).then((function(i){if(e.publishModel.set("text",i.text),s.category&&""!==s.title&&s.title!==n.trans("Untitled Story")&&""!==s.description&&0!==s.tags.length)Promise.resolve(e.publishModel.publish()).then((function(s){var i=n.currentUser().get("username");void 0===s&&0===t.length||(a.local.clear(e.model.resource()),n.cacheBust(["Works"],[{username:i}]),n.cacheBust(["Works"],[{username:i,published:!0}]),$(".draft-tag").addClass("hidden"),$(".on-publish").addClass("hidden"),$(".on-write").addClass("hidden"),$(".preview-alert").addClass("hidden"),e.showPostPublishModal())}));else{var l=new a.views.WorksItemDetails({model:new a.models.StoryCreateModel(s),storyLabelsModel:e.storyLabelsModel||null,isPublish:!0,partModel:e.publishModel,isPreview:!0});$("#generic-modal").find(".modal-content .modal-body").html(l.render().$el),$("#generic-modal").addClass("publish-modal").modal("show")}}))}})),a.mixin(a.views.StoryReadingFunbar,"StoryAdminManager")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(204),s=n.n(a),i=n(40),l=n.n(i);!function(e,t,n,a,i){a.add("MediaBanner",i.View.extend({events:{"tap .on-video":"onVideoSelected","click .on-video":"stopEvent","tap .on-prev-media":"onPrevMedia","click .on-next-media":"stopEvent","tap .on-next-media":"onNextMedia","click .on-prev-media":"stopEvent","tap .on-carousel-clicked":"onCarouselClicked","click .on-carousel-clicked":"stopEvent","tap .on-show-media-menu":"onShowMediaMenu","click .on-show-media-menu":"stopEvent","mouseleave .background":"onHideMediaMenu","tap .on-remove-video":"onRemoveVideo","click .on-remove-video":"stopEvent","tap .on-remove-image":"onRemovePhoto","click .on-remove-image":"stopEvent","tap .on-replace-image":"onReplacePhoto","click .on-replace-image":"stopEvent","tap .on-replace-video":"onReplaceVideo","click .on-replace-video":"stopEvent","tap .on-cancel":"onCancel","click .on-cancel":"stopEvent","tap .on-add-image":"onAddPhoto","click .on-add-image":"stopEvent","tap .on-add-video":"onAddVideo","click .on-add-video":"stopEvent","keyup .photo-url-field":"onSubmitPhoto","tap .on-submit-photo":"onSubmitPhoto","click .on-submit-photo":"stopEvent","keyup .video-url-field":"onSubmitVideo","tap .on-submit-video":"onSubmitVideo","click .on-submit-video":"stopEvent","tap .media-fields-underlay":"hideMediaFields","click .media-fields-underlay":"stopEvent","paste .video-url-field":"onSubmitVideo","click .on-okay":"stopEvent","tap .on-okay":"onCloseTooltip"},template:s.a,className:"media-container",bannedImageMessaging:l.a,initialize:function(e){e=e||{},this.media=e.media,this.bgCover=e.bgCover,this.model=e.model||new i.Model,this.isEditable=e.isEditable||!1,this.showTips=e.showTips||!1,this.socialLinks=e.socialLinks||!1,this.hasBannedImage=!1,this.isWriterPreview=e.isWriterPreview,this.coverTimestamp=e.coverTimestamp||"",this.fileUploadLimits=[{type:"image/jpeg",fileSize:1e7,friendlyName:"JPG",friendlySize:"10mb"},{type:"image/png",fileSize:1e7,friendlyName:"PNG",friendlySize:"10mb"},{type:"image/gif",fileSize:3e6,friendlyName:"GIF",friendlySize:"3mb"}]},render:function(){var s={};s.media=this.media,s.bgCover=this.bgCover,s.isEditable=this.isEditable,s.isWriterPreview=this.isWriterPreview,s.showTips=this.showTips,s.isDesktop=a.get("device").isDesktop(),s.showCover=!s.isEditable||0!==s.media.length,s.showCarousel=s.media.length>1,_.each(s.media,(function(e){s.hasVideo=s.hasVideo||e.video||!1,s.hasPhoto=s.hasPhoto||e.photo||!1})),s.media.length>0&&this.socialLinks&&(s.media.facebook=this.socialLinks[0].href,s.media[0].video?s.media.pinterest=n.qsReplace(this.socialLinks[2].href,"media",encodeURIComponent("http://img.youtube.com/vi/"+s.media[0].ref+"/0.jpg")):s.media.pinterest=n.qsReplace(this.socialLinks[2].href,"media",encodeURIComponent(s.media[0].ref))),s.testGroups=t.testGroups,this.$el.html(this.template(s)),this.media.length>1&&this.showNextArrow();var i=this.$('[data-toggle="popover"]');if(i.popover){i.popover({template:'<div class="popover writer-tooltip" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',html:!0})}if((this.isEditable||this.isWriterPreview)&&this.media.length){var l=this;e.setTimeout((function(){l.setHeaderImageModerationNotice()}),50)}return this},showNextArrow:function(){this.$(".media > .on-next-media").removeClass("invisible")},onPrevMedia:function(e){var t=$(".media > .media-item").index($(".media-item:not(.hidden)"));this.showMedia(t,t-1)},onNextMedia:function(e){var t=$(".media > .media-item").index($(".media-item:not(.hidden)"));this.showMedia(t,t+1)},onCarouselClicked:function(e){var t=$("li.on-carousel-clicked").index($(e.currentTarget)),n=$("li.on-carousel-clicked").index($(e.currentTarget).siblings(".active"));this.showMedia(n,t)},showMedia:function(e,t){var a=e-1==0,s=e+1===this.media.length-1;a&&(this.$(".media > .on-prev-media").addClass("invisible"),this.$(".media > .on-next-media").removeClass("invisible")),s&&(this.$(".media > .on-next-media").addClass("invisible"),this.$(".media > .on-prev-media").removeClass("invisible")),this.$(".media > .media-item:nth-of-type("+(e+1)+")").addClass("hidden"),this.$(".carousel-indicators > li.on-carousel-clicked:nth-of-type("+(e+2)+")").removeClass("active"),this.$(".media > .media-item:nth-of-type("+(t+1)+")").removeClass("hidden"),this.$(".carousel-indicators > li.on-carousel-clicked:nth-of-type("+(t+2)+")").addClass("active"),this.media.length>0&&this.socialLinks&&(this.$("#share-header-media-facebook").attr("href",this.socialLinks[0].href),this.media[t].video?this.$("#share-header-media-pinterest").attr("href",n.qsReplace(this.$("#share-header-media-pinterest").attr("href"),"media",encodeURIComponent("http://img.youtube.com/vi/"+this.media[t].ref+"/0.jpg"))):this.$("#share-header-media-pinterest").attr("href",n.qsReplace(this.$("#share-header-media-pinterest").attr("href"),"media",encodeURIComponent(this.media[t].ref)))),(this.isWriterPreview||this.isEditable)&&this.media.length>1&&this.hasBannedImage&&this.updateBannedImageMessaging()},updateBannedImageMessaging:function(){var e=$("#header-banned-image-warning");e.hasClass("hidden")?e.removeClass("hidden"):e.addClass("hidden")},onVideoSelected:function(e){var t=$(e.currentTarget),n=$('<iframe width="'+16*t.height()/9+'" height="'+t.height()+'" src="//www.youtube-nocookie.com/embed/'+t.data("youtube")+'?rel=0&amp;showinfo=0&amp;autoplay=1" frameborder="0" allowfullscreen></iframe>');t.html(n)},onShowMediaMenu:function(e){$(e.currentTarget).siblings(".popover").popover().removeClass("faded").show()},onHideMediaMenu:function(e){this.$(".media-menu").removeAttr("style").addClass("faded")},onAddPhoto:function(e){this.onFileSelect()},onAddVideo:function(e){$(".media-fields-underlay").show(),this.$(".media-item").addClass("hide"),this.$(".media-buttons").addClass("hide"),this.$(".video-url").removeClass("hide"),a.get("device").is.ie||this.$(".video-url-field").focus(),this.hideBannedHeaderImageWarning()},hideBannedHeaderImageWarning:function(){this.hasBannedImage&&$("#header-banned-image-warning").addClass("hidden")},onRemoveVideo:function(e){a.trigger("works:editor:remove-video")},onRemovePhoto:function(e){this.hideBannedHeaderImageWarning(),this.hasBannedImage&&a.trigger("works:editor:remove-banned-indicator"),a.trigger("works:editor:remove-image")},onReplacePhoto:function(e){this.onFileSelect()},onReplaceVideo:function(e){this.onAddVideo(),this.$(".media > .on-next-media").addClass("invisible"),this.$(".media > .on-prev-media").addClass("invisible"),this.$(".video-url").addClass("align")},onCancel:function(e){this.media.length>1&&(0===$(".media > .media-item").index($(".media-item:not(.hidden)"))?this.$(".media > .on-next-media").removeClass("invisible"):this.$(".media > .on-prev-media").removeClass("invisible"))},onSubmitPhoto:function(e){var t=this.$(".photo-url-field").val();("keyup"==e.type&&13===e.keyCode&&""!==t||"tap"==e.type&&""!==t)&&(a.trigger("works:editor:add-image",t),$(".media-fields-underlay").hide())},onSubmitVideo:function(t){var n=this.$(".video-url-field").val();"paste"==t.type&&(void 0===t.originalEvent.clipboardData&&e.clipboardData&&(t.originalEvent.clipboardData=e.clipboardData),n=t.originalEvent.clipboardData.getData("Text"),this.isYouTubeUrl(n)?(a.trigger("works:editor:add-video",this.extractYouTubeId(n)),$(".media-fields-underlay").hide()):$(".save-indicator").text("Please enter a valid YouTube video link.").addClass("warning")),("keyup"==t.type&&13===t.keyCode||"tap"==t.type)&&(this.isYouTubeUrl(n)?(a.trigger("works:editor:add-video",this.extractYouTubeId(n)),$(".media-fields-underlay").hide()):$(".save-indicator").text("Please enter a valid YouTube video link.").addClass("warning"))},hideMediaFields:function(e){this.$(".media-item").removeClass("hide"),this.$(".media-buttons").removeClass("hide"),this.$(".photo-url").addClass("hide"),this.$(".video-url").addClass("hide"),$(".media-fields-underlay").hide()},stopEvent:function(e){t.utils.stopEvent(e)},isYouTubeUrl:function(e){return-1!==e.indexOf("http://youtu.be/")||-1!==e.indexOf("https://youtu.be/")||-1!==e.indexOf("http://www.youtube.com/watch?v=")||-1!==e.indexOf("https://www.youtube.com/watch?v=")},extractYouTubeId:function(e){var t=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/);return t&&11==t[1].length?t[1]:""},onCloseTooltip:function(e){n.stopEvent(e),$(e.currentTarget).parent().parent().parent().addClass("hidden")},onSocialShareSelected:function(t){e.dataLayer.push({event:"ga-event",category:"reading",action:$(t.currentTarget).data("gtm-action"),label:this.model.get("id")}),e.te.push("event","reading","header-media",null,"share",{storyid:this.model.get("group").id,partid:this.model.get("id"),channel:$(t.currentTarget).data("share-channel")})},onAddImage:function(e){this.onFileSelect()},onFileSelected:function(){var e=this;e.getFile().catch((function(e){return a.trigger("works:editor:image-upload-failed",e.message),t.utils.pushEvent({category:"works-writer",action:"image-failed-read"}),Promise.reject()})).then((function(t){if(e.validateImageData(t)){e.$(".story-media-picker").addClass("hidden");var a="image_"+(new Date).getTime(),s=e.fileUploadTarget,i=[5,6,7,8];$('<img id="'+a+'" />').one("load",(function(){var l=e.adjustSizes(s,this),r=this.width,o=this.height;t.orientation&&i.indexOf(t.orientation)>-1&&(r=this.height,o=this.width),$(this).attr("data-original-width",r).attr("data-original-height",o);var c=this.src;if(e.isCanvasSupported){var u=$('<img src="'+c+'">')[0],d=document.createElement("canvas"),h=d.getContext("2d");d.width=l.width/4,d.height=l.height/4,h.drawImage(u,0,0,d.width,d.height),c=d.toDataURL()}$(".btn-writer-media.on-add-image").children().replaceWith(n.iconifySpin("fa-loading",25,new n.Device,{hash:{className:"fa-wp-base-1 spinner"}})),$("#"+a).attr("data-media-type","image").attr("data-image-layout","one-horizontal"),e.uploadImage(a,t)}))[0].src=t.data}}))},validateImageData:function(e){var s=_.findWhere(this.fileUploadLimits,{type:e.metadata.type});if(!s){var i=_.pluck(this.fileUploadLimits,"friendlyName").join(", ");return a.trigger("works:editor:image-invalid-type",n.trans("Your uploaded image is not a valid image type. Allowed types are: %s.",i)),t.utils.pushEvent({category:"works-writer",action:"image-invalid-type"}),!1}return!(e.metadata.size>s.fileSize)||(a.trigger("works:editor:image-too-large",n.trans("Your uploaded %s file is too large. The maximum size for %ss is %s.",s.friendlyName,s.friendlyName,s.friendlySize)),t.utils.pushEvent({category:"works-writer",action:"image-too-large"}),!1)},adjustSizes:function(e,t){var n=_.result(e,"width");if(n<t.width){var a=n/t.width;return{width:n,height:t.height*a}}return{width:t.width,height:t.height}},uploadImage:function(e,s){var i=this;this.imageUploads=this.imageUploads||[],this.imageUploads.push({key:e,progress:0}),Promise.resolve($.ajax({type:"POST",url:t.mediaService+"/story_parts/"+i.model.get("id")+"/images",data:{data:s.parsed}})).then((function(t){_.findWhere(i.imageUploads,{key:e}).progress=1,_.delay(_.bind(i.createImageElement,i),3e3,e,JSON.parse(t))})).catch((function(e){var t;e&&(t=e?JSON.parse(e.responseText).Message:""),a.trigger("works:editor:image-upload-failed",n.trans("There was a problem uploading your image. %s",t))}))},createImageElement:function(e,t){this.model.set("photos",t.Urls[0]),this.model.set("photoUrl",t.Urls[0]);var n={photo:!0,ref:this.model.get("photoUrl")},a=_.findIndex(this.media,{photo:!0});-1===a?this.media.push(n):this.media[a]=n,this.render()},setHeaderImageModerationNotice:function(){var e=this;_.each(this.media,(function(t,n){if(t.photo){var a=t.ref;if(!0===e.model.get("hasBannedHeader")){e.hasBannedImage||(e.hasBannedImage=!0);var s=e.$(".media > .image.media-item:nth-of-type("+(n+1)+")");s.find("img").addClass("banned"),s.find(".banned-overlay").removeClass("hidden"),$("#header-banned-image-warning").find(".placeholder").replaceWith(e.bannedImageMessaging({id:"header-writer",src:a,groupId:e.model.get("groupid"),partId:e.model.get("id")})),s.hasClass("hidden")||$("#header-banned-image-warning").removeClass("hidden")}}}))}})),a.mixin(a.views.MediaBanner,"SocialSharing","FileUpload")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(205),s=n.n(a),i=n(39),l=n.n(i),r=n(206),o=n.n(r),c=n(207),u=n.n(c),d=n(208),h=n.n(d),p=n(209),m=n.n(p),f=n(210),g=n.n(f),v=n(211),w=n.n(v),y=n(212),b=n.n(y),x=n(213),C=n.n(x),S=n(214),k=n.n(S),M=n(215),T=n.n(M),P=n(40),E=n.n(P);!function(e,t,n,a,i){a.add("CoreStoryReading",a.views.RegionManager.extend({template:function(){return""},partials:{"core.story_reading.comment-marker":T.a,"core.story_reading.funbar":function(){return""},"core.story_reading.media_banner":function(){return""},"core.story_reading.part_actions":k.a,"core.story_reading.part_comments":C.a,"core.story_reading.part_container_new":b.a,"core.story_reading.part_footer_new":w.a,"core.story_reading.part_header_new":g.a,"core.story_reading.part_navigation":m.a,"core.story_reading.part_recommendations":h.a,"core.story_reading.part_restart":u.a,"core.story_reading.part_similar":o.a,"core.story_reading.picture_viewer":l.a,"core.story_reading.part_text_container":s.a,"core.banned_image_messaging":E.a},regions:{},bannerSignup:!0,isDesktop:null,id:"story-reading",voteButton:".actions > .btn-vote",subviews:{funbar:a.views.StoryReadingFunbar,media:a.views.MediaBanner,comments:a.views.Comments,bottomBanner:a.views.BottomBanner},regionTags:{funbar:"#funbar-container",media:"#media-container",comments:"#comments",bottomBanner:"#bottom-banner-container"},events:{"tap   .share-embed":"onShareEmbed","click .share-embed":"stopEvent","tap    .on-dismiss-lists":"onDismissLists","click  .on-dismiss-lists":"stopEvent","tap   .on-send":"onSendToFriend","click .on-send":"stopEvent","tap   .on-inline-comments-modal":"showInlineCommentsModal","click .on-inline-comments-modal":"stopEvent","keyup .send-input":"onValidateSend","tap    .on-load-more-page":"onLoadNextPage","click  .on-load-more-page":"stopEvent","tap .share-post-to-profile":"showPostToProfileModal","click .share-post-to-profile":"stopEvent"},initialize:function(e){var n=this;_.each(this.partials,(function(e,t){Handlebars.registerPartial(t,e)})),_.bindAll(this,"buyPaidContent","showStoryPaywallModal","onBuyCoins"),this.scrollState={part:{}},this.sync={enabled:!0,last:0,part:0},t.utils.currentUser().authenticated()?(this.listenTo(this.model,"reading-position-available",(function(e){n.sync={enabled:!0,last:e}})),this.listenTo(a,"app:story:vote",this.onUpdateVote),this.listenTo(a,"app:story:inlinecomment",this.fetchCommentCounts),this.listenTo(a,"app:comment:mute",(function(){this.fetchCommentCounts()})),this.model.syncPosition()):this.sync.enabled=!1,e.deepLinkModel&&(this.deepLinkModel=e.deepLinkModel,this.listenTo(a,"app:comment:deepLink",this.deepLinkToComment))},showPostToProfileModal:function(e){var s=$("#generic-modal");if(n.stopEvent(e),t.utils.currentUser().authenticated())if(t.utils.currentUser().get("verified_email")){var i=new a.views.PostToProfileModal({model:this.model,target:n.currentUser().get("username")});s.empty().append(i.render().$el),s.modal("show")}else n.showPleaseVerifyModal();else this.onAuthPrompt(e)},render:function(){var s=this;return this.model.set("isDeepLinkView",!!this.options.deepLinkModel),t.utils.isOperaMini||$(e).on("scroll.screen_"+this.cid,(function(e){s.delegateScrollEvent(e)})),_.defer((function(){s.deepLinkModel&&a.trigger("app:comment:deepLink"),s.model.getCommentCountByParagraph().then((function(){s.renderCommentCounts(s.$(".panel.panel-reading > pre p[data-p-id]"))})),n.resizeImages(s.$(".panel-reading pre [data-image-layout=one-horizontal]"),s.$(".panel-reading pre").width()),s.initializeVideoTracking(),s.isWriterPreview()&&s.setImageModerationNotices()})),this.addCopyListener(),this},deepLinkToComment:function(){var e=this.deepLinkModel.get("paragraphId"),n=0!==this.getParagraphById(e).length,s=e&&!n&&this.model.get("pageNumber")+1>=this.model.get("pages");if(e&&!s)try{var i=new a.collections.InlineComments([this.deepLinkModel],{paragraphId:e,partId:this.model.get("id"),storyPart:this.model,limit:10,commentId:this.deepLinkModel.get("id")}),l=new a.views.InlineCommentsModal({source:this.model,collection:i,model:this.deepLinkModel,commentIdToHighlight:this.deepLinkModel.commentIdToHighlight});this.$("#inline-comments-modal").empty().append(l.render().$el),l.showModal(),this.deepLinkModel.isDeeplinkedReply&&_.toArray(l.viewPointers)[0].expand(),this.stopListening(a,"app:comment:deepLink",this.deepLinkToComment)}catch(e){this.$("footer")[0].scrollIntoView(!0),this.$el.find(".on-load-more-page").trigger("tap")}else{i=new a.collections.StoryPartComments([this.deepLinkModel],{storyAuthor:this.model.get("group")?this.model.get("group").user.username:"",partId:this.model.get("id"),limit:10});var r=new a.views.Comments({collection:i,enablePosts:t.utils.currentUser().authenticated(),source:this.model,model:this.deepLinkModel,commentIdToHighlight:this.deepLinkModel.commentIdToHighlight});this.$(this.regionTags.comments).empty(),this.setRegion(this.regionTags.comments,r.renderView()),this.$(r.$el[0]).find(".collection")[0].scrollIntoView(!0),this.deepLinkModel.isDeeplinkedReply&&_.toArray(r.viewPointers)[0].expand(),this.lockScrollUpdate(),this.stopListening(a,"app:comment:deepLink",this.deepLinkToComment)}},getParagraphById:function(e){return this.$(".panel.panel-reading > pre > p[data-p-id="+e+"]")},addCopyListener:function(){$(e).on("copy.screen_"+this.cid,(function(){var t=[$(".part-content")[0],$(".inline-comments-modal .paragraph-text")[0]];if(!!_.some(t,(function(t){return t&&e.getSelection().containsNode(t,!0)})))return!1}))},fetchCommentCounts:function(e){var t=this,n=e?this.getParagraphById(e):this.$(".panel.panel-reading > pre p[data-p-id]");n.length&&this.model.getCommentCountByParagraph().then((function(){t.renderCommentCounts(n)}))},renderCommentCounts:function(e){var t=this,n=t.model.get("paragraphs");n&&_.each(e,(function(e){var a=$(e),s=a.data("p-id"),i=_.find(n,(function(e){return e.id===s}));t.renderCommentMarker(a,i?i.commentCount:0)}))},renderCommentMarker:function(e,t){var n=$(e),a=this.partials["core.story_reading.comment-marker"];n.children(".comment-marker").remove(),n.append(a({commentCount:t}))},showInlineCommentsModal:_.debounce((function(t){var n=this,s=$(t.target).closest(".on-inline-comments-modal").parent().data("p-id"),i=new a.collections.InlineComments([],{paragraphId:s,storyPart:n.model,limit:10});Promise.resolve(i.fetchNextSet()).then((function(){var e=new a.views.InlineCommentsModal({source:n.model,collection:i});n.$("#inline-comments-modal").empty().append(e.render().$el),e.showModal()})),e.te.push("event","reading","comment","inline","click",{storyid:this.model.get("group").id,partid:this.model.get("id"),paragraphid:s})}),800),initializeVideoTracking:function(){var t=this;if(e.onYouTubeIframeAPIReady=function(){t.initializeEmbeddedIframes()},!e.YT){e.YTConfig={host:"https://www.youtube-nocookie.com"};var n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a)}},initializeEmbeddedIframes:function(){var t=this;e.YT&&$("[data-media-type=video] iframe").not(".initialized").each((function(e,n){new YT.Player(n,{events:{onStateChange:function(e){t.trackVideoState(n,e)}}});$(n).addClass("initialized")}))},trackVideoState:function(t,n){var a=$(t);n.data!==YT.PlayerState.PLAYING||a.data("playTracked")?n.data===YT.PlayerState.ENDED&&(e.te.push("event","reading","media","video","finished",{partid:this.model.get("id"),videoid:a.data("videoId")}),a.data("playTracked",0)):(e.te.push("event","reading","media","video","play",{partid:this.model.get("id"),videoid:a.data("videoId")}),a.data("playTracked",1))},remove:function(){this.ignoreEvents=!0,$(e).off("scroll.screen_"+this.cid),$(e).off("copy.screen_"+this.cid),$(".panel-reading p img").off("error"),$(".shadow-verify").remove(),a.views.RegionManager.prototype.remove.apply(this,arguments),$("body").removeAttr("ondragstart onselectstart unselectable")},setRegions:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!!this.options&&this.options.isPreview;this.$(this.regionTags.funbar).empty();var s=new this.subviews.funbar({model:this.model,isPreview:n});this.setRegion(this.regionTags.funbar,s.render());var i=this.model.get("media");i||(i=[],this.model.get("videoId")&&i.push({video:!0,ref:this.model.get("videoId")}),this.model.get("photoUrl")&&i.push({photo:!0,ref:this.model.get("photoUrl")})),this.model.set("media",null),this.$(this.regionTags.media).empty();var l=this.isWriterPreview();if(s=new this.subviews.media({model:this.model,media:i,bgCover:this.model.get("group").cover,socialLinks:this.socialLinks,isWriterPreview:l}),this.setRegion(this.regionTags.media,s.render()),a.get("device").is.desktop&&!t.utils.currentUser().authenticated()&&!this.model.get("group").isAdExempt&&!t.utils.getCookie("dB")){this.$(this.regionTags.bottomBanner).empty();s=new this.subviews.bottomBanner({image:this.model.get("group").cover,title:this.model.get("group").title,showBottomBanner:!0,dismissibleBanner:!0});this.setRegion(this.regionTags.bottomBanner,s.render())}if((this.bannerSignup||t.utils.currentUser().authenticated()||this.model.get("group").isAdExempt)&&!e){if(this.deepLinkModel)return;var r=new a.collections.StoryPartComments([],{storyAuthor:this.model.get("group")?this.model.get("group").user.username:"",partId:this.model.get("id"),limit:10,initialLimit:2});this.$(this.regionTags.comments).empty(),s=new a.views.Comments({collection:r,enablePosts:t.utils.currentUser().authenticated(),source:this.model}),this.setRegion(this.regionTags.comments,s.render())}},onUpdateVote:function(e){e&&e.storyId===this.model.get("id")&&(e.voted?this.voteSelected():this.voteDeselected(),this.updateMeta(e.voteCount))},voteSelected:function(){var e=t.utils.iconify("fa-vote",16,"wp-base-1"),n=t.utils.trans("Voted");this.$(".actions > .on-vote").html(e+" "+n)},voteDeselected:function(){var e=t.utils.iconify("fa-vote",16,"wp-neutral-2"),n=t.utils.trans("Vote");this.$(".actions > .on-vote").html(e+" "+n)},updateMeta:function(e){this.$(".meta > .reads").html(t.utils.iconify("fa-view",14,"wp-neutral-2")+" "+this.model.get("readCount")),this.$(".meta > .votes").html(t.utils.iconify("fa-vote",14,"wp-neutral-2")+" "+(e||this.model.get("voteCount"))),this.$(".meta > .comments").html(t.utils.iconify("fa-comment",14,"wp-neutral-2")+" "+this.model.get("commentCount"))},getIsBigPart:function(){return this.model.get("pages")>=12},onLoadNextPage:function(e){this.unlockScrollUpdate();var t=parseInt($(e.currentTarget).attr("href").match(/page\/([0-9]+)$/)[1],10);this.loadNextPage(t)},loadNextPage:function(t){if(t>this.model.get("pages"))return this.$(".load-more-page").addClass("hidden"),void this.$(".next-part").removeClass("hidden");var n=this,s=this.scrollState.part[this.scrollState.part.active.id],i=s.page.last.$el,l=(a.get("device"),n.partials["core.story_reading.part_text_container"]);this.model.getPage(t).then((function(a){if(a.get("text")||a.get("paragraphs")&&!_.isEmpty(a.get("paragraphs"))){var r={id:n.model.get("id"),pages:n.model.get("pages"),group:n.model.get("group"),text:a.get("text"),pageNumber:t,firstPage:1===t,lastPage:t>=n.model.get("pages"),isMicroPart:n.model.get("pages")<2,isSmallPart:n.model.get("pages")>=2&&n.model.get("pages")<5,isMediumPart:n.model.get("pages")>=5&&n.model.get("pages")<12,isBigPart:n.getIsBigPart(),isHeightZero:!0},o=$(l(_.extend({},n.model.toJSON(),r)));n.$(".on-load-more-page").attr("href",s.url+"/page/"+(t+1)),i.next(".mobile-cta").length&&(i=i.next(".mobile-cta")),i.after(o.removeClass("height-zero")),e.dispatchEvent(new CustomEvent("ad-available",{bubbles:!0})),n.renderCommentCounts(o.find(".panel.panel-reading > pre p[data-p-id]"));var c=n.$("#inline-comments-modal").is(":empty");n.deepLinkModel&&c&&n.deepLinkToComment(),n.initializeEmbeddedIframes(),$(".panel-reading p img").on("error",_.bind(n.onImageLoadError,n))}else t<=n.model.get("pages")&&(n.$(".load-more-page").removeClass("hidden"),n.$(".next-part").addClass("hidden"))}))},setElement:function(){i.View.prototype.setElement.apply(this,arguments),_.each(this.regionTags,(function(e){this.regions[e]&&this.regions[e].view&&this.$(e).length>0&&(this.regions[e].view.setElement($(this.$(e+" > div"))),e===this.regionTags.media&&this.regions[e].view.media.length>1&&this.regions[e].view.showNextArrow())}),this)},getImageModerationStatus:function(e){return Promise.resolve($.ajax({type:"GET",url:"/v5/image_moderation/result?image_url="+e})).then((function(e){return e.result})).catch((function(e){return"Error fetching image moderation result:"+e.responseText}))},isWriterPreview:function(){return t.utils.currentUser()&&this.model.get("group").user.username===t.utils.currentUser().get("username")},setImageModerationNotices:function(){var e=this;$("[data-image-layout=one-horizontal]").each((function(t,n){var a=$(n),s=$(n).find("img").attr("src").split("?")[0];e.getImageModerationStatus(s).then((function(t){if("banned"===t){var n=e.model.storyId,i=e.model.partId;a.addClass("banned").find(".banned-overlay").removeClass("hidden"),a.find(".banned-messaging").removeClass("hide").append(e.partials["core.banned_image_messaging"]({id:a.data("p-id"),src:s,groupId:n,partId:i}))}})).catch((function(e){console.error(e)}))}))},onPageScroll:function(){this.ignoreEvents||this.updateScrollState()},delegateScrollEvent:_.throttle((function(){this.onPageScroll()}),200),stopScrollUpdate:function(){this.ignoreEvents=!0,$(e).off("scroll.screen_"+this.cid)},lockScrollUpdate:function(){this.ignoreEvents=!0,$(e).off("scroll.screen_"+this.cid),this.scrollState.part[this.scrollState.part.active.id].page.last.number<this.model.get("pages")&&this.$(".load-more-page").removeClass("hidden")},unlockScrollUpdate:function(t){var n=this;this.ignoreEvents=!1,$(e).on("scroll.screen_"+this.cid,(function(e){n.delegateScrollEvent(e)})),this.onPageScroll()},_calculatePercentageRead:function(t){var n=t.data("page-number"),a=this.model.get("pages"),s=t.find(".panel-reading"),i=(n-1)/this.model.get("pages")||0,l=s.offset();if(!s.offset())return 0;var r=e.scrollY-l.top;return i+=(s.height()?r/s.height():0)/a||0,Math.min(1,Math.max(0,i))},updateScrollState:function(e){var n,a,s,i;e=e||!1,s=this.$(".story-part"),i=(n=this.findViewable(s)).find(".page"),a=this.findViewable(i),(_.isEmpty(this.scrollState.part)||this.scrollState.part.active.id!==n.data("part-id"))&&(this.scrollState.part={count:s.length,active:{id:n.data("part-id")}}),this.model.trigger("reading-progress",this._calculatePercentageRead(a)),this.scrollState.part[n.data("part-id")]&&this.scrollState.part[n.data("part-id")].page.active===a.data("page-number")||(this.scrollState.part[n.data("part-id")]={url:n.data("part-url"),page:{count:i.length,active:a.data("page-number"),first:i.first().data("page-number"),last:{number:i.last().data("page-number"),$el:i.last()}}},this.model.set("pageNumber",this.scrollState.part[n.data("part-id")].page.active),this.updateUrl(),this.updateTitle(),e||t.utils.pushEvent({},"virtualPageview"),this.updateSyncPosition(),this.updatePageContent(),1!==a.data("page-number")&&this.sendReadingEvent())},updateUrl:function(){if(t.utils.supportPushState()){var n="",s=this.scrollState.part[this.scrollState.part.active.id],i=s.page.active,l=e.location.href.indexOf("/comment");if(n+=t.utils.formatStoryUrl(s.url),n+=i>1?"/page/"+i:"",n+=-1!==l?e.location.href.slice(l):"",n+=e.location.search,a.get("device").is.desktop){var r=this.model.toJSON();a.trigger("checkRefreshingAds",r)}a.router.navigate(n,{trigger:!1,replace:!0})}},updateTitle:function(){var e,n=this.model.get("group").title,s=this.model.get("title"),i=this.scrollState.part[this.scrollState.part.active.id].page.active,l=n;l+=n!==s?" - "+s:"",i>1&&(l+=" - "+t.utils.trans("Page")+" "+i),e=19===parseInt(a.get("language"),10)?"c Truyn "+l+" - "+this.model.get("group").user.name+" - Wattpad":l,t.utils.setTitle(e)},updatePageContent:function(){var e=this.scrollState.part[this.scrollState.part.active.id],t=e.page.active;t<=this.model.get("pages")&&e.page.last.number===t&&this.loadNextPage(parseInt(t,10)+1)},_calculateSyncPosition:function(){var e=this.scrollState.part[this.scrollState.part.active.id].page.active/this.model.get("pages")||0;return Number(Math.round(e+"e3")+"e-3")},updateSyncPosition:function(){var e=0;this.sync.enabled&&(e=this._calculateSyncPosition())>this.sync.last&&(this.sync.last=e,this.model.syncPosition(e),1===e&&(this.sync.enabled=!1))},sendReadingEvent:function(){var t=this.model.get("group"),a=n.publishedPartsInStory(t);e.te.push("event","reading","progress",null,"next_page",{storyid:t.id,partid:this.model.get("id"),read_percent:this._calculateSyncPosition(),published_parts:a.length})},findViewable:function(t){var n=$(t[0]),a=e.innerHeight/2+e.scrollY;return t.length<2||0===e.scrollY||t.each((function(e){var s=$(this),i=t[e+1]?$(t[e+1]):null;return!(0===(n=s).height()&&i&&i.find(".panel-reading").offset().top>a)&&(!(i&&i.offset().top>a)&&void 0)})),n},onAddedToLibrary:function(e){var n=this.$(this.libraryButton+"[data-story-id='"+e+"']");n.children(".fa").addClass("fa-check").removeClass("fa-plus"),n.children(".btn-library-text").html(t.utils.trans("In Library"))},onRemovedFromLibrary:function(e){var n=this.$(this.libraryButton+"[data-story-id='"+e+"']");n.children(".fa").removeClass("fa-check").addClass("fa-plus"),n.children(".btn-library-text").html(t.utils.trans("Add to Library"))},onSocialShareSelected:function(n){t.utils.pushEvent({category:"reading",action:$(n.currentTarget).data("gtm-action"),label:this.model.get("id")}),e.te.push("event","reading","story",null,"share",{storyid:this.model.get("group").id,partid:this.model.get("id"),channel:$(n.currentTarget).data("share-channel")})},getDeepLinkPage:function(){return"story-reading"},onSendToFriend:function(a){var s=this.$(".send-input").val().trim(),i=$(".on-send").attr("disabled","disabled");i.text(n.trans("Sending")),Promise.resolve($.ajax({type:"POST",url:"/v4/stories/"+this.model.get("group").id+"/parts/"+this.model.get("id")+"/share",data:{target:s}})).then((function(){$(".on-send").removeAttr("disabled"),i.text(n.trans("Sent")),_.delay((function(){i.text(n.trans("Send to Friend"))}),5e3)})).catch((function(n){$(".on-send").removeAttr("disabled"),e.alert(t.utils.trans(n))}))},onValidateSend:function(e){var t=$(e.currentTarget).val();t.match(/[0-9-\(\)+]{10,}/)||t.match(/[^<>"']+@[^<>"']+\.[^<>"']{2,}/)?$(".on-send").removeAttr("disabled"):$(".on-send").attr("disabled","disabled")},onImageLoadError:function(n){e.te.push("event","reading","media",null,"empty",{storyid:this.model.get("group").id,partid:this.model.get("id"),image_url:n.currentTarget.getAttribute("src"),user_agent:t.utils.getUserAgent(100)})},onShowFullSizeImage:function(t){if(!$(t.currentTarget).parent().parent().hasClass("author")){var n=$(t.currentTarget).removeAttr("width height").addClass("zoomed-image")[0].outerHTML,s=new a.views.PictureViewer({contents:n,paragraph:$(t.currentTarget).closest("p"),mediaShare:this.mediaShare,partModel:this.model}),i=s.render().$el.html();0===$("#picture-viewer").length?$("#modals").append(i):$("#picture-viewer").replaceWith(i),s.setElement($("#picture-viewer")),e.te.push("event","reading","media",null,"expand",{partid:this.model.get("id")}),$("#picture-viewer").modal(),$(".modal-backdrop").addClass("black")}},onFullSizeBanner:function(t){var n=$(t.currentTarget).html().trim(),s="h="+$(e).height()+"&amp;w="+$(e).width()+"&amp;";n=n.replace(/h=\d+&amp;w=\d+&amp;/,s);var i=new a.views.PictureViewer({contents:n,paragraph:$(t.currentTarget).closest("p")}),l=i.render().$el.html();0===$("#picture-viewer").length?$("#modals").append(l):$("#picture-viewer").replaceWith(l),i.setElement($("#picture-viewer")),e.te.push("event","reading","media",null,"expand",{partid:this.model.get("id")}),$("#picture-viewer").modal(),$(".modal-backdrop").addClass("black")},trackPurchaseFailed:function(t,n,a,s){var i=e.store.getState().wallet;e.te.push("event","paywall","purchase",null,"failed",{page:"reading",storyid:t,partid:n,cost:a,starting_balance:i.amount,part_index:s})},buyPaidContent:function(a,s,i,l){var r=e.store.getState().wallet,o=r.id,c=r.amount;e.te.push("event","paywall","purchase",null,"start",{page:"reading",storyid:s,partid:i,cost:a,starting_balance:c,part_index:l});var u=this.model.get("group").parts||[],d=_.pluck(u,"id");return n.buyPaidContent(o,s,i).then(function(){return e.te.push("event","paywall","purchase",null,"complete",{page:"reading",storyid:s,partid:i,cost:a,starting_balance:c,part_index:l}),n.cacheBustPaidMetadata(s,d)}.bind(this)).catch(function(r){throw this.trackPurchaseFailed(s,i,a,l),n.showToast(r),e.store.dispatch(e.app.components.actions.fetchWalletBalance(t.user.username,!0)),r}.bind(this))},onBuyCoins:function(e){$("#generic-modal").modal("hide");var a=this.model.get("group");setTimeout(function(){n.showBuyCoinsModal("reading",a.id,e.id,t.utils.getAppLink("story-reading",this.model))}.bind(this),500)},showStoryPaywallModal:function(t){var s=this,i=this.model.get("group");e.te.push("event","paywall","author",null,"view",{page:"reading",storyid:parseInt(i.id,10),partid:t.id,author:i.user.name,part_index:n.getIndexForPartId(t.id,i)});var l=new a.views.DummyReactView({component:"StoryPaywallModal",componentId:i.id,componentData:{group:i,authorMessage:i.user.authorMessage,onBuyCoins:function(){return s.onBuyCoins(t)}}});l.render(),$("#generic-modal .modal-body").html(l.$el),$("#generic-modal").modal("show")},processPaidMetadata:function(e,t){var a=this,s=e.id,i=e.group,l=i.parts,r=i.id;e.group.parts=l.map((function(e){var n=t.parts[e.id];if(!n)return e;e.paywalled=n.paywalled,e.isBlocked=n.paywalled&&!n.has_access,e.blockedMessage=n.author_message;var a=_.first(n.price);return a&&(e.price=a.amount),e}));var o=_.first(t.stories[r].price);o&&(e.storyPrice=o.amount),e.remainingBlockedParts=_.filter(l,(function(e){return e.isBlocked})).length;var c,u=_.findIndex(l,{id:s}),d=l[u];u<l.length-1&&(c=l[u+1]),e.freePartsUntilPaywall=n.numPartsBetweenCurrentAndPaywall(l,d),e.isPaidPreview=n.isPaidPreview(l),e.currentPartIsBlocked=d.isBlocked,e.blockedPart=e.currentPartIsBlocked?d:c,e.buyPaidContent=this.buyPaidContent,e.showStoryPaywallModal=function(){return a.showStoryPaywallModal(e.blockedPart)}}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(6),s=n.n(a),i=n(216),l=n.n(i),r=n(7),o=n.n(r),c=n(217),u=n.n(c),d=n(3),h=n.n(d),p=n(218),m=n.n(p),f=n(219),g=n.n(f);!function(e,t,n,a,i){a.add("StoryReading",a.views.CoreStoryReading.extend({template:m.a,isDesktop:!0,partials:_.extend(a.views.CoreStoryReading.prototype.partials,{"core.shared.bottom_banner":function(){return""},"desktop.components.modal.share_embed":h.a,"desktop.story_reading.part_author_info":u.a,"core.components.add_to_library_dropdown":o.a,"core.components.share_tools":l.a,"core.story_reading.cta":function(){return""}}),events:_.extend(a.views.CoreStoryReading.prototype.events,{"mouseenter .on-hover":"onHover","mouseexit  .on-hover":"offHover","tap   .on-comments":"stopEvent","click .on-comments":"onComments","mouseenter .panel-reading [data-media-type=image]":"onImageHoverOn","mouseleave .panel-reading [data-media-type=image]":"onImageHoverOut","tap        .on-report-image":"onReportImage","click      .on-report-image":"stopEvent","tap        .on-report-image-banner":"onReportImageBanner","click      .on-report-image-banner":"stopEvent","tap    .panel-reading .fixed-ratio[data-media-type=image] img":"onShowFullSizeImage","click  .panel-reading .fixed-ratio[data-media-type=image] img":"stopEvent","tap    .panel-reading .fixed-ratio[data-media-type=image] .image":"onShowFullSizeImage","click  .panel-reading .fixed-ratio[data-media-type=image] .image":"stopEvent","tap .on-full-size-banner":"onFullSizeBanner","click .on-full-size-banner":"stopEvent","dragstart .page":"detectTextDrag"}),regions:{},subviews:{funbar:a.views.StoryReadingFunbar,media:a.views.MediaBanner,comments:a.views.Comments,bottomBanner:a.views.BottomBanner},detectTextDrag:function(e){this.stopEvent(e)},initialize:function(e){_.bindAll(this,"trackWidgetStoryVisibility"),a.views.CoreStoryReading.prototype.initialize.apply(this,arguments),this.listenTo(a,"app:user:follow",this.onUpdateFollow),this.listenTo(a,"app:user:unfollow",this.onUpdateUnfollow)},render:function(){var l=this;a.views.CoreStoryReading.prototype.render.apply(this,arguments);var r,o=this,c=this.model.toJSON(),u=_.get(e,"wattpad.testGroups.PAID_CONTENT")||!1;if(u&&c.group.isPaywalled){var d=e.store.getState(),h=d.paidMetadata;this.processPaidMetadata(c,h),c.onBuyCoins=function(){return l.onBuyCoins(c.blockedPart)}}c.text=this.options.storyText,c.firstPage=1===c.pageNumber,c.lastPage=c.pageNumber>=c.pages,c.nextPage=c.pageNumber<c.pages?c.url.replace(/\.(com|io)\/(.*)/,".$1/$2/page/"+(c.pageNumber+1)):"",c.isMicroPart=c.pages<2,c.isSmallPart=c.pages>=2&&c.pages<5,c.isMediumPart=c.pages>=5&&c.pages<12,c.isBigPart=c.pages>=12,c.group.category=_.find(c.group.categories,(function(e){return e>0})),c.isAdmin=t.utils.currentUser().get("isSysAdmin"),c.isHybeStory=(null==t?void 0:t.testGroups.HYBE_STORY_IDS)&&g()(c.group.id)||!1,c.group.category&&(r=a.get("categories").get(c.group.category).get("name"));var p=a.get("device"),m={group:{id:c.group.id,title:c.group.title,cover:c.group.cover,category:r,description:c.group.description,tags:_.map(c.group.tags,(function(e){return{name:e}})).concat([{name:r}]),completed:c.group.completed},part:{id:c.id,title:c.title,url:c.url},user:{twitter:c.group.user.twitter}},f=_.findIndex(c.group.parts,{url:c.url});f<c.group.parts.length-1&&(c.nextPart=c.group.parts[f+1]),c.isTablet=p.is.tablet,c.isDesktop=p.is.desktop;var v=this.socialLinks=this.buildSocialShareLinksForPart(m),w=[];w.push(v[0]),w.push(v[2]),c.socialShareHidden=v.splice(4,2),c.socialShareVisible=v,p.is.mobile&&c.socialShareVisible.pop(),c.mediaShare=w,p.is.mobile||c.socialShareHidden.push({name:"report",icon:"fa-warning",label:n.trans("Report Story"),href:n.sprintf("http://www.wattpad.com/help/content?message=I+am+reporting+the+following+content%3A%0A%s&story_link=%s",[e.encodeURIComponent(m.part.url),e.encodeURIComponent(m.part.url)])}),c.anonymousUser=!t.utils.currentUser().authenticated(),_.defer((function(){if(c.currentPartIsBlocked||(o.initAffix(".left-rail",".part-content",128),$(e).on("scroll",(function(){o.affixOnScroll()}))),o.$(".author [data-toggle=tooltip]").tooltip(),o.$(".meta [data-toggle=tooltip]").tooltip(),!o.model.get("deleted")){c.descCharLimit=c.isDesktop?170:130;var n=new a.views.PromotedStoryItem({storyId:o.model.get("group").id,baseStoryCategory:o.model.get("group").categories[0],zoneIds:c.isMicroPart?[170121]:[155799],template:s.a,fromPage:"storyReading",descCharLimit:c.descCharLimit,promotedEl:".promoted-stories-container"});if(o.setRegion(".promoted-stories",n.render()),o.$(".similar-stories").length){var l=new a.views.StoriesSimilar({filter:"similar",storyId:o.model.get("group").id,limit:c.pages>1?7:2,currentStory:o.model,fromStoryReading:!0,showDescription:!0,alwaysFetch:!0});o.setRegion(".similar-stories",l.render())}if(o.trackedSimilarStoryIds={},$(e).on("scroll",o.trackWidgetStoryVisibility),o.$(".similar-stories-container").removeClass("hidden"),t.utils.currentUser().authenticated()){n=new a.views.PromotedStoryItem({storyId:o.model.get("group").id,baseStoryCategory:o.model.get("group").categories[0],zoneIds:[170121],fromPage:"storyReading",promotedEl:".promoted-recommended-stories-view"});o.setRegion(".promoted-recommended-stories-view",n.render());var r=new a.collections.RecommendedStories([],{username:t.utils.currentUser().get("username"),limit:8});Promise.resolve(r.fetchNextSet()).then((function(){var e={items:{stories:r.toJSON()}},t=new i.Model;t.set("data",e),t.set("type","storiesReadingRecommended");var n=new a.views.DiscoverModule({model:t,experience:"story_reading"});n.setElement($(".recommended-stories-view")),n.render()}))}}})),c.isDesktop=this.isDesktop,t.utils.setCookie("signupFrom","story_reading",0,e.location.hostname.replace("www",""));var y=n.publishedPartsInStory(c.group);return e.te.push("event","reading",null,null,"start",{storyid:c.group.id,partid:c.id,published_parts:y.length}),this.$el.html(this.template(c)),this.setRegions(c.currentPartIsBlocked),this.options.isPostPublishModal&&_.defer((function(){o.showPostPublishModal(o.options.isFirstPublish||!1)})),this},showPostPublishModal:function(t){t&&e.te.push("event","modal","story_publish","broadcast_message","view",{storyid:this.model.get("group").id});var n=new a.views.PostPublishModal({model:this.model,links:this.socialLinks.slice(),showBroadcastMessaging:t});this.$("#post-publish-modal").empty().append(n.render().$el),n.showModal()},onAddToListsReady:function(t,n){this.clearLists(),t.parent(".button-group").addClass("open"),t.removeClass("on-lists-add-clicked"),t.addClass("on-dismiss-lists"),$(e.document).one("click.bs.dropdown.data-api",{context:this},this.clearLists)},clearLists:function(t){var n=!1;if(t&&3===t.which)return!1;var a=null;t&&(a=$(t.target));var s=$(".btn-story-lists");if(_.each(s,(function(e){var t=$(e);a&&0!==t.parent(".button-group").find(a).length?a&&(n=!0):(t.parent(".button-group").removeClass("open"),t.removeClass("on-dismiss-lists"),t.addClass("on-lists-add-clicked"))})),n){var i=t.data.context;$(e.document).one("click.bs.dropdown.data-api",{context:i},i.clearLists)}return!0},onDismissLists:function(e){var t=$(e.currentTarget);t.parent(".button-group").removeClass("open"),t.removeClass("on-dismiss-lists"),t.addClass("on-lists-add-clicked")},buildSocialShareLinksForPart:function(e){return[{name:"post-to-profile",icon:"fa-user",nopopup:!0,label:t.utils.trans("Post to Your Profile"),href:"/"},{name:"embed",icon:"fa-code",nopopup:!0,label:t.utils.trans("Embed Story"),href:t.utils.sprintf("https://embed.wattpad.com/story/%s",[e.group.id])}]},onShareEmbed:function(e){var t=$("#generic-modal"),a=this;n.stopEvent(e),t.find(".modal-dialog").addClass("embed").find(".modal-body").html(this.partials["desktop.components.modal.share_embed"]({id:this.model.get("group").id,close:!0}));var s=t.find(".on-select").on("tap",this.onSelectEmbedUrl),i=t.find("iframe");i.attr("src",i.data("href"));t.modal("show").on("hide.bs.modal",(function e(){s.off("tap",a.onSelectEmbedUrl),t.off("hide.bs.modal",e)}))},onSelectEmbedUrl:function(){var t=e.document.createRange();t.selectNode(e.document.getElementById("embed-url")),e.getSelection().addRange(t)},onComments:function(t){var n,a=this;this.lockScrollUpdate(),_.defer((function(){var t,s;n=null===(t=a.$("#comments"))||void 0===t||null===(s=t.offset())||void 0===s?void 0:s.top,e.scrollTo(e.scrollX,n-Math.min(.5*e.innerHeight))}))},onHover:function(e){$(e.currentTarget).tooltip("show")},offHover:function(e){$(e.currentTarget).tooltip("show")},onImageHoverOn:function(e){var t=$(e.currentTarget),n=t.find("img"),a=n.position(),s=n.width(),i=n.height(),l=$(".image-options-container").clone(),r=l.find(".share-pinterest"),o=r.attr("href"),c=n.attr("src");o=this.preparePinterestUrl(c,o),r.attr("href",o),t.append('<div class="image-options">'+l.html()+"</div>");var u=t.find(".image-options");u.css({top:a.top+i,left:a.left}),u.width(s),u.removeClass("hide")},onImageHoverOut:function(e){this.$(".image-options").remove()},onReportImage:function(t){var a=$(t.currentTarget).parents("p").find("img").attr("src"),s=n.sprintf("http://www.wattpad.com/help/content/1?story_link=%s&media_link=%s",[e.encodeURIComponent(e.location.href),a]);return n.openPopup(s,n.trans("Report Story"),700,400)},onReportImageBanner:function(t){var a=$(".on-report-image-banner").parent().parent().siblings(".media-item").children("img").attr("src"),s=n.sprintf("http://www.wattpad.com/help/content/1?story_link=%s&media_link=%s",[e.encodeURIComponent(e.location.href),a]);return n.openPopup(s,n.trans("Report Story"),700,400)},onUpdateFollow:function(e){var t=this.$(this.followButton+"[data-target="+e+"]");t.removeClass("btn-white").addClass("btn-teal"),t.children(".fa").removeClass("fa-follow fa-wp-neutral-2").addClass("fa-following fa-wp-neutral-5"),t.children(".follow-text").text("Following")},onUpdateUnfollow:function(e){var t=this.$(this.followButton+"[data-target="+e+"]");t.removeClass("btn-teal").addClass("btn-white"),t.children(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-neutral-2"),t.children(".follow-text").text("Follow")},trackWidgetStoryVisibility:_.throttle((function(t){var a=$("#similar-stories .on-story-preview"),s=this.model.get("group").id,i=a.filter(":visible").length,l=this;i>0&&i===_.size(l.trackedSimilarStoryIds)?$(e).off("scroll",l.trackWidgetStoryVisibility):_.each(a,(function(t){var a=$(t);if(n.isOnScreen(a,1)){var i=a.data("story-id");l.trackedSimilarStoryIds[i]||(e.te.push("event","reading","similar_stories","story","view",{current_storyid:s,storyid:i}),l.trackedSimilarStoryIds[i]=!0)}}))}),350),remove:function(){$(e).off("scroll",this.trackWidgetStoryVisibility),a.views.CoreStoryReading.prototype.remove.apply(this,arguments)},showFullSizeMedia:function(t,n){var a=$("#picture-viewer");t&&(a.find(".modal-dialog").css({margin:0,width:"100%"}),a.find(".modal-content").css("border","none"),a.find(".modal-body").css("padding",0),a.css({display:"block",width:t.width,height:t.height,left:t.left,top:t.top}),_.delay((function(){if(a.addClass("displayed"),a.find(".modal-dialog").css({margin:"",width:""}),a.find(".modal-content").css("border",""),a.find(".modal-body").css("padding",""),!n){var t=$(e).height(),s=a.find(".zoomed-image");s.data("original-height")>t&&s.css({"max-height":t})}a.css({top:"",left:"",width:"",height:""})})))},onShowFullSizeImage:function(e){a.views.CoreStoryReading.prototype.onShowFullSizeImage.apply(this,arguments);var t=e.currentTarget.getBoundingClientRect();this.showFullSizeMedia(t,!1)},onFullSizeBanner:function(e){a.views.CoreStoryReading.prototype.onFullSizeBanner.apply(this,arguments);var t=e.currentTarget.getBoundingClientRect();this.showFullSizeMedia(t,!0)}})),a.mixin(a.views.StoryReading,"MediaSharing","SocialSharing","AffixElement","VoteManagement","LibraryManagement","StoryInListsManagement","AuthPromptManagement","FacebookConnect","FollowManager","Highlighter","StickyAds","RefreshAds")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(220),s=n.n(a),i=n(221),l=n.n(i);!function(e,t,n,a,i){a.add("HighlightTooltip",a.views.Base.extend({events:{"tap .on-open-embed":"onQuoteEmbed","click .on-open-embed":"stopEvent","tap .on-facebook-share":"onFacebookShareQuote","click .on-facebook-share":"stopEvent"},el:".highlight-tooltip",template:l.a,embedModalTemplate:s.a,initialize:function(e){e=e||{},this.quote=e.quoteString,this.storyId=e.storyId,this.url=e.url},render:function(){return $("#tooltip-container").html(this.template({})),this.setElement(".highlight-tooltip"),this},onFacebookShareQuote:function(){var n=this;this.url=t.utils.addSource(this.url,"web","facebook","share_quote"),FB.ui({method:"share",href:this.url,quote:this.quote},(function(){t.utils.pushEvent({category:"reading",action:"share:facebookquote",label:n.storyId}),n.remove(),e.getSelection().removeAllRanges()}))},onQuoteEmbed:function(e){n.pushEvent({category:"embed",action:"click",label:"quote"});var t=$("#generic-modal"),a={id:this.storyId,quoteText:this.quote,copyExec:!!document.queryCommandSupported&&document.queryCommandSupported("copy")};n.stopEvent(e),t.find(".modal-dialog").addClass("embed").find(".modal-body").html(this.embedModalTemplate(a));t.find(".on-copy").on("tap",this.onCopyEmbedCode);t.modal("show").on("hide.bs.modal",this.closeEmbed)},onCopyEmbedCode:function(){var t=document.querySelector("#embed-url"),a=document.createRange();a.selectNode(t),e.getSelection().removeAllRanges(),e.getSelection().addRange(a),document.execCommand("copy")?($(".on-copy").text(n.trans("Copied!")),n.pushEvent({category:"embed",action:"copy",label:"quote"})):$(".on-copy").text(n.trans("Sorry, unable to copy"))},closeEmbed:function(e){$(this).find(".modal-dialog").removeClass("embed"),this.tooltip.remove()}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,a,s,i){"use strict";s=s||(e.wattpad={}),i.router.on("route:userProfile",i.router.filter(["getTranslations","getCategories"],(function(t,a,l){var r=null;"object"===n(l)&&(l.redirectfrom||l.redirectFrom)&&new i.views.ErrorToast({message:s.utils.trans("We're sorry! The page you requested no longer exists.")+" "+s.utils.trans("So we have brought you to a related page.")},{type:"dismissable"}).render();a=a||"about","object"===n(l)&&l.message&&(l=null),r=new i.models.User({username:t}),s.utils.currentUser().get("username")&&e.store&&!e.store.getState().profileData.hasLoadad&&e.store.dispatch(e.app.components.actions.initializeMutedUsers(s.utils.currentUser().get("username"))),Promise.resolve(r.loaded()).then((function(){var n,o,c,u,d=!r.has("description"),h=null===(n=r)||void 0===n||null===(o=n.get("safety"))||void 0===o?void 0:o.isMuted,p=null===(c=r)||void 0===c||null===(u=c.get("safety"))||void 0===u?void 0:u.isBlocked;d&&i.router.navigate("/user/"+t,{trigger:!1,replace:!0});var m=s.utils.isUnsafe(r.get("name"))||s.utils.isUnsafe(r.get("username"))||s.utils.isUnsafe(r.get("description"));if(p){var f=new i.views.RestrictedProfile({profileType:"block",model:r,isMobile:i.get("device").is.mobile});i.transitionTo(f,{username:t,hasHeader:!0,hasFooter:!0,noIndex:m})}else if(h){var g=new i.views.RestrictedProfile({profileType:"mute",model:r,isMobile:i.get("device").is.mobile});i.transitionTo(g,{username:t,hasHeader:!0,hasFooter:!0,noIndex:m})}else{var v=new i.views.ProfileLayout({model:r,section:d?"about":a,username:t,isPrivateToMe:d,showEditProfile:l&&l.showEditProfile});i.transitionTo(v,{username:t,hasHeader:!0,hasFooter:!0,noIndex:m})}e.te.push("event","app","page",null,"view",{page:"profile",username:t})}),(function(){i.router.trigger("route:error-404","user")}))})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:authentication",s.router.filter(["getTranslations"],(function(t){var n;(t=t||"signup",a.utils.isHttp())?a.utils.redirectToServer(e.location.href):(n="signup"===t?new s.views.Landing({model:new s.models["Auth"+t]({}),page:t}):new s.views.Authentication({model:new s.models["Auth"+t]({}),page:t}),s.transitionTo(n,{hideAddressBar:!1,hasHeader:!1,hideAnnouncements:!0}))}))),s.router.on("route:oauth-auth",s.router.filter(["getTranslations"],(function(e){var t=new s.views.OauthAuthentication({model:new s.models.Authsignup({})});s.transitionTo(t,{hideAddressBar:!1,hasHeader:!1,hideAnnouncements:!0})})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:onboardingStep1",s.router.filter(["getTranslations"],(function(){var t=new s.views.OnboardingStep1;s.transitionTo(t,{hasHeader:!1,hasFooter:!1}),e.te.push("event","onboarding",null,null,"start")}))),s.router.on("route:onboardingGenres",s.router.filter(["getTranslations"],(function(){var e=a.utils.currentUser(),t=new s.collections.BrowseTopics([],{type:"onboarding"}),n=[];Promise.resolve(t.fetch()).then((function(e){n=e.topics.filter((function(e){return"paidstories"!==e.name&&"wattys2021"!==e.name&&"bhm2021"!==e.name}))})).catch((function(){n=null})).finally((function(){var t=new s.views.OnboardingGenres({user:e,genres:n});s.transitionTo(t,{hasHeader:!1,hasFooter:!1})}))}))),s.router.on("route:onboardingWriterJourney",s.router.filter(["getTranslations"],(function(){var e=a.utils.currentUser(),t=new s.views.OnboardingWriterJourney({user:e});s.transitionTo(t,{hasHeader:!1,hasFooter:!1})}))),s.router.on("route:onboardingSuccess",s.router.filter(["getTranslations"],(function(){var e=new s.views.OnboardingSuccess;s.transitionTo(e,{hasHeader:!1,hasFooter:!1})})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t,n){"use strict";n.router.on("route:storyReading",n.router.filter(["getTranslations","getCategories"],(function(a,s,i,l,r,o){a=parseInt(a,10);var c,u=new n.models.StoryPartModel({id:a}),d=!(!l||!l.toString().match(/[0-9_]+/)),h=!(!r||!r.toString().match(/[0-9_]+/)),p=[u.fetch()];if(isNaN(a))n.router.trigger("route:error-404","story");else{t.utils.appOn()||(i=i?parseInt(i,10)+1:2),t.utils.currentUser().get("username")&&e.store&&!e.store.getState().profileData.hasLoadad&&p.push(Promise.resolve(e.store.dispatch(e.app.components.actions.initializeMutedUsers(t.utils.currentUser().get("username"))))),d&&(c=new n.models.CommentModel({id:l},{isDeepLink:!0,commentIdToHighlight:r||l,isDeeplinkedReply:h}),p.push(c.fetch()));var m=Promise.all(p);(_.get(e,"wattpad.testGroups.PAID_CONTENT")||!1)&&(m=m.then((function(){var t=u.get("group");if(t.isPaywalled){var n=t.id,a=t.parts.map((function(e){return e.id}));return e.store.dispatch(e.app.components.actions.fetchPaidContentMetadata(n,a))}}))),m.then((function(){u.getPage(i||1).then((function(e){u.set("pageNumber",i||1);var a,s=e?e.get("text"):"",l=!(!o||"true"!==o.preview),r=19===parseInt(n.get("language"),10),d=!(!o||"true"!==o.firstPublish),h=!!n.views.WorksWriter&&(n.currentView instanceof n.views.WorksWriter&&!l&&!u.get("draft")),p={};if(a=r?["c Truyn"+u.get("title"),u.get("group").title,u.get("group").user.name,"Wattpad"].join(" - "):[u.get("title"),u.get("group").title,"Wattpad"].join(" - "),"undefined"!=typeof __atha){var m=__atha.sendPageView("reading",parseInt(u.get("group").id,10),u.get("id"),u.get("group"),u.attributes);u.set("pageviewId",m)}var f={model:u,storyText:s,fromLanding:n.currentView instanceof n.views.StoryLanding,isPreview:l,deepLinkModel:c,isFirstPublish:d,isPostPublishModal:h},g=new n.views.StoryReading(f);n.get("device").is.mobile&&(p={footerOptions:{appUrl:t.utils.getAppLink("story-reading",u)}});var v=u.get("group").isPaywalled,w=u.get("group").noIndex;if(n.transitionTo(g,_.extend({pageTitle:a,hasHeader:!0,hasFooter:!0,noIndex:w,viewChangedCallback:function(){g.updateScrollState(!0)},branchMetadata:{isPaywalled:v}},p)),t.utils.shouldSeePaidOnboarding(u.get("group").isPaywalled)){var y=u.get("id");t.utils.showPaidOnboardingAfterDelay(y)}}))}),(function(){n.router.trigger("route:error-404","story")}))}})))}(window,wattpad,window.app)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,a){"use strict";t=t||(e.wattpad={}),a.router.on("route:storyRanking",a.router.filter(["getTranslations"],(function(e,s,i){if(isNaN(parseInt(e)))a.router.trigger("route:error-404","story");else{if("object"===n(i)&&(i.redirectfrom||i.redirectFrom))new a.views.ErrorToast({message:t.utils.trans("We're sorry! The page you requested no longer exists.")+" "+t.utils.trans("So we have brought you to a related page.")},{type:"dismissable"}).render();var l=new a.models.StoryModel({id:e});Promise.resolve(l.fetch()).then((function(){if(_.isEmpty(l.get("tagRankings")))throw"Story does not have tag rankings";var e=new a.views.StoryRanking({model:l}),n=l.get("title")+(l.get("user")?" - "+l.get("user").name:"");19===parseInt(a.get("language"),10)&&(n="c Truyn "+l.get("title")+" - "+l.get("user").name),a.transitionTo(e,{pageTitle:t.utils.unsanitizeHTML(n),hasHeader:!0,hasFooter:!0})})).catch((function(){a.router.trigger("route:error-404")}))}})))}(window,wattpad,window.app)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,a){"use strict";t=t||(e.wattpad={}),a.router.on("route:storyLanding",a.router.filter(["getTranslations","getCategories"],(function(s,i,l,r){if(isNaN(parseInt(s)))a.router.trigger("route:error-404","story");else{var o=e&&e.wattpad&&!!e.wattpad.isModerator,c=e&&e.wattpad&&t.utils.currentUser().isStaff();if(!o&&!c){var u=a.experiments.get("new-story-details-rollout");u&&u.selected()}if("object"===n(r)&&(r.redirectfrom||r.redirectFrom))new a.views.ErrorToast({message:t.utils.trans("We're sorry! The page you requested no longer exists.")+" "+t.utils.trans("So we have brought you to a related page.")},{type:"dismissable"}).render();var d=new a.models.StoryModel({id:s,checkPromotionStatus:t.utils.eligibleForDirectSoldAds()&&!t.utils.currentUser().get("isPremium"),zoneIds:[127423]}),h=Promise.all([Promise.resolve(d.fetch({data:{include_deleted:t.utils.currentUser().get("isSysAdmin")||t.utils.currentUser().get("ambassador")}})),Promise.resolve(t.utils.currentUser().library().loaded())]);t.testGroups.PAID_CONTENT&&(h=h.then((function(){if(d.get("isPaywalled")){var t=d.get("id"),n=d.get("parts").map((function(e){return e.id}));return e.store.dispatch(e.app.components.actions.fetchPaidContentMetadata(t,n))}}))),h.then((function(){if("undefined"!=typeof __atha){var n=__atha.sendPageView("storylanding",parseInt(d.get("id"),10),void 0,d.attributes);d.set("pageviewId",n)}var i=new a.views.StoryLanding({model:d,section:l}),r=d.get("title")+(d.get("user")?" - "+d.get("user").name:"");19===parseInt(a.get("language"),10)&&(r="c Truyn "+d.get("title")+" - "+d.get("user").name+" - Wattpad");var o=d.get("noIndex");if(a.transitionTo(i,{pageTitle:t.utils.unsanitizeHTML(r),hasHeader:!0,hasFooter:!0,noIndex:o}),t.utils.shouldSeePaidOnboarding(d.get("isPaywalled"))){var c=d.get("id");t.utils.showPaidOnboardingAfterDelay(c)}e.te.push("event","story_details",null,null,"view",{storyid:s}),e.te.push("event","app","page",null,"view",{page:"story_details",storyid:s})}),(function(){r=r||{},a.router.trigger("route:error-404","story",s)}))}})))}(window,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a=a||(e.wattpad={}),s.router.on("route:notifications",s.router.filter(["getTranslations","requireLogin"],(function(){var t=new s.views.NotificationsPage;s.transitionTo(t,{hasHeader:!0,hasFooter:!0,pageTitle:"Wattpad - Notifications"}),e.te.push("event","app","page",null,"view",{page:"notifications_feed"})})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";n.router.on("route:search",n.router.filter(["getTranslations","getCategories"],(function(t,s){t=t||"";var i=new n.collections.BrowseTopics;Promise.resolve(i.fetch()).then((function(){!function(){var l={query:t?t.trim():"",limits:{users:20,stories:15},browseTopics:i};l.resultType=s||"stories";var r=new n.views.SearchLanding(l);n.mixin(n.views.SearchLanding,"StickyAds");var o=a.getSearchTitle(t);n.transitionTo(r,{hasHeader:!0,hasFooter:!0,pageTitle:o}),t.length?e.te.push("event","app","page",null,"view",{page:"search_results"}):e.te.push("event","app","page",null,"view",{page:"search"})}()}))})))}(window,wattpad,window.app,wattpad.utils)},function(e,t,n){"use strict";n.r(t);var a=n(222),s=n.n(a),i=n(223),l=n.n(i),r=n(224),o=n.n(r),c=n(225),u=n.n(c),d=n(226),h=n.n(d),p=n(38),m=n.n(p),f=n(227),g=n.n(f),v=n(228),w=n.n(v),y=n(229),b=n.n(y),x=n(41),C=n.n(x),S=n(230),k=n.n(S),M=n(16),T=n(14),P=n.n(T);!function(e,t,n,a){a.add("SearchLanding",a.views.RegionManager.extend({template:h.a,tabsTemplate:g.a,filtersTemplate:w.a,newStoryResultsTemplate:b.a,searchHeaderTemplate:C.a,blankSearchTemplate:k.a,events:{"tap .on-tab-navigate":"onTabNavigation","keyup .on-tab-navigate":"onTabNavigation","click .on-tab-navigate":"stopEvent"},initialize:function(e){var n,s;e=e||{},this.registerPartials(),this.initBackboneListeners(),this.initializeStoryTracking(),this.collections={stories:new a.collections.NodeStorySearch([],{searchTerm:e.query,limit:e.limits.stories}),users:new a.collections.NodeUserSearch([],{searchTerm:e.query,limit:e.limits.users})},(t.utils.currentUser()&&t.utils.currentUser().get("isMature")&&null===t.utils.getCookie("msf")||"1"===t.utils.getCookie("msf"))&&(this.collections.stories.mature=!0),0===e.query.indexOf("user:")&&(this.collections.stories.mature=!0),this.query=e.query,this.limits=e.limits,this.resultType=e.resultType,this.browseTopics=e.browseTopics,this.isMatureUser=(null==t||null===(n=t.utils)||void 0===n||null===(s=n.currentUser())||void 0===s?void 0:s.get("isMature"))||!1,null!=t&&t.testGroups.NEW_SEARCH_FILTERS&&!a.get("device").is.mobile&&this.collections.stories.fetch(),_.defer((function(){a.trigger("navbar:search:disable")})),_.defer((function(){a.trigger("navbar:search:set",e.query,!1)})),null!=t&&t.testGroups.NEW_SEARCH_LAYOUT||(this.searchHeader=new a.views.SearchHeader({storyCollection:this.collections.stories,userCollection:this.collections.users,topicCollection:this.browseTopics,searchTerm:this.query}))},registerPartials:function(){t.testGroups.NEW_SEARCH_LAYOUT?Handlebars.registerPartial("core.search.partials.search_header",this.searchHeaderTemplate):Handlebars.registerPartial("core.search.partials.search_header",(function(){return""})),Handlebars.registerPartial("core.search.partials.search_tabs",this.tabsTemplate),Handlebars.registerPartial("core.search.partials.results_people",(function(){return""})),Handlebars.registerPartial("core.search.partials.results_stories",(function(){return""})),Handlebars.registerPartial("core.signup_prompt",(function(){return""})),Handlebars.registerPartial("core.components.user_badges",m.a),null!=t&&t.testGroups.NEW_SEARCH_FILTERS&&!a.get("device").is.mobile&&(Handlebars.registerPartial("core.search.partials.search_filters",this.filtersTemplate),Handlebars.registerPartial("core.search.partials.stories_list",this.newStoryResultsTemplate)),null!=t&&t.testGroups.NEW_SEARCH_LAYOUT&&Handlebars.registerPartial("core.search.partials.blank_search",this.blankSearchTemplate)},initBackboneListeners:function(){this.listenTo(a,"navbar:search:query",this.dispatchQuery),this.listenTo(a,"app:component:TagMetaItem:click",this.navigateToTagPage),this.listenTo(a,"app:component:TagMetaNumNotShown:click",this.onStoryDetails),this.listenTo(a,"app:component:stories:view",this.addViewedStory),this.listenTo(a,"app:component:filters:updateLength",this.filterSearchResultsByLength),this.listenTo(a,"app:component:filters:updateAge",this.filterSearchResultsByAge),this.listenTo(a,"app:component:filters:updateContent",this.filterSearchResultsByContent),this.listenTo(a,"app:component:filters:addTag",this.filterSearchResultsByAddedTag),this.listenTo(a,"app:component:filters:toggleTag",this.filterSearchResultsByTag),this.listenTo(a,"app:component:search:profile:follow:clearCache",this.clearCacheOnProfileCardFollowClick),this.listenTo(a,"app:component:search:profile:click:clearCache",this.clearUserCollectionCache)},navigateToTagPage:function(e){t.utils.stopEvent(e);var n=$(e.currentTarget).text().trim();a.router.navigate("/stories/"+encodeURIComponent(n),{trigger:!0})},onStoryDetails:function(e){t.utils.stopEvent(e);var n=$(e.currentTarget).data("story-id"),s=this.collections.stories.get(n);a.router.navigate(t.utils.formatStoryUrl(s.get("url")),{trigger:!0})},render:function(){var i,r,c,d,h,p,m,f,g;(this.userSearchResultsView=new a.views.SearchResults({collection:this.collections.users,itemView:this.itemViewFactory(u.a,"Users"),template:o.a,dataKey:"Users",partial:"core.search.partials.results_person_item",manualRegistration:a.get("device").is.mobile&&"people"!==this.resultType}),null!=t&&t.testGroups.NEW_SEARCH_FILTERS&&!a.get("device").is.mobile?(this.collections.stories.once("sync",this.updateSearchComponents,this),this.collections.stories.fetch()):this.storySearchResultsView=new a.views.SearchResults({collection:this.collections.stories,itemView:this.itemViewFactory(l.a,"Stories"),template:s.a,dataKey:"Stories",partial:"core.search.partials.results_story_item",manualRegistration:a.get("device").is.mobile&&"stories"!==this.resultType}),t.utils.setCookie("signupFrom","search",0,e.location.hostname.replace("www","")),this.signUpPrompt=new a.views.SignUpPrompt({model:new a.models.Authsignup,nextUrl:e.location.href,subtitle:n.trans("Be part of a global community of readers and writers, all connected through the power of story."),focus:!1}),this.$el.html(this.template({isLogged:n.currentUser().authenticated(),isMobile:a.get("device").is.mobile,resultType:this.resultType,searchTerm:this.query,numStories:null===(i=this.collections)||void 0===i||null===(r=i.stories)||void 0===r?void 0:r.total,isMatureUser:this.isMatureUser,recentSearches:this.getRecentSearches(!0),browseTopics:this.browseTopics.toJSON()})),null!=t&&t.testGroups.NEW_SEARCH_FILTERS&&!a.get("device").is.mobile)&&this.updateFiltersContainer(this.query,this.resultType,null===(c=this.collections)||void 0===c||null===(d=c.stories)||void 0===d?void 0:d.total,null===(h=this.collections)||void 0===h||null===(p=h.users)||void 0===p?void 0:p.length,this.getWrappedTags(null===(m=this.collections)||void 0===m||null===(f=m.stories)||void 0===f||null===(g=f.tags)||void 0===g?void 0:g.toJSON()),this.selectedOptionsAge,this.selectedOptionsLength,this.selectedOptionsContent,this.isMatureUser);return this.$("#results-people-region").empty(),this.$("#results-stories").empty(),n.currentUser().authenticated()||a.get("device").is.mobile||this.setRegion("#authentication-panel",this.signUpPrompt.render()),null!=t&&t.testGroups.NEW_SEARCH_LAYOUT?this.updateSearchHeader(this.query):(this.$("#search-header").empty(),this.setRegion("#search-header",this.searchHeader.render())),this.setRegion("#results-people-region",this.userSearchResultsView),null!=t&&t.testGroups.NEW_SEARCH_FILTERS&&!a.get("device").is.mobile?this.updateStoriesList():(this.setRegion("#results-stories",this.storySearchResultsView),this.storySearchResultsView.setPaused(!0),this.storySearchResultsView.deregisterFromScrolling()),this.userSearchResultsView.setPaused(!0),this.userSearchResultsView.deregisterFromScrolling(),this},setElement:function(e){if(Monaco.View.prototype.setElement.apply(this,arguments),this.checkRegion("#search-header"),this.checkRegion("#authentication-panel"),this.checkRegion("#results-people-region"),this.checkRegion("#results-stories"),this.searchHeader&&this.searchHeader.$el.is(":visible")){var t=this.searchHeader.$("#search-field");if(t.length>0){var n=2*t.val().length;_.defer((function(){t.focus(),t[0].setSelectionRange(n,n)}))}}},checkRegion:function(e){this.regions[e]&&this.regions[e].view&&this.regions[e].view.setElement(this.$(e+" > div:first-child"))},unhideSearchResults:function(e){"stories"===e?(this.$("#results-people").addClass("hidden"),this.$("#section-results-people").addClass("hidden"),this.$("#section-results-stories").removeClass("hidden")):(this.$("#section-results-stories").addClass("hidden"),this.$("#results-people").removeClass("hidden"),this.$("#section-results-people").removeClass("hidden"))},initializeStoryTracking:function(){this.viewedStories=[]},addViewedStory:function(e){this.viewedStories.push(e)},redundantQuery:function(e){var t,n,a,s;if(e&&(0===(null===(t=this.collections)||void 0===t||null===(n=t.stories)||void 0===n?void 0:n.total)||null==(null===(a=this.collections)||void 0===a||null===(s=a.stories)||void 0===s?void 0:s.total))){var i=this.getRecentSearches(!1);i.shift(),localStorage.setItem("recentSearches",JSON.stringify(i))}},showLoadingSkeleton:function(){null!=t&&t.testGroups.NEW_SEARCH_SKELETON&&!a.get("device").is.mobile&&($(".story-card-skeleton-container").removeClass("hidden"),$(".story-card-container").addClass("hidden"),$(".profile-skeleton-container").removeClass("hidden"),$("#results-people .list-group").addClass("hidden"),$("#results-people .load-more").addClass("hidden"))},dispatchQuery:function(e){e=e.trim(),this.query.trim()!==e?(this.query=e,null!=t&&t.testGroups.NEW_SEARCH_LAYOUT&&this.showLoadingSkeleton(),this.updateSearch(e),this.updateTitle(e),null!=t&&t.testGroups.NEW_SEARCH_LAYOUT||this.updateHeader(e),n.scrollToTop()):this.redundantQuery(e)},updateTitle:function(e){e=e.trim();var t=n.getSearchTitle(e);e&&0!==e.length?n.setTitle(t):n.setTitle(t,!1)},handleSearchSubmit:function(e){a.trigger("navbar:search:set",e)},handleSaveSearchTerm:function(e){a.trigger("navbar:search:save",e)},updateSearchHeader:function(e){this.$("#search-header .container").html(this.searchHeaderTemplate({bannerMessages:P()(e),searchTerm:e,isMobile:a.get("device").is.mobile,handleSearchSubmit:this.handleSearchSubmit,handleSaveSearchTerm:this.handleSaveSearchTerm}))},updateSearchComponents:function(){var e,t,n,a,s,i,l;this.updateStoriesList(),this.updateFiltersContainer(this.query,this.resultType,null===(e=this.collections)||void 0===e||null===(t=e.stories)||void 0===t?void 0:t.total,null===(n=this.collections)||void 0===n||null===(a=n.users)||void 0===a?void 0:a.length,this.getWrappedTags(null===(s=this.collections)||void 0===s||null===(i=s.stories)||void 0===i||null===(l=i.tags)||void 0===l?void 0:l.toJSON()),this.selectedOptionsAge,this.selectedOptionsLength,this.selectedOptionsContent,this.isMatureUser)},updateBlankSearch:function(e){this.$("#blank-search").html(this.blankSearchTemplate({searchTerm:e,recentSearches:this.getRecentSearches(!0),browseTopics:this.browseTopics.toJSON()}))},updateFiltersContainer:function(e,t,n,a,s,i,l,r,o){this.$("#search-filters-container").html(this.filtersTemplate({searchTerm:e,resultType:t,numStories:n,numUsers:a,relatedTags:s,selectedOptionsAge:i,selectedOptionsLength:l,selectedOptionsContent:r,isMatureUser:o}))},updateStoriesList:function(){var e,n,a,s,i,l;this.$("#results-stories").html(this.newStoryResultsTemplate({resultType:this.resultType,stories:null===(e=this.collections)||void 0===e||null===(n=e.stories)||void 0===n?void 0:n.toJSON(),searchTerm:this.query,nextUrl:null===(a=this.collections)||void 0===a||null===(s=a.stories)||void 0===s?void 0:s.nextUrl,numStories:null===(i=this.collections)||void 0===i||null===(l=i.stories)||void 0===l?void 0:l.total,isMobile:"mobile"===t.utils.getDeviceType(),viewedStories:this.viewedStories}))},updateTabs:function(e){this.$("#search-tabs-container").html(this.tabsTemplate({searchTerm:e,resultType:this.resultType}))},updateSearch:_.debounce((function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.xhrs){var s,i,l,r,o,c,u,d,h,p,m,f,g,v;if(!0!==(null===(s=this.xhrs)||void 0===s?void 0:s.user)&&"pending"===(null===(i=this.xhrs)||void 0===i||null===(l=i.user)||void 0===l||null===(r=l.state)||void 0===r?void 0:r.call(l)))null===(h=this.xhrs)||void 0===h||null===(p=h.user)||void 0===p||null===(m=p.abort)||void 0===m||m.call(p);if(!0!==(null===(o=this.xhrs)||void 0===o?void 0:o.story)&&"pending"===(null===(c=this.xhrs)||void 0===c||null===(u=c.story)||void 0===u||null===(d=u.state)||void 0===d?void 0:d.call(u)))null===(f=this.xhrs)||void 0===f||null===(g=f.story)||void 0===g||null===(v=g.abort)||void 0===v||v.call(g)}var w,y=a.get("device").is.mobile&&!_.isEmpty(e.trim())?"/"+this.resultType:"";a.router.navigate("/search/"+encodeURIComponent(e.trim())+y,{trigger:!1,replace:!1}),this.initializeStoryTracking(),n||(this.collections.users=this.userSearchResultsView.newSearch(new a.collections.NodeUserSearch([],{searchTerm:e,limit:this.limits.users}))),(w=null!=t&&t.testGroups.NEW_SEARCH_FILTERS&&!a.get("device").is.mobile?new a.collections.NodeStorySearch([],{searchTerm:e,limit:this.limits.stories}):this.storySearchResultsView.newSearch(new a.collections.NodeStorySearch([],{searchTerm:e,limit:this.limits.stories}))).complete=this.collections.stories.complete,w.mature=this.collections.stories.mature,w.hot=this.collections.stories.hot,w.age=this.collections.stories.age,w.minParts=this.collections.stories.minParts,w.maxParts=this.collections.stories.maxParts,w.free=this.collections.stories.free,w.paid=this.collections.stories.paid,null!=t&&t.testGroups.NEW_SEARCH_LAYOUT||this.searchHeader.updateCollection(w),null!=t&&t.testGroups.NEW_SEARCH_LAYOUT&&this.updateBlankSearch(e),this.updateTabs(e),e?(this.$("main").removeClass("hidden"),this.unhideSearchResults(this.resultType)):this.$("main").addClass("hidden"),null!=t&&t.testGroups.NEW_SEARCH_LAYOUT&&this.updateSearchHeader(e),this.collections.stories=w;var b=n?Promise.resolve():this.collections.users.fetch({fresh:!0}),x=this.collections.stories.fetch({fresh:!0});this.xhrs={user:b,story:x};var C=this;Promise.all([b,x]).then((function(n){var s,i,l,r,o,c,u;n[0],n[1];null!=t&&t.testGroups.NEW_SEARCH_FILTERS&&!a.get("device").is.mobile&&(C.updateFiltersContainer(e,C.resultType,null===(l=w)||void 0===l?void 0:l.total,null===(r=C.collections)||void 0===r||null===(o=r.users)||void 0===o?void 0:o.length,C.getWrappedTags(null===(c=w)||void 0===c||null===(u=c.tags)||void 0===u?void 0:u.toJSON()),C.selectedOptionsAge,C.selectedOptionsLength,C.selectedOptionsContent,C.isMatureUser),C.updateStoriesList());if(e&&(0===(null===(s=w)||void 0===s?void 0:s.total)||null==(null===(i=w)||void 0===i?void 0:i.total))){var d=C.getRecentSearches(!1);d.shift(),localStorage.setItem("recentSearches",JSON.stringify(d))}})).catch((function(e){console.error("Error fetching search results",e)}))}),500),updateHeader:function(e){this.searchHeader.updateQuery(e)},getWrappedTags:function(e){return{tags:e}},getRecentSearches:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=localStorage&&JSON.parse(localStorage.getItem("recentSearches"))||[];return e?t.slice(0,3):t},clearUserCollectionCache:function(){var e,t;null===(e=this.collections)||void 0===e||null===(t=e.users)||void 0===t||t.clearCache()},clearUserProfileCache:function(e){var t,n,s;null==a||null===(t=a.local)||void 0===t||t.clear("user.".concat(e)),null==a||null===(n=a.local)||void 0===n||n.clear("user.".concat(e,".following")),null==a||null===(s=a.local)||void 0===s||s.clear("user.".concat(e,".profile.following"))},updateFollowStatus:function(e,t){var n=(null==a?void 0:a.get("followStatus"))||{};n[e]=t,null==a||a.set("followStatus",n)},clearCacheOnProfileCardFollowClick:function(e,t){var a,s=null==n||null===(a=n.currentUser())||void 0===a?void 0:a.get("username");this.clearUserCollectionCache(),this.updateFollowStatus(e,t),this.clearUserProfileCache(s),this.clearUserProfileCache(e)},itemViewFactory:function(e,t){return Monaco.View.extend({tagName:"li",className:"list-group-item",template:e,render:function(){var e=this.model.toJSON();e.searchTerm=this.model.collection.searchTerm;var n=this.model.cid;return e.index=this.model.collection.models.findIndex((function(e){return e.cid===n})),e.isMobile=a.get("device").is.mobile,"Stories"===t?(e.tagMeta={tags:e.tags,storyId:e.id,numShown:a.get("device")&&a.get("device").is.mobile?2:3},e.reactName="storyTags-"+e.id,e.sources=this.model.get("sources")||""):"Users"===t&&0!==e.badges.length&&(e.badges.indexOf("staff")>-1?e.staff=!0:e.badges.indexOf("verified")>-1?e.verified=!0:e.badges.indexOf("star")>-1?e.star=!0:e.badges.indexOf("ambassador")>-1&&(e.ambassador=!0)),this.$el.html(this.template(e)),this}})},onTabNavigation:function(e){if(!(e.originalEvent instanceof KeyboardEvent&&13!==e.keyCode)){var n=$(e.currentTarget);if(n.data("target")!==this.resultType){this.resultType=n.data("target");var s,i,l,r,o,c,u,d,h,p,m,f,g,v,w=this.query?"/search/"+encodeURIComponent(this.query):"/search";if("stories"!==this.resultType&&this.query&&(w=w+"/"+this.resultType),a.router.navigate(w,{replace:!0}),this.$("#tabs a").removeClass("active"),n.addClass("active"),"stories"===this.resultType){if(null!=t&&t.testGroups.NEW_SEARCH_FILTERS&&!a.get("device").is.mobile)this.updateFiltersContainer(this.query,"stories",null===(s=this.collections)||void 0===s||null===(i=s.stories)||void 0===i?void 0:i.total,null===(l=this.collections)||void 0===l||null===(r=l.users)||void 0===r?void 0:r.length,this.getWrappedTags(null===(o=this.collections)||void 0===o||null===(c=o.stories)||void 0===c||null===(u=c.tags)||void 0===u?void 0:u.toJSON()),this.selectedOptionsAge,this.selectedOptionsLength,this.selectedOptionsContent,this.isMatureUser)}else if(null!=t&&t.testGroups.NEW_SEARCH_FILTERS&&!a.get("device").is.mobile)this.updateFiltersContainer(this.query,"users",null===(d=this.collections)||void 0===d||null===(h=d.stories)||void 0===h?void 0:h.total,null===(p=this.collections)||void 0===p||null===(m=p.users)||void 0===m?void 0:m.length,this.getWrappedTags(null===(f=this.collections)||void 0===f||null===(g=f.stories)||void 0===g||null===(v=g.tags)||void 0===v?void 0:v.toJSON()),this.selectedOptionsAge,this.selectedOptionsLength,this.selectedOptionsContent,this.isMatureUser);this.unhideSearchResults(this.resultType)}}},pushEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.query,n=Object(M.getStoryLengthEventAttributes)(this.selectedOptionsLength),a=Object(M.getStoryLastUpdatedEventAttributes)(this.selectedOptionsAge),s=Object(M.getStoryContentEventAttributes)(this.selectedOptionsContent,this.isMatureUser),i="relevance",l=Object(M.getStoryTagsEventAttributes)(t);e.te.push("event","search","filter",null,"apply",{search:t,tags:l,Length:n,Update_time:a,Mature:s.mature,Completed:s.complete,free:s.free,paid:s.paid,sort:i,entry_point:"sidebar"})},filterSearchResultsByAge:function(e){this.selectedOptionsAge=e;var t=void 0;e.year?t=8760:e.month?t=720:e.week?t=168:e.day&&(t=24),this.collections.stories.setFilter("age",t),this.pushEvent(),this.updateSearch(this.query,!0)},filterSearchResultsByLength:function(e){this.selectedOptionsLength=e;var t=0,n=0;for(var a in e)if(e[a])switch(a){case"oneToTen":t=1,n=Math.max(10,n);break;case"tenToTwenty":t=0===t?10:Math.min(10,t),n=Math.max(20,n);break;case"twentyToFifty":t=0===t?20:Math.min(20,t),n=Math.max(50,n);break;case"moreThanFifty":t=0===t?50:t,n=0}this.collections.stories.setFilter("length",{minParts:t,maxParts:n}),this.pushEvent(),this.updateSearch(this.query,!0)},filterSearchResultsByAddedTag:function(t){this.pushEvent(t),e.te.push("event","search","story","tag","add",{tags:t.match(/#[\w]+(?=\s|$)/g)}),this.handleSearchSubmit(t)},filterSearchResultsByTag:function(t,n,s){if($(t.currentTarget).hasClass("active")){var i,l,r,o=s.split(" ");s=(o=o.filter((function(e){return e.trim()&&e!=="#".concat(n)}))).join(" ").trim(),null===(i=this.collections)||void 0===i||null===(l=i.stories)||void 0===l||null===(r=l.tags)||void 0===r||r.get(n).set("active",!1)}else{var c,u,d;s="".concat(s.trim()," #").concat(n),null===(c=this.collections)||void 0===c||null===(u=c.stories)||void 0===u||null===(d=u.tags)||void 0===d||d.get(n).set("active",!0)}this.pushEvent(s),e.te.push("event","search","story","tag","add",{tags:s.match(/#[\w]+(?=\s|$)/g)}),a.trigger("navbar:search:set",s)},filterSearchResultsByContent:function(e){this.selectedOptionsContent=e;this.collections.stories.setFilter("complete",e.complete),this.collections.stories.setFilter("mature",!!this.isMatureUser&&!e.mature),this.collections.stories.setFilter("free",!e.free),this.collections.stories.setFilter("paid",!e.paid),this.pushEvent(),this.updateSearch(this.query,!0)}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(231),s=n.n(a),i=n(232),l=n.n(i),r=n(41),o=n.n(r),c=n(233),u=n.n(c),d=n(14),h=n.n(d);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n,a){a.add("SearchHeader",a.views.RegionManager.extend({className:"container",template:o.a,suggestedSearchesTemplate:l.a,tagTemplate:s.a,browseTopicsTemplate:u.a,events:m({},null==t||!t.testGroups.NEW_SEARCH_FILTERS||a.get("device").is.mobile?{"tap .on-toggle-tag":"toggleTag","click .on-toggle-tag":"stopEvent"}:{}),resultsContainerClass:".list-group",initialize:function(e){var n=this;e=e||{},this.searchTerm=e.searchTerm,this.storyCollection=e.storyCollection,this.topicCollection=e.topicCollection,this.userCollection=e.userCollection,a.get("device").is.mobile?this.targetSelector="search-bar__input":this.targetSelector="search-query",null!=t&&t.testGroups.NEW_SEARCH_LAYOUT||(Handlebars.registerPartial("core.search.partials.suggested_searches",this.suggestedSearchesTemplate),Handlebars.registerPartial("core.search.partials.browse_topics",this.browseTopicsTemplate),Promise.resolve(e.topicCollection.fetch()).then((function(){n.topicCollection=e.topicCollection})),_.isEmpty(this.searchTerm)&&this.renderBrowseTopics(),Handlebars.registerPartial("core.search.partials.search_header_tags",this.tagTemplate),this.storyCollection.once("sync",this.updateTags,this)),null!=t&&t.testGroups.NEW_SEARCH_FILTERS&&!a.get("device").is.mobile||this.listenTo(a,"app:component:TagCarouselItem:click",this.toggleTag)},render:function(){var e,n,s,i;null!=t&&t.testGroups.NEW_SEARCH_LAYOUT||this.updateTags();var l=null==t||!t.testGroups.NEW_SEARCH_FILTERS||a.get("device").is.mobile?{tags:null===(e=this.storyCollection)||void 0===e||null===(n=e.tags)||void 0===n?void 0:n.toJSON(),withIcon:!0}:void 0,r=(null===(s=this.storyCollection)||void 0===s?void 0:s.searchTerm)||"";return this.$el.html(this.template({relatedTags:l,searchTerm:r,bannerMessages:h()(r),isMobile:a.get("device").is.mobile,browseTopics:this.topicCollection.toJSON(),numStories:null===(i=this.storyCollection)||void 0===i?void 0:i.length,handleSearchSubmit:function(e){a.trigger("navbar:search:set",e)},handleSaveSearchTerm:function(e){a.trigger("navbar:search:save",e)}})),this.listenTo(this.storyCollection,"sync",this.afterCollectionSync),null!=t&&t.testGroups.NEW_SEARCH_LAYOUT||!_.isEmpty(this.searchTerm)||(_.defer(this.renderBrowseTopics.bind(this)),_.defer(this.renderSuggestedSearches.bind(this))),this},afterCollectionSync:function(){null!=t&&t.testGroups.NEW_SEARCH_LAYOUT||(this.updateTags(),this.renderTags(),this.renderBrowseTopics(),this.renderSuggestedSearches())},updateTags:function(){this.storyCollection.tags||(this.storyCollection.tags=new Monaco.Collection,this.storyCollection.tags._app=a)},renderTags:function(){var e=h()(this.storyCollection.searchTerm);if(0===this.storyCollection.length)this.$("#tag-holder").html(this.tagTemplate({bannerMessages:e,numStories:0,isMobile:a.get("device").is.mobile}));else{this.$("#tag-holder").html(this.tagTemplate({relatedTags:{tags:this.storyCollection.tags.toJSON(),withIcon:!0},numStories:this.storyCollection.total,bannerMessages:e,isMobile:a.get("device").is.mobile}));var t=this.$el.find("#search-field");t.length>0&&this.storyCollection.searchTerm.trim()===t.val().trim()&&this.$("#search-field").removeClass("searching")}},renderSuggestedSearches:function(){var e,n;if(null==t||!t.testGroups.NEW_SEARCH_LAYOUT){var a=null===(e=this.storyCollection)||void 0===e||null===(n=e.searchTerm)||void 0===n?void 0:n.trim(),s=localStorage&&JSON.parse(localStorage.getItem("recentSearches"))||[];s=s.slice(0,3);var i=a||0===s.length;this.$("#suggested-searches").html(this.suggestedSearchesTemplate({searchTerm:a,suggestedSearchTerms:i?[]:s}))}},renderBrowseTopics:function(){var e,n;null!=t&&t.testGroups.NEW_SEARCH_LAYOUT||(this.topicCollection&&0===(null===(e=this.storyCollection)||void 0===e||null===(n=e.searchTerm)||void 0===n?void 0:n.trim().length)?this.$("#browse-topics").html(this.browseTopicsTemplate({browseTopics:this.topicCollection.toJSON(),searchTerm:this.storyCollection.searchTerm})):this.$("#browse-topics").html({searchTerm:this.storyCollection.searchTerm}))},toggleTag:function(t,n){var s,i,l,r,o=$(n.currentTarget),c="search-bar__input"===this.targetSelector?document.getElementsByClassName(this.targetSelector)[0]:document.getElementById(this.targetSelector);o.hasClass("active")?(c.value=c.value.trim().replace(" #"+t,""),null===(s=this.storyCollection)||void 0===s||null===(i=s.tags)||void 0===i||i.get(t).set("active",!1)):(c.value=c.value.trim()+" #"+t,null===(l=this.storyCollection)||void 0===l||null===(r=l.tags)||void 0===r||r.get(t).set("active",!0),e.te.push("event","search","story","tag","add",{tags:c.value.match(/#[\w]+(?=\s|$)/g)}));this.renderTags(),a.trigger("navbar:search:set",c.value,!0)},updateQuery:function(e){if(null==t||!t.testGroups.NEW_SEARCH_LAYOUT){var n=this.$el.find(this.targetSelector).addClass("searching");null!=t&&t.testGroups.NEW_SEARCH_SKELETON&&($(".story-card-skeleton-container").removeClass("hidden"),$(".story-card-container").addClass("hidden"),$(".profile-skeleton-container").removeClass("hidden"),$("#results-people .list-group").addClass("hidden"),$("#results-people .load-more").addClass("hidden")),n.val(e),this.renderTags()}},updateCollection:function(e){this.stopListening(this.storyCollection,"sync"),this.storyCollection.off("sync"),this.storyCollection=e,this.listenTo(this.storyCollection,"sync",this.afterCollectionSync)}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(234),s=n.n(a);!function(e,t,n,a){a.add("SearchResults",a.views.List.extend({templates:{searchResults:{}},events:_.extend({"tap .on-setfilter":"setFilter","click .on-setfilter":"stopEvent","tap    #last-updated-filters li a":"onChangeLastUpdate","change #last-updated-filters":"onChangeLastUpdate","click  #last-updated-filters":"stopEvent","tap    #content-length-filters li a":"onChangeContentLength","change #content-length-filters":"onChangeContentLength","click  #content-length-filters":"stopEvent","tap .on-show-filter-modal":"showFilterModal","click .on-show-filter-modal":"stopEvent"},a.views.List.prototype.events),className:"feed-item-new panel new-container",containerClass:".list-group",initializeListeners:function(e){e.once("sync",this.render,this),e instanceof a.collections.NodeStorySearch&&this.listenTo(e,"fetchNext:done",this.fetchNextDone)},initialize:function(e){this.advancedFilters={},this.dataKey=e.dataKey,this.templates.searchResults[this.dataKey]=e.template,Handlebars.registerPartial(e.partial,(function(){return""})),a.views.List.prototype.initialize.apply(this,arguments),this.initializeListeners(this.collection),t.testGroups.NEW_SEARCH_STORY_CARD_CONTAINER&&!a.get("device").is.mobile||(_.bindAll(this,"trackViews"),this.initializeTracking()),this.collection.searchTerm.trim().length>0?this.collection.fetch():this.render();var n=a.get("device");n.is.mobile&&Handlebars.registerPartial("core.components.search_filter_modal",s.a)},initializeTracking:function(){this.collection instanceof a.collections.NodeStorySearch&&(!t.testGroups.NEW_SEARCH_STORY_CARD_CONTAINER||a.get("device").is.mobile)&&($(e).off("scroll",this.trackViews),this.viewedPromotedStories=[],this.viewedStories=[],$(e).on("scroll",this.trackViews))},remove:function(){t.testGroups.NEW_SEARCH_STORY_CARD_CONTAINER&&!a.get("device").is.mobile||$(e).off("scroll",this.trackViews),a.views.List.prototype.remove.apply(this,arguments)},render:function(){var e=this.advancedFilters;if(e[this.dataKey.toLowerCase()]=this.collection.toJSON(),e["num"+this.dataKey]=this.collection.total||this.collection.models.length,e.showMore=!!this.collection.hasMore&&this.collection.hasMore(),e.isMatureUser=n.currentUser().get("isMature"),e.isMobile=a.get("device").is.mobile,e.showTotal=!e.isMobile||!e.showMore,e.searchTerm=this.collection.searchTerm,e.nextUrl=this.collection.nextUrl,e.resultType="users"===this.dataKey.toLowerCase()?"people":"stories",this.$el.html(this.templates.searchResults[this.dataKey](e)),this.$el.find(this.containerClass).empty(),this.renderCollection(),this.setButtonState(),this.bindEvents(),this.collection instanceof a.collections.NodeStorySearch&&(!t.testGroups.NEW_SEARCH_STORY_CARD_CONTAINER||a.get("device").is.mobile)){var s=this;_.defer((function(){s.trackViews()}))}return this},renderItem:function(e,t,n){a.views.IncrementalList.prototype.renderItem.apply(this,arguments),e instanceof a.models.StoryModel&&(n=n||this.collection.indexOf(e),t=t||this.getContainer())},onChangeContentLength:function(e){this.setFilterGroup(e,"length")},onChangeLastUpdate:function(e){this.setFilterGroup(e,"age")},setFilterGroup:function(e,t){var n,a=e.currentTarget;(n=a.selectedOptions?$(a.selectedOptions[0]).val():$(a).val())&&(this.getContainer().find(".ad-unit").remove(),this.collection.reset(),this.advancedFilters[t]=n,this.$(".fa.searching").removeClass("hidden"),this.collection.setFilter(t,n),this.collection.fetch({fresh:!0}))},setFilter:function(e){var t=$(e.currentTarget);t.toggleClass("active"),this.getContainer().find(".ad-unit").remove(),this.collection.reset(),this.collection.setFilter(t.data("filter"),t.hasClass("active")),this.$(".fa.searching").removeClass("hidden"),this.collection.fetch({fresh:!0})},showFilterModal:function(e){t.utils.stopEvent(e),a.get("device").is.mobile&&this.$(".search-filter-modal").modal({show:!0})},setButtonState:function(){"Users"!==this.dataKey&&("function"==typeof this.collection.hasMore&&this.collection.hasMore()?$(".on-showmore").parent().removeClass("hidden"):$(".on-showmore").parent().addClass("hidden"))},fetchNextDone:function(){var e=this.collection.total;if(null!==e){var a=t.utils.count(e),s=n.sprintf(t.utils.ngettext("%s Story","%s Stories",e),[a]);this.$("#header-left").text(s)}else this.$("#header-left").text("");this.$(".fa.searching").addClass("hidden")},newSearch:function(e){return this.stopListening(this.collection),this.collection=e,this.initializeListeners(this.collection),this.initializeTracking(),this.$(".fa.searching").removeClass("hidden"),e},trackViews:_.throttle((function(){var t=this;_.each(this.collection.models,(function(a){var s=a.id,i=a.sources||"",l=t.collection.indexOf(a),r=t.collection.searchTerm||"";if(-1===_.indexOf(t.viewedStories,s)){var o="mobile"===n.getDeviceType()?t.$("ul").find("[data-id='"+s+"'].shown-xxs"):t.$("ul").find("[data-id='"+s+"'].hidden-xxs");n.isOnScreen(o,.5)&&(t.viewedStories.push(s),e.te.push("event","story",null,null,"view",{storyid:s,page:"search",position:l,query:[r],algo_source:i}))}}));var a=this.collection.getPromotedStories();_.each(a,(function(e){var a=e.id;if(-1===_.indexOf(t.viewedPromotedStories,a)){var s=t.$("ul").find("[data-id='"+a+"']");if(n.isOnScreen(s,.67)){t.viewedPromotedStories.push(a);var i=[e.tracking.impressionUrl];e.tracking.thirdParty&&(i=i.concat(e.tracking.thirdParty.impressionUrls)),_.each(i,(function(e){$.ajax({type:"GET",url:e})}))}}}))}),200)})),a.mixin(a.views.SearchResults,"InfiniteScroll")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(235),s=n.n(a);!function(e,t,n,a){a.add("FeedAggregates",Monaco.View.extend({template:s.a,itemView:null,className:"modal-dialog",initialize:function(e){this.itemView=Monaco.View.extend({tagName:"li",template:e.itemTemplate,className:"list-group-item aggregate",initialize:function(){"follow"===this.model.get("type")&&(this.listenTo(a,"app:user:follow",this.onUpdateFollow),this.listenTo(a,"app:user:unfollow",this.onUpdateUnfollow))},render:function(){var e=this;return this.$el.html(this.template(this.model.toJSON())),_.defer((function(){e.$(".panel-body [data-toggle=tooltip]").tooltip()})),this},onAddedToLibrary:function(e){var n=this.$(this.libraryButton+"[data-story-id='"+e+"']");n.children(".fa").removeClass("fa-wp-neutral-2 fa-plus").addClass("fa-wp-neutral-5 fa-check"),n.children(".toggle-triangle").addClass("active"),n.children(".toggle-shadow").addClass("active"),n.attr("title",t.utils.trans("Added to Library")).tooltip("fixTitle")},onRemovedFromLibrary:function(e){var n=this.$(this.libraryButton+"[data-story-id='"+e+"']");n.children(".fa").addClass("fa-wp-neutral-2 fa-plus").removeClass("fa-wp-neutral-5 fa-check"),n.children(".toggle-triangle").removeClass("active"),n.children(".toggle-shadow").removeClass("active"),n.attr("title",t.utils.trans("Add to Library")).tooltip("fixTitle")},onUpdateFollow:function(e){var n=this.$(this.followButton+"[data-target="+e+"]");n.children(".fa").removeClass("fa-follow fa-wp-neutral-2").addClass("fa-following fa-wp-neutral-5"),n.children(".toggle-triangle").addClass("active"),n.children(".toggle-shadow").addClass("active"),n.attr("title",t.utils.trans("Following")).tooltip("fixTitle")},onUpdateUnfollow:function(e){var n=this.$(this.followButton+"[data-target="+e+"]");n.children(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-neutral-2"),n.children(".toggle-triangle").removeClass("active"),n.children(".toggle-shadow").removeClass("active"),n.attr("title",t.utils.trans("Follow")).tooltip("fixTitle")}}),a.mixin(this.itemView,"LibraryManagement","FollowManager"),this.title=e.title},render:function(){var e={};return"dedicate"===this.model.get("type")?(e.username=this.model.get("data").dedicator.name,e.avatar=this.model.get("data").dedicator.avatar):(e.username=this.model.get("data").user.name,e.avatar=this.model.get("data").user.avatar),e.createDate=this.model.get("createDate"),e.title=this.title,this.$el.html(this.template(e)),this.$(".modal-body .list-group").append(new this.itemView({model:this.model}).render().$el),this.collection.each((function(e){this.$(".modal-body .list-group").append(new this.itemView({model:e}).render().$el)}),this),this}}))}(window,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(236),s=n.n(a);!function(e,t,n,a,i){a.add("RecentlyRead",a.views.Base.extend({template:s.a,initialize:function(){this.collection.once("sync",this.render,this),this.collection.fetch({data:{limit:3}})},render:function(){var e=this.collection.toJSON();return _.forEach(e,(function(e){if(e.percentRead=0,e.readingURL=e.url,e.readingPosition&&0!==e.readingPosition.partId){var t=_.findIndex(e.parts,{id:parseInt(e.readingPosition.partId,10)});-1!==t&&(e.percentRead=t/e.parts.length*100,e.percentRead+=1/e.parts.length*100*parseFloat(e.readingPosition.position),e.readingURL=e.parts[t].url)}})),this.$el.html(this.template({recentlyRead:e,hasItems:e.length>0})),this},resource:function(){return"user."+n.currentUser().get("username").get("username")+".recently-read"}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(237),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("RecommendedStoryItemCover",l.views.Base.extend({className:"recommended-story-cover story-item",template:s.a,render:function(){return this.$el.html(this.template(this.model.toJSON())),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(238),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("RecommendedStoryItem",l.views.Base.extend({className:"recommended-story",template:s.a,events:{"tap   .btn-dismiss":"onDismiss","click .btn-dismiss":"stopEvent",mouseenter:"onShowControls",mouseleave:"onHideControls"},render:function(){var e=this;return this.$el.html(this.template(this.model.toJSON())),t.defer((function(){e.$(".recommended-story [data-toggle=tooltip]").tooltip()})),this},onAddedToLibrary:function(e){var n=this,s=this.$(this.libraryButton+"[data-story-id='"+e+"']");s.text(a.utils.trans("In Library")),s.attr("title",a.utils.trans("Added to Library")).tooltip("fixTitle"),e===parseInt(this.model.get("id"),10)&&(i.supportsTransition()&&this.$el.addClass("faded"),t.delay((function(){n.model.collection&&n.model.collection.removeAndDismiss(n.model)}),300))},onRemovedFromLibrary:function(e){var t=this.$(this.libraryButton+"[data-story-id='"+e+"']");t.text(a.utils.trans("Add")),t.attr("title",a.utils.trans("Add to Library")).tooltip("fixTitle")},onShowControls:function(e){this.$(".on-story-hover").fadeIn(150)},onHideControls:function(e){this.$(".on-story-hover").fadeOut(150)},onDismiss:function(e){n(e.currentTarget).data("story-id")===parseInt(this.model.get("id"),10)&&(i.supportsTransition()&&this.$el.addClass("faded"),this.model.collection&&this.model.collection.removeAndDismiss(this.model))}})),l.mixin(l.views.RecommendedStoryItem,"LibraryManagement")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(239),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("RecommendedStories",l.views.CollectionView.extend({className:"recommended-stories-view",containerClass:".collection",itemView:l.views.RecommendedStoryItem,template:s.a,initialize:function(e){if(void 0===(e=e||{}).username)throw new Error("RecommendedStories: options.username is missing (required).");e.is404&&(this.itemView=l.views.RecommendedStoryItemCover),this.collection=new l.collections.RecommendedStories([],{username:e.username,limit:e.limit||10}),this.setCollectionfilter(this.isInRange),this.listenTo(this.collection,"update",this.renderExtraItem)},render:function(){var e=this;return this.$el.html(this.template(a.testGroups||{})),Promise.resolve(this.collection.fetchNextSet()).then((function(){e.bindEvents(),e.renderCollection()})),this},renderCollection:function(){this.collection.models.length>0?l.views.CollectionView.prototype.renderCollection.apply(this,arguments):this.$("span").removeClass("hidden")},isInRange:function(){var e=this.collection.models.indexOf(this);return 0<=e&&e<=3},renderExtraItem:function(){var e=this.getContainer(),t=this.collection.models[3],n={model:t,cvIndex:4};t&&(this.viewPointers[t.cid]=new this.itemView(n),this.viewPointers[t.cid].render(),e[this.direction](this.viewPointers[t.cid].$el))}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(240),s=n.n(a),i=n(241),l=n.n(i);!function(e,t,n,a,i,r,o){r.add("RecommendedFollowItem",o.View.extend({className:"recommended-user",template:{row:l.a,card:s.a},events:{"tap .on-dismiss":"onDismiss","click .on-dismiss":"stopEvent"},initialize:function(e){e=e||{},this.cards=!!e.cards,this.listenTo(r,"app:user:follow",this.onUpdateFollow),this.listenTo(r,"app:user:unfollow",this.onUpdateUnfollow)},getClassName:function(e){return e?"recommended-user-card col-md-3 col-sm-4 col-xs-6":"recommended-user"},render:function(){var e=this.cards?this.template.card:this.template.row;return this.model.get("recommendationHint")&&this.model.set("recommendationHint",i.unsanitizeHTML(this.model.get("recommendationHint"))),this.$el.html(e(this.model.toJSON())),this},onUpdateFollow:function(e){var n=this;this.$(this.followButton+"[data-target="+e+"]").children(".fa").removeClass("fa-follow fa-wp-neutral-2").addClass("fa-following fa-wp-neutral-2");var a=this.model.collection;e===this.model.get("username")&&(i.supportsTransition()&&this.$el.addClass("faded"),t.delay((function(){n.model.collection&&(n.model.collection.remove(n.model),a.trigger("update"))}),300))},onUpdateUnfollow:function(e){this.$(this.followButton+"[data-target="+e+"]").children(".fa").removeClass("fa-following fa-wp-neutral-2").addClass("fa-follow fa-wp-neutral-2")},onDismiss:function(e){var a=this;n(e.currentTarget).data("target")===this.model.get("username")&&(i.supportsTransition()&&this.$el.addClass("faded"),t.delay((function(){a.model.collection&&a.model.collection.removeAndDismiss(a.model)}),300))}})),r.mixin(r.views.RecommendedFollowItem,"FollowManager")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(242),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("RecommendedFollow",l.views.CollectionView.extend({className:"recommended-users-view",containerClass:".collection",itemView:l.views.RecommendedFollowItem,template:s.a,itemCount:3,initialize:function(e){var t=this;if(void 0===(e=e||{}).username)throw new Error("RecommendedFollow: options.username is missing (required).");this.cards=!!e.cards,this.itemCount=e.itemCount||3,this.collection=new l.collections.RecommendedUsers([],{username:e.username,limit:e.limit||10}),this.isInRange=this.isInRangeFactory(),this.setCollectionfilter(this.isInRange);var n=Promise.resolve();this.listenTo(this.collection,"update",(function(){t.collection.length<t.itemCount+2&&(n=Promise.resolve(t.collection.fetchNextSet())),n.then((function(){t.renderExtraItem()}))}))},render:function(){var e=this;return this.$el.html(this.template({})),Promise.resolve(this.collection.fetchNextSet()).then((function(){e.bindEvents(),e.renderCollection({cards:e.cards,className:l.views.RecommendedFollowItem.prototype.getClassName(e.cards)})})),this},renderCollection:function(){this.collection.models.length>0?l.views.CollectionView.prototype.renderCollection.apply(this,arguments):this.$("span").removeClass("hidden")},isInRangeFactory:function(){var e=this;return function(){var t=this.collection.models.indexOf(this);return-1<t&&t<e.itemCount}},renderExtraItem:function(){var e=this.getContainer(),t=this.collection.models[2]?this.collection.models[2]:null,n={model:t,cvIndex:3,cards:this.cards,className:this.itemView.prototype.getClassName(!!this.cards)};t&&(this.viewPointers[t.cid]=new this.itemView(n),this.viewPointers[t.cid].render(),e[this.direction](this.viewPointers[t.cid].$el))}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t,n,a){"use strict";a.add("CoreBrowseStories",a.views.RegionManager.extend({filter:"hot",category:null,tag:"",id:"browse-stories-page",events:{"tap    .on-tab-nav":"onSectionNavigate","click  .on-tab-nav":"stopEvent","tap .on-filter-completed":"onShowCompleted","click .on-filter-completed":"stopEvent"},initialize:function(e){Handlebars.registerPartial("core.collection_views.browse_stories",(function(){return""})),Handlebars.registerPartial("core.signup_prompt",(function(){return""}))},setTabContent:function(){var e=new a.views.BrowseStories({filter:this.filter,category:this.category,tag:this.tag});this.$("#tab-content").empty(),this.clearRegion("#tab-content"),this.setRegion("#tab-content",e.render())},setElement:function(e){Monaco.View.prototype.setElement.apply(this,arguments),this.regions["#tab-content"]&&this.regions["#tab-content"].view&&this.regions["#tab-content"].view.setElement(this.$("#tab-content > div")),this.regions["#authentication-panel"]&&this.regions["#authentication-panel"].view&&this.regions["#authentication-panel"].view.setElement(this.$("#authentication-panel > div"))},onShowCompleted:function(e){var n=$(e.currentTarget);if(n.hasClass("active")){var a=t.utils.iconify("fa-check",16,"wp-base-2-dark");n.removeClass("active"),n.children(".fa").replaceWith(s),n.children(".show-completed-text").removeClass("fa-wp-base-2").addClass("fa-wp-neutral-2"),this.$el.removeClass("completed-only")}else{var s=t.utils.iconify("fa-circle-empty",16,"wp-neutral-3");n.addClass("active"),this.$el.addClass("completed-only"),n.children(".fa").replaceWith(a),n.children(".show-completed-text").removeClass("fa-wp-neutral-2").addClass("fa-wp-base-2")}},onSectionNavigate:function(e){t.utils.stopEvent(e);var n=$(e.currentTarget).parent().data("section");this.setSection(n)},setSection:function(t){var s=this.$("#filter-tabs");s.find("nav li").removeClass("active"),s.find("nav li[data-section="+t+"]").addClass("active");var i=e.location.href.replace(/\/?(hot|new|featured)$/,"");"hot"!==t&&(i+="/"+t),a.router.navigate(n.formatStoryUrl(i),{trigger:!1}),this.filter=t,this.setTabContent()}}))}(window,wattpad,wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(243),s=n.n(a),i=n(244),l=n.n(i);!function(e,t,n,a){a.add("CoreBrowseCategory",a.views.CoreBrowseStories.extend({template:l.a,events:_.extend({"tap .on-change-category":"onChangeCategory","click .on-change-category":"stopEvent"},a.views.CoreBrowseStories.prototype.events),initialize:function(e){e=e||{},this.category=e.category,this.filter=e.filter||"hot",a.views.CoreBrowseStories.prototype.initialize.apply(this,arguments);var t=a.get("device");t.is.mobile&&Handlebars.registerPartial("core.components.choose_category_modal",s.a)},render:function(){var s={active:{}},i=t.utils.getCookie("locale");i&&0!==i.trim().length||(i="en_US"),s.isEnglish="en_US"===i,s.active[this.filter]=!0,s.category=this.category.toJSON(),s.categories=a.get("categories").toJSON(),_.forEach(s.categories,(function(e){s.category.name==e.name?e.selected=!0:e.selected=!1})),s.dp=e.devicePixelRatio>=2?2:1,s.category.subtitle=n.categorySubtitle(s.category),this.$el.html(this.template(s)),this.setTabContent()},onChangeCategory:function(e){if(a.get("device").is.mobile)this.$(".choose-category-modal").modal({show:!0});else{var s=$(e.currentTarget).data("category"),i=a.get("categories").find((function(e,n,a){return t.utils.slugify(e.get("name_english"))===s.toLowerCase()}));a.router.navigate("/stories/"+s),this.category=i,this.filter="hot",t.utils.setTitle(n.trans("%s Stories and Books Free",i.get("name_english"))),this.render()}}}))}(window,wattpad,wattpad.utils,window.app)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,a,s,i){"use strict";i.router.on("route:browse-category",i.router.filter(["getTranslations","getCategories"],(function(t,a,l){var r,o,c=a||"hot";"object"===n(l)&&(l.redirectfrom||l.redirectFrom)&&new i.views.ErrorToast({message:s.utils.trans("We're sorry! The page you requested no longer exists.")+" "+s.utils.trans("So we have brought you to a related page.")},{type:"dismissable"}).render();t&&""!==t.trim()?(o=(o=i.get("categories").find((function(e,n,a){return s.utils.slugify(e.get("name_english"))===t.toLowerCase()})))||i.get("categories").at(0),r=new i.views.CoreBrowseCategory({category:o,filter:c})):r=new i.views.DiscoverLanding,i.transitionTo(r,{hasHeader:!0,hasFooter:!0,pageTitle:o?s.utils.trans("%s Stories and Books Free",o.get("name")):"Discover"}),e.te.push("event","app","page",null,"view",{page:"category",tags:o||"discover"})})))}(window,_,jQuery,wattpad,window.app)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,a,s,i){"use strict";i.router.on("route:browse-tag",i.router.filter(["getTranslations","getCategories"],(function(t,a,l){"object"===n(l)&&(l.redirectfrom||l.redirectFrom)&&new i.views.ErrorToast({message:s.utils.trans("We're sorry! The page you requested no longer exists.")+" "+s.utils.trans("So we have brought you to a related page.")},{type:"dismissable"}).render();var r,o,c=null,u=null,d=null,h=null,p=new i.collections.BrowseTopics;Promise.resolve(p.fetch()).then((function(){u=p.findWhere({name:t});var e=t.split(",")[0],n=t.split(",").slice(-1)[0];d=p.findWhere({name:e});var l=p.findWhere({name:n});u?(t=null,c=u.get("name"),o=u.get("topic"),h=new i.collections.TagModules([],{tags:c})):(t=t.toLowerCase(),o=t.split(",").map((function(e){return"#"+e})).join(" "),h=new i.collections.TagModules([],{tags:t})),Promise.resolve(h.fetchNextSet()).then((function(){r=new i.views.Browse({tag:t,topic:c,topicModel:u,collection:h,rootTopicModel:d,lastTopicModel:l,browseTopicsCollection:p,section:a});var e=!!t&&s.utils.isUnsafe(t);i.transitionTo(r,{hasHeader:!0,hasFooter:!0,noIndex:e,pageTitle:s.utils.trans("%s Stories",o)})}),(function(){i.router.trigger("route:error-404","browse-tag")}))}),(function(){i.router.trigger("route:error-404","browse-tag")})),e.te.push("event","app","page",null,"view",{page:"tag_page",tags:t,filter:a||null})})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t){"use strict";t.router.add({"contests/wattys2021":["contest_form",{}]})}(window,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:contest_form",s.router.filter(["getTranslations"],(function(e){var t,n;e&&(t=e.success,n=e.storyId);var a=new s.views.ContestForm({componentData:{storyId:n,success:"true"===t,isStandalonePage:!0}});s.transitionTo(a,{hasHeader:!1,hasFooter:!1})})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("ContestForm",a.views.DummyReactView.extend({events:{"click  .on-contest-popover":"onContestFormPopover","tap  .on-contest-popover":"onContestFormPopover","tap .on-okay":"onPopoverOk","click .on-okay":"stopEvent"},component:"ContestForm",componentId:"contest-form",constructor:function(e){var t={componentData:e.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,t)},initPopover:function(e,t,a,s,i){var l="";t&&(l+="<div class='main-content'>"+t,a&&(l+="<div class='secondary-content'>"+a+"</div>"),l+="</div>"),l+="<div class='tooltip-footer'>",s&&(l+="<a target='_blank' href="+s+">"+n.utils.trans("Learn More")+"</a>"),l+="<button type='button' class='btn on-okay btn-purple",i&&(l+=i),l+="'>"+n.utils.trans("OK")+"</button></div>",this.$(e).popover({template:'<div class="popover" role="tooltip" data-trigger="focus" ><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',html:!0,placement:"auto",content:function(){return l}}).on("shown.bs.popover",(function(e){var t=$(e.target);$(document).on("click.closePopover",(function(e){0===$(e.target).parents(".popover").length&&t.popover("hide")}))})).on("hide.bs.popover",(function(e){$(document).off("click.closePopover")})).on("hidden.bs.popover",(function(e){$(".multi-select").removeClass("disable-click")}))},onPopoverOk:function(e){e.preventDefault(),$(".popover").popover("hide"),$(".popover").css("display","none"),$(".multi-select").addClass("disable-click")},onContestFormPopover:function(e){e.preventDefault();var t=n.utils.trans;this.initPopover("#content-tooltip",t("What is mature content?"),t("These ratings help us understand if your story has sexual content, and if it does, to what magnitude. Stories with any level of sexual content are eligible to win, as long as they abide by our content guidelines."),{1:"https://www.wattpad.com/1066992263-the-2021-watty-awards-how-to-submit",2:"https://www.wattpad.com/1067023578-wattys-2021-comment-soumettre",3:"https://www.wattpad.com/1067047519-wattys-2021-come-iscriversi",4:"https://www.wattpad.com/1068809985-wattys-2021-wie-kann-eingereicht-werden",5:"https://www.wattpad.com/1068871662-wattys-2021-c%C3%B3mo-enviar",6:"https://www.wattpad.com/1068880353-wattys-2021-como-enviar",13:"https://www.wattpad.com/1068975624-wattys-2021-hoe-kun-je-inzenden",18:"https://www.wattpad.com/1069301402-wattys-2021-paano-magsumite",20:"https://www.wattpad.com/1069327801-wattys-2021-cara-mendaftar",23:"https://www.wattpad.com/1068991895-2021-watty-%C3%B6d%C3%BClleri-nasil-ba%C5%9Fvurulur"}[a.get("language")])}})),a.mixin(a.views.ContestForm)}(window,_,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(245),s=n.n(a);!function(e,t,n,a,i){a.add("DiscoverStories",a.views.Base.extend({id:"discover-landing",template:s.a,events:{"tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent"},initialize:function(e){e=e||{},this.setElement(e.el),e.placeholder&&this.collection.once("sync",this.render,this),this.collection.fetch()},render:function(){var t={panels:this.collection.getPanelGroup(),dp:e.devicePixelRatio>=2?2:1};return t.panels.length>0&&(t.mobilePanels=[{story:this.collection.at(0).toJSON()},{story:this.collection.at(1).toJSON()}]),this.$(".loading-placeholder").addClass("hidden").after($(this.template(t)).find(".story-grid")),this},onStoryPreview:function(e){var t=$(e.currentTarget).data("story-id"),s=this.collection.get(t),i=$("#preview-modal"),l=new a.views.BrowseStoryPreview({model:s});if(!i.length)return a.router.navigate(n.formatStoryUrl(s.get("url")),{trigger:!0});i.empty().append(l.render().$el),l.openModal()}})),a.mixin(a.views.DiscoverStories,"LibraryManagement")}(window,wattpad,wattpad.utils,window.app,_)},function(e,t,n){"use strict";n.r(t);var a=n(246),s=n.n(a);!function(e,t,n,a,i){a.add("DiscoverLists",a.views.Base.extend({template:s.a,initialize:function(e){e=e||{},this.setElement(e.el),e.placeholder&&this.collection.once("sync",this.render,this),this.collection.fetch(),this.listenTo(a,"app:user:follow",this.onUpdateFollow),this.listenTo(a,"app:user:unfollow",this.onUpdateUnfollow)},render:function(){var e={lists:i.take(this.collection.toJSON(),3)};return this.$(".loading-placeholder").addClass("hidden").after($(this.template(e)).find(".reading-list-grid")),this},onUpdateFollow:function(e){this.$(this.followButton+"[data-target="+e+"]").children(".fa").removeClass("fa-follow fa-wp-neutral-2").addClass("fa-following fa-wp-neutral-2")},onUpdateUnfollow:function(e){this.$(this.followButton+"[data-target="+e+"]").children(".fa").removeClass("fa-following fa-wp-neutral-2").addClass("fa-follow fa-wp-neutral-2")}})),a.mixin(a.views.DiscoverLists,"FollowManager")}(window,wattpad,wattpad.utils,window.app,_)},function(e,t,n){"use strict";n.r(t);var a=n(247),s=n.n(a),i=n(248),l=n.n(i),r=n(249),o=n.n(r);!function(e,t,n,a){a.add("DiscoverLanding",a.views.RegionManager.extend({template:o.a,partials:{"core.discover.discover_categories":l.a,"core.discover.discover_tags":s.a,"core.collection_views.recommended_follow":function(){return""},"core.signup_prompt":function(){return""}},id:"discover-landing",events:{},initialize:function(e){e=e||{},_.each(this.partials,(function(e,t){Handlebars.registerPartial(t,e)}))},render:function(){var s=n.currentUser(),i={panelGroups:[]};if(n.appOn()){for(var l=this.collection.toJSON(),r=0;r<l.length;r++)"stories"!==l[r].listType&&"reading_lists_with_users"!==l[r].listType||i.panelGroups.push({placeholder:!0,placeholderType:l[r].listType,title:n.PanelBuilder.linkifyTitle(l[r].title,l[r].elements),subtitle:l[r].subtitle,url:l[r].url,cache:l[r].id}),2===r&&i.panelGroups.push({title:n.trans("Suggested Tags"),tags:s.get("recommendedTags")});i.panelGroups[0].layout=n.PanelBuilder.Layouts.FourUpInside,i.panelGroups[1].layout=n.PanelBuilder.Layouts.FourUpNone,i.categories=a.get("categories").toJSON(),i.currentUser=n.currentUser().get("username"),i.onboarding=!0,t.utils.setCookie("signupFrom","discover",0,e.location.hostname.replace("www","")),this.$el.html(this.template(i)),this.bindDiscoveryPanelGroups()}var o=new a.views.SignUpPrompt({model:new a.models.Authsignup,subtitle:t.utils.trans("Sign Up"),sideWay:!0});if(this.setRegion("#authentication-panel",o.render()),s.get("username")){var c=new a.views.RecommendedFollow({username:s.get("username"),cards:!0,itemCount:4});this.setRegion("#recommended-users",c.render())}return this},bindDiscoveryPanelGroups:function(){var e=this;e.subViews=e.subViews||[],this.$("[data-type=discover-stories]").each((function(){var t=$(this);e.subViews.push(new a.views.DiscoverStories({el:this,placeholder:t.data("placeholder"),collection:new a.collections.DiscoverCollection([],{url:t.data("url"),cache:t.data("cache"),layout:t.data("layout")})}))})),this.$("[data-type=discover-reading_lists_with_users]").each((function(){var t=$(this);e.subViews.push(new a.views.DiscoverLists({el:this,placeholder:t.data("placeholder"),model:e.model,collection:new a.collections.DiscoverListsCollection([],{url:t.data("url"),cache:t.data("cache"),layout:t.data("layout")})}))}))},setElement:function(e){Monaco.View.prototype.setElement.apply(this,arguments),this.regions["#recommended-users"]&&this.regions["#recommended-users"].view&&this.regions["#recommended-users"].view.setElement(this.$("#recommended-users > div")),this.regions["#authentication-panel"]&&this.regions["#authentication-panel"].view&&this.regions["#authentication-panel"].view.setElement(this.$("#authentication-panel > div")),this.bindDiscoveryPanelGroups()}}))}(window,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:discover",s.router.filter(["getTranslations","getCategories"],(function(){var e=new s.collections.Discover,t=new s.views.DiscoverLanding({collection:e});Promise.resolve(e.fetch()).then((function(){s.transitionTo(t,{hasHeader:!0,hasFooter:!0,pageTitle:a.utils.trans("Discover")})}))})))}(window,_,jQuery,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(250),s=n.n(a);!function(e,t,n,a){a.add("LibraryReadingListStoryItem",Monaco.View.extend({className:"list-group-item",tagName:"li",template:s.a,initialize:function(e){e=e||{},this.isOwner=e.isOwner||!1,this.listId=e.id||null},render:function(){var e=this.model.toJSON();return e.list={isOwner:this.isOwner,listId:this.listId},this.$el.html(this.template(e)),this}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(42),s=n.n(a),i=n(55),l=n.n(i),r=n(251),o=n.n(r),c=n(252),u=n.n(c);!function(e,t,n,a){a.add("CoreLibraryReadingList",a.views.IncrementalList.extend({template:u.a,partials:{sidebar:o.a,meta:l.a,listModal:s.a},id:"reading-list",containerClass:".list-group",itemView:a.views.LibraryReadingListStoryItem,events:_.extend({"tap .on-delete-list":"onDeleteList","click .on-delete-list":"stopEvent","tap .on-edit-list":"onToggleEditUI","click .on-edit-list":"stopEvent","tap .on-done-edit":"onDoneEditList","click .on-done-edit":"stopEvent","tap .on-batch-remove":"onBatchRemove","click .on-batch-remove":"stopEvent","tap .on-batch-add":"onShowBatchAddModal","click .on-batch-add":"stopEvent","tap .on-check-story":"onSelected","click .on-check-story":"stopEvent","tap .on-select-all":"onSelectAll","click .on-select-all":"stopEvent","tap .list-group-item":"sendStoryClickTrackingEvent","click .list-group-item":"stopEvent"},a.views.IncrementalList.prototype.events),initialize:function(e){if(!(e=e||{}).model)throw new Error("Invalid Reading List provided to LibraryReadingList view.");this.collection=this.model.stories(),this.selectedStoryIDs=[],this.inEditMode=!1;var t="core.library.reading_list_details.library_reading_list_";Handlebars.registerPartial(t+"sidebar",this.partials.sidebar),Handlebars.registerPartial(t+"meta",this.partials.meta),Handlebars.registerPartial(t+"story_item",(function(){return""})),Handlebars.registerPartial("core.mixins.lists_modal",this.partials.listModal),Handlebars.registerPartial("core.signup_prompt",(function(){return""})),this.listenTo(a,"app:user:follow",this.updateToFollowingButton),this.listenTo(a,"app:user:unfollow",this.updateToFollowButton),this.collection.once("sync",this.render,this),this.collection.fetchNextSet(),this.$el.html(this.template({isLogged:n.currentUser().authenticated()}))},render:function(){return a.views.IncrementalList.prototype.render.apply(this,arguments),n.currentUser().authenticated()||(this.signUpPrompt=new a.views.SignUpPrompt({model:new a.models.Authsignup,subtitle:n.trans("Get notified when your favorite stories are updated.")}),this.$el.find("#authentication-panel").append(this.signUpPrompt.render().$el)),this},getItemViewOptions:function(){return{isOwner:this.model.get("user").name===t.utils.currentUser().get("username"),id:this.model.get("id")}},getTemplateData:function(){var e={list:this.model.toJSON(),hasStories:this.collection.total>0,noStories:0===this.collection.total,isOwner:this.model.get("user").name===t.utils.currentUser().get("username"),testGroups:t.testGroups},n={id:this.model.get("id"),cover:this.model.get("cover"),author:this.model.get("user").name,name:this.model.get("name")};return e.socialLinks=this.buildSocialShareLinksForReadingList(n),e},onShowMore:function(e){e&&n.stopEvent(e),this.$(".show-more-message").addClass("hidden"),this.$(".loading-message").removeClass("hidden");var t=this;Promise.resolve(this.collection.fetchNextSet()).then((function(){t.setupDOM(),t.inEditMode&&(t.$(".list-group .on-edit-show").show(),t.$(".list-group .on-edit-hide").hide()),t.$(".show-more-message").removeClass("hidden"),t.$(".loading-message").addClass("hidden")}))},onSocialShareSelected:function(t){e.te.push("event","library","reading_list",null,"share",{reading_listid:this.model.get("id"),channel:$(t.currentTarget).data("share-channel")})},getContainer:function(){return this.containerClass?this.$(this.containerClass):this.$el},onSelected:function(e){var t=this.$(e.currentTarget).find(".checked-in"),n=this.getSelectedStoryID(t);this.toggleInput(t,n),this.selectedStoryIDs.length>=this.collection.total?this.$(".select-all .checked-in").show():this.$(".select-all .checked-in").hide()},toggleInput:function(e,t,n){"show"===(n=n||("none"===e.css("display")?"show":"hide"))?(e.show(),this.selectStoryID(t)):(e.hide(),this.unselectStoryID(t))},selectStoryID:function(e){_.includes(this.selectedStoryIDs,e)||this.selectedStoryIDs.push(e),this.showNumberOfSelectedStories(this.selectedStoryIDs.length)},unselectStoryID:function(e){this.selectedStoryIDs=_.without(this.selectedStoryIDs,e),this.showNumberOfSelectedStories(this.selectedStoryIDs.length)},getSelectedStoryID:function(e){return $(e).parent().data("id")},showNumberOfSelectedStories:function(e){e?(this.$(".num-selected").text(t.utils.trans("%s Selected",e)),this.$("#btn-batch-add, #btn-batch-remove").removeAttr("disabled"),this.$(".list-controls").slideDown()):this.$(".list-controls").slideUp()},onSelectAll:function(e){var t=this.$(".select-all .checked-in");t.toggle();var n=this,a=t.is(":visible");this.$(".list-group-item .checked-in").each((function(e,t){n.toggleInput($(this),n.getSelectedStoryID(t),a?"show":"hide")}))},onShowBatchAddModal:function(e){var t=new a.views.LibraryBatchAddStories({stories:this.selectedStoryIDs,currentListId:this.model.get("id")});this.$el.append(t.$el)},onBatchRemove:function(n){var a=this,s=this.selectedStoryIDs.map((function(e){return a.collection.get(e)}));e.confirm(t.utils.trans("Are you sure you want to remove these stories?"))&&a.collection.remove(s,{success:function(){a.model.set("numStories",a.model.get("numStories")-s.length),_.each(a.selectedStoryIDs,(function(e){a.unselectStoryID(e)}))},error:function(n){console.error(n),e.alert(t.utils.trans("The stories could not be removed. Please contact Wattpad support to resolve this problem."))}})},onToggleEditUI:function(){this.inEditMode=!this.inEditMode,this.$(".on-edit-show, .on-edit-hide").each((function(){$(this).toggle()}))},hideEditUI:function(){this.$(".list-name > span").text(this.model.get("name")),this.onToggleEditUI(),this.$(".list-controls").hide(),this.$("#reading-list-meta").replaceWith(l()({list:this.model.toJSON()}))},onDoneEditList:function(){var e=this,t=this.$("#list-name-input").val().trim(),n=this.model.get("name").trim();if(!_.isEmpty(t)&&t.toLowerCase()!==n.toLowerCase())return e.model.set("name",t),Promise.resolve(this.model.save()).then((function(){e.hideEditUI()})).catch((function(t){console.error(t),e.model.set("name",n)}));e.hideEditUI()},onDragEnd:function(){var n=this.DragAndSort.element,s=this.model.get("id");a.local.clear("reading-list."+s+".stories"),Promise.resolve($.ajax({type:"PUT",url:"/api/v3/lists/"+s+"/stories/"+n.children().data("id")+"/position",data:{pos:n.index()}})).catch((function(n){console.error(n),e.alert(t.utils.trans("This story could not be re-ordered. Please contact Wattpad support to resolve this problem."))}))},onDeleteList:function(){e.confirm(t.utils.trans("Are you sure you want to delete this reading list?"))&&(n.cacheBust(["ReadingLists"],[{username:t.utils.currentUser().get("username")}],this.model.get("id")),this.model.destroy({success:function(e,t){a.router.navigate("/list",{trigger:!0})},error:function(n,a){console.error(a),void 0!==a&&1008===a.responseJSON.error_code?e.alert(t.utils.trans("This is your default list; it cannot be deleted")):e.alert(t.utils.trans("We could not delete this reading list. Please contact us to resolve this problem."))}}))},updateToFollowingButton:function(e){var t=this.$(".btn-fan");t.removeClass("btn-white").addClass("btn-teal"),t.find(".fa").removeClass("fa-follow fa-wp-base-2-dark").addClass("fa-following fa-wp-neutral-5"),this.$(".created-by-user").text(n.trans("Selected by %s",e))},updateToFollowButton:function(e){var t=this.$(".btn-fan");t.removeClass("btn-teal").addClass("btn-white"),t.find(".fa").removeClass("fa-following fa-wp-neutral-5").addClass("fa-follow fa-wp-base-2-dark"),this.$(".created-by-user").text(n.trans("Follow %s",e))},sendStoryClickTrackingEvent:function(t){e.te.push("event","reading_list","story",null,"click",{reading_listid:this.collection.listId,storyid:$(t.currentTarget).find("div.clearfix").data("id")})}})),a.mixin(a.views.CoreLibraryReadingList,"InfiniteScroll","DragAndSort","SocialSharing","FollowManager","FacebookConnect")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(253),s=n.n(a);!function(e,t,n,a){a.add("LibraryListCard",a.views.Base.extend({className:"reading-list-item-row",template:s.a,events:{"tap .on-delete-list":"onDelete","click .on-delete-list":"stopEvent"},active:!1,render:function(){var e=this.model.toJSON();return e.socialLinks=this.buildSocialShareLinksForReadingList(_.clone(e,{author:n.currentUser().get("username")}),"list"),e.testGroups=t.testGroups,this.$el.html(this.template(e)),this},onDelete:function(){e.confirm(t.utils.trans("Are you sure you want to delete this reading list?"))&&this.model.destroy()}})),a.mixin(a.views.LibraryListCard,"SocialSharing")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(254),s=n.n(a);!function(e,t,n,a){a.add("LibraryListsControls",Monaco.View.extend({template:s.a,events:{"tap .on-newlist":"onOpenNewListModal"},render:function(){return this.$el.html(this.template({islist:!0})),this},onOpenNewListModal:function(){var e=$("#generic-modal"),t=new a.views.LibraryListCreate;e.find(".modal-body").empty().append(t.render().$el),e.modal("show")}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(255),s=n.n(a);!function(e,t,n,a){a.add("LibraryListsLanding",a.views.List.extend({template:s.a,className:"library-lists-landing",containerClass:".reading-list-tab",itemView:a.views.LibraryListCard,initialize:function(){Handlebars.registerPartial("core.library.library_reading_list_item",(function(){return""})),this.listenTo(this.collection,"sync",this.render),this.collection.fetchNextSet()},getTemplateData:function(){return{hasLists:this.collection.total>0}},onDragEnd:function(){var e=this.DragAndSort.element;n.cacheBust("ReadingLists",[{username:n.currentUser().get("username")}]),Promise.resolve($.ajax({type:"PUT",url:"/api/v3/users/"+n.currentUser().get("username")+"/lists/"+e.children().first().data("id")+"/position",data:{pos:e.index()}})).catch((function(e){console.error(e)}))}})),a.mixin(a.views.LibraryListsLanding,"InfiniteScroll","DragAndSort")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(25),s=n.n(a),i=n(42),l=n.n(i);!function(e,t,n,a){a.add("LibraryBatchAddStories",a.views.Base.extend({templates:{modal:l.a,item:s.a},events:{"tap .on-modify-list":"onModifyList","click .on-modify-list":"stopEvent","tap .fa-remove-alt":"onDestroyModal","click .fa-remove-alt":"stopEvent"},initialize:function(e){var n=this;e=e||{},this.stories=e.stories,this.currentListId=e.currentListId,this.readingLists=new a.collections.ReadingLists([],{username:t.utils.currentUser().get("username"),limit:30}),Promise.resolve(this.readingLists.fetchNextSet()).then((function(){n.render()}))},onDestroyModal:function(){this.$(".modal").modal("hide"),$(".modal-backdrop").remove(),this.remove(),Backbone.View.prototype.remove.call(this)},render:function(){this.$el.html(this.templates.modal());var e=this.$(".lists-menu");return _.each(this.readingLists.models,(function(t){if(t.get("id")!==this.currentListId){var n={id:t.get("id"),name:t.get("name"),hideStatus:!1};e.append(this.templates.item(n)),this.listenTo(t,"stories:adding",(function(e){this.onListAdding(e)})),this.listenTo(t,"stories:added",(function(e){this.onListAdded(e)}))}}),this),this.$(".modal").modal("show"),this},onModifyList:function(n){var s=$(n.currentTarget).data("list-id"),i=this.readingLists.get(s),l=[];_.each(this.stories,(function(e){l.push(new a.models.StoryModel({id:e}))})),i.trigger("stories:adding",n.currentTarget),i.stories().add(l,{success:function(){i.trigger("stories:added",n.currentTarget),a.local.clear(i.resource()),a.local.clear(i.stories().resource())},error:function(){e.alert(t.utils.trans("The stories could not be added. Please contact Wattpad support to resolve this problem.")),$(n.currentTarget).children(".status").addClass("hidden")}})},onListAdded:function(e){var t=$(e).children(".status");t.children(".spinner").addClass("hidden"),t.children(".check").removeClass("hidden"),t.parent().addClass("disabled")},onListAdding:function(e){$(e).children(".status").children(".spinner").removeClass("hidden")}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(256),s=n.n(a);!function(e,t,n,a){a.add("LibraryLanding",a.views.RegionManager.extend({template:s.a,events:{"tap .tab-control":"onSwitchTabs","click .tab-control":"stopEvent"},initialize:function(e){if(e=e||{},Handlebars.registerPartial("core.library.library_controls",(function(){return""})),Handlebars.registerPartial("core.library.library_controls.library_lists_controls",(function(){return""})),Handlebars.registerPartial("core.library.library_listing",(function(){return""})),Handlebars.registerPartial("core.library.library_lists_landing",(function(){return""})),this.active=e.section||"current-reads",!_.contains(["current-reads","archive","reading-lists"],this.active))throw new Error("Invalid Section Supplied to LibraryLanding View");this.setCollection(this.active)},setCollection:function(e){switch(e){case"current-reads":this.collection=new a.collections.NodeLibrary;break;case"archive":this.collection=new a.collections.Archive;break;case"reading-lists":var n=t.utils.currentUser().get("username");this.collection=new a.collections.ReadingLists([],{username:n})}},getListView:function(){var e="LibraryListing";return this.collection instanceof a.collections.ReadingLists&&(e="LibraryListsLanding"),new a.views[e]({collection:this.collection})},getControlsView:function(){var e="LibraryControls";return this.collection instanceof a.collections.ReadingLists&&(e="LibraryListsControls"),new a.views[e]({collection:this.collection})},render:function(){return this.libraryControlsView=this.getControlsView(),this.$el.html(this.template({islibrary:"current-reads"===this.active,isarchive:"archive"===this.active,islist:"reading-lists"===this.active})),this.setRegion("#library-controls",this.libraryControlsView.render()),this.setRegion("#tab-content",this.getListView()),this},setElement:function(e){Monaco.View.prototype.setElement.apply(this,arguments),this.checkRegion("#tab-content"),this.checkRegion("#library-controls")},checkRegion:function(e){this.regions[e]&&this.regions[e].view&&(this.regions[e].view.setElement(this.$(e+" > div")),"#tab-content"===e&&this.regions["#tab-content"].view.setButtonState())},onSwitchTabs:function(e){var t=$(e.currentTarget),n=t.data("section"),s=t.attr("href");this.setCollection(n),this.setRegion("#tab-content",this.getListView()),this.setRegion("#library-controls",this.getControlsView().render());var i=this.$(".tab-control");i.parent().removeClass("active"),i.filter('[data-section="'+n+'"]').parent().addClass("active"),a.router.navigate(s,{trigger:!1})}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(257),s=n.n(a),i=n(258),l=n.n(i);!function(e,t,n,a){a.add("LibraryCard",Monaco.View.extend({className:"library-story-item",templates:{card:l.a,modal:s.a},initialize:function(){_.bindAll(this,["archive","unarchive","discard","removeView"])},setElement:function(){Monaco.View.prototype.setElement.apply(this,arguments),this.model&&this.$("a,button,.on-story-hover,.on-story-preview").data("cid",this.model.cid)},render:function(){var e=this.model.toJSON(),t=e.readingPosition;return this.model.collection instanceof a.collections.Archive?e.archived=!0:(t.position>0||t.partId!==e.parts[0].id)&&(e.hasStarted=!0),this.$el.html(this.templates.card(e)),this.$("a,button,.on-story-hover,.on-story-preview").data("cid",this.model.cid),this},deactivate:function(){this.$(".on-story-hover").fadeOut(150)},activate:function(){this.$(".on-story-hover").fadeIn(150)},preview:function(){$("#preview-modal").html(this.templates.modal(this.model.toJSON())).modal("show").find("button").data("cid",this.model.cid)},read:function(){a.router.navigate(n.formatStoryUrl(_.findWhere(this.model.get("parts"),{id:parseInt(this.model.get("readingPosition").partId)}).url),{trigger:!0})},details:function(){a.router.navigate(n.formatStoryUrl(this.model.get("url")),{trigger:!0})},archive:function(){return new a.collections.Archive([],{user:n.currentUser()}).addStory(this.model).then(this.removeView)},unarchive:function(){return new a.collections.Archive([],{user:n.currentUser()}).removeStory(this.model,!0).then(this.removeView)},discard:function(){return this.model.collection.removeStory(this.model).then(this.removeView)},removeView:function(e){if(!0===e||_.contains(e.success,this.model.id))return this.$el.fadeOut(500,(function(){$(this).remove()})),e}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(259),s=n.n(a);!function(e,t,n,a){a.add("LibraryControls",Monaco.View.extend({template:s.a,render:function(){return this.$el.html(this.template({})),this}}))}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(260),s=n.n(a),i=n(261),l=n.n(i),r=n(262),o=n.n(r);!function(e,t,n,a){a.add("LibraryListing",a.views.List.extend({template:o.a,partials:{errorTemplate:l.a,inactiveStoriesWarning:s.a},itemView:a.views.LibraryCard,containerClass:".collection",activeCard:null,events:function(){var e={};return a.get("device").is.desktop?(e["mouseenter .on-story-preview"]="activateCard",e["mouseleave .on-story-preview"]="deactivateCard"):(e["tap .on-story-preview"]="toggleCard",e["click .on-story-preview"]="stopEvent"),t.testGroups.INACTIVE_STORIES&&(e["tap .on-inactive-stories"]="onShowInactiveStories",e["click .on-inactive-stories"]="stopEvent"),e["tap .on-read"]="readCard",e["click .on-read"]="stopEvent",e["tap .on-details"]="detailsCard",e["click .on-details"]="stopEvent",e["tap .on-archive-story"]="archiveCard",e["click .on-archive-story"]="stopEvent",e["tap .on-unarchive-story"]="unarchiveCard",e["click .on-unarchive-story"]="stopEvent",e["tap .on-delete-story"]="deleteCard",e["click .on-delete-story"]="stopEvent",_.extend(e,a.views.List.prototype.events)},initialize:function(){Handlebars.registerPartial("core.library.library_story_item",(function(){return""})),_.bindAll(this,["createErrors","checkForErrors","confirm"]),this.collection.once("sync",this.render,this),this.collection.fetchNextSet({fresh:!0}),t.testGroups.INACTIVE_STORIES&&"current-reads"===this.collection.libraryType&&this.listenToOnce(this.collection,"fetchNext:done",this.showInactiveStoriesWarning)},getTemplateData:function(){return{hasStories:this.collection.length>0}},getActiveCard:function(e){var t=$(e.currentTarget);return t.hasClass("on-story-preview")||(t=t.parents(".on-story-preview")),this.viewPointers[t.data("cid")]},activateCard:function(e){this.toggleCard("activate",e)},deactivateCard:function(e){this.toggleCard("deactivate",e),this.closeReadingListSelector()},readCard:function(e){this.getActiveCard(e).read()},detailsCard:function(e){this.getActiveCard(e).details()},archiveCard:function(e){this.getActiveCard(e).archive().then(this.checkForErrors).then(this.cacheBust)},unarchiveCard:function(e){this.getActiveCard(e).unarchive().then(this.checkForErrors).then(this.cacheBust)},deleteCard:function(e){var t=this.getActiveCard(e);this.confirm(n.trans("Are you sure you want to remove this story from your library/archive?")).then(t.discard).then(this.cacheBust)},toggleCard:function(e,t){var n=this.getActiveCard(t||e);t?n[e]():(n[n.active?"deactivate":"activate"](),n.active=!n.active)},cacheBust:function(){return n.cacheBust(["NodeLibrary","Archive"],[{},{}])},confirm:function(t){return e.confirm(t)?Promise.resolve():Promise.reject()},checkForErrors:function(e){var t=[];t.push.apply(t,this.createErrors(e.failed.notFound,n.trans('The story "%s" could not be found.'))),t.push.apply(t,this.createErrors(e.failed.notInLibrary,n.trans('The story "%s", was not found in your library.'))),t.push.apply(t,this.createErrors(e.failed.notInArchive,n.trans('The story "%s", was not found in your archive.'))),t.push.apply(t,this.createErrors(e.failed.notMoved,n.trans('The story "%s" was not moved. Please try again later.'))),t.length&&$("#generic-modal").html(this.partials.errorTemplate({errors:t})).modal("show")},showInactiveStoriesWarning:function(){var e=t.utils.currentUser().get("username"),n=this,a=$.ajax({type:"GET",url:"/v4/users/"+e+"/library/inactive"});Promise.resolve(a).then((function(e){e.stories.length>0&&n.$el.append(n.partials.inactiveStoriesWarning({stories:e.stories}))}))},onShowInactiveStories:function(){var e=t.utils.currentUser().get("username"),n=$.ajax({type:"DELETE",url:"/v4/users/"+e+"/library/inactive"});return this.$el.find(".inactive-stories").modal("show"),Promise.resolve(n)},createErrors:function(e,t){var a=this;return _.map(e,(function(e){return n.sprintf(t,[a.collection.get(e).get("title")])}))}})),a.mixin(a.views.LibraryListing,"InfiniteScroll","ReadingList")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t,n){"use strict";n.r(t);var a=n(263),s=n.n(a);!function(e,t,n,a){a.add("LibraryListCreate",a.views.Base.extend({template:s.a,events:{"tap .on-createlist":"onCreateList"},constructor:function(){this.model=new a.models.ReadingList,this.model.set("action","create"),a.views.Base.prototype.constructor.apply(this,arguments)},render:function(){return this.$el.html(this.template({})),this},onCreateList:function(){var e=this;this.model.save().done((function(){n.cacheBust("ReadingLists",{username:n.currentUser().get("username")}),a.router.navigate("list/"+e.model.get("id"),{trigger:!0})}))}})),a.mixin(a.views.LibraryListCreate,"ValidationView")}(window,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:library-current-reads",s.router.filter(["getTranslations","getCategories"],(function(){var t=new s.views.LibraryLanding({section:"current-reads"}),n={hasHeader:!0,hasFooter:!0,pageTitle:a.utils.trans("Library - Current Reads")};s.get("device").is.android&&(n.footerOptions={appUrl:a.utils.getAppLink("library")}),s.transitionTo(t,n),e.te.push("event","app","page",null,"view",{page:"library"})})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:library-archive",s.router.filter(["getTranslations","getCategories"],(function(){var e=new s.views.LibraryLanding({section:"archive"});s.transitionTo(e,{hasHeader:!0,hasFooter:!0,pageTitle:a.utils.trans("Library - Archive")})})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:library-reading-lists",s.router.filter(["getTranslations","getCategories"],(function(t){var n;if(isNaN(t))n=new s.views.LibraryLanding({section:"reading-lists"}),s.transitionTo(n,{hasHeader:!0,hasFooter:!0,pageTitle:a.utils.trans("Library - Reading Lists")});else{var i=new s.models.ReadingList({id:t});Promise.resolve(i.fetch()).then((function(){n=new s.views.CoreLibraryReadingList({model:i}),s.transitionTo(n,{hasHeader:!0,hasFooter:!0,pageTitle:i.get("name")+" - "+i.get("user").name}),e.te.push("event","app","page",null,"view",{page:"reading_list",reading_listid:t})}),(function(){s.router.trigger("route:error-404","list")}))}})))}(window,_,jQuery,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(264),s=n.n(a),i=n(265),l=n.n(i);!function(e,t,n,a){a.add("GetMobile",a.views.Base.extend({id:"get-mobile-page",template:l.a,events:{"tap   .on-login":"onAuthPrompt","click .on-login":"stopEvent","tap   .on-signup":"onNavigatePage","click .on-signup":"stopEvent","tap   .on-password-forgot":"onNavigatePage","click .on-password-forgot":"stopEvent","tap    .on-pw-toggle":"onPasswordToggle","click  .on-pw-toggle":"stopEvent","submit #send-link":"onSendAppLink"},initialize:function(e){this.timeout=null,this.deviceType=a.get("device")&&a.get("device").is.mobile?"mobile":"desktop",this.title=n.utils.trans("Log in to Wattpad")},render:function(e){var t,i,l,r,o={};return e=e||{},r=a.get("device"),t=n.utils.getCookie("locale"),i=a.get("supported-languages"),t&&0!==t.trim().length||(t="en_US"),l=i.where({locale:t})[0].toJSON(),o={downloadAppUrl:n.utils.getAppUrl("getmobile"),appUrl:n.utils.getAllAppUrls("getmobile"),googlePlayImage:this._googlePlayImage(l.code),languageCode:l.code,device:r},r.is.ios?(o.ratingsText=n.utils.trans("84,000+ 5 star ratings"),o.appStoreImage="homepages/appstore_dark.png",o.mobileOS="iOS"):r.is.windows?(o.ratingsText="",o.appStoreImage="homepages/windows_appstore.png",o.mobileOS="windows"):r.is.huawei?(o.ratingsText="",o.appStoreImage="homepages/huawei_appgallery_dark.png",o.mobileOS="huawei"):(o.ratingsText=n.utils.trans("1,000,000+ 5 star ratings"),o.appStoreImage=o.googlePlayImage,o.mobileOS="Android"),Handlebars.registerPartial("core.getmobile.values",s.a),this.$el.html(this.template(o)),this},onPasswordToggle:function(t){var n=$(t.currentTarget),a=n.siblings("input"),s=a.attr("type");e.clearTimeout(this.timeout),"password"===s&&(a.attr("type","text").focus(),n.addClass("active")),"text"===s&&(a.attr("type","password").focus(),n.removeClass("active"))},onSendAppLink:function(a){var s=$("#send-link #sendTo");t.delay((function(){if(s.parent().hasClass("valid")){var a=$("#send-link .on-send-app-link");a.addClass("sending"),Promise.resolve($.ajax({type:"POST",url:"/apiv2/send_download_link",data:{to:s.val()}})).then((function(){a.removeClass("sending"),a.addClass("sent"),t.delay((function(){a.removeClass("sent")}),5e3)})).catch((function(t){a.removeClass("sending"),e.alert(n.utils.trans(t))}))}}),200),n.utils.stopEvent(a)},_googlePlayImage:function(e){switch(e.toLowerCase()){case"ar":return"homepages/googleplay/ar.png";case"cs":return"homepages/googleplay/cs.png";case"de":return"homepages/googleplay/de.png";case"es":return"homepages/googleplay/es.png";case"fr":return"homepages/googleplay/fr.png";case"id":return"homepages/googleplay/id.png";case"it":return"homepages/googleplay/it.png";case"pl":return"homepages/googleplay/pl.png";case"pt":case"pt_pt":case"pt_br":return"homepages/googleplay/pt.png";case"ro":return"homepages/googleplay/ro.png";case"ru":return"homepages/googleplay/ru.png";case"sk":return"homepages/googleplay/sk.png";case"sv":return"homepages/googleplay/sv.png";case"tr":return"homepages/googleplay/tr.png";case"vi":return"homepages/googleplay/vi.png";case"en":default:return"homepages/googleplay/en.png"}}})),a.mixin(a.views.GetMobile,"ValidationView","AuthPromptManagement")}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:getmobile",s.router.filter(["getTranslations"],(function(){var e=new s.views.GetMobile({model:new s.models.GetMobile({})});s.transitionTo(e,{hideAddressBar:!1,hasHeader:!0,hasFooter:!0})})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t,n){"use strict";n.router.add({"home(/:section)":["home.index",{regexp:{section:/browse/}}]})}(window,window.wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:home.index",s.router.filter(["requireLogin","getTranslations","getCategories"],(function(t){s.get("device").is.mobile;var n=new s.views.NewHome;s.transitionTo(n,{hasHeader:!0,hasFooter:!0,pageTitle:a.utils.trans("Home")}),e.te.push("event","app","page",null,"view",{page:"home"})})))}(window,_,jQuery,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(266),s=n.n(a);!function(e,t,n,a){a.add("HomeIndex",a.views.RegionManager.extend({id:"home-index",template:s.a,subviews:{discover:a.views.DiscoverRows},events:{"tap .tab-control":"onTabNavigation","click .tab-control":"stopEvent"},initialize:function(e){e=e||{},this.section=e.section||"home",this.homeCollection=new a.collections.Home},render:function(){return this.$el.html(this.template({onBrowse:"browse"===this.section,isMobile:a.get("device").is.mobile,testGroups:t.testGroups})),this.renderRegion("#home-content"),_.defer((function(){$("#announcements-container .spielbergo").length&&$("#announcements-container").removeClass("hide")})),this},renderRegion:function(e){var t=this;if("home"===this.section){var s=new this.subviews.discover({collection:this.homeCollection});0===this.homeCollection.length?Promise.resolve(this.homeCollection.fetchNextSet(n.appOn()?{}:{fresh:!0})).then((function(){t.$(e).empty(),t.setRegion(e,s.render())})):(this.$(e).empty(),this.setRegion(e,s.render()))}else if("browse"===this.section){(s=new a.views.BrowseTopics).render(),this.listenToOnce(s,"render:done",(function(){t.$(e).empty(),t.setRegion(e,s)}))}},onTabNavigation:function(e){var t=$(e.currentTarget);this.section=t.data("section"),this.$(".tab-control").removeClass("active"),t.addClass("active"),this.renderRegion("#home-content"),a.router.navigate(t.find("a").attr("href"),{trigger:!1})}}))}(window,wattpad,wattpad.utils,window.app)},function(e,t){app.router.add({"checkout(/)":["checkout",{}],"manage_payment(/)":["managePayment",{}]})},function(e,t){!function(e,t,n,a,s){"use strict";a.add("SubscriptionCheckout",a.views.DummyReactView.extend({component:"SubscriptionPurchaser",componentId:"subscription-purchaser",constructor:function(){var e=n.utils.getCookie("locale");this.componentData={locale:e,sendStripeToken:this.sendStripeToken.bind(this),createSubscription:this.createSubscription.bind(this),username:s.getCurrentUserAttr("username")};var t={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,t)},sendStripeToken:function(e,t){return Promise.resolve()},createSubscription:function(e){return new Promise((function(e,t){setTimeout(e,5e3)}))}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t,n,a,s){"use strict";a=a||(e.wattpad={}),s.router.on("route:checkout",s.router.filter(["getTranslations","requireLogin"],(function(e){var n=t.get(a,".testGroups.WEB_PAYMENTS")||!1,i=s.get("device").isDesktop();if(t.every([n,i])){var l=new s.views.SubscriptionCheckout({});s.transitionTo(l,{hasHeader:!0,hasFooter:!0})}else a.utils.redirectToCSR("/home")})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("NewHome",a.views.DummyReactView.extend({component:"Home",componentId:"new-home-landing",constructor:function(){var e={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,e)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){app.router.add({inbox:["inbox"]}),app.router.add({"inbox/:activeThread":["inbox",{regexp:{activeThread:/[\w\-]+/}}]})},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:inbox",s.router.filter(["getTranslations","requireLogin"],(function(t){var n=a.utils.currentUser(),i=t?e.app.components.actions.resetConversation():e.app.components.actions.resetThreads();e.store.dispatch(i);var l=new s.views.DummyReactView({component:"Inbox",componentId:"inbox",componentData:{username:n.get("username"),avatar:n.get("avatar")}});s.transitionTo(l,{hasHeader:!0,hasFooter:!0})})))}(window,_,jQuery,wattpad,window.app)},function(e,t){app.router.add({"catalog/:catalog":["catalog",{regexp:{catalog:/[\w\-]+/}}]})},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:catalog",s.router.filter(["getTranslations"],(function(e){var t=new s.views.DummyReactView({component:"Catalog",componentId:"catalog",componentData:{catalog:e,isMobile:"mobile"===a.utils.getDeviceType()}});s.transitionTo(t,{hasHeader:!0,hasFooter:!0})})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("ManagePayment",a.views.DummyReactView.extend({component:"ManagePayment",componentId:"user",showCancelModal:function(e){var t=new a.views.DummyReactView({component:"CancelSubscriptionModal",componentId:"PaymentManagement",componentData:{cancelDate:e,cancelSubscription:this.cancelSubscription.bind(this)}});t.render(),$("#generic-modal .modal-body").html(t.$el),$("#generic-modal").modal("show")},cancelSubscription:function(){return console.log("Making cancel subscription API request..."),new Promise((function(e,t){setTimeout((function(){console.log("Subscription successfully cancelled"),e()}),500)}))},updatePaymentInformation:function(e,t){return Promise.resolve()},constructor:function(){var e=n.user;this.componentData={isPremium:e.isPremium,showCancelModal:this.showCancelModal.bind(this),updatePaymentInformation:this.updatePaymentInformation.bind(this),username:e.username,locale:n.utils.getCookie("locale")};var t={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,t)}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t,n,a,s){"use strict";a=a||(e.wattpad={}),s.router.on("route:managePayment",s.router.filter(["getTranslations","requireLogin"],(function(e){var t=new s.views.ManagePayment;s.transitionTo(t,{hasHeader:!0,hasFooter:!0})})))}(window,_,jQuery,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(267),s=n.n(a);!function(e,t,n,a){a.add("InvitePanel",a.views.Base.extend({template:s.a,className:"wp-component invite-panel-component",events:{"tap .provider-facebook":"onFacebookProvider","tap .provider-twitter":"onTwitterProvider","tap .provider-mailto":"onMailtoProvider","click .invite-providers > li":"stopEvent","focus .provider-email > input":"clearMessage","tap .provider-email > button":"onEmailProvider","click .provider-email > button":"stopEvent"},initialize:function(e){e=e||{},this.action=e.action,this.content=e.content},render:function(){return this.$el.html(this.template({})),this},clearMessage:function(){this.$(".email-message").text("")},onEmailProvider:function(){var e=this,t=this.$(".provider-email > button, .provider-email > input"),s=this.$(".provider-email > input"),i=this.$(".provider-email > button"),l=s.val();if(null!==l.match(/^[a-zA-Z0-9_\.\'\+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-\.]+$/)){t.attr("disabled","disabled"),i.children().toggle();var r=new a.models.UserInvite({emails:l});this.attachErrorHandlers(r),this.trackEvent("email"),Promise.resolve(r.save()).then((function(){e.$(".email-message").text(n.trans("You have successfully sent an invite")).removeClass("warning"),_.delay((function(){e.$(".email-message").text("")}),3e3),s.val("")})).catch((function(){})).then((function(){i.children().toggle(),t.removeAttr("disabled"),e.detachErrorHandlers(r)}))}else this.$(".email-message").text(n.trans("The email address is invalid.")).addClass("warning")},onFacebookProvider:function(){var e=this;this.trackEvent("facebook"),Promise.resolve(this.createShareLink("facebook")).then((function(t){e.facebookSend(t.url)}))},onTwitterProvider:function(){var e=this;this.trackEvent("twitter"),Promise.resolve(this.createShareLink("twitter")).then((function(t){e.twitterShare({text:n.trans("Follow me on Wattpad! Username %s",n.currentUser().get("username")),url:t.url})}))},onMailtoProvider:function(){this.trackEvent("email"),Promise.resolve(this.createShareLink("email")).then((function(t){var a=n.trans("Follow me on Wattpad!"),s=encodeURIComponent(t.url),i=n.trans("Follow me on Wattpad, a free, one-of-a-kind social reading and writing app. My username is: %s%%0A\n%s",n.currentUser().get("username"),s);e.location.href="mailto:?to=&subject="+a+"&body="+i}))},createShareLink:function(e){var t=n.currentUser().get("username"),a="https://www.wattpad.com/user/"+t,s="wattpad://user/"+t,i={source:"web",medium:e,campaign:"invitefriends",content:"sharing",page:this.content,desktopRedirect:!0};return n.generateBranchLink(a,s,i)},trackEvent:function(n){t.utils.pushEvent({category:"invite_friends",action:this.action,label:n});var a={source:"web",medium:n,campaign:"invitefriends",content:"invite-friends",page:this.content};e.te.push("event","app","invite_friends",null,"deeplink",a)}})),a.mixin(a.views.InvitePanel,"FacebookConnect","TwitterConnect")}(window,window.wattpad,window.wattpad.utils,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(21),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("ReactComponentWrapper",r.View.extend({initialize:function(n,a,l,r){return l=l||{},n?a?e.app.components[n]?(this.componentId=a,this.pathname=e.location.pathname,this.containerId=s()(n,this.componentId,i.urlEncode(this.pathname)),this.container=this.generateContainer(n),this.model=l.model,this.componentName=n,this.listenTo(this.model,"change",t.bind(this.render,this)),this):new Error(n+" is not defined in window.app.components"):new Error("componentId not provided"):new Error("componentName not provided")},generateContainer:function(e){return n("<div class='component-wrapper' id='"+this.containerId+"'></div>")},remove:function(){this.container&&this.container[0]&&ReactDOM.unmountComponentAtNode(this.container[0]),r.View.prototype.remove.apply(this,arguments)},render:function(){if(this.retryCount=this.retryCount||0,!document.getElementById(this.containerId)){if(!(this.retryCount<5))throw new Error(this.containerId+" mounting failed.");if(this.pathname!==e.location.pathname)throw new Error("Attempted to mount component from ".concat(this.pathname," on: ").concat(e.location.pathname));return t.delay(t.bind((function(){this.retryCount++,this.render()}),this),200*this.retryCount),"<div class='component-wrapper' id='"+this.containerId+"'></div>"}return this.setElement(document.getElementById(this.containerId)),this.container=n(document.getElementById(this.containerId)),t.defer(t.bind((function(){this.retryCount=0;var t=e.app.components[this.componentName],n=e.app.components.withRedux(t,e.store);ReactDOM.render(React.createElement(n,this.model.toJSON()),document.getElementById(this.containerId))}),this)),this}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t){"use strict";t.router.add({comesignup:["retargeting_landing",{}]})}(window,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(268),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("RetargetingLanding",l.views.Base.extend({template:s.a,id:"retargeting-landing",events:{"tap   .on-signup":"loadSignupModal","click .on-signup":"stopEvent"},render:function(){var e={isMobile:l.get("device").is.mobile,languageId:parseInt(l.get("language"),10)};return this.$el.html(this.template(e)),t.defer(this.afterRender.bind(this)),this},afterRender:function(){l.get("device").is.mobile&&this.initCarousel()},loadSignupModal:function(e){var t=new l.views.SignUpPrompt({model:new l.models.Authsignup,title:a.utils.trans("Join Wattpad"),formType:"navbar_modal",form:"signup"});n("#generic-modal .modal-content").addClass("auth-modal"),n("#generic-modal .modal-body").html(t.render().$el),n("#generic-modal").modal("show"),n("#generic-modal").one("shown.bs.modal",(function(){n(this).find("[autofocus]").focus()}))},initCarousel:function(){var e={nav:!0,navText:['<span class="fa fa-left fa-wp-neutral-2 carousel-left"></span>','<span class="fa fa-right fa-wp-neutral-2 carousel-right"></span>'],autoPlay:5e3,stopOnHover:!1};i.rtlLanguage(parseInt(l.get("language"),10))&&t.extend(e,{rtl:!0}),l.get("device").is.mobile?t.extend(e,{responsive:{0:{items:1},600:{items:2},900:{items:3}}}):t.extend(e,{items:2,autoWidth:!0,margin:30}),this.$(".owl-carousel").one("initialized.owl.carousel",(function(){n(this).removeClass("invisible")})),this.$(".owl-carousel.no-loop, .owl-carousel.users").owlCarousel(e),t.extend(e,{loop:!0}),this.$(".owl-carousel:not(.no-loop):not(.users)").owlCarousel(e)}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:retargeting_landing",s.router.filter(["getTranslations"],(function(){var e=new s.views.RetargetingLanding;s.transitionTo(e,{hasHeader:!1,hasFooter:!1})})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t){"use strict";t.router.add({presents:["videos_landing",{}]})}(window,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(269),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("VideosLanding",l.views.Base.extend({template:s.a,id:"wattpad-presents",events:{},render:function(){var e=[];t.each(this.options.videoModels,(function(t){e.push(t.toJSON())}));var n={isMobile:l.get("device").is.mobile,videoStoryPairs:e,numVideos:e.length};return this.$el.html(this.template(n)),t.defer(this.afterRender.bind(this)),this},afterRender:function(){var t=this,n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a),e.onYouTubeIframeAPIReady=function(){t.initVideos()}},initVideos:function(){var n=this.options.videoModels;t.each(n,(function(t){var a=t.toJSON();new e.YT.Player("player-"+a.videoId,{height:l.get("device").is.mobile||3===n.length?"210":"390",width:"640",videoId:a.videoId})}))}}))}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t,n,a,s){"use strict";s.router.on("route:videos_landing",s.router.filter(["getTranslations","getCategories"],(function(){var e=JSON.parse(a.spielbergoData),n=[],i=[];t.each(e,(function(e){var t=new s.models.StoryVideoModel({id:e.story,videoId:e.video});i.push(t),n.push(t.fetch())})),Promise.all(n).then((function(e){var t=new s.views.VideosLanding({videoModels:i});s.transitionTo(t,{hasHeader:!1,hasFooter:!1,pageTitle:"Wattpad Presents"})}),(function(){s.router.trigger("route:error-404","wattpad-presents")}))})))}(window,_,jQuery,wattpad,window.app)},function(e,t){!function(e,t,n,a,s){"use strict";a.add("StoryVideoModel",a.models.BaseModel.extend({defaults:{cover:"",title:""},fields:["id","title","url","cover",{user:["name"]},"categories"],cacheLocal:!0,urlRoot:"/api/v3/stories/",resource:function(){return"wattpad.presents."+parseInt(this.get("id"),10)+".metadata"},fetch:function(e){var t=a.models.BaseModel.prototype.fetch.call(this,e);return Promise.resolve(t).then((function(e){return e}))},parse:function(e){if(e.categories&&e.categories.length>1&&(e.categories=[e.categories[0]||e.categories[1]],a.get("categories"))){var t=a.get("categories").get(e.categories[0]);if(t){var n=t.toJSON();e.category=n.name}}return e}}))}(window,_,wattpad,window.app,wattpad.utils)},function(e,t){!function(e,t){"use strict";t.router.add({"featured(/:list)":["featured_picks",{regexp:{list:/[0-9]*/}}]})}(window,window.app)},function(e,t){!function(e,t,n){"use strict";n.router.on("route:featured_picks",n.router.filter(["getTranslations","getCategories"],(function(t){var a=new n.models.ReadingList({id:t});Promise.all([a.fetch()]).then((function(){var s=new n.views.FeaturedPicks({model:a});n.transitionTo(s,{hasHeader:!0,hasFooter:!0}),e.te.push("event","app","page",null,"view",{page:"featured",reading_listid:t})})).catch((function(e){console.error(e)}))})))}(window,wattpad,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(270),s=n.n(a);!function(e,t,n,a,i,l,r){l.add("FeaturedPicks",l.views.IncrementalList.extend({template:s.a,itemView:l.views.BrowseStoryItem,containerClass:".featured-picks",events:t.extend({"tap .on-story-preview":"onStoryPreview","click .on-story-preview":"stopEvent","tap .featured-list":"sendDropdownClickTrackingEvent","click .featured-list":"stopEvent","tap .on-story-details":"sendStoryClickTrackingEvent","tap .on-start-reading":"sendStoryClickTrackingEvent"},l.views.IncrementalList.prototype.events),initialize:function(e){e=e||{},this.collection=this.model.stories(),this.pageTitle=this.model.get("name"),Handlebars.registerPartial("core.item_views.browse_story_item",(function(){return""})),a.utils.setTitle(this.pageTitle),this.collection.once("sync",this.render,this),this.collection.fetchNextSet(),this.listenTo(l,"app:component:TagMetaItem:click",this.navigateToTagPage),this.listenTo(l,"app:component:TagMetaNumNotShown:click",this.onStoryPreview)},getContainer:function(){return this.$el.find(this.containerClass)},getTemplateData:function(){var e=this.model.toJSON();return{hasStories:this.collection.total>0,readingList:e,title:e.name}},getItemViewOptions:function(){return{id:this.model.get("id")}},onStoryPreview:function(e){var t=n(e.currentTarget).data("story-id"),a=this.collection.get(t),s=new l.views.BrowseStoryPreview({model:a});this.$("#preview-modal").empty().append(s.render().$el),s.openModal(),this.sendStoryClickTrackingEvent(e)},navigateToTagPage:function(e){var t=n(e.currentTarget).text().trim();l.router.navigate("/stories/"+encodeURIComponent(t),{trigger:!0})},sendStoryClickTrackingEvent:function(t){var a=n(t.currentTarget).data("story-id")||this.$("#preview-modal .browse-preview.modal").data("story-id");e.te.push("event","featured","story",null,"click",{reading_listid:n(".current-list").data("list-id"),storyid:a})},sendDropdownClickTrackingEvent:function(t){e.te.push("event","featured","dropdown",null,"click",{reading_listid:n(t.currentTarget).data("list-id")})}})),l.mixin(l.views.FeaturedPicks,"InfiniteScroll")}(window,_,jQuery,wattpad,wattpad.utils,window.app,window.Monaco)},function(e,t){!function(e,t){"use strict";t.router.add({"settings(/)":["user_settings",{}]})}(window,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("UserSettings",a.models.User.extend({idAttribute:"username",fields:["username","name","email","description","avatar","backgroundUrl","createDate","location","birthdate","gender","genderCode","facebook","twitter","website","bubok","smashwords","lulu","password","verified","verified_email","highlight_colour","html_enabled","ambassador","wattpad_squad","is_staff","isPrivate","isMuted",{safety:["isMuted","isBlocked"]},"externalId","beta_enabled","appear_offline","show_name","has_password",{notificationSettings:["alerts","subscribe","alertssub"]}],urlRoot:"/api/v3/users/",resource:function(){return"user."+this.get("username")},_mutedUsers:[],mutedUsers:function(){return this._mutedUsers},fetchIgnoreList:function(){var e=this;return Promise.resolve($.ajax({url:"/apiv2/ignoreuser?id="+this.get("id")+"&action=get_ignored_web",type:"POST"})).then((function(t){return"SUCCESS"===t.result&&(e._mutedUsers=t.list.map((function(e){return new a.models.UserModel({id:e.ID,username:e.NAME,avatar:n.mediaServer+"/useravatar/"+e.NAME+".jpg"})}))),e._mutedUsers})).catch((function(e){return console.error(e),!1}))},updateAvatar:function(e){return Promise.resolve($.ajax({type:"POST",url:"/apiv2/updateuserprofilepic",data:{image:e.parsed}})).then((function(e){return e})).catch((function(e){return e}))},updateBackground:function(e){return Promise.resolve($.ajax({type:"POST",url:"/apiv2/updateuserbackground",data:{image:e.parsed}})).then((function(e){return e})).catch((function(e){return e}))},updateNotifications:function(e){var t,n=e,a=n[0].elements,s=0;return a.alertssub.checked&&(s|=252),a.alerts.value=a.alerts.checked?1:0,a.alertssub.value=a.alertssub.checked?1:0,a.subscribe.value=a.subscribe.checked?1:0,a.alertssubmask.value=s,t=n.serialize(),Promise.resolve($.ajax({type:"POST",url:"apiv2/usernotifications",data:t,processData:!1})).then((function(e){if("SUCCESS"===e.result)return{alerts:e.alerts,alertssub:e.alertssub,subscribe:e.subscribe}})).catch((function(e){return console.error(e),e}))}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n){"use strict";n.router.on("route:user_settings",n.router.filter(["getTranslations"],(function(e){var a=new n.models.UserSettings(t.user);Promise.all([a.fetch(),a.fetchIgnoreList()]).then((function(){var s=new n.views.UserSettings({model:a,mutedUsers:a.mutedUsers(),errorMessage:e&&e.errorMessage});n.transitionTo(s,{hasHeader:!0,hasFooter:!0,pageTitle:t.utils.trans("User Settings")})}),(function(){n.router.trigger("route:error-404","user-settings")}))})))}(window,wattpad,window.app)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,a,s,i,l){"use strict";l.add("UserSettings",l.views.DummyReactView.extend({component:"UserSettings",componentId:"user-settings",reportModalContainer:".mute-accounts-options-modal",modalTitle:s.utils.trans("Report a User"),requestType:"reported_users",isMainReportModal:!0,conductType:"user_account_conduct",constructor:function(t){this.model=t.model,this.componentData=this.getComponentData(),this.mutedUsers=t.mutedUsers,this.errorMessage=t.errorMessage,this.reportModalType="user",this.reportModalId={location:e.location.href},this.errorMessage&&alert(this.errorMessage),t={componentData:this.componentData,component:this.component,componentId:this.componentId},l.views.DummyReactView.call(this,t)},render:function(){this.componentData=this.getComponentData(),l.views.DummyReactView.prototype.render.apply(this)},getComponentData:function(){var e=t.map(this.mutedUsers,(function(e){return e.toJSON()}));return{userObj:this.model.toJSON(),mutedUsers:e,app:{deviceType:s.utils.getDeviceType(),language:l.get("language"),languages:l.get("supported-languages").toJSON()},saveAvatarChanges:this.saveAvatarChanges.bind(this),saveBackgroundChanges:this.saveBackgroundChanges.bind(this),onSaveAccountChanges:this.onSaveAccountChanges.bind(this),openUserSettingsModal:this.openUserSettingsModal.bind(this),updateNotifications:this.updateNotifications.bind(this),renderTooltips:this.renderTooltips.bind(this),isBlockMVP:s.testGroups.BLOCK_MVP}},reportMoreInfo:function(){return[{key:"Reported User",val:e.location.href}]},saveAvatarChanges:function(e){var t,n=this;e&&n.getFile(e).catch((function(e){return Promise.reject()})).then((function(e){return t=e,n.model.updateAvatar(e)})).then((function(e){e.success&&(n.model.set("avatar",t.data),n.render())}))},saveBackgroundChanges:function(e){var t,n=this;e&&n.getFile(e).catch((function(e){return Promise.reject()})).then((function(e){return t=e,n.model.updateBackground(e)})).then((function(e){e.success&&(n.model.set("backgroundUrl",t.data),n.render())}))},getFile:function(e){var t=new FileReader;return new Promise((function(n,a){e?(t.onload=function(e){n({data:e.target.result,parsed:e.target.result.match(/;base64,(.+)$/)[1]})},t.onerror=function(){a({code:1,message:i.trans("Error reading file")})},t.readAsDataURL(e)):a({code:0,message:i.trans("Please select a file to upload")})}))},renderTooltips:function(){var e=this.$("#facebook-tooltip .fa-info"),t=this.$("#beta-tooltip .fa-info"),n=this.$("#wtg-tooltip .fa-info"),a=this.$("#info-tooltip .fa-info"),s=i.trans("Connecting with Facebook makes it really easy to share everything you do on Wattpad with your Facebook friends. It also allows you to login to Wattpad with one click!"),l=i.trans("Check out what&#39;s coming next on Wattpad&#39;s website and help give feedback by joining our web beta group"),r=i.trans("Revert to the previous design for the Homepage, Genre pages, Library, Reading Lists and Discover/Browse"),o=i.trans("Request an HTML or JSON file of the personal information you have stored on Wattpad");e.tooltip({trigger:"click hover manual",title:s,container:"body"}),t.tooltip({trigger:"click hover manual",title:l,container:"body",html:!0}),n.tooltip({trigger:"click hover manual",title:r,container:"body"}),a.tooltip({trigger:"click hover manual",title:o,container:"body"})},onSaveAccountChanges:function(e,s){var r={},o={},c=a(e.currentTarget).serializeArray(),u=this,d="";(t.each(c,(function(e){var t=e.name,a=e.value,s=u.model.get(t);if(void 0!==s){switch(t){case"birthdate":if(0===a.length)return void(d=i.trans("Please enter your birthdate (mm-dd-yyyy)"));if(moment().diff(a,"years")<13)return void(d=i.trans("You must be at least 13 years old to join"));s=moment(s).format("MM-DD-YYYY"),a=moment(a).format("MM-DD-YYYY");break;case"language":a=parseInt(a,10)}a!==s&&(void 0===n(s)&&"gender"!==t||(o[t]=s,r[t]=a))}})),0===d.trim().length)?(t.each(s,(function(e){var t=e.name,n=e.value,a=u.model.get(t);switch(o[t]=a,t){case"show_name":case"appear_offline":r[t]=parseInt(n,10);break;case"beta_enabled":r[t]=!0===n}})),l.local.clear("user."+this.model.get("username")),this.model.set(r),this.model.save(r,{patch:!0,type:"put"}).success((function(e){u.model.set(r),new l.views.ErrorToast({message:i.trans("Your changes were successful!")}).render()})).fail((function(e,t){u.model.set(o),new l.views.ErrorToast({message:i.trans("Something went wrong, your changes were not saved. ")+(e.responseJSON.message||"")}).render()}))):new l.views.ErrorToast({message:d}).render()},openUserSettingsModal:function(e,t,n){if("email"===e){var a={email:n,isChangeEmailModal:!0,isSuccess:!1,username:this.model.get("username"),onUpdateEmail:t};s.utils.showChangeEmailModal(a)}else{new l.views.UserSettingsModal({type:e,userId:this.model.get("id")}).showModal()}},updateNotifications:function(e){var t=this,n=a(e.currentTarget);s.utils.stopEvent(e),this.model.updateNotifications(n).then((function(e){t.model.set("notificationSettings",{alerts:e.alerts,alertssub:e.alertssub,subscribe:e.subscribe}),new l.views.ErrorToast({message:i.trans("Your changes were successful!")}).render()})).catch((function(e){new l.views.ErrorToast({message:i.trans("Something went wrong, your changes were not saved. ")+e}).render()}))}})),l.mixin(l.views.UserSettings,"AuthPromptManagement","FacebookConnect","TwitterConnect","ReportManagement","ReportConduct")}(window,_,jQuery,wattpad,wattpad.utils,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("UserSettingsModal",a.views.DummyReactView.extend({component:"UserSettingsModal",componentId:"user-settings-modal",constructor:function(e){this.type=e.type,this.userId=e.userId;var t="addPassword"==this.type?n.utils.trans("Create Password"):n.utils.trans("Change %s",this.type);e={componentData:{type:this.type,userId:this.userId,title:t,onPasswordToggle:this.onPasswordToggle.bind(this),onFormSubmit:this.onFormSubmit.bind(this),hideModal:this.hideModal.bind(this),app:{language:a.get("language"),translatedLanguage:a.get("translatedLanguage")}},component:this.component,componentId:this.componentId},$("body").removeClass("js-app-off"),a.views.DummyReactView.call(this,e)},showModal:function(){var e=$("#generic-modal");e.find(".modal-body").html(this.render().$el),e.modal({backdrop:"static",keyboard:!1})},hideModal:function(){$("#generic-modal").modal("hide")},onPasswordToggle:function(e){var t=$(e.currentTarget).find(".fa-view"),n=$(e.currentTarget).siblings("input"),a=n.attr("type");"password"===a&&(n.attr("type","text").focus(),t.addClass("active")),"text"===a&&(n.attr("type","password").focus(),t.removeClass("active"))},onFormSubmit:function(t){var s=this;$.ajax({type:"POST",url:"apiv2/"+t,data:$(".on-form-submit").serialize(),success:function(t){if(s.hideModal(),"password"===s.type&&t.token){n.utils.setCookie("token",t.token,null,!0),new a.views.ErrorToast({message:n.utils.trans("Your changes were successful!")}).render()}else{e.location.replace("/login?nexturl=/settings").reload()}},error:function(e){s.hideModal(),new a.views.ErrorToast({message:n.utils.trans("Something went wrong, your changes were not saved. ")+(e.responseJSON.message||"")}).render()}})}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n,a){"use strict";a.add("ImageAppealFlow",a.views.DummyReactView.extend({component:"ImageAppealFlow",componentId:"image-appeal-flow",constructor:function(e){this.componentData={imageUrl:e.imageUrl,onSubmissionError:this.onSubmissionError.bind(this),isIOS:a.get("device").is.ios,isAndroid:a.get("device").is.android};var t={componentData:this.componentData,component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,t)},onSubmissionError:function(e){console.error(e),new a.views.ErrorToast({message:e}).render()}})),a.mixin(a.views.ImageAppealFlow,"AuthPromptManagement","FacebookConnect","TwitterConnect")}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n){"use strict";n.router.on("route:image_appeal",n.router.filter(["getTranslations","requireLogin"],(function(e){var a=e.imageUrl||"";if(!1===t.utils.validateImageURLs(a))return n.router.navigate("/inbox/wattpad");var s=new n.views.ImageAppealFlow({imageUrl:a?a.trim():""});n.transitionTo(s,{hasHeader:!0,hasFooter:!0,pageTitle:t.utils.trans("Appeal form")})})))}(window,wattpad,window.app)},function(e,t){!function(e,t){"use strict";t.router.add({"appeal-flow(/)":["image_appeal",{}]})}(window,window.app)},function(e,t){!function(e,t,n){"use strict";n.router.on("route:privacySettings",n.router.filter(["getTranslations"],(function(){if(_.get(t,".testGroups.CAN_VIEW_CCPA")||!1){var e=new n.views.DummyReactView({component:"PrivacySettings",componentId:"privacy-settings"});n.transitionTo(e,{hasHeader:!1,hasFooter:!0})}else t.utils.redirectToCSR("/home")})))}(window,wattpad,window.app)},function(e,t){!function(e,t){"use strict";t.router.add({"privacy/settings(/)":["privacySettings"]})}(window,window.app)},function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,s=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(a=(l=r.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}!function(e){"use strict";e.router.on("route:storyDetails",e.router.filter(["getTranslations","getCategories"],(function(t){var a,s=wattpad.utils.currentUser().get("isSysAdmin")||wattpad.utils.currentUser().get("ambassador")||wattpad.testGroups.BLOCK_MVP,i=new e.models.StoryModel({id:t}),l=s?i.fetch({fresh:!0,cache:!1}):i.fetch();l=l.then((function(){if(i.get("isPaywalled")){var e=i.get("id"),t=i.get("parts").map((function(e){return e.id}));return window.store.dispatch(window.app.components.actions.fetchPaidContentMetadata(e,t))}}));var r=new e.collections.SimilarStories([],{storyId:t,limit:10,baseStory:{},showDescription:!0}),o=e.local.get(r),c=o?Promise.resolve():Promise.resolve(r.fetch({fresh:!1}));Promise.all([l,c]).then((function(){return Promise.resolve(function(t){if(!s||!t)return Promise.resolve();var i={fresh:!0,data:{fields:(a=new e.models.User({username:t}))._recursiveFields(a.fields.concat("age","country"))}};return Promise.all([a.loaded(i),$.get("/api/v3/users/"+t+"/stories?fields=stories(readCount)&limit=200")]).then((function(e){var t=n(e,2)[1];if(t.stories&&t.stories.length){var s=_.sum(_.pluck(t.stories,"readCount"));a.set("totalReads",s)}}))}(i.get("user")&&i.get("user").username))})).then((function(){if("undefined"!=typeof __atha)__atha.sendPageView("storylanding",parseInt(i.get("id"),10),void 0,i.attributes);var t,n=a?a.attributes:i.get("user"),s=new e.views.NewStoryDetails({model:i,userData:n,similarStories:o||r.toJSON(),signupModel:new e.models.Authsignup({})}),l=19===parseInt(e.get("language"),10)?"c Truyn "+i.get("title")+" - "+i.get("user").name+" - Wattpad":i.get("title")+(i.get("user")?" - "+i.get("user").name:"");"mobile"===wattpad.utils.getDeviceType()&&(t={footerOptions:{appUrl:wattpad.utils.getAppLink("story-landing",i)}});var c=i.get("noIndex");if(e.transitionTo(s,{pageTitle:l,hasHeader:!0,hasFooter:!0,noIndex:c,deviceOptions:t}),wattpad.utils.shouldSeePaidOnboarding(i.get("isPaywalled"))){var u=i.get("id");wattpad.utils.showPaidOnboardingAfterDelay(u)}})).catch((function(t){if(t instanceof Error)throw t;t&&t.responseJSON?console.log("Error in (new) story-details controller: ".concat(t.responseJSON.message)):console.log("Unknown error in new story-details controller"),e.router.trigger("route:error-404","story")}))})))}(window.app)},function(e,t){var n=wattpad.testGroups.NEW_ADMIN_PANEL||!1;!(window&&window.wattpad&&!!window.wattpad.isModerator)||n?app.router.add({"story/:storyid(-:slug)(/)(:section)(/)":["storyDetails",{regexp:{storyid:/[^\/\?#-]+/,slug:/[^\/\?#]*/,section:/parts/}}]}):app.router.add({"story/:storyid(-:slug)(/)(:section)(/)":["storyLanding",{regexp:{storyid:/[^\/\?#-]+/,slug:/[^\/\?#]*/,section:/parts/}}]}),app.router.add({"story/:storyid(-:slug)/rankings(/)":["storyRanking",{regexp:{storyid:/[^\/\?#-]+/,slug:/[^\/\?#]*/}}]})},function(e,t,n){"use strict";n.r(t);var a=n(19),s=n.n(a),i=n(22),l=n.n(i),r=n(20),o=n.n(r);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t){t=t||(window.wattpad={}),e.add("NewStoryDetails",e.views.DummyReactView.extend({component:"StoryDetails",componentId:"story-details-landing",constructor:function(t){this.model=t.model,this.similarStories=t.similarStories,this.userModel=t.userData,this.signupModel=t.signupModel;var n={componentData:this.getComponentData(),component:this.component,componentId:this.componentId};e.views.DummyReactView.call(this,n)},getComponentData:function(){var n=this,a=parseInt(e.get("language",10)),i="/help/content?message="+t.utils.urlEncode("I am reporting the following content:\n")+"&story_link="+t.utils.urlEncode(window.location.href),r="https://translate.google.com/translate?u="+t.utils.urlEncode(window.location.href)+"&tl=en&hl=en&ie=UTF-8",c=t?t.utils.currentUser().get("username"):null,d=this.model.get("parts"),h=!1;if(this.model.get("isPaywalled")){var p=window.store.getState().paidMetadata;h=!(d=t.utils.markBlockedParts(p,this.model.get("parts"))).some((function(e){return e.paywalled&&!e.isBlocked}))}var m=this.model.get("firstPartId"),f=d?d.find((function(e){return e.id===m})):{},g=l()(this.model.get("isAdExempt"),this.model.get("isPaywalled"),!!t.utils.currentUser().get("isPremium")),v=s()(t.testGroups,this.model.attributes),w=o()(void 0,this.model.attributes,t.testGroups),y=window&&window.wattpad&&t.utils.currentUser().authenticated(),b=function(){var e=n.model.get("categories");return $.post("/api/v3/story_parts/"+n.model.get("firstPartId")+"/moderate",{language:n.model.get("language"),category1:e[0],category2:e[1]?e[1]:0})},x=function(e){return e&&e.responseJSON?e.responseJSON.message:"Error saving changes. Please try again."},C=t&&t.utils&&t.utils.currentUser()&&t.utils.currentUser().toJSON();return{currentUserRoles:t.utils.getCurrentUserRoles(C),username:c,userLang:a,isLoggedIn:y,signupModel:this.signupModel,languages:this.getLangs(),onLanguageChange:function(e,t,a,s){t=parseInt(t);var i=parseInt(n.model.get("language")),l="Set the language to "+_.find(n.getLangs(),(function(e){return e.id==t})).name+"?";t!==i&&window.confirm(l)?(n.model.set("language",t),b().done((function(){s(e)})).fail((function(t){s(e,x(t)),n.model.set("language",i),a(i)}))):a(i)},onCategoryChange:function(t,a,s,i){var l=n.model.get("categories"),r="Set the category to "+e.get("categories").get(a).get("name")+"?";a!==l[0]&&window.confirm(r)?(n.model.set("categories",[parseInt(a),l[1]]),b().done((function(){i(t)})).fail((function(e){i(t,x(e)),n.model.set("categories",l),s(l[0])}))):s(l[0])},onFileSelected:function(e,t){n.getFile().then((function(a){if(a){var s={id:n.model.get("id"),image:a.parsed};a.metadata&&a.metadata.designId&&(s.cover_source_id=a.metadata.designId,s.cover_partner="canva"),Promise.resolve($.post({type:"POST",url:"/apiv2/updatestorycover",data:s})).then((function(a){n.model.set("cover",a.cover),n.model.set("cover_source_id",a.cover_source_id),n.model.set("cover_partner",a.cover_partner),t(e),window.location.reload()})).catch((function(n){t(e,x(n))}))}}))},onCoverRemove:function(e,t){var a=window.prompt("Why is this cover being removed? Options: 'copyright', 'banned content', 'self harm'");if(a){var s={id:n.model.get("id"),ownerid:n.model.get("user").username,req_type:"upload",cover:"",cover_source_id:"",coverDeleteReason:a};Promise.resolve($.post("/apiv2/uploadstorygroup",s)).then((function(a){n.model.set("cover",a.cover),n.model.set("cover_source_id",a.cover_source_id),t(e),window.location.reload()})).catch((function(n){t(e,x(n))}))}else window.alert("Banning was cancelled.")},categories:e.get("categories").toJSON(),isDesktop:"mobile"!==t.utils.getDeviceType(),storyData:{id:parseInt(this.model.get("id"),10),title:this.model.get("title"),description:this.model.get("description"),createDate:this.model.get("createDate"),user:this.userModel,cover:this.model.get("cover"),isPaywalled:this.model.get("isPaywalled"),isPaidPreview:h,storyTags:{tags:this.mapTags(this.model.get("tags"))},readCount:this.model.get("readCount"),completed:this.model.get("completed"),draft:this.model.get("draft"),deleted:this.model.get("deleted"),rating:this.model.get("rating"),voteCount:this.model.get("voteCount"),numParts:this.model.get("numParts"),length:this.model.get("length"),firstPartId:this.model.get("firstPartId"),language:this.model.get("language"),lastPublishedPart:this.model.get("lastPublishedPart"),storyReportUrl:i,storyTranslateUrl:r,tagRankings:this.model.get("tagRankings"),parts:d,sources:this.model.sources,isBrandSafe:this.model.get("isBrandSafe"),writerPreviewHasBannedCover:this.writerPreviewHasBannedCover(),copyright:this.model.get("copyright"),recommendedStories:this.similarStories.map((function(e){return u(u({},e),{},{id:parseInt(e.id,10)})})),canDisplayAdvertisement:g,shouldDelayAds:v,shouldShowAds:w,firstStoryPart:f,storyCategories:this.model.get("categories"),url:this.model.get("url")}}},getLangs:function(){var e=[];return _.each(t.supportedLangs,(function(t){e.push({id:t.id,name:1!==t.id&&11!==t.id?t.name+" ("+t.nameEnglish+")":t.name})})),e.push({id:11,name:"Other"}),e},writerPreviewHasBannedCover:function(){return t.utils.currentUser()&&this.model.get("hasBannedCover")&&this.model.get("user").username===t.utils.currentUser().get("username")},mapTags:function(e){return Array.isArray(e)?e.map((function(e){return{id:e,name:e}})):(console.error("Story Details: tags are missing or incorrect format"),[])}})),e.mixin(e.views.NewStoryDetails,"FacebookConnect","FileUpload")}(window.app,wattpad)},function(e,t){!function(e,t,n,a){"use strict";a.add("ValidationSuccess",a.views.DummyReactView.extend({component:"ValidationSuccess",componentId:"email-validation-success",constructor:function(){var e={component:this.component,componentId:this.componentId};a.views.DummyReactView.call(this,e)}}))}(window,_,wattpad,window.app)},function(e,t){!function(e,t,n){"use strict";n.router.on("route:userActivationSuccess",n.router.filter(["getTranslations"],(function(e){var t=new n.views.ValidationSuccess({});n.transitionTo(t,{hasHeader:!0,hasFooter:!0})})))}(window,wattpad,window.app)},function(e,t){!function(e,t){"use strict";t.router.add({"user_activation/success(/)":["userActivationSuccess",{}]})}(window,window.app)},function(e,t,n){"use strict";n.r(t);var a=n(10),s=n.n(a),i=n(11),l=n.n(i),r=n(1),o=n.n(r),c=n(18),u=n.n(c),d=n(12),h=n.n(d),p=function(e){var t,n,a,s,i=null===(t=window)||void 0===t?void 0:t.app,l=null===(n=window)||void 0===n||null===(a=n.wattpad)||void 0===a||null===(s=a.utils)||void 0===s?void 0:s.getCookie("locale"),r=null==i?void 0:i.get("supported-languages");l&&0!==l.trim().length||(l="en_US");var o="",c=r.where({locale:l})[0].toJSON();if(e)o=e;else if("en"===c.code)o="Wattpad - Where stories live";else{var u,d,h;o="Wattpad ".concat(c.name," - ").concat(null===(u=window)||void 0===u||null===(d=u.wattpad)||void 0===d||null===(h=d.utils)||void 0===h?void 0:h.trans("Where stories live"))}return o},m=n(65),f=n.n(m),g=n(66),v=n(67),w=n(68);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,s=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(a=(l=r.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t,n){var a=(n=n||(e.wattpad={})).utils||(n.utils={});a.bootstrapReactRoot=function(){var t=e.app.components.ReactRoot,n=e.app.components.withRedux(t,e.store);ReactDOM.render(React.createElement(n),document.getElementById("react-client-root"))},a.getWrapParams=function(e){return Array.prototype.slice.call(e,1)},a.isToday=function(e){var t=moment();return t.isSame(e,"day")&&t.isSame(e,"month")&&t.isSame(e,"year")},a.pastePlainText=function(t){var n;if(t.preventDefault(),(t.originalEvent||t).clipboardData)n=(t.originalEvent||t).clipboardData.getData("text/plain"),document.execCommand("insertText",!1,n);else if(e.clipboardData){n=e.clipboardData.getData("Text"),(document.selection||document.getSelection()).createRange().pasteHTML(n)}return n},a.pixelRatio=function(t){var n=e.devicePixelRatio;if(!t)return n||(this.pixelRatio(3)?3:this.pixelRatio(2)?2:this.pixelRatio(1.5)?1.5:this.pixelRatio(1)?1:0);if(n&&n>0)return n>=t;var a=e.matchMedia||e.msMatchMedia;return!!a&&(!!a(t="only all and (min--moz-device-pixel-ratio:"+t+")").matches||!!a(t.replace("-moz-","")).matches)},a.getUserAgent=function(t){return t>0?e.navigator.userAgent.substr(0,t):e.navigator.userAgent},a.getCookie=function(t){var n=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(e.document.cookie);return n&&n.length>0?e.decodeURIComponent(n[1]):null},a.setCookie=function(n,a,s,i){var l,r="";0!==s&&(s=s&&t.isNumber(s)?s:365,(l=new Date).setTime(l.getTime()+24*s*60*60*1e3),r+="; expires="+l.toGMTString());var o=n+"="+(a=e.encodeURIComponent(a))+r+"; path=/; SameSite=Lax; Secure;";if(i){var c=e.document.domain.split(".");o+=" domain="+(c="."+c[c.length-2]+"."+c[c.length-1])+";"}return e.document.cookie=o,o},a.destroyCookie=function(t){e.document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},a.supportPushState=function(){return!(!e.history||!e.history.pushState)},a.serializeObject=function(e){var t={};return $.each(e,(function(){void 0!==t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""})),t},a.modernizr=function(t){var n,s;if(!e.Modernizr)return!1;if(a.isOperaMini&&"input.placeholder"===t)return!1;if(a.isLTIE10Mobile&&"fontface"===t)return!1;for(n=e.Modernizr,t=t.split("."),s=0;s<t.length;s++)n=n[t[s]];return n},a.supportsTransition=function(){var t=(e.document.body||e.document.documentElement).style;return void 0!==t.transition||void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.MsTransition||void 0!==t.OTransition},a.transitionEndStrings="webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend",a.scrollIntoView=function(t){var n;t&&(t=(n=$(t))[0],n.length&&(a.isOperaMini||a.isAndroidStockBrowser(2,!0)||!t.scrollIntoView?e.scrollTo(0,n.offset().top+10):t.scrollIntoView(!0)))},a.isOperaMini=Boolean(e.navigator.userAgent.match(/(Opera Mini)/)),a.isLTIE10Mobile=Boolean(e.navigator.userAgent.match(/(MSIE 9.+ IEMobile)/))||Boolean(e.navigator.userAgent.match(/(MSIE 8.+ IEMobile)/))||Boolean(e.navigator.userAgent.match(/(MSIE 7.+ IEMobile)/)),a.chromeAndroidVer=function(){var t=/Chrome\/([0-9.]+)\ Mobile/.exec(e.navigator.userAgent);return t?parseInt(t[1]):0},a.isAndroid=function(t,n){var a=0;return t&&"number"==typeof t?!!Boolean(e.navigator.userAgent.match(/(Android)/))&&(!!(a=e.navigator.userAgent.match(/Android (.)/))&&(a=parseInt(a[1],10),n?a===t:a>=t)):Boolean(e.navigator.userAgent.match(/(Android)/))},a.format=function(e,t,n){var a="\\d(?=(\\d{"+(n||3)+"})+"+(t>0?"\\.":"$")+")";return e.toFixed(Math.max(0,~~t)).replace(new RegExp(a,"g"),"$&,")},Handlebars.registerHelper("format",a.format),a.isAndroidStockBrowser=function(t,n){return!!a.isAndroid(t,n)&&parseFloat(e.navigator.userAgent.match(/AppleWebKit\/([\d.]+)/)[1])<535},a.openOnDesktop=function(t){t=t&&t.location?t:e;var n=a.getDesktopUrl(t);t.document.cookie="mw-no=true; path=/",t.location.href===n?t.location.reload():t.location.href=n},a.getDesktopUrl=function(t){return(t=t&&t.location?t:e).location.href.replace(/\/paragraph\/[\w]+/,"")},a.hideAddressBar=function(){n.utils.isOperaMini&&a.scrollToTop(),e.setTimeout((function(){e.scrollY<5&&a.scrollToTop()}),0)},a.scrollToTop=function(){e.document.body.scrollTop||e.document.documentElement.scrollTop;var t=e.scrollTo;t&&t(0,0)},a.currentUser=function(){var e=app.get("currentUser");return e||(e=new app.models.User(n.user),app.set("currentUser",e,!1)),e},a.urlEncode=function(e){e=(e+"").toString();var t="";try{t=encodeURIComponent(e).replace(/!/g,"%21")}catch(n){e="..."==e.substr(-3)?e.substr(0,e.length-4)+"...":e.substr(0,e.length-1),t=encodeURIComponent(e).replace(/!/g,"%21")}return t.replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},a.urlEncodeWithSpace=function(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},a.urlDecode=function(e){return e=(e+"").toString(),decodeURIComponent(e.replace(/%21/g,"!").replace(/%27/g,"'").replace(/%28/g,"(").replace(/%29/g,")").replace(/%2A/g,"*").replace(/\+/g," "))},a.getMentions=function(e){return e.match(/((?![\/\.\#])(?:^|\W))@([\S\-]+)/gi)},a.linkify=function(e,t){var a=/((?![\/\.\#])(?:^|\W))@([\w\d\-]+)/gi,s=/(http(s)?:\/\/[^\s]+)/gi,i=/(?:^|\W)#([^\s\?\/]+)/gi,l='$1<a class="on-user-mention" href="/user/$2">@$2</a>',r='<a href="$1" rel="nofollow" target="_blank">$1</a>',o=' <a href="/tags/$1" class="on-navigate">#$1</a>';switch((t=t||{}).hash&&t.hash.sanitization&&(t.sanitization=t.hash.sanitization),t.sanitization=t.sanitization||"sanitize",t.doTags=!1!==t.doTags,t.doUrl=!1!==t.doUrl&&"unsanitize"!==t.sanitization,t.doMention=!1!==t.doMention,t.sanitization){case"sanitize":e=n.utils.sanitizeHTML(e);break;case"unsanitize":e=n.utils.unsanitizeHTML(e)}return t.doMention&&(e=e.replace(a,l)),t.doUrl&&(e=e.replace(s,r)),t.doTags&&(e=e.replace(i,o)),e},a.findMediaInText=function(e){var n,a,s=[],i="i";return e.text&&(e.placeholder=void 0!==e.placeholder&&""+e.placeholder,e.firstOnly=!!e.firstOnly,e.firstOnly||(i+="g"),t.each({image:/(?:https?:)?\/\/(?:[\w\-]+\.)+[a-z]{2,6}(?:\/[^\/#?]+)+\.(?:jpg|gif|png)/},(function(t){n=new RegExp(t.source,i),(a=e.text.match(n))&&(e.placeholder&&(e.text=e.text.replace(n,e.placeholder)),s=s.concat(a))}))),{text:e.text,media:s}},a.stopEvent=function(e){var t=e&&e.hasOwnProperty("gesture")?e.gesture.srcEvent:e,n=!!t&&(t.metaKey||t.ctrlKey);e&&!n&&(e.preventDefault(),e.stopPropagation(),e.hasOwnProperty("gesture")&&(e.gesture.preventDefault(),e.gesture.stopPropagation(),e.gesture.stopDetect()))},a.supportLocalstorage=function(){var t=e.app,n="wattpad.com.test";try{return e.localStorage.setItem(n,n),e.localStorage.removeItem(n),!0}catch(n){if(DOMException&&n&&DOMException.QUOTA_EXCEEDED_ERR&&n.code&&n.code===DOMException.QUOTA_EXCEEDED_ERR)return void 0!==t&&"undefined"!==t.local&&t.local.clear(),!0;e.wpLog.exception(n,"localstorage-not-supported")}return!1},a.redirectToCSR=function(e,t){t=t||{},app.router.navigate(e,t)},a.redirectToServer=function(e){$("body").hasClass("js-app-off")||(e?a._redirectToServer(e):a._reloadFromServer())},a._redirectToServer=function(t){e.location.href=t},a._reloadFromServer=function(){e.location.reload()},a.goBackInHistory=function(){e.history.go(-1)},a.getWindowSearch=function(){return e.location.search},a.reloadWithQuery=function(t){e.location="//"+e.location.hostname+e.location.pathname+t+e.location.hash},a.cacheBust=function(e,n,a,s){var i=[];return e=Array.isArray(e)?e:[e],n=Array.isArray(n)?n:[n],t.forEach(e,(function(e,l){var r,o;(o=(r=s?new app.models[e](n[l]):new app.collections[e]([],n[l]))instanceof app.collections.IncrementalFetch?Promise.resolve(r.fetchNextSet({localOnly:!0})):Promise.resolve(r.fetch({localOnly:!0}))).then((function(){a&&!r.get(a)||app.local._clearItem(t.result(r,"resource"))})),i.push(o)})),Promise.all(i)},a.showBuyCoinsModal=function(t,n,a,s){e.app.components.showBuyCoinsModal({isDesktop:app.get("device").isDesktop(),appLink:s,trackCoinsEvents:function(s,i){var l=e.store.getState().wallet;e.te.push("event","coins","packages",s,i,{page:t,storyid:n,partid:a,starting_balance:l.amount})}})},a.shouldSeePaidOnboarding=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=parseInt(n.utils.getCookie("seen-paid-onboard"))||!1;return!t&&e},a.showPaidOnboardingAfterDelay=function(){$("body").addClass("js-app-off");var t=e.location.pathname;setTimeout((function(){$("body").removeClass("js-app-off"),e.location.pathname!==t||e.app.components.showPaidOnboardingModal({premium:n.utils.currentUser().get("isPremium")})}),1500)},a.getAppUrl=function(e){e=e||"mobileweb";var t=app.get("device");return t&&t.is.ios?"https://my.w.tt/kwXixwM3J5":t&&t.is.huawei?"https://appgallery5.huawei.com/#/app/C100252597":t&&t.is.android?"https://my.w.tt/ngdWYy82J5":t&&t.is.kindle?"https://www.amazon.com/Unlimited-Stories-Wattpad-Free-Reader/dp/B004K56MNU":t&&t.is.windows?"https://www.microsoft.com/store/apps/9nblggh6gm17":"/getmobile"},a.getAllAppUrls=function(e){return e=e||"mobileweb",{ios:"https://my.w.tt/kwXixwM3J5",android:"https://my.w.tt/ngdWYy82J5",kindle:"https://www.amazon.com/Unlimited-Stories-Wattpad-Free-Reader/dp/B004K56MNU",windows:"https://www.microsoft.com/store/apps/9nblggh6gm17",huawei:"https://appgallery5.huawei.com/#/app/C100252597",fallback:"/getmobile"}},a.openPopup=function(t,n,a,s){var i=void 0!==e.screenLeft?e.screenLeft:screen.left,l=void 0!==e.screenTop?e.screenTop:screen.top,r=(e.innerWidth?e.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-a/2+i,o=(e.innerHeight?e.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-s/2+l,c=e.open(t,n,"scrollbars=yes, width="+a+", height="+s+", top="+o+", left="+r);return e.focus&&c.focus(),c},a.sortByColumns=function(e,t){for(var n=[],a=0,s=0,i=0,l=0,r=e.length%t;n.length<e.length;){for(;a<e.length&&(n.push(e[a]),a+=Math.ceil(e.length/t)-s,i++,r&&i>=r&&(s=1),!(n.length>=e.length)););i=0,s=0,a=++l}return n},a.sprintf=function(e,t){var n="";if(0===t.length)return e;for(var a=e.split("%s"),s=0;s<a.length;s++)n+=a[s]+(null!==t[s]&&void 0!==t[s]?t[s].toString():"");return n},a.extractUriFromUrl=function(e){return e.replace(/^((https?:)?\/\/)?[a-z-.]*[a-z-](:\d+)?(?=\/)/i,"")},a.formatStoryUrl=function(e){return a.extractUriFromUrl(e)},a.getCopyright=function(e){var t="";switch(e){case 0:t=a.trans("Not Specified");break;case 1:t=a.trans("All Rights Reserved");break;case 2:t=a.trans("Public Domain");break;case 3:t=a.trans("Creative Commons (CC) Attribution");break;case 4:t=a.trans("(CC) Attrib. NonCommercial");break;case 5:t=a.trans("(CC) Attrib. NonComm. NoDerivs");break;case 6:t=a.trans("(CC) Attrib. NonComm. ShareAlike");break;case 7:t=a.trans("(CC) Attribution-ShareAlike");break;case 8:t=a.trans("(CC) Attribution-NoDerivs")}return t},a.getCopyrightIcon=function(e){var t=null;switch(e){case 0:break;case 1:t="fa-copyright";break;case 2:t="fa-public-domain";break;case 3:case 4:case 5:case 6:case 7:case 8:t="fa-creative-commons"}return t},a.addSource=function(e,t,n,a,s){var i=(e.indexOf("?")>0?"&":"?")+"utm_source="+t,l=e+i;n&&(l+="&utm_medium="+n),a&&(l+="&utm_content="+a),s&&(l+="&wp_page="+s);var r=e.indexOf("#");return r>0&&(l=e.substr(0,e.indexOf("#")+1)+i+"#"+r),l},a.setTitle=function(t,a){void 0===a&&(a=!0);var s=0,i=t?t+(a?" - Wattpad":""):"Wattpad";n.utils.currentUser().get("inbox")&&(s=n.utils.currentUser().get("inbox").unread),app.get("device").is.desktop&&s>0&&(i="("+s+") "+i),e.document.title!==i&&(e.document.title=n.utils.unsanitizeHTML(i))},a.getNextUrl=function(e,t){var n,s=function(e){return"string"==typeof e&&!/(\/|%2F)(getmobile|login|signup)\/?[^\/\s]*/i.test(e)};return e=s(e)?e:"",t=(s(t)?t:"")||"/home",(n=e||a.getParam("nextUrl")||a.getParam("nexturl"))&&"string"==typeof n&&s(n)?encodeURIComponent(n):encodeURIComponent(t)},a.getParam=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e.location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},a.npgettext=function(e,t,n,a){var s=app.get("translatedLanguage");return a=parseInt(a,10),s&&s.jed?s.jed.npgettext(e,t,n,a):function(e,t,n){return 1===n?e:t}(t,n,a)},a.ngettext=function(e,t,n){return a.npgettext(void 0,e,t,n)},a.toPascalCase=function(e){var t=e.toLowerCase().replace(/[\W_]+(\w)/g,(function(e,t){return t.toUpperCase()}));return t.charAt(0).toUpperCase()+t.slice(1)},a.experimentSelected=function(t){t&&t.current&&e.te.push("event","experiment","variation",null,"select",{experiment:t.options.experimentKey,variation:t.variationLoki?t.variationLoki:"unknown"})},a.isHttp=function(){return"http:"===e.location.protocol},a.pushEvent=function(t,n){t&&"object"===k(t)&&e.dataLayer&&(t.event=n||"ga-event",e.dataLayer.push(t))},a.getAppLink=function(e,n){var a=app.get("device"),s=!t.includes(["library","homepage"],e);if(void 0===e||s&&void 0===n||!a.is.ios&&!a.is.android&&!a.is.windows)return null;switch(e){case"homepage":return"wattpad://discover";case"story-landing":return n instanceof app.models.StoryModel?"wattpad://story/"+n.get("id"):null;case"story-reading":return n instanceof app.models.StoryPartModel?a.is.ios?"wattpad:///read?groupid="+n.get("group").id+"&partid="+n.get("id"):"wattpad://story/"+n.get("group").id+"/part/"+n.get("id"):null;case"user-profile":return n instanceof app.models.User?a.is.ios?"wattpad:///profile?username="+n.get("username"):"wattpad://user/"+n.get("username"):null;case"library":return a.is.android?"wattpad://library":null}return a.is.ios?"iOS":a.is.android?"android":a.is.windows?"windows":null},a.appOn=function(){return!$("body").hasClass("js-app-off")},a.categorySubtitle=function(e){switch(e.id){case 1:return a.trans("Ride the emotional rollercoaster of young adulthood with these free coming-of-age stories on love, friendship, high school drama, popularity and awkward teen moments.");case 2:return a.trans("Immerse yourself with the best poems online about love, life, and the human experience.");case 3:return a.trans("Enter the realm of magic, dragons, princesses, elves, and faraway kingdoms, where a series of most unexpected events come to life.");case 4:return a.trans("Discover free love stories for any passion or persuasion. Book a date with your favorite author and read everything from sweet young romance to steamy new adult.");case 5:return a.trans("Travel to the interstellar worlds of science fiction. Discover free books about space odysseys, time travel, dystopian futures, alien planets, and post-apocalyptic universes.");case 6:return a.trans("From Supernatural to Harry Potter, One Direction to Percy Jackson, read the best fanfiction from whatever fandom you are in.");case 7:return a.trans("From tongue-in-cheek satire to literary comedy, enjoy these funny stories for adults and teens.");case 8:return a.trans("Welcome to the world of mystery, crime, and intrigue. Investigate psychological thrillers, blood boiling murders, and detective stories.");case 9:return a.trans("Feeling brave? Prepare for a scare with these creepy tales of eerie encounters, urban legends, and the unknown.");case 10:return a.trans("Immerse yourself in must read classic novels and literature that have stood the test of time.");case 11:return a.trans("Go on an epic journey with these free adventure books. Travel to the realm of heroes, villains, pirates, and other fairy folk.");case 12:return a.trans("Beware: ghosts, zombies, demons, clairvoyants, and ghouls. Read these free paranormal stories at your own risk.");case 13:return a.trans("Embark on a spiritual journey with stories that nourish the soul. Find your answers through self-reflection, healing, and spirituality.");case 14:return a.trans("Looking for danger, risk, and excitement? Find your hero in the best action books for teens and adults from your favorite authors.");case 16:return a.trans("Read fascinating biographies, intimate memoirs, real stories of personal growth, and other non-fiction books.");case 17:return a.trans("On the go? Read these slice-of-life short stories that span across genres.");case 18:return a.trans("Sink your teeth into these vampire books about century-old love, coven drama, and paranormal transformation.");case 19:return a.trans("Read stories that defy definition. Whether you are looking for things to do when you are bored, top 10 lists, guides, rants, diary entries, or contests, find your fix here.");case 21:return a.trans("Get your fix of contemporary fiction. Experience a new perspective with the best free fiction from your next favorite author.");case 22:return a.trans("From alpha to omega, find your one true mate with these free werewolf books that will make you howl.");case 23:return a.trans("Fall back in time with fictional period pieces, war stories, and tales of vikings, kings and queens that capture the essence of history.");case 24:return a.trans("Discover your next favorite chicklit author with these tales of dating, drama, and disasters. Book your next experience in classic trials of modern womanhood.")}},a.isYouTubeUrl=function(e){return 0===e.indexOf("http://youtu.be/")||0===e.indexOf("https://youtu.be/")||0===e.indexOf("http://www.youtube.com/watch?v=")||0===e.indexOf("https://www.youtube.com/watch?v=")},a.extractYouTubeId=function(e){var t=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/);return t&&11==t[1].length?t[1]:""},a.connectAsset=function(e){return n.assetServer&&(e=n.assetServer+e),e},a.resizeImages=function(e,t){var n=app.get("device");t=t||n.isDesktop()&&650||210;e.each((function(e,n){var a=$(n).children("img");if(a.data("original-width")>t){var s=a.data("original-height")/a.data("original-width")*100;$(n).addClass("fixed-ratio").css({"padding-bottom":s+"%"})}else a.attr("width",a.data("original-width")),a.attr("height",a.data("original-height")),$(n).removeClass("fixed-ratio").css({"padding-bottom":""})}))},a.isOnScreen=function(t,n){if(n=n||1,!t.length)return!1;if(!t.is(":visible"))return!1;var a=$(e).scrollTop(),s=a+$(e).height(),i=t.offset().top,l=i+t.height(),r=t.height()*n;return l<=s&&i>=a||i<=a&&l>a&&l-a>=r||l>=s&&i<s&&s-i>=r},a.generateBranchLink=function(t,n,s){var i={source:s.source,fields:"url",uuid:a.getCookie("wp_id"),url:t,shorten:1,post:0,shouldFallback:!1};return s.desktopRedirect&&(i.desktopRedirect=!0),n&&(i.deeplink=n,i.medium=s.medium,i.content=s.content,i.page=s.page,s.campaign&&(i.campaign=s.campaign),e._utms.originator&&(i.ref_ori=e._utms.originator)),$.get("/v4/link",i)},a.qsReplace=function(e,t,n){if("string"!=typeof e||"string"!=typeof t||e.indexOf(t+"=")<0)return e;var a=new RegExp(t+"=[^&]*");return e.replace(a,t+"="+(null==n?"":n))},a.eligibleForDirectSoldAds=function(){return t.includes(JSON.parse(n.directAdCountries),n.userCountryCode)},a.isMatureStory=function(e){return!e||e.rating>=4},a.getGenderTargeting=function(e){var t;if(!e||!e.gender)return"Ke28";switch(e.gender){case"Male":case"He":t="IU10";break;case"Female":case"She":t="Bu44";break;default:t="Ke28"}return t},a.cacheBustPaidMetadata=function(t,n){return e.store.dispatch(e.app.components.actions.cacheBustPaidContentMetadata(t,n))},a.revertPaidContentAccess=function(e,t){var n=a.getCurrentUserAttr("username");if(!n)throw new Error("User must be logged in to revert access");var s="";return t&&(s="/part/"+t),Promise.resolve($.ajax({type:"DELETE",url:"/v5/users/"+n+"/story/"+e+s+"/access"})).then((function(){a.cacheBustPaidMetadata(e,[t])}))},a.buyPaidContent=function(e,t,s){var i=a.getCurrentUserAttr("username");if(!i)throw new Error("User must be logged in to buy a part");var l="";return s&&(l="/part/"+s),Promise.resolve($.post("/v5/users/"+i+"/story/"+t+l+"/access?currency="+e)).then((function(e){if(!!e.code)throw e;return e})).catch((function(e){var t;try{if(3005!==e.code)throw"Unknown error code";t=n.utils.trans("Sorry, there weren't enough funds in your wallet to make this purchase.")}catch(e){t=n.utils.trans("Something went wrong, please try again. Don't worry, you won't be charged twice!")}throw t}))},a.fetchPaidContentStoryMetadata=function(e,t){var n=t.join(",");return Promise.resolve($.ajax({type:"GET",url:"/v5/story/"+e+"/paid-content/metadata",data:{parts:n}})).catch((function(e){return console.error("Couldn't fetch story metadata",e),{}}))},a.markBlockedParts=function(e,t){return t.map((function(t){var n=e.parts[t.id];return n?C(C({},t),{},{isBlocked:n.paywalled&&!n.has_access,paywalled:n.paywalled}):t}))},a.isPaidPreview=function(e){var n=t.any(e,(function(e){return e.paywalled&&!e.isBlocked}));return t.any(e,(function(e){return e.paywalled}))&&!n},a.numPartsBetweenCurrentAndPaywall=function(e,n){if(n.isBlocked)return-1;var a=t.findIndex(e,{id:n.id}),s=e.slice(a+1);return t.findIndex(s,(function(e){return e.isBlocked}))},a.getIndexForPartId=function(e,n){var a=n.parts;return t.findIndex(a,(function(t){return t.id===e}))},a.getAgeTargeting=function(e){return e&&e.age?e.age<15?"13HW":e.age>=15&&e.age<=17?"59ss":e.age>=18&&e.age<=24?"09Pv":e.age>=25&&e.age<=34?"68OK":e.age>=35&&e.age<=40?"71aa":e.age>=41&&e.age<=45?"76PT":e.age>=46&&e.age<=49?"74xS":e.age>=50&&e.age<=54?"68zo":e.age>=55&&e.age<=59?"33es":e.age>=60&&e.age<=64?"84Vv":e.age>=65?"29kM":"UNKn":"UNKn"},a.getRankingTargeting=function(e){return e>0&&e<=100?"0to100":"100plus"},a.getPlacementConfiguration=o.a,a.getAdzerkTargeting=u.a,a.loadHbAd=function(t){e.ados=e.ados||{},e.ados.run=e.ados.run||[],e.ads=e.ads||{};var n=t.placements;if(!n)return"";for(var s in n){var i=n[s],l=i.htSlotName,r=a.createHbResp(s,i,l);if(e.headertag&&e.headertag.retrieveDemand){var o=__atha.sendRequest(s,"indexexchange",i);e.ads[s]=C(C({},e.ads[s]),{ixRequestId:o}),e.headertag.retrieveDemand([{htSlotName:l}],r)}else r()}},a.getHeaderBiddingInlineStyle=function(e){var n=Object.keys(e);if(n.length>1){var a=0;return t.forIn(e,(function(e,t){e[0]>a&&(a=e[0])})),'style="width:'+a+'px;height:auto;"'}return'style="width:'+e[n[0]][0]+"px;height:"+e[n[0]][1]+'px;"'},a.showToast=function(e,t){new app.views.ErrorToast({message:e},t).render()},a.sendDataDogMetric=function(e,t){var n=e||{},a=t||null;$.post("/v4/metrics",n,a)},a.validatePrefilledTagText=function(e){var t=n.utils.sanitizeHTMLExceptQuotes(e.split(" ")[0]);return(t=t.replace(/<(br|p|div)(\s*)>/gi,"\n").replace(/(<([^>]+)>)/gi,"").substring(0,128)).length<2?null:t},a.validateImageURLs=function(e){var t=n.utils.sanitizeHTMLExceptQuotes(e.split(" ")[0]),a=new RegExp(/https?:\/\/(www\.)?(em|a|d|img).wattpad.(dev-prod|com)\/+\w+/);return!!t.match(a)},a.sendPurchaseResultEvent=function(t){var n=t.action,a=t.storyId,s=t.isFree,i=t.freeReason,l=t.isRepurchase,r=t.orderRefId;e.te.push("event","story_insights","report",null,n,{storyid:parseInt(a,10),is_free:s,free_reason:i,is_repurchase:l,order_reference_id:r})},a.getPlacementSizes=function(e){for(var t=[],n=0,a=Object.entries(o()(e).sizes);n<a.length;n++){var s=y(a[n],2),i=(s[0],s[1]);t.push(i)}return t},a.makeSafeFrame=function(e,t,n){var a=document.createElement("iframe");return a.setAttribute("id",e+"-frame"),a.setAttribute("FRAMEBORDER",0),a.setAttribute("SCROLLING","no"),a.setAttribute("MARGINHEIGHT",0),a.setAttribute("MARGINWIDTH",0),a.setAttribute("TOPMARGIN",0),a.setAttribute("LEFTMARGIN",0),a.setAttribute("ALLOWTRANSPARENCY","true"),a.setAttribute("width",t),a.setAttribute("height",n),a},a.getPrebidTimeout=function(){var e=1e3;if(n.testGroups.PREBID_TIMEOUT){var t=app.experiments.get("prebid-timeout");t&&(e={six_hundred:600,seven_hundred:700,eight_hundred:800,nine_hundred:900,__original__:1e3,eleven_hundred:1100,twelve_hundred:1200}[t.current])}return e},a.loadHbAdPrebid=function(t){e.ads=e.ads||{},e.pbjs=e.pbjs||{},__adConfig=e.__adConfig||{};var s=t&&t.placements;if(!s)return console.error("loadHbAdPrebid called with no placements v:".concat(n.revision)),!1;if(!__adConfig)return console.error("__adConfig undefined p:".concat(Object.keys(s).join(" ")," v:").concat(n.revision)),!1;var i=e.pbjs||{};i.que=i.que||[],__adConfig.configurePrebid(i),Object.keys(s).forEach((function(t){var n=s[t],l=a.getPrebidTimeout(),r=__adConfig.getPrebidAdUnits([t]);i.que.push((function(){if(i.removeAdUnit(),i.addAdUnits(r),"undefined"!=typeof __atha){var s=__atha.sendRequest(t,"prebid",n);e.ads[t]=C(C({},e.ads[t]),{pbRequestId:s})}i.requestBids({timeout:l,bidsBackHandler:function(e,n,s){if(!e||!(t in e))return a.generateAndRenderHardcodedCreative(t);var l=a.normalizeBids(e[t].bids,a.getBidFormat("prebid")),r=a.getBestBid(l,t,!1);a.sendAuctionResult(r,l,t,a.getBidFormat("prebid"));var o,c=document.getElementById(t),u=i.getAdserverTargetingForAdUnitCode(t);if(!r||!r.source_bid.adId)return a.generateAndRenderHardcodedCreative(t);var d=a.makeSafeFrame(t,300,600);c.appendChild(d),o=d.contentWindow.document,i.renderAd(o,r.source_bid.adId);var h=document.createComment(__adConfig.getAdCommentFromPrebidBid(r.source_bid));c.insertBefore(h,d),"undefined"!=typeof __atha&&__atha.sendImpression(t,"n/a",u.hb_bidder,r.cpi||0)}})}))}))},a.refreshAd=function(t){var a=document.getElementById(t);if(a){var i=s()(n.testGroups),l=a.getAttribute("data-ad-placement"),r=a.getAttribute("data-adzerk-zone"),c=a.getAttribute("data-ad-types"),u=a.getAttribute("data-ht-slot-name"),d=a.getAttribute("data-targeting"),h=a.getAttribute("data-page");if("usePrebid"===i.variation||l&&r&&c&&u&&d&&h){"usePrebid"!==i.variation||u||(u=t.split("-")[0]),l=u+"-"+Date.now(),a.id=l,a.setAttribute("data-ad-placement",l);var p={placements:{}};if("usePrebid"===i.variation){var m=o()(u);p.placements[l]={zoneId:m.zone,htSlotName:u}}else p.placements[l]={siteId:1025452,networkId:9660,zoneId:parseInt(r,10),adTypes:JSON.parse(c),htSlotName:u,targeting:JSON.parse(d),page:h};return a.innerHTML="",e.wattpad.utils[i.loadAdMethod](p),l}}},
/**
   * Fast UUID generator, RFC4122 version 4 compliant.
   * @author Jeff Ward (jcward.com).
   * @license MIT license
   * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136
   **/
a.generateUUID=function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);var n=4294967295*Math.random()|0,a=4294967295*Math.random()|0,s=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return e[255&n]+e[n>>8&255]+e[n>>16&255]+e[n>>24&255]+"-"+e[255&a]+e[a>>8&255]+"-"+e[a>>16&15|64]+e[a>>24&255]+"-"+e[63&s|128]+e[s>>8&255]+"-"+e[s>>16&255]+e[s>>24&255]+e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]},a.getBidFormat=function(e){return"index"===e?{adPartner:e,priceField:"price",priceIncrement:"bic",requestIdField:"ixRequestId",responseIdField:"ixResponseId",bidderField:"partnerId"}:"prebid"===e?{adPartner:e,priceField:"cpm",priceIncrement:"cpm",requestIdField:"pbRequestId",responseIdField:"pbResponseId",bidderField:"bidderCode"}:void 0},a.getBestBid=function(e,n,a){for(var s={},i=(n=n||"unknown",0);i<e.length;i++){var l=e[i];if("undefined"!=typeof __atha&&a){var r=__atha.sendBid(n,t.get(l,"partner","unknown"),t.get(l,"bic",void 0),l.dimensions);l.id=l.source_bid.id=r}(!s.hasOwnProperty("bic")||l.bic>s.bic)&&(s=l)}return s},a.sendAuctionResult=function(t,n,a,s){if("undefined"!=typeof __atha){var i=__atha.sendAuctionResult(a,t,n);e.ads[a][s.responseIdField]=i}},a.getAdzerkOverrides=function(e,t){var n={advertisers:{}},a=e.cpm?e.cpm:e.price?e.price/100:0;return n.advertisers[t]={ecpm:a},n},a.getAdzerkPartnerFields=function(e){var n={},a=t.get(e,"source_bid.targeting",{});return n.partnerId=e.partner?e.partner:null,n.ixWidth=e.dimensions?e.dimensions.split("x")[0]:"1",n.ixHeight=e.dimensions?e.dimensions.split("x")[1]:"1","RubiconHtb"===n.partnerId&&a.rpfl_7941&&(n.rubiconSizeId=a.rpfl_7941[0].slice(0,a.rpfl_7941[0].indexOf("_"))),t.merge(n,a)},a.createHbResp=function(e,t,n){var s=e,i=t,l=n;return function(e){return!!(e&&e.slot&&e.slot[l])?a.adosAddPlacement(s,i,e.slot[l]):a.adosAddPlacement(s,i)}},a.adosAddPlacement=function(s,i,l){var r=l?a.normalizeBids(l,a.getBidFormat("index")):null,o=l?a.getBestBid(r,s,!0):null;a.sendAuctionResult(o,r,s,a.getBidFormat("index"));var c=i.networkId,u=i.siteId,d=i.zoneId,h=i.targeting?i.targeting:{},p=i.adTypes?i.adTypes:[],m=o?a.getAdzerkOverrides(o,370943):{},f=o?a.getAdzerkPartnerFields(o):{},g=t.merge(h,f),v=h.category&&n.categoryList[h.category]?n.categoryList[h.category]:"";if(n.testGroups.ADS_DATADOG_METRICS&&a.sendDataDogMetric({isAdRequest:!0,adRequested:!0}),"undefined"!=typeof __atha){var w=__atha.sendRequest(s,"adzerk",i);e.ads[s]=C(C({},e.ads[s]),{requestId:w})}e.ados=e.ados||{},e.ados.run=e.ados.run||[],e.ados.run.push((function(){e.ados_add_placement&&(ados_add_placement(c,u,s,p).setZone(d).setProperties(g).setOverrides(m),ados_setConsent({gdpr:!0}),ados_setKeywords(v),ados_load())}))},a.getAdzerkImpressionCPI=function(e){var t=e.dp?e.dp:e.pc?e.pc:e.ec?e.ec:0;return a.getBidPrices(t,"cpm").cpi},a.generateAndRenderHardcodedCreative=function(e){var n,s,i,r=e.split("-")[0],c=o()(r),u=document.getElementById(e);if(c&&u){i=a.getHeaderBiddingInlineStyle(t.get(c,"sizes",{}));var d=y(h()(c.sizes),2);n=d[0],s=d[1];var p=l()(r,{width:n,height:s,inlineStyle:i});u.innerHTML=p}},a.normalizeBids=function(e,t){var n=[];return e.forEach((function(e){n.push(C({id:e.id,source_bid:e,dimensions:Array.isArray(e.size)?e.size.join("x"):e.size,partner:e[t.bidderField]},a.getBidPrices(e[t.priceField],t.priceIncrement)))})),n},a.getBidPrices=function(e,t){var n,a,s;switch(t){case"cpm":s=100*(n=e),a=n/1e3;break;case"cpi":a=e,s=100*(n=1e3*e);break;case"bic":a=(n=(s=e)/100)/1e3;break;default:n=a=s=0}return{cpm:Number(n.toFixed(2)),cpi:Number(a.toFixed(6)),bic:Number(s.toFixed(0))}},a.getIxPrebidSizes=function(e){var t=[];return Object.entries(e.sizes).forEach((function(n){var a=y(n,2),s=(a[0],a[1]);t.push({bidder:"ix",params:{siteId:e.ixSiteId,size:s}})})),t},a.showPleaseVerifyModal=function(){var e=new app.views.PleaseVerifyModal;$("#generic-modal .modal-body").html(e.render().$el),$("#generic-modal .modal-content").addClass("please-verify-modal-wrapper"),$("#generic-modal").modal({})},a.showSentEmailModal=function(e){var t=new app.views.VerifyEmailModal(e);$("#generic-modal .modal-body").html(t.render().$el),$("#generic-modal .modal-content").addClass("sent-email-modal-wrapper"),$("#generic-modal").modal({})},a.showChangeEmailModal=function(e){var t=new app.views.VerifyEmailModal(e);$("#generic-modal .modal-body").html(t.render().$el),$("#generic-modal .modal-content").addClass("change-email-modal-wrapper"),$("#generic-modal").modal({})},a.getCurrentUserRoles=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isSysAdmin,n=void 0!==t&&t,a=e.ambassador,s=void 0!==a&&a;return{isSysAdmin:n,isAmbassador:s}},a.clearCommentLocalStorage=function(){var t=/mobile-web#part.\w*.comments/,n=/mobile-web#comments.\w*.replies/;Object.keys(e.localStorage).forEach((function(a){(t.test(a)||n.test(a))&&e.localStorage.removeItem(a)}))},a.clearStoriesLocalStorage=function(){var t=/mobile-web#story.read.\w*.metadata/,n=/mobile-web#part.\w*.metadata/,a=/mobile-web#stories.\w*/,s=/mobile-web#reading-list.\w*.stories/;Object.keys(e.localStorage).forEach((function(i){if(t.test(i)||n.test(i)||a.test(i)||s.test(i)){var l=i.split("#")[1];app.local._clearItem(l),e.localStorage.removeItem(i)}}))},a.getSearchTitle=p,a.tagsHelper=f.a,a.isUnsafe=w.isUnsafe,a.forcedSignupHelper={isForcedSignupSession:g.isForcedSignupSession,isForcedSignupExemptView:v.isForcedSignupExemptView}}(window,window._,window.wattpad)}]);
//# sourceMappingURL=app.js.map