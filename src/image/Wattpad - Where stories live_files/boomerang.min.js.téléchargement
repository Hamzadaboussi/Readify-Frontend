function BOOMR_check_doc_domain(e){if(!e){if(window.parent===window||!document.getElementById("boomr-if-as"))return;e=document.domain}if(-1!==e.indexOf(".")){try{return void window.parent.document}catch(t){document.domain=e}try{return void window.parent.document}catch(t){e=e.replace(/^[\w\-]+\./,"")}BOOMR_check_doc_domain(e)}}BOOMR_start=(new Date).getTime(),BOOMR_check_doc_domain(),function(d){var c,e,s,t,o,a,n,i,r;d.parent!==d&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(d=d.parent,t=document.getElementById("boomr-if-as").src),s=d.document,d.BOOMR||(d.BOOMR={}),BOOMR=d.BOOMR,BOOMR.version||(BOOMR.version="0.9.1454699113",BOOMR.window=d,BOOMR.plugins||(BOOMR.plugins={}),function(){try{void 0!==new d.CustomEvent("CustomEvent")&&(o=function(t,e){return new d.CustomEvent(t,e)})}catch(t){}try{!o&&s.createEvent&&s.createEvent("CustomEvent")&&(o=function(t,e){var n=s.createEvent("CustomEvent");return e=e||{cancelable:!1,bubbles:!1},n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n})}catch(t){}!o&&s.createEventObject&&(o=function(t,e){var n=s.createEventObject();return n.type=n.propertyName=t,n.detail=e.detail,n}),o=o||function(){}}(),a=function(t,e,n){var r=o(t,{detail:e});function i(){s.dispatchEvent?s.dispatchEvent(r):s.fireEvent&&s.fireEvent("onpropertychange",r)}r&&(n?BOOMR.setImmediate(i):i())},void 0!==document.hidden?(n="visibilityState",i="visibilitychange"):void 0!==document.mozHidden?(n="mozVisibilityState",i="mozvisibilitychange"):void 0!==document.msHidden?(n="msVisibilityState",i="msvisibilitychange"):void 0!==document.webkitHidden&&(n="webkitVisibilityState",i="webkitvisibilitychange"),c={beacon_url:"",beacon_type:"AUTO",site_domain:d.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",strip_query_string:!1,onloadfired:!1,handlers_attached:!1,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},vars:{},errors:{},disabled_plugins:{},xb_handler:function(n){return function(t){var e;(t=t||d.event).target?e=t.target:t.srcElement&&(e=t.srcElement),3===e.nodeType&&(e=e.parentNode),e&&"OBJECT"===e.nodeName.toUpperCase()&&"application/x-shockwave-flash"===e.type||c.fireEvent(n,e)}},fireEvent:function(e,t){var n,r,i;if(e=e.toLowerCase(),!this.events.hasOwnProperty(e))return!1;for(this.public_events.hasOwnProperty(e)&&a(this.public_events[e],t),i=this.events[e],n=0;n<i.length;n++)try{(r=i[n]).fn.call(r.scope,t,r.cb_data)}catch(t){BOOMR.addError(t,"fireEvent."+e+"<"+n+">")}return!0}},e={t_lstart:null,t_start:BOOMR_start,t_end:null,url:t,utils:{objectToString:function(t,e,n){var r,i=[];if(!t||"object"!=typeof t)return t;if(void 0===e&&(e="\n\t"),n=n||0,"[object Array]"===Object.prototype.toString.call(t)){for(r=0;r<t.length;r++)0<n&&null!==t[r]&&"object"==typeof t[r]?i.push(this.objectToString(t[r],e+("\n\t"===e?"\t":""),n-1)):"&"===e?i.push(encodeURIComponent(t[r])):i.push(t[r]);e=","}else for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(0<n&&null!==t[r]&&"object"==typeof t[r]?i.push(encodeURIComponent(r)+"="+this.objectToString(t[r],e+("\n\t"===e?"\t":""),n-1)):"&"===e?i.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r])):i.push(r+"="+t[r]));return i.join(e)},getCookie:function(t){return t?(t=" "+t+"=",0<=(e=(n=" "+s.cookie+";").indexOf(t))?(e+=t.length,n=n.substring(e,n.indexOf(";",e))):null):null;var e,n},setCookie:function(t,e,n){var r,i,o,a;return!(!t||!c.site_domain)&&(o=[i=t+"="+(r=this.objectToString(e,"&")),"path=/","domain="+c.site_domain,"SameSite=Lax","Secure"],n&&((a=new Date).setTime(a.getTime()+1e3*n),a=a.toGMTString(),o.push("expires="+a)),i.length<500&&(s.cookie=o.join("; "),r===this.getCookie(t)))},getSubCookies:function(t){var e,n,r,i,o=!1,a={};if(!t)return null;if("string"!=typeof t)return null;for(n=0,r=(e=t.split("&")).length;n<r;n++)(i=e[n].split("="))[0]&&(i.push(""),a[decodeURIComponent(i[0])]=decodeURIComponent(i[1]),o=!0);return o?a:null},removeCookie:function(t){return this.setCookie(t,{},-86400)},cleanupURL:function(t){return t?c.strip_query_string?t.replace(/\?.*/,"?qs-redacted"):t:""},hashQueryString:function(t,e){return t?t.match?(t.match(/^\/\//)&&(t=location.protocol+t),t.match(/^(https?|file):/)?(e&&(t=t.replace(/#.*/,"")),BOOMR.utils.MD5?t.replace(/\?([^#]*)/,function(t,e){return"?"+(10<e.length?BOOMR.utils.MD5(e):e)}):t):""):(BOOMR.addError("TypeError: Not a string","hashQueryString",typeof t),""):t},pluginConfig:function(t,e,n,r){var i,o=0;if(!e||!e[n])return!1;for(i=0;i<r.length;i++)void 0!==e[n][r[i]]&&(t[r[i]]=e[n][r[i]],o++);return 0<o},addObserver:function(t,e,n,r,i,o){var a={observer:null,timer:null};if(!window.MutationObserver||!r||!t)return null;function s(t){var e=!1;a.timer&&(clearTimeout(a.timer),a.timer=null),r&&((e=r.call(o,t,i))||(r=null)),!e&&a.observer&&(a.observer.disconnect(),a.observer=null),"number"==typeof e&&0<e&&(a.timer=setTimeout(s,e))}return a.observer=new MutationObserver(s),n&&(a.timer=setTimeout(s,a.timeout)),a.observer.observe(t,e),a},addListener:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},removeListener:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)},pushVars:function(t,e,n){var r,i,o,a=0;for(r in e)if(e.hasOwnProperty(r))if("[object Array]"===Object.prototype.toString.call(e[r]))for(i=0;i<e[r].length;++i)a+=BOOMR.utils.pushVars(t,e[r][i],r+"["+i+"]");else(o=document.createElement("input")).type="hidden",o.name=n?n+"["+r+"]":r,o.value=void 0===e[r]||null===e[r]?"":e[r],t.appendChild(o),a+=encodeURIComponent(o.name).length+encodeURIComponent(o.value).length+2;return a},sendData:function(r,t){document.createElement("input");var i=[c.beacon_url];function o(t){var e=document.getElementById(t);e&&e.parentNode.removeChild(e)}r.method=t,r.id="beacon_form",r.enctype="application/x-www-form-urlencoded",c.secondary_beacons&&c.secondary_beacons.length&&i.push.apply(i,c.secondary_beacons),function t(){var e,n="boomerang_post-"+encodeURIComponent(r.action)+"-"+Math.random();try{e=document.createElement('<iframe name="'+n+'">')}catch(t){e=document.createElement("iframe")}r.action=i.shift(),r.target=e.name=e.id=n,e.style.display=r.style.display="none",e.src="javascript:false",o(e.id),o(r.id),document.body.appendChild(e),document.body.appendChild(r),r.submit(),i.length&&BOOMR.setImmediate(t),setTimeout(function(){o(e.id)},1e4)}()}},init:function(t){var e,n,r=["beacon_url","beacon_type","site_domain","user_ip","strip_query_string","secondary_beacons"];for(BOOMR_check_doc_domain(),t=t||{},e=0;e<r.length;e++)void 0!==t[r[e]]&&(c[r[e]]=t[r[e]]);for(n in void 0!==t.log&&(this.log=t.log),this.log||(this.log=function(){}),this.plugins)if(this.plugins.hasOwnProperty(n)){if(t[n]&&t[n].hasOwnProperty("enabled")&&!1===t[n].enabled){c.disabled_plugins[n]=1;continue}if(c.disabled_plugins[n]){if(!t[n]||!t[n].hasOwnProperty("enabled")||!0!==t[n].enabled)continue;delete c.disabled_plugins[n]}if("function"==typeof this.plugins[n].init)try{this.plugins[n].init(t)}catch(t){BOOMR.addError(t,n+".init")}}return c.handlers_attached||(c.onloadfired||void 0!==t.autorun&&!1===t.autorun||(s.readyState&&"complete"===s.readyState?(BOOMR.loadedLate=!0,this.setImmediate(BOOMR.page_ready,null,null,BOOMR)):d.onpagehide||null===d.onpagehide?BOOMR.utils.addListener(d,"pageshow",BOOMR.page_ready):BOOMR.utils.addListener(d,"load",BOOMR.page_ready)),BOOMR.utils.addListener(d,"DOMContentLoaded",function(){c.fireEvent("dom_loaded")}),function(){var t,e;for(void 0!==i&&(BOOMR.utils.addListener(s,i,function(){c.fireEvent("visibility_changed")}),BOOMR.subscribe("visibility_changed",function(){BOOMR.lastVisibilityEvent[BOOMR.visibilityState()]=BOOMR.now()})),BOOMR.utils.addListener(s,"mouseup",c.xb_handler("click")),t=s.getElementsByTagName("form"),e=0;e<t.length;e++)BOOMR.utils.addListener(t[e],"submit",c.xb_handler("form_submit"));d.onpagehide||null===d.onpagehide||BOOMR.utils.addListener(d,"unload",function(){BOOMR.window=d=null})}(),c.handlers_attached=!0),this},page_ready:function(t){return t=(t=t||d.event)||{name:"load"},c.onloadfired||(c.fireEvent("page_ready",t),c.onloadfired=!0),this},setImmediate:function(t,e,n,r){var i=function(){t.call(r||null,e,n||{}),i=null};d.setImmediate?d.setImmediate(i):d.msSetImmediate?d.msSetImmediate(i):d.webkitSetImmediate?d.webkitSetImmediate(i):d.mozSetImmediate?d.mozSetImmediate(i):setTimeout(i,10)},now:function(){try{if("performance"in window&&window.performance&&window.performance.now)return function(){return Math.round(window.performance.now()+window.performance.timing.navigationStart)}}catch(t){}return Date.now||function(){return(new Date).getTime()}}(),visibilityState:void 0===n?function(){return"visible"}:function(){return s[n]},lastVisibilityEvent:{},subscribe:function(t,e,n,r){var i,o,a,s;if(t=t.toLowerCase(),!c.events.hasOwnProperty(t))return this;for(a=c.events[t],i=0;i<a.length;i++)if((o=a[i])&&o.fn===e&&o.cb_data===n&&o.scope===r)return this;return a.push({fn:e,cb_data:n||{},scope:r||null}),"page_ready"===t&&c.onloadfired&&this.setImmediate(e,null,n,r),"page_unload"!==t&&"before_unload"!==t||(s=function(t){e&&e.call(r,t||d.event,n)},"page_unload"===t&&(d.onpagehide||null===d.onpagehide?BOOMR.utils.addListener(d,"pagehide",s):BOOMR.utils.addListener(d,"unload",s)),BOOMR.utils.addListener(d,"beforeunload",s)),this},addError:function(t,e,n){var r;"string"!=typeof t&&((r=String(t)).match(/^\[object/)&&(r=t.name+": "+(t.description||t.message).replace(/\r\n$/,"")),t=r),void 0!==e&&(t="["+e+":"+BOOMR.now()+"] "+t),n&&(t+=":: "+n),c.errors[t]?c.errors[t]++:c.errors[t]=1},addVar:function(t,e){if("string"==typeof t)c.vars[t]=e;else if("object"==typeof t){var n,r=t;for(n in r)r.hasOwnProperty(n)&&(c.vars[n]=r[n])}return this},removeVar:function(t){var e,n;if(!arguments.length)return this;for(n=1===arguments.length&&"[object Array]"===Object.prototype.toString.apply(t)?t:arguments,e=0;e<n.length;e++)c.vars.hasOwnProperty(n[e])&&delete c.vars[n[e]];return this},hasVar:function(t){return c.vars.hasOwnProperty(t)},requestStart:function(e){var n=BOOMR.now();return BOOMR.plugins.RT.startTimer("xhr_"+e,n),{loaded:function(t){BOOMR.responseEnd(e,n,t)}}},responseEnd:function(t,e,n){"object"==typeof t&&t.url?c.fireEvent("xhr_load",t):(BOOMR.plugins.RT.startTimer("xhr_"+t,e),c.fireEvent("xhr_load",{name:"xhr_"+t,data:n}))},sendBeacon:function(){var t,e,n,r=[];for(t in this.plugins)if(this.plugins.hasOwnProperty(t)){if(c.disabled_plugins[t])continue;if(!this.plugins[t].is_complete())return!1}for(t in c.vars.pgu=BOOMR.utils.cleanupURL(s.URL.replace(/#.*/,"")),c.vars.u||(c.vars.u=c.vars.pgu),c.vars.pgu===c.vars.u&&delete c.vars.pgu,c.vars.v=BOOMR.version,BOOMR.visibilityState()&&(c.vars["vis.st"]=BOOMR.visibilityState(),BOOMR.lastVisibilityEvent.visible&&(c.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible),BOOMR.lastVisibilityEvent.hidden&&(c.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)),d!==window&&(c.vars.if=""),c.errors)c.errors.hasOwnProperty(t)&&r.push(t+(1<c.errors[t]?" (*"+c.errors[t]+")":""));return 0<r.length&&(c.vars.errors=r.join("\n")),c.errors={},c.fireEvent("before_beacon",c.vars),!c.beacon_url||(e=document.createElement("form"),n=BOOMR.utils.pushVars(e,c.vars),c.fireEvent("onbeacon",c.vars),n?(BOOMR.utils.sendData(e,"AUTO"===c.beacon_type?2e3<n?"POST":"GET":"POST"),!0):this)}},delete BOOMR_start,"number"==typeof BOOMR_lstart?(e.t_lstart=BOOMR_lstart,delete BOOMR_lstart):"number"==typeof BOOMR.window.BOOMR_lstart&&(e.t_lstart=BOOMR.window.BOOMR_lstart),"object"==typeof console&&void 0!==console.log&&(e.log=function(t,e,n){console.log(n+": ["+e+"] "+t)}),r=function(n){return function(t,e){return this.log(t,n,"boomerang"+(e?"."+e:"")),this}},e.debug=r("debug"),e.info=r("info"),e.warn=r("warn"),e.error=r("error"),function(){var t;for(t in e)e.hasOwnProperty(t)&&(BOOMR[t]=e[t]);BOOMR.xhr_excludes||(BOOMR.xhr_excludes={})}(),a("onBoomerangLoaded",{BOOMR:BOOMR},!0))}(window),function(r){var a,n=r.document;BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},BOOMR.plugins.RT||(a={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:!0,navigationType:0,navigationStart:void 0,responseStart:void 0,t_start:void 0,cached_t_start:void 0,t_fb_approx:void 0,r:void 0,r2:void 0,basic_timers:{t_done:1,t_resp:1,t_page:1},addedVars:[],updateCookie:function(t,e){var n,r,i,o;if(!this.cookie)return!1;if(i=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{},"object"==typeof t)for(o in t)t.hasOwnProperty(o)&&(void 0===t[o]?i.hasOwnProperty(o)&&delete i[o]:("nu"!==o&&"r"!==o||(t[o]=BOOMR.utils.hashQueryString(t[o],!0)),i[o]=t[o]));return r=BOOMR.now(),e&&(i[e]=r),!!BOOMR.utils.setCookie(this.cookie,i,this.cookie_exp)&&(50<(n=BOOMR.now())-r&&(BOOMR.utils.removeCookie(this.cookie),BOOMR.error("took more than 50ms to set cookie... aborting: "+r+" -> "+n,"rt")),!0)},initFromCookie:function(){var t,e;(e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie)))&&(e.s=Math.max(+e.ul||0,+e.cl||0),e.s&&(e.r||e.nu)&&(this.r=e.r,t=BOOMR.utils.hashQueryString(n.URL,!0),!this.strict_referrer||e.nu&&e.nu===t&&e.s<+e.cl+15||e.s===+e.ul&&this.r===this.r2?(this.t_start=e.s,+e.hd>e.s&&(this.t_fb_approx=parseInt(e.hd,10))):this.t_start=this.t_fb_approx=void 0),this.updateCookie({s:void 0,r:void 0,nu:void 0,ul:void 0,cl:void 0,hd:void 0}))},getBoomerangTimings:function(){var t,e,n,r,i;function o(t,e){var n=Math.round(t||0),r=Math.round(e||0);return(n=0===n?0:n-r)||""}BOOMR.t_start&&(BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start),BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end),BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start),BOOMR.t_lstart&&(BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart),BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)));try{if(window.performance&&window.performance.getEntriesByName)for(n in e={"rt.bmr":BOOMR.url})if(e.hasOwnProperty(n)&&e[n]){if(!(t=window.performance.getEntriesByName(e[n]))||0===t.length)continue;i=[r=o((t=t[0]).startTime,0),o(t.responseEnd,r),o(t.responseStart,r),o(t.requestStart,r),o(t.connectEnd,r),o(t.secureConnectionStart,r),o(t.connectStart,r),o(t.domainLookupEnd,r),o(t.domainLookupStart,r),o(t.redirectEnd,r),o(t.redirectStart,r)].join(",").replace(/,+$/,""),BOOMR.addVar(n,i),a.addedVars.push(n)}}catch(t){BOOMR.addError(t,"rt.getBoomerangTimings")}},checkPreRender:function(){return"prerender"===BOOMR.visibilityState()&&(BOOMR.plugins.RT.startTimer("t_load",this.navigationStart),BOOMR.plugins.RT.endTimer("t_load"),BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart),BOOMR.plugins.RT.startTimer("t_postrender"),!0)},initFromNavTiming:function(){var t,e,n;this.navigationStart||((e=r.performance||r.msPerformance||r.webkitPerformance||r.mozPerformance)&&e.navigation&&(this.navigationType=e.navigation.type),e&&e.timing?t=e.timing:r.chrome&&r.chrome.csi&&r.chrome.csi().startE?(t={navigationStart:r.chrome.csi().startE},n="csi"):r.gtbExternal&&r.gtbExternal.startE()&&(t={navigationStart:r.gtbExternal.startE()},n="gtb"),t&&(BOOMR.addVar("rt.start",n||"navigation"),this.navigationStart=t.navigationStart||t.fetchStart||void 0,this.responseStart=t.responseStart||void 0,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=t.unloadEventStart||t.fetchStart||void 0)))},validateLoadTimestamp:function(t,e){var n=t;return e&&e.timing&&e.timing.loadEventEnd?n=e.timing.loadEventEnd:BOOMR.loadedLate&&(r.performance&&r.performance.timing?r.performance.timing.loadEventStart&&r.performance.timing.loadEventStart<BOOMR.t_end&&(n=r.performance.timing.loadEventStart):n=BOOMR.t_lstart||BOOMR.t_start||t),n},setPageLoadTimers:function(t,e,n){var r;return("xhr"===t||(a.initFromCookie(),a.initFromNavTiming(),!a.checkPreRender()))&&("xhr"===t?n&&n.timing&&(r=n.timing.responseStart):a.responseStart?r=a.responseStart:a.timers.hasOwnProperty("t_page")?BOOMR.plugins.RT.endTimer("t_page"):a.t_fb_approx&&(r=a.t_fb_approx),r&&(BOOMR.plugins.RT.endTimer("t_resp",r),a.timers.t_load?BOOMR.plugins.RT.setTimer("t_page",a.timers.t_load.end-r):BOOMR.plugins.RT.setTimer("t_page",e-r)),a.timers.hasOwnProperty("t_postrender")&&(BOOMR.plugins.RT.endTimer("t_postrender"),BOOMR.plugins.RT.endTimer("t_prerender")),!0)},setSupportingTimestamps:function(t){t&&BOOMR.addVar("rt.tstart",t),"number"==typeof a.t_start&&a.t_start!==t&&BOOMR.addVar("rt.cstart",a.t_start),BOOMR.addVar("rt.bstart",BOOMR.t_start),BOOMR.t_lstart&&BOOMR.addVar("rt.blstart",BOOMR.t_lstart),BOOMR.addVar("rt.end",a.timers.t_done.end)},determineTStart:function(t,e){var n;return"xhr"===t?(e&&e.name&&a.timers[e.name]?n=a.timers[e.name].start:e&&e.timing&&e.timing.requestStart&&(n=e.timing.requestStart),BOOMR.addVar("rt.start","manual")):a.navigationStart?n=a.navigationStart:a.t_start&&2!==a.navigationType?(n=a.t_start,BOOMR.addVar("rt.start","cookie")):n=a.cached_t_start?a.cached_t_start:void BOOMR.addVar("rt.start","none"),a.cached_t_start=n},page_ready:function(){this.onloadfired=!0},check_visibility:function(){"visible"===BOOMR.visibilityState()&&(a.visiblefired=!0),"prerender"===a.visibilityState&&"prerender"!==BOOMR.visibilityState()&&BOOMR.plugins.RT.done(null,"visible"),a.visibilityState=BOOMR.visibilityState()},page_unload:function(t){this.unloadfired||BOOMR.plugins.RT.done(t,"unload"),this.updateCookie({r:n.URL},"beforeunload"===t.type?"ul":"hd"),this.unloadfired=!0},_iterable_click:function(t,e,n,r){var i;if(n){for(;n&&n.nodeName.toUpperCase()!==e;)n=n.parentNode;n&&n.nodeName.toUpperCase()===e&&(i=r(n),this.updateCookie({nu:i},"cl"),BOOMR.addVar("nu",BOOMR.utils.cleanupURL(i)),a.addedVars.push("nu"))}},onclick:function(t){a._iterable_click("Click","A",t,function(t){return t.href})},onsubmit:function(t){a._iterable_click("Submit","FORM",t,function(t){var e=t.getAttribute("action")||n.URL||"";return e.match(/\?/)?e:e+"?"})},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")},clear:function(t){a.addedVars&&0<a.addedVars.length&&(BOOMR.removeVar(a.addedVars),a.addedVars=[])}},BOOMR.plugins.RT={init:function(t){return r!==BOOMR.window&&(r=BOOMR.window),n=r.document,BOOMR.utils.pluginConfig(a,t,"RT",["cookie","cookie_exp","strict_referrer"]),a.r=a.r2=BOOMR.utils.hashQueryString(n.referrer,!0),a.initFromCookie(),a.getBoomerangTimings(),a.initialized||(a.complete=!1,a.timers={},a.check_visibility(),BOOMR.subscribe("page_ready",a.page_ready,null,a),BOOMR.subscribe("visibility_changed",a.check_visibility,null,a),BOOMR.subscribe("page_ready",this.done,"load",this),BOOMR.subscribe("xhr_load",this.done,"xhr",this),BOOMR.subscribe("dom_loaded",a.domloaded,null,a),BOOMR.subscribe("page_unload",a.page_unload,null,a),BOOMR.subscribe("click",a.onclick,null,a),BOOMR.subscribe("form_submit",a.onsubmit,null,a),BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this),BOOMR.subscribe("onbeacon",a.clear,null,a),a.initialized=!0),this},startTimer:function(t,e){return t&&("t_page"===t&&this.endTimer("t_resp",e),a.timers[t]={start:"number"==typeof e?e:BOOMR.now()}),this},endTimer:function(t,e){return t&&(a.timers[t]=a.timers[t]||{},void 0===a.timers[t].end&&(a.timers[t].end="number"==typeof e?e:BOOMR.now())),this},setTimer:function(t,e){return t&&(a.timers[t]={delta:e}),this},addTimersToBeacon:function(t,e){var n,r,i=[];for(n in a.timers)if(a.timers.hasOwnProperty(n)){if("number"!=typeof(r=a.timers[n]).delta&&("number"!=typeof r.start&&(r.start=a.cached_t_start),r.delta=r.end-r.start),isNaN(r.delta))continue;a.basic_timers.hasOwnProperty(n)?(BOOMR.addVar(n,r.delta),a.addedVars.push(n)):i.push(n+"|"+r.delta)}i.length&&(BOOMR.addVar("t_other",i.join(",")),a.addedVars.push("t_other")),"beacon"===e&&(a.timers={},a.complete=!1)},done:function(t,e){var n,r,i=BOOMR.now(),o=!1;return a.complete=!1,r=a.validateLoadTimestamp(i,t),("load"!==e&&"visible"!==e&&"xhr"!==e||a.setPageLoadTimers(e,r,t))&&(n=a.determineTStart(e,t),t&&t.data&&(t=t.data),"xhr"===e&&t&&(o=t.subresource),this.endTimer("t_done",r),BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","r","r2","rt.tstart","rt.cstart","rt.bstart","rt.end","rt.subres","rt.abld","http.errno","http.method","xhr.sync"),a.setSupportingTimestamps(n),this.addTimersToBeacon(),BOOMR.addVar("r",BOOMR.utils.cleanupURL(a.r)),a.r2!==a.r&&BOOMR.addVar("r2",BOOMR.utils.cleanupURL(a.r2)),"xhr"===e&&t&&t&&t.data&&(t=t.data),"xhr"===e&&t&&(o=t.subresource,t.url&&(BOOMR.addVar("u",BOOMR.utils.cleanupURL(t.url.replace(/#.*/,""))),a.addedVars.push("u")),t.status&&(t.status<-1||400<=t.status)&&BOOMR.addVar("http.errno",t.status),t.method&&"GET"!==t.method&&BOOMR.addVar("http.method",t.method),t.headers&&BOOMR.addVar("http.hdr",t.headers),t.synchronous&&BOOMR.addVar("xhr.sync",1),t.initiator&&BOOMR.addVar("http.initiator",t.initiator),a.addedVars.push("http.errno","http.method","http.hdr","xhr.sync","http.initiator")),o&&(BOOMR.addVar("rt.subres",1),a.addedVars.push("rt.subres")),a.updateCookie(),"unload"===e&&(BOOMR.addVar("rt.quit",""),a.onloadfired||BOOMR.addVar("rt.abld",""),a.visiblefired||BOOMR.addVar("rt.ntvu","")),a.complete=!0,BOOMR.sendBeacon()),this},is_complete:function(){return a.complete}})}(window),function(){if(BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},!BOOMR.plugins.NavigationTiming){var o={complete:!1,xhr_done:function(t){var e,n,r=BOOMR.window,i={};if(t){if(t.data&&(t=t.data),t.url&&r.performance&&r.performance.getEntriesByName&&(e=r.performance.getEntriesByName(t.url))&&0<e.length)for(n in i={nt_red_st:(e=e[0]).redirectStart,nt_red_end:e.redirectEnd,nt_fet_st:e.fetchStart,nt_dns_st:e.domainLookupStart,nt_dns_end:e.domainLookupEnd,nt_con_st:e.connectStart,nt_con_end:e.connectEnd,nt_req_st:e.requestStart,nt_res_st:e.responseStart,nt_res_end:e.responseEnd},e.secureConnectionStart&&(i.nt_ssl_st=e.secureConnectionStart),i)i.hasOwnProperty(n)&&i[n]&&(i[n]+=r.performance.timing.navigationStart);for(n in t.timing&&(e=t.timing,i.nt_req_st||(i.nt_req_st=e.requestStart),i.nt_res_st||(i.nt_res_st=e.responseStart),i.nt_res_end||(i.nt_res_end=e.responseEnd),i.nt_domint=e.domInteractive,i.nt_domcomp=e.domComplete,i.nt_load_st=e.loadEventEnd,i.nt_load_end=e.loadEventEnd),i)i.hasOwnProperty(n)&&!i[n]&&delete i[n];BOOMR.addVar(i);try{o.addedVars.push.apply(o.addedVars,Object.keys(i))}catch(t){}this.complete=!0,BOOMR.sendBeacon()}},done:function(){var t,e,n,r,i=BOOMR.window;if(this.complete)return this;if(o.addedVars=[],(t=i.performance||i.msPerformance||i.webkitPerformance||i.mozPerformance)&&t.timing&&t.navigation){e=t.navigation,n=t.timing,r={nt_red_cnt:e.redirectCount,nt_nav_type:e.type,nt_nav_st:n.navigationStart,nt_red_st:n.redirectStart,nt_red_end:n.redirectEnd,nt_fet_st:n.fetchStart,nt_dns_st:n.domainLookupStart,nt_dns_end:n.domainLookupEnd,nt_con_st:n.connectStart,nt_con_end:n.connectEnd,nt_req_st:n.requestStart,nt_res_st:n.responseStart,nt_res_end:n.responseEnd,nt_domloading:n.domLoading,nt_domint:n.domInteractive,nt_domcontloaded_st:n.domContentLoadedEventStart,nt_domcontloaded_end:n.domContentLoadedEventEnd,nt_domcomp:n.domComplete,nt_load_st:n.loadEventStart,nt_load_end:n.loadEventEnd,nt_unload_st:n.unloadEventStart,nt_unload_end:n.unloadEventEnd},n.secureConnectionStart&&(r.nt_ssl_st=n.secureConnectionStart),n.msFirstPaint&&(r.nt_first_paint=n.msFirstPaint),BOOMR.addVar(r);try{o.addedVars.push.apply(o.addedVars,Object.keys(r))}catch(t){}}if(i.chrome&&i.chrome.loadTimes&&(n=i.chrome.loadTimes())){r={nt_spdy:n.wasFetchedViaSpdy?1:0,nt_cinf:n.connectionInfo,nt_first_paint:n.firstPaintTime},BOOMR.addVar(r);try{o.addedVars.push.apply(o.addedVars,Object.keys(r))}catch(t){}}this.complete=!0,BOOMR.sendBeacon()},clear:function(t){o.addedVars&&0<o.addedVars.length&&(BOOMR.removeVar(o.addedVars),o.addedVars=[]),this.complete=!1}};BOOMR.plugins.NavigationTiming={init:function(){return o.initialized||(BOOMR.subscribe("page_ready",o.done,null,o),BOOMR.subscribe("xhr_load",o.xhr_done,null,o),BOOMR.subscribe("before_unload",o.done,null,o),BOOMR.subscribe("onbeacon",o.clear,null,o),o.initialized=!0),this},is_complete:function(){return o.complete}}}}(),BOOMR.t_end=(new Date).getTime();
//# sourceMappingURL=boomerang.min.js.map
