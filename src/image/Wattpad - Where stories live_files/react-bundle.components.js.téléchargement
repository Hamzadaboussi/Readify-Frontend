!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("_"),require("moment")):"function"==typeof define&&define.amd?define(["_","moment"],t):"object"==typeof exports?exports.components=t(require("_"),require("moment")):(e.app=e.app||{},e.app.components=t(e._,e.moment))}(window,(function(e,t){return function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],d=0,m=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;return o.push([342,1]),n()}([,,function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"c",(function(){return x.a})),n.d(t,"e",(function(){return he.a})),n.d(t,"h",(function(){return Ce})),n.d(t,"i",(function(){return Ne})),n.d(t,"k",(function(){return Be.a})),n.d(t,"l",(function(){return Qe})),n.d(t,"m",(function(){return nt})),n.d(t,"j",(function(){return S})),n.d(t,"n",(function(){return ft.a})),n.d(t,"d",(function(){return ye})),n.d(t,"o",(function(){return mt})),n.d(t,"g",(function(){return vt})),n.d(t,"b",(function(){return Ct})),n.d(t,"f",(function(){return kt.a}));var r=n(6),a=n(582),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(46),u=n.n(c),d=n(4),m=n.n(d),f=n(3),p=n(31);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.popoverProps,n=e.closePopover,r=t.triggerRef,o=t.component,i=t.passthroughProps,c=void 0===i?{}:i,d=t.contentClass,p=w(Object(s.useState)(),2),y=p[0],h=p[1];return Object(s.useEffect)((function(){var e,t,a;if(void 0!==("undefined"==typeof window?"undefined":v(window))&&(a=document.querySelector(".react-popover-content")),a){a.addEventListener("keydown",(function(a){9===a.keyCode&&e&&t&&(a.shiftKey?document.activeElement===e&&(a.preventDefault(),t.focus()):document.activeElement===t&&(a.preventDefault(),e.focus()));27===a.keyCode&&r&&(n(),r.current.focus())}));var o=a.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]');o=Array.prototype.slice.call(o),e=o[0],t=o[o.length-1],e&&e.focus()}}),[n,r]),Object(f.a)(y,(function(e){r&&(e===r.current||r.current.contains(e)||n())})),r&&o?u.a.createPortal(l.a.createElement(a.a,b({innerRef:function(e){return h(e)},referenceElement:r.current,strategy:"fixed"},c),(function(e){var t=e.placement,r=e.ref,a=e.style,i=e.arrowProps;return l.a.createElement("div",{className:m()("react-popover-content",d),ref:r,style:a,"data-placement":t},o&&o({closePopover:n}),c.showArrow&&l.a.createElement("div",{className:"react-popover-arrow",ref:i.ref,style:i.style}))})),document.querySelector("#react-popover")):null}O.propTypes={popoverProps:i.a.shape({triggerRef:i.a.object,component:i.a.func,passthroughProps:i.a.object}).isRequired};var S=Object(r.b)((function(e){return{popoverProps:h({},e.popover.popoverProps)}}),{closePopover:p.a})(O);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var a=T(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(o,e);var t,n,r,a=_(o);function o(){return k(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props.avatar,t=this.props.username;return l.a.createElement("img",{src:e,"aria-hidden":"true",alt:t})}}])&&N(t.prototype,n),r&&N(t,r),o}(l.a.Component);R.propTypes={avatar:i.a.string.isRequired,username:i.a.string.isRequired};var x=n(66);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var a=D(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(o,e);var t,n,r,a=M(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),F(U(t=a.call(this,e)),"onChange",(function(e){e.preventDefault(),t.props.onChange(e.target.value,t.props.id)})),F(U(t),"onBlur",(function(e){t.setState({hasBlurred:!0}),t.props.onBlur(e)})),t.state={hasBlurred:!1},t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.labelText,r=e.type,a=e.required,o=e.value,i=e.pattern,s=e.onFocus,c=e.onInvalid,u=e.classes,d=e.placeholder,f=e.autoFocus,p=this.state.hasBlurred,y="float-label-container ".concat(u),h=m()({empty:!o,hasBlurred:p});return l.a.createElement("div",{className:y},l.a.createElement("input",{className:h,id:t,onChange:this.onChange,placeholder:d,pattern:i,type:r,required:a,value:o,onBlur:this.onBlur,onFocus:s,onInvalid:c,autoFocus:f}),l.a.createElement("label",{htmlFor:t},n))}}])&&A(t.prototype,n),r&&A(t,r),o}(l.a.Component);B.defaultProps={type:"text",required:!1,onChange:function(){},onBlur:function(){},onInvalid:function(){},onFocus:function(){},placeholder:"",classes:"",autoFocus:!1},B.propTypes={id:i.a.string.isRequired,labelText:i.a.string.isRequired,value:i.a.string.isRequired,type:i.a.string,pattern:i.a.string,onChange:i.a.func,onBlur:i.a.func,onInvalid:i.a.func,onFocus:i.a.func,classes:i.a.string,placeholder:i.a.string,required:i.a.bool,autoFocus:i.a.bool};var W=n(32),H=n.n(W),V=function(e){var t=e.value,n=e.label;return l.a.createElement("option",{value:t,key:t},n||t)};V.propTypes={value:i.a.oneOfType([i.a.string,i.a.array]),label:i.a.string};var z=V;function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=function(e){var t=e.inputType,n=e.name,r=e.id,a=e.onBlur,o=e.autofocus,i=e.alt,c=e.inputRef,u=e.placeholder,d=e.showVisibilityToggle,p=Object(f.h)().trans,y=m()("form-control","enable","input-lg",{"custom-select":"select"===t,"custom-select-lg":"select"===t}),h=Y(Object(s.useState)("password"),2),g=h[0],b=h[1];switch(t){case"select":return l.a.createElement("div",{className:"birthday-dropdowns"},l.a.createElement("select",{id:r,className:y,name:n,defaultValue:"",onBlur:a,"aria-label":i,ref:c,required:!0},function(e){var t,n,r=[],a=H()(),o=H()().subtract(100,"years");switch(e){case"day":t=1,n=31,r.push(l.a.createElement("option",{value:"",key:"-1",disabled:!0},"Day"));break;case"month":t=0,n=11,r.push(l.a.createElement("option",{value:"",key:"-1",disabled:!0},"Month"));break;case"year":t=o.year(),n=a.year(),r.push(l.a.createElement("option",{value:"",key:"-1",disabled:!0},"Year"))}if("year"===e)for(var i=n;i>t;i--)r.push(z({value:i,label:i}));else for(var s=t;s<=n;s++){var c="month"===e?9:10,u="month"===e?s+1:s,d="month"===e?H()().month(s).format("MMM"):s;u=s<c?"0"+u:""+u,r.push(z({value:u,label:d}))}return r}(n)));case"password":return l.a.createElement("div",{className:"password-container"},l.a.createElement("input",{type:g,id:r,className:y,name:n,placeholder:u,autoFocus:o,onBlur:a,ref:c,"aria-label":i,required:!0}),d&&l.a.createElement("button",{type:"button",className:"password-show btn-no-background","aria-label":p("text"===g?"Hide password":"Show password"),onClick:function(e){e.preventDefault(),e.stopPropagation(),b("text"===g?"password":"text")}},p("text"===g?"Hide":"Show")));default:return l.a.createElement("input",{type:t,id:r,className:y,name:n,placeholder:u,autoFocus:o,onBlur:a,"aria-label":i,ref:c,required:!0})}};G.propTypes={inputType:i.a.string,name:i.a.string,id:i.a.string,label:i.a.string,onBlur:i.a.func,autofocus:i.a.bool,showVisibilityToggle:i.a.bool,alt:i.a.string,inputRef:i.a.object,placeholder:i.a.string};var K=G;function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var a=ne(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return te(this,n)}}function te(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re,ae,oe,ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(o,e);var t,n,r,a=ee(o);function o(){return J(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return!1===this.props.isValid&&"month"!==this.props.name&&"day"!==this.props.name&&"year"!==this.props.name?l.a.createElement("div",{"aria-live":"assertive",className:"error-msg",role:"alert"},this.props.errorMessage):null}}])&&Q(t.prototype,n),r&&Q(t,r),o}(s.Component);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fe(e);if(t){var a=fe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return de(this,n)}}function de(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}re=ie,ae="propTypes",oe={name:i.a.string,isValid:i.a.bool,errorMessage:i.a.string},ae in re?Object.defineProperty(re,ae,{value:oe,enumerable:!0,configurable:!0,writable:!0}):re[ae]=oe;var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(n,e);var t=ue(n);function n(){var e;le(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return pe(me(e=t.call.apply(t,[this].concat(a))),"render",(function(){var t,n,r=e.props,a=r.autofocus,o=r.className,i=r.errorMessage,s=r.form,c=r.hasValidation,u=r.inputType,d=r.isValid,f=r.label,p=r.name,y=r.title,h=r.alt_msg,g=r.inputRef,b=r.onBlur,v=r.showLabel,w=r.showVisibilityToggle,E="".concat(s,"-").concat(p),O=m()("form-group","has-feedback","".concat(p),(pe(t={},o,!!o),pe(t,"valid",!0===d),pe(t,"invalid",!1===d),t));return n="month"==p||"year"==p||"day"==p?h:y&&!d?i:y,l.a.createElement("div",{className:O,"data-attr":p},v&&l.a.createElement("span",{className:"form-label","aria-hidden":"true"},f),l.a.createElement("label",{className:"control-label sr-only",htmlFor:E,"aria-hidden":"true"},f),l.a.createElement(K,{inputType:u,name:p,id:E,alt:n,label:f,inputRef:g,placeholder:y,onBlur:b,autofocus:a,showVisibilityToggle:w}),c&&l.a.createElement(ie,{isValid:d,errorMessage:i,name:p}))})),e}return n}(s.Component);pe(ye,"propTypes",{autofocus:i.a.bool,className:i.a.string,form:i.a.string,hasValidation:i.a.bool,inputType:i.a.string,isValid:i.a.bool,label:i.a.string,errorMessage:i.a.string,name:i.a.string,onBlur:i.a.func,showLabel:i.a.bool,showVisibilityToggle:i.a.bool,title:i.a.string,alt_msg:i.a.string,inputRef:i.a.object});var he=n(9);function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var a=Se(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(o,e);var t,n,r,a=Ee(o);function o(){return be(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props.headerName,t=this.props.options;return l.a.createElement("ul",{className:"menu-options"},t.map((function(t){return l.a.createElement("li",{key:t.key},l.a.createElement(he.a,{iconName:"fa-right",height:"16",color:"wp-neutral-1"}),"Browse"===e?l.a.createElement("a",{href:t.url,className:"on-navigate on-topic"},t.name):l.a.createElement("a",{href:t.url,className:"on-navigate"},t.name))})))}}])&&ve(t.prototype,n),r&&ve(t,r),o}(l.a.Component);Ce.propTypes={headerName:i.a.string,options:i.a.array.isRequired};var ke=l.a.forwardRef((function(e,t){return l.a.createElement("button",{ref:t,className:"btn btn-white dropdown-toggle profile-more-options","data-toggle":"dropdown","aria-controls":"profile-more-options","aria-expanded":"false","aria-label":"more options"},l.a.createElement(he.a,{name:"more",size:"16",className:"more-icon"}))}));ke.displayName="MoreOptions",ke.propTypes={onClick:i.a.func};var Ne=ke,je=n(185);function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pe(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||Ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qe(e){var t=e.children,n=e.defaultSelectedItems,r=e.onChange,a=e.isLoading,o=Me(e,["children","defaultSelectedItems","onChange","isLoading"]),i=Ie(Object(s.useState)(n),2),c=i[0],u=i[1];function d(e){var t=c.filter((function(t){return t!==e}));u(t),r&&r(t)}return Object(f.b)({isLoading:a,onSetDefault:function(){u(n)}}),l.a.createElement(je.a,_e({},o,{stateReducer:function(e,t){switch(t.type){case je.a.stateChangeTypes.keyDownEnter:case je.a.stateChangeTypes.clickItem:return Re(Re({},t),{},{highlightedIndex:e.highlightedIndex,isOpen:!0,inputValue:""});default:return t}},onChange:function(e){var t,n;c.includes(e)?d(e):(t=e,n=[].concat(Pe(c),[t]),u([].concat(Pe(c),[t])),r&&r(n))},selectedItem:null}),(function(e){return t(function(e){return Re({removeItem:d,selectedItems:c},e)}(e))}))}function Ue(e){var t=e.placeholder,n=e.itemToString,r=e.handleChange,a=e.getItems,o=e.defaultSelectedItems,i=e.disabled,c=e.isLoading,u=e.className,d=e.maxLimit,p=Object(f.h)().trans,y=Object(s.useRef)();return l.a.createElement(qe,{isLoading:c,defaultSelectedItems:o,onChange:r,itemToString:n},(function(e){var n,r=e.getInputProps,o=e.getToggleButtonProps,s=e.removeItem,c=e.isOpen,f=e.inputValue,h=e.selectedItems,g=e.getItemProps,b=e.toggleMenu;return l.a.createElement("div",{className:m()("multi-select-container",{disabled:i},u)},l.a.createElement("div",{className:m()("multi-select",{disabled:i||h.length>d}),role:"button",tabIndex:"0",style:{borderBottomRightRadius:c?0:6,borderBottomLeftRadius:c?0:6},onClick:function(){b(),!c&&y.current.focus()}},l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",flex:1}},h.length>0?h.map((function(e){return l.a.createElement("div",{key:e.id,className:"multi-select-item-container"},l.a.createElement("div",{className:"multi-select-grid"},l.a.createElement("span",null,e.name),l.a.createElement("button",{type:"button",className:"multi-select-remove-btn",onClick:function(t){t.stopPropagation(),s(e),y.current.focus(),!c&&b()}},l.a.createElement(he.a,{iconName:"fa-remove",height:"12",color:"wp-neutral-2"}))))})):c?"":t||p("Select items"),l.a.createElement("input",r({ref:y,onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),void e.stopPropagation();"Backspace"!==e.key||f||(s(h[h.length-1]),!c&&b())},className:"multi-select-search-input"}))),l.a.createElement("div",_e({className:"multi-select-toggle-btn"},o({onClick:function(e){e.stopPropagation()}})),l.a.createElement(he.a,{iconName:c?"fa-up":"fa-down",height:"12",color:"wp-neutral-2"}))),l.a.createElement("div",{className:m()("multi-select-menu",{"is-open":c},{disabled:i||h.length>d})},c?0===(n=a(f).filter((function(e){return!h.find((function(t){return t.id===e.id}))}))).length?l.a.createElement("div",{className:"multi-select-menu-item disabled"},p("No options")):n.map((function(e,t){return l.a.createElement("div",_e({key:e.id,className:"multi-select-menu-item"},g({item:e,index:t})),e.name)})):null))}))}qe.propTypes={children:i.a.func,onChange:i.a.func,isLoading:i.a.bool,defaultSelectedItems:i.a.array},Ue.defaultProps={itemToString:function(e){return e?e.name:""},defaultSelectedItems:[]},Ue.propTypes={disabled:i.a.bool,isLoading:i.a.bool,itemToString:i.a.func.isRequired,handleChange:i.a.func.isRequired,placeholder:i.a.string,className:i.a.string,maxLimit:i.a.number,getItems:i.a.func.isRequired,defaultSelectedItems:i.a.array};var De={full:{url:"/img/premium-branding/premium-logo-full.png",aspectRatio:.1678},full_orange:{url:"/img/premium-branding/premium-logo-full-orange.png",aspectRatio:.1656},short:{url:"/img/premium-branding/premium-logo-short.png",aspectRatio:.4722},short_grey:{url:"/img/premium-branding/premium-logo-short-grey.png",aspectRatio:.4722},short_white:{url:"/img/premium-branding/premium-logo-short-white.png",aspectRatio:.4722},letter_grey:{url:"/img/premium-branding/premium-logo-letter-grey.png",aspectRatio:.8667}},Fe=function(e){var t=e.width,n=e.variant,r=De[n];if(!r)throw new Error("Variant ".concat(n," unknown"));var a=r.url,o=r.aspectRatio*t;return l.a.createElement("img",{style:{height:"".concat(o,"px"),width:"".concat(t,"px")},src:a,alt:"wattpad premium logo"})};Fe.propTypes={width:i.a.string.isRequired,variant:i.a.string.isRequired};var Be=n(153);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ke(e);if(t){var a=Ke(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ge(this,n)}}function Ge(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(o,e);var t,n,r,a=$e(o);function o(){return Ve(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"formatSocialShareVisible",value:function(e){return e?e.map((function(e){return l.a.createElement(Je,He({},e,{isVisible:!0,key:e.name}))})):null}},{key:"formatSocialShareHidden",value:function(e){return e?l.a.createElement("div",{className:"button-group relative inline-block more"},l.a.createElement("button",{className:"btn btn-no-background dropdown-toggle btn-left-align","data-toggle":"dropdown"},l.a.createElement(he.a,{iconName:"fa-more",height:"24",color:"wp-neutral-3"})),l.a.createElement("div",{className:"triangle"}),l.a.createElement("ul",{className:"dropdown-menu"},e.map((function(e){return l.a.createElement("li",{key:e.name},l.a.createElement(Je,He({},e,{isVisible:!1,key:e.name})))})))):null}},{key:"render",value:function(){var e=this.props.socialShareVisible||this.props.socialLinks,t=this.props.socialShareHidden;return l.a.createElement("div",{className:"SocialSharing"},this.formatSocialShareVisible(e),this.formatSocialShareHidden(t))}}])&&ze(t.prototype,n),r&&ze(t,r),o}(s.Component);Ze.propTypes={socialShareVisible:i.a.arrayOf(i.a.object),socialLinks:i.a.arrayOf(i.a.object),socialShareHidden:i.a.arrayOf(i.a.object)};var Je=function(e){var t=e.name,n=e.href,r=e.icon,a=e.isVisible,o=e.nopopup,i=e.label,s=e.content,c=e.text,u=e.url,d=e.urlTemplate;return l.a.createElement("a",{"data-gtm-action":"share:".concat(t),rel:"nofollow noreferrer",className:m()("share-".concat(t),{"social-share":!o}),target:o?"":"_blank",href:n,"data-share-channel":t,"data-share-url":d,"data-url":u,"data-share-text":c,"data-share-content":s},l.a.createElement(he.a,{iconName:r,height:a?"24":"20",color:a?"wp-neutral-5":"wp-neutral-2",className:m()({"pull-left":!a})}),a?"":i)};Je.defaultProps={nopopup:!1,content:"",text:"",url:"",urlTemplate:""},Je.propTypes={name:i.a.string.isRequired,href:i.a.string.isRequired,isVisible:i.a.bool.isRequired,icon:i.a.string.isRequired,label:i.a.string.isRequired,nopopup:i.a.bool,content:i.a.string,text:i.a.string,url:i.a.string,urlTemplate:i.a.string};var Qe=Ze;function Xe(e){var t=e.username,n=e.isMutedByCurrentUser,r=e.isBlockedByCurrentUser,a=e.onMuteUser,o=e.onUnmuteUser,i=e.onBlockUser,s=e.onUnblockUser,c=e.onDeleteConversation,u=e.onReportUser,d=e.showBlockOption,m=e.showModerationOptions,p=Object(f.h)().trans,y=null!=n;return l.a.createElement("div",{className:"user-safety-operations"},m&&y&&!r&&l.a.createElement(et,{username:t,isMutedByCurrentUser:n,onMuteUser:function(){return a(t)},onUnmuteUser:function(){o(t)}}),m&&d&&void 0!==r&&l.a.createElement(tt,{username:t,isBlockedByCurrentUser:r,onBlockUser:function(){return i(t)},onUnblockUser:function(){s(t)}}),u&&l.a.createElement("button",{onClick:u,className:"on-report user-safety-operation btn-no-background btn-left-icon","data-username":t},l.a.createElement(he.a,{name:"report"}),p("Report")),c&&l.a.createElement("button",{onClick:c,className:"user-safety-operation btn-no-background btn-left-icon delete"},l.a.createElement(he.a,{name:"trash"}),p("Delete Conversation")))}function et(e){var t=e.isMutedByCurrentUser,n=e.onMuteUser,r=e.onUnmuteUser,a=e.username,o=Object(f.h)().trans;return l.a.createElement(l.a.Fragment,null,t?l.a.createElement("button",{onClick:r,className:"user-safety-operation btn-no-background btn-left-icon unmute"},l.a.createElement(he.a,{name:"unmute"}),o("Unmute %s",a)):l.a.createElement("button",{onClick:n,className:"user-safety-operation btn-no-background btn-left-icon mute"},l.a.createElement(he.a,{name:"mute"}),o("Mute %s",a)))}function tt(e){var t=e.isBlockedByCurrentUser,n=e.onBlockUser,r=e.onUnblockUser,a=e.username,o=Object(f.h)().trans;return l.a.createElement(l.a.Fragment,null,t?l.a.createElement("button",{onClick:r,className:"user-safety-operation btn-no-background btn-left-icon unblock"},l.a.createElement(he.a,{name:"block",strokeWidth:"0",viewBox:"16"}),o("Unblock %s",a)):l.a.createElement("button",{onClick:n,className:"user-safety-operation btn-no-background btn-left-icon block"},l.a.createElement(he.a,{name:"block",strokeWidth:"0",viewBox:"16"}),o("Block %s",a)))}Xe.propTypes={username:i.a.string.isRequired,onDeleteConversation:i.a.func,isMutedByCurrentUser:i.a.bool,isBlockedByCurrentUser:i.a.bool,onMuteUser:i.a.func,onUnmuteUser:i.a.func,onBlockUser:i.a.func,onUnblockUser:i.a.func,onReportUser:i.a.func,showBlockOption:i.a.any,showModerationOptions:i.a.bool},et.propTypes={username:i.a.string.isRequired,isMutedByCurrentUser:i.a.bool.isRequired,onMuteUser:i.a.func.isRequired,onUnmuteUser:i.a.func.isRequired},tt.propTypes={username:i.a.string.isRequired,isBlockedByCurrentUser:i.a.bool.isRequired,onBlockUser:i.a.func.isRequired,onUnblockUser:i.a.func.isRequired};var nt=Xe;function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ut(e);if(t){var a=ut(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?ct(e):t}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(r,t);var n=st(r);function r(){var t;ot(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return dt(ct(t=n.call.apply(n,[this].concat(o))),"state",{isValid:null,errorMessage:""}),dt(ct(t),"componentDidMount",(function(){t.props.validationModel&&(t.props.validationModel.on("attr:invalid",t.onInvalid,ct(t)),t.props.validationModel.on("attr:valid",t.onValid,ct(t)))})),dt(ct(t),"componentWillUnmount",(function(){t.props.validationModel&&(t.props.validationModel.off("attr:invalid"),t.props.validationModel.off("attr:valid"))})),dt(ct(t),"setAndValidate",(function(e){var n=t.props.validationModel;n.set(t.props.name,e.target.value),n.validate(t.props.name)})),dt(ct(t),"onInvalid",(function(e,n){e===t.props.name&&(t.setState({isValid:!1,errorMessage:n}),t.props.onInvalid&&t.props.onInvalid(n,e))})),dt(ct(t),"onValid",(function(e){e===t.props.name&&(t.setState({isValid:!0}),t.props.onValid&&t.props.onValid(e))})),dt(ct(t),"render",(function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(e,at({hasValidation:!0,isValid:t.state.isValid,onBlur:t.setAndValidate,errorMessage:t.state.errorMessage},t.props)))})),t}return r}(s.Component),dt(t,"propTypes",{name:i.a.string,validationModel:i.a.shape({on:i.a.func,off:i.a.func,set:i.a.func,validate:i.a.func}),onInvalid:i.a.func,onValid:i.a.func}),n},ft=n(108),pt=n(11);function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vt(e){var t,n=e.animationId,r=e.animationOptions,a=e.onAnimationLoad,o=bt(e,["animationId","animationOptions","onAnimationLoad"]),i=function(){var e=document.getElementById(n),t=window.bodymovin.loadAnimation(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({wrapper:e},r));t.addEventListener("DOMLoaded",(function(){a&&a(t),t.removeEventListener("DOMLoaded")}))};return t=function(){if(window.bodymovin)i();else{var e,t=document.getElementById("lottie-script");t||((e=document.createElement("script")).src="".concat(pt.a,"/js/lottie.js"),e.id="lottie-script",document.head.appendChild(e),t=e),t.addEventListener("load",(function e(){i(),t.removeEventListener("load",e,!1)}))}},Object(s.useEffect)(t,[]),l.a.createElement("div",yt({id:n},o))}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function St(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ct(e){var t=e.onChange,n=e.defaultValue,r=St(e,["onChange","defaultValue"]),a=Et(Object(s.useState)(n||!1),2),o=a[0],i=a[1];return l.a.createElement("button",wt({className:m()("react-checkbox btn-no-style",{checked:o}),onClick:function(e){e.stopPropagation(),e.preventDefault(),t(!o),i(!o)}},r),o&&l.a.createElement(he.a,{name:"check",color:"wp-neutral-5",size:16}))}vt.propTypes={animationId:i.a.string.isRequired,animationOptions:i.a.object.isRequired,onAnimationLoad:i.a.func},Ct.defaultProps={onChange:function(){},defaultValue:!1},Ct.propTypes={onChange:i.a.func,defaultValue:i.a.bool};var kt=n(71)},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c.a})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return d.a})),n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return y}));var r=n(0);var a=function(e){var t=e.isLoading,n=e.onSetDefault,a=Object(r.useRef)(!1),o=Object(r.useRef)();Object(r.useEffect)((function(){o.current=n}),[n]),Object(r.useEffect)((function(){a.current||t||(o.current(),a.current=!0),t&&(a.current=!1)}),[t,a])},o=n(1),i=n.n(o);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=t}),[t]),Object(r.useEffect)((function(){if(e){var t=function(t){e&&e.contains(t.target)||n.current(t.target)};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}}),[e])}s.propTypes={handleClickOutside:i.a.func.isRequired,ref:i.a.object.isRequired};var l=s,c=n(151);var u=function(e){var t=e.onThreshold,n=e.direction,a=void 0===n?"down":n,o=e.threshold,i=void 0===o?0:o,s=Object(r.useRef)(),l=Object(r.useRef)(0);Object(r.useEffect)((function(){s.current=t}),[t]),Object(c.a)("scroll",(function(){var e=function(e){var t,n=window.pageYOffset||document.documentElement.scrollTop;return t=n>e.current?"down":"up",e.current=n>0?n:0,t}(l);("down"===a&&"down"===e&&window.innerHeight+window.scrollY>=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight||0)-i||"up"===a&&"up"===e&&window.pageYOffset<=i)&&s.current()}))},d=n(107),m=n(54);function f(){return Object(r.useContext)(m.c)}function p(e){Object(r.useEffect)((function(){window.document.title=e}),[e])}function y(){return Object(r.useContext)(m.a)}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"n",(function(){return m.a})),n.d(t,"o",(function(){return p})),n.d(t,"p",(function(){return g})),n.d(t,"q",(function(){return b})),n.d(t,"r",(function(){return w})),n.d(t,"s",(function(){return f})),n.d(t,"u",(function(){return E})),n.d(t,"l",(function(){return O.a})),n.d(t,"m",(function(){return A})),n.d(t,"t",(function(){return L})),n.d(t,"k",(function(){return M})),n.d(t,"c",(function(){return q})),n.d(t,"a",(function(){return U})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return F})),n.d(t,"h",(function(){return B}));var r=n(12),a=n.n(r),o=function(e){return-1==e?"-":e&&a.a.isNumber(e)?e>=99999999?Math.floor(e/1e6)+"M":e>=1e6?Math.floor(e/1e5)/10+"M":e>=99999?Math.floor(e/1e3)+"K":e>=1e3?Math.floor(e/100)/10+"K":e:0},i=function(e){return e.replace(/^((https?:)?\/\/)?[a-z-.]*[a-z-](:\d+)?(?=\/)/i,"")},s=n(32),l=n.n(s),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l()(e),r="MMM DD, YYYY hh:mmA";if(l()().diff(e,"hours")<24||t.fuzzyTime&&l()().diff(e,"days")<7){var a=t.dropSuffix||!1;return n.fromNow(a)}return t.fuzzyTime?r=l()().isSame(e,"year")?"MMM DD":"MMM DD, YYYY":t.fullDate&&(r="MMMM D, YYYY"),n.format(r)},u=function(e){return e.displayName||e.name||"Component"},d=function(e,t){var n=t.parts;return a.a.findIndex(n,(function(t){return t.id===e}))},m=n(73),f=function(e){return e&&"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e},p=function(e,t){var n,r=/((?![/.#])(?:^|\W))@([\S-]+)/gi,a=/(http(s)?:\/\/[A-Za-z0-9._~:/?#[\]@!$&'()*+,\-=]+)/gi,o=/(?:^|\W)#([^\s?/]+)/gi,i='$1<a class="on-user-mention" href="/user/$2">@$2</a>',s='<a href="$1" rel="nofollow" target="_blank">$1</a>',l=' <a href="/tags/$1" class="on-navigate">#$1</a>';switch((t=t||{}).hash&&t.hash.sanitization&&(t.sanitization=t.hash.sanitization),t.sanitization=t.sanitization||"sanitize",t.doTags=!1!==t.doTags,t.doUrl=!1!==t.doUrl&&"unsanitize"!==t.sanitization,t.doMention=!1!==t.doMention,t.sanitization){case"sanitize":e=f(e);break;case"unsanitize":e=(n=e)&&"string"==typeof n?n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'):n}return t.doMention&&(e=e.replace(r,i)),t.doUrl&&(e=e.replace(a,s)),t.doTags&&(e=e.replace(o,l)),e},y=n(43),h=function(e,t,n,r,o,i,s,l){var c,u=!!o&&o[0];return e&&t&&"string"==typeof t&&r&&isFinite(String(n))?(Object(y.a)(2.5,i,s,l)?(n*=3,u=!!o&&o[2],u=o?o[1]:o):Object(y.a)(1.5,i,s,l)&&(n*=2,u=!!o&&o[1]),(c=a.a.find(e,(function(e){return e+(!1!==u?Math.floor(e/u):0)>=n})))||(c=a.a.reduce(e,(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}))),t.replace(r,"$1"+c+"$3$4")):""},g=function(e,t){t&&isFinite(t)||(t=320),e=e.replace(/(\d+\.)(png|jpg|jpeg|gif)$/,".$1$2");return h([320,360,640,1920],e,t,/(^.*\/userbg\/[\w\-_]+\.)()(\.?[0-9]*\.)(png|jpg|jpeg|gif)$/,!1).replace("userbg","userbgs")},b=function(e){return new Promise((function(t){return setTimeout(t,e)}))},v=n(11),w=function(e,t,n,r,a){return h(v.b,e,t,/(^.*\/c?cover\/[0-9]+-)([0-9]{1,3})(-*[\w]+\.)(png|jpg|jpeg|gif)$/,[20,14],n,r,a)},E=function(e,t,n,r){var a;return r=r||{},e?((a=(a=e.replace(/(<([^>]+)>)/gi,"")).replace(/^\s*\n/gm,"")).length>t&&(a=a.substr(0,t-1).replace(/[.,\- /!&?]+$/,"")+"..."),!0===n?p(a,r):a):""},O=n(215),S=n(0),C=n.n(S),k=n(54);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var a=I(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){var t,n,r,a,o;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(i,t);var n,r,a,o=R(i);function i(){return _(this,i),o.apply(this,arguments)}return n=i,(r=[{key:"render",value:function(){var t=this;return C.a.createElement(k.b.Consumer,null,(function(n){var r=n.trans,a=n.ngettext;return C.a.createElement(e,j({},t.props,{trans:r,ngettext:a}))}))}}])&&P(n.prototype,r),a&&P(n,a),i}(C.a.Component),r=t,a="displayName",o="".concat(u(e),"WithTrans"),a in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,n};function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getBoundingClientRect(),r=window.scrollY+n.y,a=r+t;window.scrollTo({top:a,behavior:"smooth"})}var M=function(e){return 1!==Math.sign(e)?0:Math.round(function(e){return e/v.m}(e)/v.e)},q=function(e){var t=Math.floor(e/60);return{hours:t,minutes:Math.floor(e-60*t)}},U=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),D=function(e){return Object(y.a)(2.5)?Math.floor(e/3):Object(y.a)(1.5)?Math.floor(e/2):e},F=function(e,t){if(!e||isNaN(t))return"";var n=a.a.find(v.b,(function(e){return e>=t}));return e.replace(/(^.*\/c?cover\/[0-9]+-)([0-9]{1,3})(-*[\w]+\.)(png|jpg|jpeg|gif)$/,"$1"+n+"$3$4")},B=function(e){if(!e)return"";var t="";return v.b.forEach((function(n){t+="".concat(F(e,n)," ").concat(n,"w,")})),t.slice(0,-1)}},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(55);function a(e){return{type:r.c,modalProps:e}}function o(e){return{type:r.b,modalProps:e}}function i(){return{type:r.a}}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(6),u=n(220),d=n.n(u),m=n(135),f=n.n(m);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=v(i);function i(){return h(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this;if(this.props.onClick)throw new Error("onClick event defined on an icon. Please wrap the icon with a button.");var t=this.props,n=t.iconName,r=t.name,o=t.height,i=t.color,s=t.className,c=(t.ff,t.size),u=t.strokeWidth,m=t.boxX,p=t.boxY,h=t.viewBox,g=t.fill,b=t.fillColor,v=t.title,w=t.passthroughProps;if(r){if(d.a[r]){var E="none";b?E=f.a[b]:g&&(E=f.a[i]);var O=v?"img":void 0;return a.a.createElement("svg",y({width:c,height:c,viewBox:"".concat(m," ").concat(p," ").concat(h," ").concat(h),fill:E,stroke:f.a[i],strokeWidth:u,"aria-hidden":!v,strokeLinecap:"round",strokeLinejoin:"round",className:s,role:O},w),v&&a.a.createElement("title",null,v),a.a.createElement("g",{dangerouslySetInnerHTML:{__html:d.a[r]}}))}throw"Icon ".concat(r," doesn't exist")}if(window.wattpad.utils.modernizr("fontface"))return a.a.createElement("span",y({className:l()("fa",n,"fa-".concat(i),s),"aria-hidden":"true",style:{fontSize:"".concat(o,"px")},ref:function(t){e.elementRef=t}},w));var S="/img/icons/".concat(i,"/").concat(n.substr(3),".png");return a.a.createElement("img",y({className:l()("fa",n,"fallback",s),style:{height:"".concat(o,"px"),width:"auto"},src:S,alt:"icon ".concat(n.substr(3)),ref:function(t){e.elementRef=t}},w))}}])&&g(t.prototype,n),r&&g(t,r),i}(r.PureComponent);O.defaultProps={className:"",ff:"",color:"wp-neutral-1",size:"14",height:"14",strokeWidth:"2",boxX:"0",boxY:"0",viewBox:"24"},O.propTypes={name:i.a.string,iconName:i.a.oneOf(["fa-alert","fa-archive","fa-attach","fa-badge-ambassador","fa-badge-blank","fa-badge-cc","fa-badge-heart","fa-badge-promoted","fa-badge-rating","fa-badge-verified","fa-bold","fa-buy","fa-camera","fa-caret","fa-categories","fa-centered","fa-check","fa-circle-empty","fa-circle-filled","fa-clock","fa-code","fa-comment","fa-comment-count","fa-copyright","fa-creative-commons","fa-dedicate","fa-double-image","fa-down","fa-down-small","fa-edit","fa-facebook","fa-facebook-official","fa-facebook-square","fa-flag","fa-follow","fa-following","fa-following-request","fa-format","fa-group","fa-home","fa-ic_reading_list","fa-image","fa-inbox","fa-info","fa-instagram","fa-italic","fa-justified","fa-left","fa-left-aligned","fa-left-small","fa-library","fa-link","fa-list","fa-list-add","fa-loading","fa-location","fa-lock","fa-mention","fa-menu","fa-minus","fa-mobile","fa-more","fa-mute","fa-pin","fa-pinterest","fa-pinterest-square","fa-plus","fa-public-domain","fa-ranking","fa-reading-list","fa-redo","fa-refresh","fa-remove","fa-remove-alt","fa-right","fa-right-aligned","fa-right-small","fa-search","fa-settings","fa-share","fa-single-image","fa-stats","fa-story","fa-trash","fa-tumblr","fa-tumblr-square","fa-twitter","fa-twitter-square","fa-underline","fa-undo","fa-unlock","fa-unmute","fa-up","fa-up-small","fa-user","fa-video","fa-view","fa-vote","fa-vote-alt","fa-warning","fa-website","fa-image-warning"]),color:i.a.oneOf(["wp-neutral-1","wp-neutral-2","wp-base-1-dark","wp-base-1-light","wp-base-2-dark","wp-error-1","wp-warning-01","wp-errorbackground","wp-neutral-2","wp-base-2-dark","wp-neutral-3","wp-lighterror","wp-lighterteal","wp-neutral-3","wp-neutral-3","wp-lightteal","wp-neutral-2","wp-neutral-3","wp-base-1","wp-neutral-2","wp-success","wp-base-2","wp-neutral-2","wp-base-1-dark","wp-neutral-5","ds-neutral-00-solid","ds-neutral-100","ds-base-4-accent","ds-alert","ds-neutral-80","ds-base-2-60","ds-success"]).isRequired,size:i.a.oneOfType([i.a.string,i.a.number]),height:i.a.string.isRequired,className:i.a.string,ff:i.a.string,strokeWidth:i.a.string,boxX:i.a.oneOfType([i.a.string,i.a.number]),boxY:i.a.oneOfType([i.a.string,i.a.number]),viewBox:i.a.oneOfType([i.a.string,i.a.number]),fill:i.a.bool,fillColor:i.a.string,passthroughProps:i.a.object,title:i.a.string};var S=Object(c.b)((function(e){return{ff:e.userData.ff}}),{})(O);t.a=S},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"p",(function(){return a})),n.d(t,"s",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"n",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"t",(function(){return y})),n.d(t,"f",(function(){return h})),n.d(t,"o",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"q",(function(){return v})),n.d(t,"l",(function(){return w})),n.d(t,"a",(function(){return E})),n.d(t,"r",(function(){return O})),n.d(t,"u",(function(){return S}));var r="FETCH_HOME_MODULES",a="RECEIVE_SECTION_POSITION",o="SECTION_VIEWED",i="ERROR",s="CLEAR_ERROR",l="CALL_TRACKING_URLS",c="RECEIVE_CONTENT_SETTINGS",u="NO_CONTENT_SETTING_CHANGES",d="LOADING_CONTENT_SETTINGS",m="LOADING_CONTENT_SETTINGS_DONE",f="LOADING_HOME",p="LOADING_HOME_DONE",y="SHOW_LOADER",h="HIDE_LOADER",g="RECEIVE_READING_LISTS",b="LOADING_READING_LISTS",v="RECEIVE_STORIES_COLLECTIONS",w="LOADING_STORIES_COLLECTIONS",E="ADD_STORY_TO_COLLECTION",O="REMOVE_STORY_FROM_COLLECTION",S={fetchFailed:"FETCH_FAILED"}},function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"m",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return y}));var r=1,a=["#eeeeee"],o=["#6f6f6f"],i=12,s=5,l=6,c="premium-theme",u={1:"olive",2:"plum",3:"watermelon",4:"blue",5:"water",6:"orange",7:"turquoise",8:"grey",9:"red",10:"purple",11:"royal",12:"denim"},d=[64,80,100,128,144,160,176,200,208,256,288,352,368,416,512],m=5,f=230,p="//static.wattpad.com",y="//img.wattpad.com"},function(t,n){t.exports=e},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"j",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return y}));var r=n(11),a="wp1",o=2e3,i=2200,s=400,l="set_wallet_balance",c="buying_content",u="bought_content",d="animation_step",m={DEFAULT:"default",COIN:"coin",DEDUCTING:"deducting",SUBTRACTING:"subtracting"},f=function(e){return[{title:e("Introducing Paid Stories"),content:e("Thank writers for creating the stories you love by monetarily supporting them."),imageUrl:"paid-content/lifting-hand.png"},{title:e("Continue exploring free stories"),content:e("Millions of stories on Wattpad will always be free to read. Promise."),imageUrl:"paid-content/free-stories.png"},{title:e("Be the first to support writers"),content:e("Unlocking Paid Stories with Coins supports your favorite writers"),imageUrl:"paid-content/currency.png",learnMoreLink:"https://www.wattpad.com/paidstories/"},{title:e("Premium subscribers get bonus Coins"),content:e("Only Wattpad Premium subscribers are rewarded with bonus Coins with every Wattpad Coin pack purchase"),imageUrl:"paid-content/treasure-chest.png",learnMoreLink:"https://premium.wattpad.com/",showToPremiumOnly:!0}]},p={Wattpad_Coins_9:{value:9,premium_value:15,illustration_url:"".concat(r.a,"/image/money_coin_package_1_240x240.png"),price:"0.99"},Wattpad_Coin_74:{value:74,premium_value:99,illustration_url:"".concat(r.a,"/image/money_coin_package_2_240x240.png"),featured:!0,price:"3.99"},Wattpad_Coin_244:{value:244,premium_value:325,illustration_url:"".concat(r.a,"/image/money_coin_package_3_240x240.png"),price:"8.99"},Wattpad_Coin_400:{value:400,premium_value:533,illustration_url:"".concat(r.a,"/image/money_coin_package_4_240x240.png"),price:"13.99"}},y={Premium_BonusCoins_15Pack:{value:15,non_premium_value:9,illustration_url:"".concat(r.a,"/image/money_coin_package_1_240x240.png"),price:"0.99"},Premium_BonusCoins_99Pack:{value:99,non_premium_value:74,illustration_url:"".concat(r.a,"/image/money_coin_package_2_240x240.png"),featured:!0,price:"3.99"},Premium_BonusCoins_325Pack:{value:325,non_premium_value:244,illustration_url:"".concat(r.a,"/image/money_coin_package_3_240x240.png"),price:"8.99"},Premium_BonusCoins_533Pack:{value:533,non_premium_value:400,illustration_url:"".concat(r.a,"/image/money_coin_package_4_240x240.png"),price:"13.99"}}},,,function(e,t,n){"use strict";n.d(t,"d",(function(){return _e})),n.d(t,"l",(function(){return Pe})),n.d(t,"o",(function(){return Te})),n.d(t,"b",(function(){return Re})),n.d(t,"a",(function(){return xe})),n.d(t,"i",(function(){return Ie})),n.d(t,"k",(function(){return Ae})),n.d(t,"f",(function(){return Le})),n.d(t,"n",(function(){return Me})),n.d(t,"h",(function(){return qe})),n.d(t,"g",(function(){return Ue})),n.d(t,"p",(function(){return De})),n.d(t,"m",(function(){return Fe})),n.d(t,"e",(function(){return Be})),n.d(t,"j",(function(){return We})),n.d(t,"c",(function(){return He}));var r=n(5),a=n(12),o=n.n(a),i=n(8),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(4),m=n.n(d),f=n(6);function p(e){var t=e.toggleState,n=e.onToggle,r=e.loading,a=e.disabled;return r?l.a.createElement("div",{className:m()("toggle",t),role:"switch","aria-checked":"on"===t?"true":"false"},l.a.createElement("div",{className:"block-off"},l.a.createElement("span",{className:"label-off"},"..."))):a?l.a.createElement("div",{className:m()("toggle",t,"disabled"),role:"switch","aria-checked":"on"===t?"true":"false"},l.a.createElement("div",{className:"switch"}),l.a.createElement("div",{className:"block-on"},l.a.createElement("span",{className:"label-on"},"ON")),l.a.createElement("div",{className:"block-off"},l.a.createElement("span",{className:"label-off"},"OFF"))):l.a.createElement("div",{className:m()("toggle",t),role:"switch",tabIndex:0,"aria-checked":"on"===t?"true":"false",onClick:n},l.a.createElement("div",{className:"switch"}),l.a.createElement("div",{className:"block-on"},l.a.createElement("span",{className:"label-on"},"ON")),l.a.createElement("div",{className:"block-off"},l.a.createElement("span",{className:"label-off"},"OFF")))}var y=n(27),h=n(2),g=n(80),b=n(3);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=e.excludedSuggestions,n=e.handleClick,r=e.inputTerm,a=Object(b.h)().trans,o=v(Object(s.useState)([]),2),i=o[0],c=o[1];return Object(s.useEffect)((function(){var e;e="/api/v3/autocomplete/tag?term=".concat(r),Promise.resolve($.ajax({url:e,type:"GET"})).then((function(e){var n=e.filter((function(e){return!t.includes(e)}));c(n)})).catch(c([]))}),[r,t]),l.a.createElement("div",{className:"suggested-tags"},l.a.createElement("div",{className:"title"},a("Suggested Tags")),l.a.createElement("div",{className:"tags"},i.map((function(e){return l.a.createElement("button",{key:e,onClick:function(){return n(e)}},"#",e)}))))}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var a=L(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}E.defaultProps={excludedSuggestions:[],handleClick:function(){},inputTerm:""},E.propTypes={excludedSuggestions:u.a.arrayOf(u.a.string),handleClick:u.a.func,inputTerm:u.a.string};var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(o,e);var t,n,r,a=x(o);function o(){var e;P(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M(A(e=a.call.apply(a,[this].concat(n))),"state",{tags:e.props.tags,newTagName:"",warningText:"",disableInput:!1}),M(A(e),"editRef",l.a.createRef()),M(A(e),"unblockableTagsWarning",e.props.trans("Oops! This tag can't be blocked.")),M(A(e),"tagLimitWarning",e.props.trans("You have reached your blocked tags limit.")),M(A(e),"handleTagListUpdates",(function(t){isNaN(e.props.tagLimit)||(t.length>=e.props.tagLimit?e.setState(j(j({},e.state),{},{warningText:e.tagLimitWarning,disableInput:!0})):e.setState(j(j({},e.state),{},{warningText:"",disableInput:!1}))),e.setState({tags:t})})),M(A(e),"addTag",(function(t,n){if(e.props.unblockableTags&&e.props.unblockableTags.includes(e.state.newTagName))e.setState({warningText:e.unblockableTagsWarning});else{if(!n.some((function(e){return e.name===t}))&&t){var r={id:t,name:t,active:!0};e.handleTagListUpdates([].concat(C(n),[r]))}e.setState({newTagName:""})}})),M(A(e),"handleChanges",(function(t){if(13===t.keyCode||" "===t.nativeEvent.data||32===t.keyCode)e.addTag(e.state.newTagName.toLowerCase(),e.state.tags);else if(37!==t.keyCode&&38!==t.keyCode&&39!==t.keyCode&&40!==t.keyCode){var n=" "===t.target.value?"":t.target.value.toLowerCase();e.setState(j(j({},e.state),{},{newTagName:n,warningText:""}))}})),M(A(e),"removeTag",(function(t,n){if((e.props.removeOnTagClick||t.target.className.includes("remove")||13===t.keyCode)&&9!==t.keyCode&&16!==t.keyCode){var r=n,a=e.state.tags.filter((function(e){return e.name!==r}));e.handleTagListUpdates(a)}})),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.props.tagLimit&&this.props.tags.length>=this.props.tagLimit&&this.setState(j(j({},this.state),{},{warningText:this.tagLimitWarning,disableInput:!0}))}},{key:"componentDidUpdate",value:function(e){this.props.tags!==e.tags&&this.handleTagListUpdates(this.props.tags),this.editRef&&this.props.visibleState!==e.visibleState&&this.editRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props.trans;return l.a.createElement("div",{className:m()("content-settings","edit-blocked-tags",{active:this.props.visibleState,hidden:!this.props.visibleState})},l.a.createElement("div",{className:"heading"},l.a.createElement("button",{className:"back",onClick:function(){return e.props.onReturn(e.state.tags)}},l.a.createElement(h.e,{name:"arrowLeft",size:"22"})),l.a.createElement("h2",null,t("Blocked Tags"))),l.a.createElement("hr",null),l.a.createElement("div",{className:"instruction"},l.a.createElement("h3",null,t("Blocked Tags")),l.a.createElement("p",null,t("We will remove all stories that have the following tags from your Home recommendations."))),l.a.createElement("div",{className:"blocked-tags-list"},l.a.createElement("div",{className:"tags"},this.state.tags.map((function(t){return l.a.createElement(g.a,S({tabIndex:"-1",key:t.id},t,{clickHandler:function(t,n){return e.removeTag(t,n)}}))})))),l.a.createElement("input",{className:"input-field",type:"text",ref:this.editRef,onKeyDown:this.handleChanges,onChange:this.handleChanges,value:this.state.newTagName,placeholder:t("Separate tags with a space"),disabled:this.state.disableInput}),this.state.warningText&&l.a.createElement("div",{className:"warning"},l.a.createElement(h.e,{name:"warning-triangle",size:"22"}),l.a.createElement("p",null,this.state.warningText)),this.state.newTagName&&l.a.createElement(E,{handleClick:function(t){e.addTag(t,e.state.tags)},inputTerm:this.state.newTagName,excludedSuggestions:this.state.tags.map((function(e){return e.name}))}))}}])&&T(t.prototype,n),r&&T(t,r),o}(l.a.Component);M(q,"propTypes",{removeOnTagClick:u.a.bool,onReturn:u.a.func,tagLimit:u.a.number,tags:u.a.arrayOf(u.a.object).isRequired,toggleView:u.a.func,trans:u.a.func.isRequired,unblockableTags:u.a.arrayOf(u.a.string),visibleState:u.a.bool});var U=Object(r.m)(q),D=n(71);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var a=J(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(o,e);var t,n,r,a=G(o);function o(){var e;V(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Q(Z(e=a.call.apply(a,[this].concat(n))),"state",{showConfirmation:!0,matureToggle:null,overflowCount:0,showMature:null,showBlockedTags:null,editBlockedTagsView:!1,tags:null,newTagName:"",unblockableTags:null,tagLimit:null}),Q(Z(e),"tagRef",l.a.createRef()),Q(Z(e),"handleEsc",(function(t){27===t.keyCode&&(e.state.editBlockedTagsView?e.toggleView():(e.setState({showConfirmation:!1}),e.props.toggleModal()))})),Q(Z(e),"calculateOverflow",(function(){for(var t=e.tagRef.current.childNodes,n=t.length,r=n,a=0;a<n&&!(t[a].getBoundingClientRect().top>t[0].getBoundingClientRect().top);a++)r--;e.setState({overflowCount:r})})),Q(Z(e),"onToggle",(function(){var t="on"==e.state.matureToggle?"off":"on";e.setState(H(H({},e.state),{},{matureToggle:t}))})),Q(Z(e),"toggleView",(function(){e.setState(H(H({},e.state),{},{editBlockedTagsView:!e.state.editBlockedTagsView}))})),Q(Z(e),"getNewBlockedTags",(function(t){e.setState(H(H({},e.state),{},{editBlockedTagsView:!e.state.editBlockedTagsView,tags:t}),(function(){return e.calculateOverflow()}))})),Q(Z(e),"handleChanges",(function(t){var n=" "===t.target.value?"":t.target.value;e.setState(H(H({},e.state),{},{newTagName:n}))})),Q(Z(e),"handleApplyChanges",(function(){var t={},n=e.props.contentSettings&&e.props.contentSettings.includeMature,r=e.props.contentSettings?e.props.contentSettings.blockedTags:[],a="on"==e.state.matureToggle,o=e.state.tags.map((function(e){return e.name}));e.state.showMature&&n!==a&&(t.includeMature=a),e.state.showBlockedTags&&!_.isEqual(r,o)&&(t.blockedTags=o),e.props.saveContentSettings(t)})),Q(Z(e),"onCancel",(function(){e.setState({showConfirmation:!1},(function(){e.props.toggleModal()}))})),e}return t=o,r=[{key:"getDerivedStateFromProps",value:function(e,t){if(!e.contentSettings)return null;var n=void 0!==e.contentSettings.includeMature,r=e.contentSettings.includeMature?"on":"off",a=e.contentSettings.blockedTags,o=a?a.map((function(e){return{id:e,name:e,active:!0}})):[],i=void 0!==e.contentSettings.tagLimit,s=e.contentSettings.tagLimit,l=e.contentSettings.unblockableTags,c={};return null===t.showMature&&(c.showMature=n),null===t.showBlockedTags&&(c.showBlockedTags=i),null===t.matureToggle&&(c.matureToggle=r),null===t.tags&&(c.tags=o),null===t.tagLimit&&(c.tagLimit=s),null===t.unblockableTags&&(c.unblockableTags=l),0===Object.keys(c).length?null:c}}],(n=[{key:"componentDidMount",value:function(){this.props.getContentSettings(),document.body.style.overflow="hidden",document.addEventListener("keydown",this.handleEsc,!1),this.state.showBlockedTags&&this.calculateOverflow()}},{key:"componentWillUnmount",value:function(){this.state.showConfirmation&&"0"!==wattpad.utils.getCookie("cs_c")&&(this.props.openConfirmation(),wattpad.utils.setCookie("cs_c",0)),document.body.style.overflow="auto",document.removeEventListener("keydown",this.handleEsc,!1)}},{key:"componentDidUpdate",value:function(e,t){this.state.showLoader&&e.contentSettingsLoading&!this.props.contentSettingsLoading&&this.setState({showLoader:!1}),this.state.showBlockedTags&&this.state.tags!==t.tags&&this.calculateOverflow()}},{key:"render",value:function(){var e=this.props.trans,t=this.state.tags?this.state.tags:[];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:m()("content-settings",{hidden:this.state.editBlockedTagsView,active:!this.state.editBlockedTagsView})},l.a.createElement("h2",null,e("Home Content Preferences")),l.a.createElement("hr",null),this.state.showMature&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"section mature"},l.a.createElement("div",{className:"instruction"},l.a.createElement("h3",null,e("Include Mature")),l.a.createElement("p",null,e("Mature stories contain adult content and themes. Turn this on if you want to see mature stories recommended to you in Home."))),l.a.createElement(p,{toggleState:this.state.matureToggle,onToggle:this.onToggle,disabled:this.props.contentSettingsLoading||this.props.homeLoading})),l.a.createElement("hr",null)),this.state.showBlockedTags&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"section blocked-tags"},l.a.createElement("div",{className:"left-section"},l.a.createElement("div",{className:"instruction"},l.a.createElement("h3",null,e("Blocked Tags")),l.a.createElement("p",null,e("We will remove all stories that have the following tags from your Home recommendations."))),l.a.createElement("div",{className:"blocked-tags-list"},l.a.createElement("div",{className:"tags",ref:this.tagRef},t.slice(0).reverse().map((function(e){return l.a.createElement(y.a,B({key:e.id,disableClick:!0},e))}))),this.state.overflowCount>0&&l.a.createElement("div",{className:"more"},"+ ",this.state.overflowCount," more"))),l.a.createElement("div",{className:"right-section"},l.a.createElement("button",{className:"edit-tags-button right-icon",onClick:this.toggleView},l.a.createElement("p",null,e("Edit Tags")),l.a.createElement(h.e,{name:"arrowRight",size:"22"})))),l.a.createElement("hr",null)),l.a.createElement("div",{className:"footer"},l.a.createElement("button",{className:"cancel",onClick:this.onCancel},e("Cancel")),this.props.contentSettingsLoading||this.props.homeLoading?l.a.createElement(D.a,null):l.a.createElement("button",{className:"btn-primary",disabled:!!this.props.contentSettingsLoading,onClick:this.handleApplyChanges},e("Apply Changes")))),l.a.createElement(U,{removeOnTagClick:!1,tagLimit:this.state.tagLimit,onReturn:this.getNewBlockedTags,tags:t,toggleView:this.toggleView,visibleState:this.state.editBlockedTagsView,unblockableTags:this.state.unblockableTags}))}}])&&z(t.prototype,n),r&&z(t,r),o}(l.a.Component);Q(X,"propTypes",{homeLoading:u.a.bool,contentSettings:u.a.object,contentSettingsLoading:u.a.bool,getContentSettings:u.a.func,openConfirmation:u.a.func,saveContentSettings:u.a.func,toggleModal:u.a.func.isRequired,trans:u.a.func.isRequired});var ee={toggleModal:i.c,saveContentSettings:Me,getContentSettings:Le,openConfirmation:qe},te=Object(r.m)(Object(f.b)((function(e){var t=e.homeSections;return{homeLoading:t.homeLoading,error:t.error,contentSettings:t.contentSettings,contentSettingsLoading:t.contentSettingsLoading}}),ee)(X));function ne(e){var t=e.handleConfirmation,n=Object(b.h)().trans;return l.a.createElement("div",{className:"thanks-for-the-input"},l.a.createElement("div",{className:"image"},l.a.createElement("img",{src:"/img/homepages/robot.svg",alt:""})),l.a.createElement("div",{className:"text"},l.a.createElement("h3",null,n("Thanks for the input!")),l.a.createElement("p",null,n("Our ingenious robots are busy plotting world domination, er, working on new story recommendations for you. Check back soon."))),l.a.createElement("div",{className:"confirmation"},l.a.createElement("button",{className:"btn-primary",onClick:t},n("Got it"))))}ne.defaultProps={handleConfirmation:function(){}},ne.propTypes={handleConfirmation:u.a.func};var re=n(67),ae=n(31),oe=n(122);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fe(e);if(t){var a=fe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return de(this,n)}}function de(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=[{className:"open-book",name:"bookOpenBeta",size:"16",color:"ds-neutral-00-solid"},{className:"paid-story",name:"paidStory",size:"20",color:"ds-neutral-00-solid",strokeWidth:"0",fill:!0}],he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(i,e);var t,n,a,o=ue(i);function i(){var e;se(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return pe(me(e=o.call.apply(o,[this].concat(n))),"state",{completed:e.props.story.completed,isMature:e.props.story.mature,numParts:e.props.story.numParts,isLibraryPopoverOpen:!1,firstTabFocus:null,lastTabFocus:null,focusableElements:[]}),pe(me(e),"_isMounted",!1),pe(me(e),"libraryButtonRef",l.a.createRef()),pe(me(e),"modalRef",l.a.createRef()),pe(me(e),"beforeModalRef",l.a.createRef()),pe(me(e),"defaultCover",Object(r.g)(e.props.story.cover,268)),pe(me(e),"handleKeyPress",(function(t){"Tab"===t.key&&e.state.firstTabFocus&&e.state.lastTabFocus&&(t.shiftKey?document.activeElement===e.state.firstTabFocus&&(t.preventDefault(),e.state.lastTabFocus.focus()):document.activeElement===e.state.lastTabFocus&&(t.preventDefault(),e.state.firstTabFocus.focus())),"Escape"===t.key&&(e.state.isLibraryPopoverOpen?(e.props.closePopover(),e.setState({isLibraryPopoverOpen:!1})):(e.beforeModalRef&&e.beforeModalRef.current.focus(),e.props.toggleModal()))})),pe(me(e),"onRead",(function(){var t=e.props.story.firstPartId?"/".concat(e.props.story.firstPartId):"/story/".concat(e.props.story.id);app.router.navigate(t,{trigger:!0}),e.props.toggleModal()})),pe(me(e),"onMoreDetails",(function(){var t="/story/".concat(e.props.story.id);app.router.navigate(t,{trigger:!0}),e.props.toggleModal()})),pe(me(e),"handleLibraryClick",(function(t){t.preventDefault(),e.setState({isLibraryPopoverOpen:!0});e.props.openPopover({component:function(){return l.a.createElement(oe.a,{readingLists:e.props.readingLists,storyId:e.props.story.id,updateCollection:e.props.updateCollection,removeStoriesFromCollection:e.props.removeStoriesFromCollection,storiesCollections:e.props.storiesCollections[e.props.story.id],getReadingLists:e.props.getReadingLists,getCollectionsForStoryIds:e.props.getCollectionsForStoryIds})},triggerRef:e.libraryButtonRef,passthroughProps:{modifiers:[{name:"preventOverflow",options:{boundary:e.modalRef.current}}],showArrow:"true"},contentClass:"react-popover-content--above-modal"})})),pe(me(e),"handleCloseClick",(function(){e.props.toggleModal(),e.beforeModalRef&&e.beforeModalRef.current.focus()})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0,document.body.style.overflow="hidden",this.beforeModalRef.current=document.activeElement,window.addEventListener("keydown",this.handleKeyPress),this.props.readingLists||this.props.readingListsLoading||this.props.getReadingLists(),this.props.getCollectionsForStoryIds(this.props.story.id)}},{key:"componentDidUpdate",value:function(e,t){var n=t.focusableElements?t.focusableElements:[],r=this.modalRef.current?this.modalRef.current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]'):null;r=r?Array.prototype.slice.call(r):[],n.length===r.length&&r.every((function(e,t){return e===n[t]}))||0===r.length||(this.setState({firstTabFocus:r[0],lastTabFocus:r[r.length-1],focusableElements:r}),r[0].focus())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,document.body.style.overflow="auto",window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.trans;return l.a.createElement("div",{className:"story-preview-wrapper",ref:this.modalRef},l.a.createElement("div",{className:"cover"},l.a.createElement("img",{srcSet:"".concat(Object(r.g)(this.props.story.cover,288)," 1x, ").concat(Object(r.g)(this.props.story.cover,416)," 1.5x, ").concat(Object(r.g)(this.props.story.cover,512)," 2x"),src:this.defaultCover,alt:"".concat(this.props.story.title," cover")})),l.a.createElement("button",{className:"close",onClick:this.handleCloseClick},l.a.createElement(h.e,{name:"close",size:"24"})),l.a.createElement("div",{className:"story-info"},l.a.createElement("div",{className:"meta-header"},l.a.createElement("div",{className:"title-wrapper"},this.props.story.isPaid&&l.a.createElement(h.e,{name:"paidStory",className:"paid-stories-badge",size:"24",color:"ds-neutral-100",strokeWidth:"0",fill:!0,title:"Paid Stories Badge"}),l.a.createElement("div",{className:"title"},this.props.story.title)),l.a.createElement(re.a,{numParts:this.state.numParts,isMature:this.state.isMature,isCompleted:this.state.completed})),l.a.createElement("div",{className:"buttons-wrapper"},l.a.createElement("button",{className:"read btn-primary",onClick:this.onRead},l.a.createElement(h.e,ye[+this.props.story.isPaid]),l.a.createElement("span",{className:"read-btn-text"},this.props.story.isPaid?e("Free preview"):e("Start reading"))),this.props.readingLists&&l.a.createElement("button",{className:"btn-primary add-to-library-btn",title:e("Add story to..."),"aria-label":e("Add story to..."),ref:this.libraryButtonRef,onClick:this.handleLibraryClick},l.a.createElement(h.e,{name:"add",size:"24",color:"wp-neutral-1",strokeWidth:"2.5"}))),l.a.createElement("div",{className:"description"},Object(r.u)(this.props.story.description,400,!1)),l.a.createElement("div",{className:"more-details-wrapper"},l.a.createElement("button",{className:"more-details",onClick:this.onMoreDetails},e("More details"),l.a.createElement(h.e,{name:"chevRight",size:"24"})))))}}])&&le(t.prototype,n),a&&le(t,a),i}(l.a.Component);pe(he,"propTypes",{story:u.a.object,readingLists:u.a.array,getReadingLists:u.a.func,readingListsLoading:u.a.bool,updateCollection:u.a.func,removeStoriesFromCollection:u.a.func,getCollectionsForStoryIds:u.a.func,storiesCollections:u.a.object,toggleModal:u.a.func,openPopover:u.a.func,closePopover:u.a.func,trans:u.a.func.isRequired,ngettext:u.a.func.isRequired});var ge={getReadingLists:Ue,updateCollection:De,removeStoriesFromCollection:Fe,getCollectionsForStoryIds:Be,toggleModal:i.c,openPopover:ae.c,closePopover:ae.a},be=Object(r.m)(Object(f.b)((function(e){var t=e.homeSections;return{readingLists:t.readingLists,readingListsLoading:t.readingListsLoading,removeStoriesFromCollection:t.removeStoriesFromCollection,storiesCollections:t.storiesCollections}}),ge)(he)),ve=n(114),we=n(38);function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e){var t=e.email,n=e.userId,r=e.username,a=e.daysBetweenReminders,o=e.verified,i=e.toggleModal,c=e.toggleToast,u=Object(b.h)().trans,d=Ee(Object(s.useState)("option1"),2),m=d[0],f=d[1],p=Ee(Object(s.useState)(!1),2),y=p[0],g=p[1],v=function(e){f(e.target.value)},w=function(e){var t,n,a;e.preventDefault(),"option1"==m?g(!0):"option2"==m&&(t="api/v3/users/"+r,n=Promise.resolve($.ajax({type:"PUT",url:t,data:{is_email_reverified:!0}})),a=u(o?"Thank you for confirming your email.":"Thank you, please check your email to confirm your verification."),n.then((function(){wattpad.utils.destroyCookie("dbrc_"+r),wattpad.utils.destroyCookie("cnsc_"+r),i(),c({className:"email-reverification-toast",body:a})})))},E=function(){var e=window.wattpad.utils.getCookie("dbrc_"+r),t=window.wattpad.utils.getCookie("cnsc_"+r);if(null==e&&wattpad.utils.setCookie("dbrc_"+r,1,a),null==t)wattpad.utils.setCookie("cnsc_"+r,1);else{var n=Number(t);wattpad.utils.setCookie("cnsc_"+r,n+1)}i(),c({className:"email-reverification-toast",body:u("We'll send you a reminder in 3 days")}),window.te.push("event","home","email_reverification","","skip",{username:r})};return y?l.a.createElement("div",{className:"change-email-modal-wrapper"},l.a.createElement("div",{className:"modal-body"},l.a.createElement(ve.a,{isChangeEmailModal:!0,email:t,userId:n,isSuccess:!1,hideModal:E,dismissModal:function(){wattpad.utils.destroyCookie("dbrc_"+r),wattpad.utils.destroyCookie("cnsc_"+r),i()}})),l.a.createElement("button",{className:"btn-no-style back-btn",onClick:function(){g(!1)}},l.a.createElement(h.e,{iconName:"fa-left",color:"wp-neutral-1",className:"left-arrow-back"}),l.a.createElement("p",{className:"back-btn-label"},u("Back")))):l.a.createElement("div",{className:"email-reverification-modal-content"},l.a.createElement("button",{className:"btn-no-style",onClick:E,"aria-label":"Close modal"},l.a.createElement(h.e,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"})),l.a.createElement("header",{className:"email-reverification-heading"},l.a.createElement(h.c,{name:"/logos/wp-logo-orange.png",title:"Wattpad",width:"137",className:"wp-logo"}),l.a.createElement("h1",{"aria-label":u("Please verify your email.")},u("Please verify your email."))),l.a.createElement("div",{className:"modal-content"},l.a.createElement("p",{className:"email-notes note"},u("In order to ensure continued access to your account, please check that the email below is correct and that you have access to it.")),l.a.createElement("p",{className:"email-notes question"},u("Do you want to keep the email below as your recovery contact?")),l.a.createElement("div",{className:"email-wrapper"},l.a.createElement("p",{className:"email-notes email-text"},t),!0==={"gmail.com":!0,"gmail.com.br":!0,"gmail.de":!0,"gmail.dk":!0,"gmail.fr":!0,"googlemail.com":!0}[t.split("@")[1]]&&l.a.createElement("p",{className:"email-notes gmail-note"},u("Note: If you are using a Gmail address with a period in it, the periods may not be displayed but emails will still reach you. "))),l.a.createElement("div",{className:"radio-wrapper"},l.a.createElement("form",null,l.a.createElement("div",{className:"radio-item"},l.a.createElement("input",{id:"option1",name:"options",type:"radio",value:"option1",checked:"option1"==m,"aria-label":u("I need to update my email"),onChange:v}),l.a.createElement("label",{htmlFor:"option1"},u("I need to update my email")),l.a.createElement("input",{id:"option2",name:"options",type:"radio",value:"option2",checked:"option2"==m,"aria-label":u("This is my current email"),onChange:v}),l.a.createElement("label",{htmlFor:"option2"},u("This is my current email"))),l.a.createElement("button",{className:"btn-primary btn-md btn-email-confirm",onClick:w,"aria-label":u("Confirm")},u("Confirm"))))))}Se.propTypes={email:u.a.string.isRequired,userId:u.a.number.isRequired,username:u.a.string.isRequired,daysBetweenReminders:u.a.number.isRequired,verified:u.a.bool.isRequired,toggleModal:u.a.func,toggleToast:u.a.func};var Ce=Object(f.b)(null,{toggleModal:i.c,toggleToast:we.c})(Se),ke=n(10),Ne=n(55);function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t,n){return function(a){var o;if(a({type:ke.i}),Object(r.n)()){var i=!1;1==window.wattpad.utils.getCookie("hc")?i=!0:wattpad.utils.setCookie("hc",1),o=Promise.resolve($.get({url:"/v5/home",cache:i}))}else o=e.get("/v5/home",{},t,n);o.then((function(e){a({type:ke.e,sections:e.sections}),a(Re())})).catch((function(){a({type:ke.d,error:{errorType:ke.u.fetchFailed,errorMessage:"fetching home modules failed"}})})).finally((function(){a({type:ke.j}),a({type:ke.t})}))}}function Pe(e,t,n,r){return{type:ke.p,info:{index:e,type:t,top:n,bottom:r}}}function Te(e){return{type:ke.s,index:e}}function Re(){return function(e){e({type:ke.c})}}function xe(e){return function(t){o.a.each(e,(function(e){$.get(e)})),t({type:ke.b})}}function Ie(){return function(e){e(Object(i.c)({component:function(){return React.createElement(te,null)},className:"modal-contest",disableClose:!0}))}}function Ae(e){return function(t){t(Object(i.c)({component:function(){return React.createElement(be,{story:e})},className:"modal-story-preview",disableClose:!0,hideClose:!0}))}}function Le(){var e=wattpad.utils.currentUser().get("username"),t="/v5/users/".concat(e,"/content-settings");return function(e){e({type:ke.g}),Promise.resolve($.get(t)).then((function(t){e({type:ke.n,settings:t}),e({type:ke.h})})).catch((function(){e({type:ke.d,error:{errorType:ke.u.fetchError,errorMessage:"error fetching content settings"}})}))}}function Me(e){if(0===Object.keys(e).length)return function(e){e({type:ke.m}),e({type:Ne.c})};var t,n,r=wattpad.utils.currentUser().get("username"),a="/v5/users/".concat(r,"/content-settings"),o="".concat(a,"/include-mature"),i="includeMature",s="".concat(a,"/blocked-tags"),l=[];function c(e){return Object.values(e)[0].then((function(t){return{setting:Object.keys(e)[0],promise:t,status:"resolved"}}),(function(t){return{setting:Object.keys(e)[0],promise:t,status:"rejected"}}))}return e.hasOwnProperty(i)&&(t=Promise.resolve($.ajax({url:o,type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(je({},i,e[i]))})),l.push(je({},i,t))),e.hasOwnProperty("blockedTags")&&(n=Promise.resolve($.ajax({url:s,type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(je({},"blockedTags",e.blockedTags))})),l.push(je({},"blockedTags",n))),function(e){e({type:ke.g}),Promise.all(l.map(c)).then((function(t){t.forEach((function(e){e.setting===i&&"resolved"===e.status&&window.te.push("event","content_settings",null,null,"update",{setting:"mature"})})),wattpad.utils.setCookie("hc",0),e({type:ke.f}),e(Le()),e(_e()),e({type:Ne.c})}))}}function qe(){return function(e){e(Object(i.c)({component:function(){return React.createElement(ne,{handleConfirmation:function(){e({type:Ne.c})}})},className:"modal-confirmation",hideClose:!0}))}}function Ue(){var e=wattpad.utils.currentUser().get("username"),t="/api/v3/users/".concat(e,"/lists")+"?offset=0&limit=200&fields=lists(id%2Cname%2Cuser(name)%2CnumStories%2Cfeatured)%2Ctotal";return function(e){e({type:ke.k}),Promise.resolve($.get(t)).then((function(t){e({type:ke.o,lists:t.lists})})).catch((function(){wattpad.utils.showToast("Error: fetching reading lists failed",{type:"dismissable"})}))}}function De(e,t){var n=wattpad.utils.currentUser().get("username"),r="/api/v3/lists/".concat(e,"/stories"),a="/api/v3/users/".concat(n,"/library?fields=stories(id)"),o="library"===e?a:r;return function(n){Promise.resolve($.post(o,{stories:t})).then((function(){n({type:ke.a,collectionId:e,storyId:t})})).catch((function(){wattpad.utils.showToast("Error: collection update failed",{type:"dismissable"})}))}}function Fe(e,t){var n=wattpad.utils.currentUser().get("username"),r="/api/v3/lists/".concat(e,"/stories/").concat(t),a="/api/v3/users/".concat(n,"/library/").concat(t),o="library"===e?a:r;return function(n){Promise.resolve($.ajax({url:o,type:"DELETE"})).then((function(){n({type:ke.r,collectionId:e,storyId:t})})).catch((function(){wattpad.utils.showToast("Error: removing stories from collection failed",{type:"dismissable"})}))}}function Be(e){var t="/v4/stories/collections"+"?storyIds=".concat(e);return function(e){e({type:ke.l}),Promise.resolve($.get(t)).then((function(t){e({type:ke.q,collections:t.collections})})).catch((function(){wattpad.utils.showToast("Error: fetching stories collections failed",{type:"dismissable"})}))}}function We(e,t,n){return function(r){var a=wattpad.user,o=window.wattpad.utils.getCookie("dbrc_"+a.username),s=Number(window.wattpad.utils.getCookie("cnsc_"+a.username));(null==o||s>e)&&r(Object(i.c)({component:function(){return React.createElement(Ce,{email:a.email,userId:a.id,username:a.username,daysBetweenReminders:t,verified:n})},className:"email-reverification-modal",hideClose:!0}))}}function He(){return function(e){Promise.resolve($.get({url:"/api/v3/internal/current_user?fields=email_reverification_status,verified_email"})).then((function(t){var n=t.email_reverification_status,r=n.is_email_reverified,a=n.max_skips,o=n.days_between_reminders,i=t.verified_email;!r&&wattpad.testGroups.EMAIL_REVERIFICATION&&e(We(a,o,i))}))}}},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return w})),n.d(t,"k",(function(){return E})),n.d(t,"j",(function(){return O})),n.d(t,"e",(function(){return S})),n.d(t,"g",(function(){return C})),n.d(t,"i",(function(){return k})),n.d(t,"h",(function(){return N}));var r=n(38),a=n(11);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="USER",d="".concat(u,"/SET_MUTED_USERS"),m="".concat(u,"/SET_BLOCKED_USERS"),f="".concat(u,"/MUTE"),p="".concat(u,"/UNMUTE"),y="".concat(u,"/BLOCK"),h="".concat(u,"/UNBLOCK"),g="".concat(u,"/ERROR"),b={mutedUsers:[],blockedUsers:[],muteListLoaded:!1,blockListLoaded:!1};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d:return l(l({},e),{},{mutedUsers:t.mutedUsers,muteListLoaded:!0});case m:return l(l({},e),{},{blockedUsers:o(t.blockedUsers),blockListLoaded:!0});case f:return l(l({},e),{},{muteListLoaded:!1,mutedUsers:e.mutedUsers.concat([{username:t.name}])});case p:return l(l({},e),{},{muteListLoaded:!1,mutedUsers:e.mutedUsers.filter((function(e){return e.username!=t.name}))});case y:return l(l({},e),{},{blockListLoaded:!1,blockedUsers:e.blockedUsers.concat([{username:t.name}])});case h:return l(l({},e),{},{blockListLoaded:!1,blockedUsers:e.blockedUsers.filter((function(e){return e.username!=t.name}))});default:return e}}function w(e){var t="/apiv2/ignoreuser?id=".concat(e,"&action=ignore_user");return function(n){return Promise.resolve($.ajax({url:t,type:"POST"})).then((function(){n({type:f,name:e}),n({type:r.a,toastProps:{className:"mute",body:wattpad.utils.trans("%s is now muted. You can unmute them at any time.",e)}}),wattpad.utils.clearCommentLocalStorage()})).catch((function(e){var t;try{467===e.responseJSON.code&&(t=e.responseJSON.message)}catch(e){t=wattpad.utils.trans("There was an error muting this user. Please try again.")}throw wattpad.utils.showToast(t,{type:"dismissable"}),n({type:g}),e}))}}function E(e){var t="/apiv2/ignoreuser?id=".concat(e,"&action=unignore_user");return function(n){return Promise.resolve($.ajax({url:t,type:"POST"})).then((function(){n({type:p,name:e}),n({type:r.a,toastProps:{className:"unmute",body:wattpad.utils.trans("%s is now unmuted. You can mute them at any time.",e)}}),wattpad.utils.clearCommentLocalStorage()})).catch((function(e){var t;try{t=e.responseJSON.message}catch(e){t=wattpad.utils.trans("There was an error unmuting this user. Please try again.")}throw wattpad.utils.showToast(t,{type:"dismissable"}),n({type:g}),e}))}}function O(e){return function(t){return Promise.resolve($.ajax({type:"DELETE",url:"/v4/users/".concat(e,"/blocks")})).then((function(){t({type:h,name:e}),t({type:r.a,toastProps:{className:"unblock",body:wattpad.utils.trans("%s is now unblocked. You can block them at any time.",e)}}),wattpad.utils.clearCommentLocalStorage()})).catch((function(e){var n;try{n=e.responseJSON.message}catch(e){n=wattpad.utils.trans("There was an error unblocking this user. Please try again.")}throw wattpad.utils.showToast(n,{type:"dismissable"}),t({type:g}),e}))}}function S(e){var t="/apiv2/ignoreuser?id=".concat(e,"&action=get_ignored_web");return function(e,n){if(!n().profileData.muteListLoaded)return Promise.resolve($.ajax({url:t,type:"POST"})).then((function(t){e({type:d,mutedUsers:t.list.map((function(e){return{username:e.NAME,avatar:"".concat(a.f,"/useravatar/").concat(e.NAME,".jpg")}}))})})).catch((function(t){var n=t.responseJSON.message;throw wattpad.utils.showToast(n,{type:"dismissable"}),e({type:g}),t}))}}function C(e){var t="v4/users/".concat(e,"/blocks?get_all=true");return function(e,n){if(!n().profileData.blockListLoaded)return Promise.resolve($.ajax({url:t,type:"GET"})).then((function(t){e({type:m,blockedUsers:t.users.map((function(e){return{username:e.username,avatar:e.avatar}}))})})).catch((function(t){var n,r,a=null!=t&&null!==(n=t.responseJSON)&&void 0!==n&&n.message?null==t||null===(r=t.responseJSON)||void 0===r?void 0:r.message:wattpad.utils.trans("Something went wrong. Please try again");throw wattpad.utils.showToast(a,{type:"dismissable"}),e({type:g}),t}))}}function k(e,t){return"mute"===t?function(t){t({type:f,name:e})}:function(t){t({type:p,name:e})}}function N(e,t){return"block"===t?function(t){t({type:y,name:e})}:function(t){t({type:h,name:e})}}},,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return y}));var r=n(3),a="STORY_PLANNER",o="".concat(a,"/REQUEST"),i="".concat(a,"/FETCH"),s="".concat(a,"/POST"),l="".concat(a,"/ERROR"),c="".concat(a,"/UPDATE"),u="".concat(a,"/VISIBILE"),d=function(){var e=Object(r.h)().trans;return{title:e("The Protagonist"),info:e("Stories have multiple characters, and many main characters. The Protagonist on the other hand is the leading character in your story. They are the most prominent figure in your story, who drives the plot and makes up most of the narrative. They are the character whose fate is most closely followed by your reader."),more:e("If youre struggling to figure out who your Protagonist is,"),learnMore:e("Learn More Here"),section1:{label:e("Your Protagonist's name"),name:"protagonist.name",limit:20,placeholder:e("Enter Name")},section2:{label:e("Other names for the Protagonist"),name:"protagonist.other_names",limit:50,placeholder:e("Separate Names By Commas")},section3:{name:"protagonist.pronoun",label:e("Protagonist's pronoun"),options:[{value:"he",name:e("He")},{value:"she",name:e("She")},{value:"they",name:e("They")}],placeholder:e("Select")},section4:{label:e("Protagonist's attributes"),name:"protagonist.attributes",limit:250,placeholder:e("Type and Select"),info:e("Up to 10 attributes. Include attributes like skin tone, ethnicity, gender selection, disabilities, hair, eyes, body type, and sexual orientation.")},section5:{label:e("The Protagonist tends to be:"),options:[{id:"protagonist.extrovert_introvert",sliderLabels:[e("Extroverted"),e("Introverted")]},{id:"protagonist.likeable",sliderLabels:[e("Unlikable"),e("Likable")]},{id:"protagonist.focus_past_future",sliderLabels:[e("Focused on Patterns in the Past"),e("Focused on Future Possibilities")]},{id:"protagonist.thinking_feeling",sliderLabels:[e("Uses Mind & Logic"),e("Uses Heart & Emotion")]},{id:"protagonist.decisive_improvise",sliderLabels:[e("Organized & Decisive Decision Making"),e("Improvised & Open Decision Making")]},{id:"protagonist.laidback_serious",sliderLabels:[e("Light & Laid Back Attitude"),e("Complex & Serious Attitude")]}]},section6:{label:e("How will the Protagonist's personality change by the end of the story?"),name:"protagonist.personality_change",options:[{name:e("Negative Personality Change"),value:-1},{name:e("No/Minimal Personality Change"),value:0},{name:e("Positive Personality Change"),value:1}],placeholder:e("Select")}}},m=function(){var e=Object(r.h)().trans;return{options:[e("Albino"),e("White skin tone"),e("Pale"),e("Olive skin tone"),e("Light brown skin tone"),e("Brown skin tone"),e("Dark brown skin tone"),e("Black skin tone"),e("Vitiligo"),e("Above Average"),e("Attractive"),e("Average"),e("Beautiful"),e("Cute"),e("Good Looking"),e("Gorgeous"),e("Handsome"),e("Hot"),e("Pretty"),e("Sexy"),e("Stunning"),e("Alpha"),e("Ambitious"),e("Arrogant"),e("Awkward"),e("Bad Boy"),e("Beta"),e("Boy next door"),e("Charming"),e("Clever"),e("Common sense"),e("Creep"),e("Cunning"),e("Dominant"),e("Educated"),e("Emotional"),e("Friendly"),e("Funny"),e("Geek"),e("Genius"),e("Girl next door"),e("Good Girl"),e("Jerk"),e("Kind"),e("Lazy"),e("Nerd"),e("Nice"),e("Not smart"),e("Omega"),e("Popular"),e("Sensitive"),e("Silly"),e("Smart"),e("Submissive"),e("Sweet"),e("Underdog"),e("Unpopular"),e("Wise"),e("Intelligent"),e("Passionate"),e("Actor"),e("Archaeologist"),e("Architect"),e("Artist"),e("Assassin"),e("Astronaut"),e("Athlete"),e("Author"),e("Babysitter"),e("Baker"),e("Barista"),e("Bartender"),e("Billionaire"),e("Bodyguard"),e("Boss"),e("Business person"),e("Butler"),e("Captain"),e("Cashier"),e("Celebrity"),e("CEO"),e("Chef"),e("Con Artist"),e("Criminal"),e("Dentist"),e("Detective"),e("Doctor"),e("Driver"),e("Editor"),e("Engineer"),e("Entrepreneur"),e("Executive"),e("Farmer"),e("Firefighter"),e("Flight Attendant"),e("Gamer"),e("Hunter"),e("Influencer"),e("Intern"),e("Journalist"),e("Knight"),e("Lawyer"),e("Lifeguard"),e("Lumberjack"),e("Magician"),e("Maid"),e("Massage Therapist"),e("Mechanic"),e("Millionaire"),e("Mobster"),e("Model"),e("Musician"),e("Nanny"),e("Novelist"),e("Nurse"),e("Photographer"),e("Pilot"),e("Police Officer"),e("Politician"),e("Popstar"),e("Prince"),e("Princess"),e("Prisoner"),e("Private Eye"),e("Professor"),e("Programmer"),e("Royalty"),e("Scientist"),e("Secretary"),e("Server"),e("Sex worker"),e("Singer"),e("Soldier"),e("Spy"),e("Student"),e("Superhero"),e("Teacher"),e("Therapist"),e("Traveler"),e("Waiter/Waitress"),e("Writer"),e("Alien"),e("Angel"),e("Animal"),e("Child"),e("Clown"),e("Cyborg"),e("Devil"),e("Dinosaur"),e("Elderly"),e("Elf"),e("Fairy"),e("Father"),e("Fey"),e("Ghost"),e("Infant"),e("Insect"),e("Machine"),e("Mermaid"),e("Mother"),e("Octopus"),e("Old"),e("Parent"),e("Pirate"),e("Plant"),e("Reaper"),e("Robot"),e("Spirit"),e("Succubus"),e("Supernatural"),e("Teenager"),e("Vampire"),e("Werewolf"),e("Witch"),e("Wizard"),e("Young"),e("Zombie"),e("African American"),e("Anglo Saxon"),e("Arab"),e("Asian"),e("Australasian"),e("Biracial"),e("Caribbean"),e("Caucasian"),e("Central American"),e("Central Asian"),e("East African"),e("East Asian"),e("Eastern European"),e("Eurasian"),e("European"),e("Fictional Ethnicity"),e("First Nations"),e("Hispanic"),e("Indigenous"),e("Jewish"),e("Latinx"),e("Levantine"),e("Mediterranean"),e("Melanesian"),e("Mesopotamian"),e("Middle Eastern"),e("Multiracial"),e("Multiple Ethnic Background"),e("Native"),e("Native American"),e("North African"),e("North American"),e("Northern East African"),e("Northwestern European"),e("Pacific Islander"),e("Scandinavian"),e("South American"),e("South Asian"),e("South East Asian"),e("South Pacific Islander"),e("South East African"),e("Southern European"),e("Sub Saharan African"),e("West African"),e("Western Asian"),e("Western European"),e("Visually Impaired"),e("Chronic illness or pain"),e("Hard of Hearing"),e("Mobility impairment"),e("Physical Illness"),e("Disease"),e("Wheelchair Person"),e("Learning disability"),e("Neurodiverse"),e("Autistic"),e("Depression"),e("Anxiety"),e("Mental Illness"),e("Trauma"),e("Paralyzed"),e("Paranoia"),e("Cancer"),e("Eating Disorder"),e("Amputee"),e("Memory Loss"),e("Has an Addiction"),e("Personality Disorder"),e("Deaf"),e("Able-bodied"),e("Neurotypical"),e("Straight (Fine/Thin) hair"),e("Straight (Medium) hair"),e("Straight (Coarse) hair"),e("Wavy (Fine/Thin) hair"),e("Wavy (Medium) hair"),e("Wavy (Coarse) hair"),e("Curly (Loose) hair"),e("Curly (Tight) hair"),e("Kinky (Soft) hair"),e("Kinky (Wiry) hair"),e("No hair"),e("Fur"),e("Natural Hair"),e("Afro"),e("Locks"),e("Long hair"),e("Medium hair"),e("Short hair"),e("Bald"),e("Buzz cut"),e("Auburn hair"),e("Chestnut brown hair"),e("Copper hair"),e("Dark brown hair"),e("Brown hair"),e("Ginger hair"),e("Golden blonde hair"),e("Grey hair"),e("Light blonde hair"),e("Light brown hair"),e("Light chestnut brown hair"),e("Medium blonde hair"),e("Medium brown hair"),e("Natural black hair"),e("Natural brown hair"),e("Strawberry blonde hair"),e("Titian hair"),e("White hair"),e("Red hair"),e("Orange hair"),e("Yellow hair"),e("Green hair"),e("Blue hair"),e("Purple hair"),e("Honey Blonde hair"),e("Caramel hair"),e("Brown eyes"),e("Blue eyes"),e("Hazel eyes"),e("Amber eyes"),e("Green eyes"),e("Gray eyes"),e("Red eyes"),e("Heterochromia"),e("White eyes"),e("Black eyes"),e("Violet eyes"),e("Orange eyes"),e("Yellow eyes"),e("Thin"),e("Athletic"),e("Curvy"),e("Voluptuous"),e("Muscular"),e("Overweight"),e("Underweight"),e("Average weight"),e("Male"),e("Female"),e("Agender"),e("Androgyne"),e("Androgynous"),e("Bigender"),e("Cis"),e("Cisgender"),e("Cisgender Female"),e("Cisgender Male"),e("Cisgender Man"),e("Cisgender Woman"),e("Female to Male"),e("FTM"),e("Gender Fluid"),e("Gender Nonconforming"),e("Gender Questioning"),e("Gender Variant"),e("Genderqueer"),e("Intersex"),e("Male to Female"),e("MTF"),e("Neutrois"),e("Non-binary"),e("Pangender"),e("Trans"),e("Trans Female"),e("Trans Male"),e("Trans Man"),e("Trans Person"),e("Trans Woman"),e("Transfeminine"),e("Transgender"),e("Transgender Female"),e("Transgender Male"),e("Transgender Man"),e("Transgender Person"),e("Transgender Woman"),e("Transmasculine"),e("Two-Spirit"),e("Gender Neutral"),e("Lesbian"),e("Gay"),e("Bisexual"),e("Pansexual"),e("Heterosexual"),e("Bicurious"),e("Questioning"),e("Queer"),e("Polysexual"),e("Androsexual"),e("Gynosexual"),e("Asexual")]}},f=function(){var e=Object(r.h)().trans;return{title:e("The Story Goal"),info:e("The Protagonists goal in the story is what is known as the Story Goal. A Story Goal is the foundation of every plot, which is why its critical to understand what your Protagonists main objective is in the story. The Story Goal can be physical or emotional."),section1:{name:"protagonist_goal.description",label:e("What is your Protagonist's ultimate goal in this story?"),limit:75},section2:{label:e("The goal is primarily:"),name:"protagonist_goal.physical_emotional",options:[{label:e("Physical"),value:0},{label:e("Emotional"),value:1}]},section3:{name:"protagonist_goal.type",label:e("The goal type is to:"),options:[[{name:e("Acquire"),value:"acquire"},{name:e("Explore"),value:"explore"},{name:e("Escape"),value:"escape"},{name:e("Find"),value:"find"},{name:e("Protect"),value:"protect"},{name:e("Survive"),value:"survive"}],[{name:e("Accept"),value:"accept"},{name:e("Appreciate"),value:"appreciate"},{name:e("Forget"),value:"forget"},{name:e("Learn"),value:"learn"},{name:e("Love"),value:"love"},{name:e("Self Actualize"),value:"self_actualize"}]],placeholder:e("Select")},section4:{label:e("To achieve the story goal the Protagonist has to . . ."),options:[{id:"protagonist_goal.change_themselves_surroundings",sliderLabels:[e("Change themselves"),e("Change their surroundings")]},{id:"protagonist_goal.explore_emotions_world",sliderLabels:[e("Explore their emotions"),e("Explore their world")]},{id:"protagonist_goal.navigate_familiar_unfamiliar",sliderLabels:[e("Navigates a familiar world"),e("Encounters an unfamiliar world")]},{id:"protagonist_goal.recall_past",sliderLabels:[e("Ignore the Past"),e("Recall the past")]},{id:"protagonist_goal.find_meaning",sliderLabels:[e("Reappreciate the current meaning"),e("Find a new meaning")]},{id:"protagonist_goal.take_keep",sliderLabels:[e("Take something away from the antagonist"),e("Keep something away from the antagonist")]}]}}},p=function(){var e=Object(r.h)().trans;return{title:e("The Story Outcome"),info:e("Ideally, every story has a planned outcome. This will help you set the arc of your story, and plan accordingly. The Story Outcome relates to the outcome the Protagonist is aiming to achieve. Knowing where you want to go with the story will help you pace your story and keep your narrative as tight as possible."),section1:{name:"protagonist_goal.outcome",label:e("What happens at the end of the story?"),limit:150},section2:{label:e("Will the Protagonist succeed in reaching the goal at the end of this story?"),name:"protagonist_goal.succeed",options:[{label:e("Yes"),value:1},{label:e("No"),value:0}]},section3:{label:e("How will the Protagonist feel about the outcome from achieving the goal?"),name:"protagonist_goal.outcome_feeling",options:[{label:e("Good"),value:1},{label:e("Bad"),value:0}]}}},y=function(){var e=Object(r.h)().trans;return{title:e("Story Opportunities on Wattpad"),info:e("Interested in submitting your story to the backlog of stories Wattpad reviews for opportunities like being featured, being part of the Paid Stories program, or being considered as a Wattpad Star Writer?"),section1:{name:"opportunity.interested",options:[{label:e("Yes"),value:1},{label:e("No"),value:0}]},section2:{label:e("What specific opportunities on Wattpad are you interested in for this story?"),name:"opportunity.types",options:[{label:e("Wattpad Paid Stories (make money from fans who pay for your story on Wattpad)"),value:"paid"},{label:e("Wattpad Publishing (be considered for publication by a major commercial publisher)"),value:"publishing"},{label:e("Wattpad Books (be published by Wattpad)"),value:"books"},{label:e("Wattpad Studios (be considered for adaptation into a television show or film)"),value:"entertain"},{label:e("All available opportunities with Wattpad"),value:"all"}]},section3:{label:e("What is your storys logline?"),name:"opportunity.logline",limit:150,about:e("A logline is a very short elevator pitch about your story that reviews the key elements of the story without giving too much away. Loglines aim to hook the reader into wanting to read more.")},section4:{label:e("How much have you written so far?"),name:"opportunity.story_progress",options:[{value:"in_progress",name:e("My Story is in Progress")},{value:"halfway",name:e("My Story is Halfway Done")},{value:"editing",name:e("My Story is Complete but being Edited")},{value:"complete",name:e("My Story is Complete")}],placeholder:e("Select")},notComplete:e("All fields in the Story Notes must be filled before submitting Story to Wattpad.\nYou can change and resubmit your Story Notes to Wattpad again at anytime.")}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,o=f(i);function i(){return u(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t={backgroundColor:this.props.bgColor,color:this.props.color};return this.props.active&&(t={color:this.props.bgColor,backgroundColor:"#FFFFFF",borderColor:this.props.bgColor}),this.props.disableClick?a.a.createElement("div",{className:"tag-item",style:t},this.props.name):a.a.createElement("a",{className:l()("tag-item",{active:this.props.active}),style:t,onClick:function(t){return e.props.clickHandler(t,e.props.name)},href:this.props.link||"/stories/".concat(this.props.name)},this.props.name)}}])&&d(t.prototype,n),r&&d(t,r),i}(a.a.Component);h.defaultProps={clickHandler:function(){}},h.propTypes={clickHandler:i.a.func,bgColor:i.a.string,color:i.a.string,active:i.a.bool,name:i.a.string.isRequired,link:i.a.string,disableClick:i.a.bool}},function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return p}));var r=n(0),a=n.n(r),o=n(11),i="SET_STORY_INSIGHTS",s="FAILED_FETCH_STORY_INSIGHTS",l="SET_INSIGHTS_PENDING_STATUS",c={header:"Story Insights are being reimagined.",para1:"We know that every Wattpad writer needs the right story data to understand how they can be successful.",para2:"We have removed paid Story Insights so that we can invest in providing every single writer with the stats and insights that will help them succeed from their very first published part all the way to Wattpad fame.",para3:"Stay tuned for new story analytics tools coming your way in 2022!"},u=[{header:"Polish your craft",body:"Improve your writing quality in areas including writing style, reading accessibility, adverb usage, and sentence length.",image:"writer-insights/step-polish-craft.svg"},{header:"Get primed for paid programs",body:"Receive constructive feedback on how your writing stacks up against Paid Stories, Watty Award winning stories, and Wattpad Books to help achieve those milestones.",image:"writer-insights/step-paid-programs.svg"},{header:"Produce a stellar story",body:"Complete the full cycle of success on Wattpad: write, analyse, review, and publish.",image:"writer-insights/step-produce-story.svg"}],d=[{header:"Streamlines the editing process",testimonial:"Story Insights efficiently streamlines the editing process by not only identifying areas for improvement in a writers work, but also by recognizing the subtle patterns that makes a writers literary voice so unique and powerful.",author:"Paul PK Kingston",title:"Goats from Lambs",coverImage:"".concat(o.f,"/cover/76119150-352.jpg")},{header:"Provides a fresh pair of editing eyes",testimonial:"Story Insights provided a behind the scenes look into my story, Titan X. Ive always known to sparingly use adverbs ending in -ly. Over time, my inner editor had grown slack in this regard, but among its many benefits, the Story Insights Report revealed how many I used in each chapter. This was eye opening.",author:"Eric Dabbs",title:"Titan X",coverImage:"".concat(o.f,"/cover/89291436-352.jpg")},{header:"The most writer-friendly help from Wattpad",testimonial:"The Story Insights Report is a remarkably powerful tool for me as it has helped me get more invested in my writing. With this Report, I'm able to understand the complexity and/or simplicity of my works and how to tackle them to best fit the model of audience I want. I couldn't ask for more writer-friendly help from Wattpad.",author:"Hepzibah Brian",title:"Girls Who Dreamt Of Castles",coverImage:"".concat(o.f,"/cover/127553995-352.jpg")},{header:"One of my favourite features!",testimonial:"Story Insights helps me pinpoint areas where I can improve my vocabulary. It also gives me feedback by chapter, so I can be sure to stay consistent and add strength to my storys structure. The best part is that its all easily accessible right on Wattpad. It has become one of my favorite features!",author:"Sam Schill",title:"Swallow",coverImage:"".concat(o.f,"/cover/26538982-352.jpg")},{header:"Allows writers to really hone their craft",testimonial:"Story Insights offers incredibly valuable information for writers, breaking down their stories chapter-by-chapter to help them locate overused words, frequent sentence starters, and more. The program even lists the average reading time per chapter. With this information, refining and editing is a much easier process, allowing writers to really hone their craft and improve their story.",author:"Elford Alley",title:"Apartment 239",coverImage:"".concat(o.f,"/cover/92457278-352.jpg")}],m=["Your story must be written in English","Your story must be published on Wattpad","Your story must comprise of narrative storytelling, and not poetry"],f=["Writing style","Reading accessibility","Reading time","Sentence length","Adverb usage","Word repetition"],p=[{question:"How is the Story Insights Report generated?",answer:"The Story Insights Report is generated using a machine-learning algorithm, unique to Wattpad. It evaluates your story against Watty Award winning stories, Paid Stories and Wattpad Books, to rate your Writing Complexity and Reading Accessibility. It also scours over your story to highlight Reading Time, Sentence Length, Adverb Usage and Word Repetition by part, while giving you benchmarks for each of these metrics. Having this feedback will help simplify your editing process, and enable you to improve the quality and success of your storytelling."},{question:"What are the requirements for a report to be effectively generated on my story?",answer:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"To maximize the effectiveness of the Story Insights tool, your story must be written in the English language, and published on Wattpad. Poems and poetry follow a different set of rules for writing (or none at all!) and therefore aren't currently eligible for the Story Insights Report."," "),a.a.createElement("div",null,"Please also note the following recommendations:",a.a.createElement("ul",null,a.a.createElement("li",null,"While having a Completed story is not a requirement, the minimum length of your story should be around 3,000 words."),a.a.createElement("li",null,"The tool only takes published parts into account. Any parts you wish to have reviewed should be published on Wattpad, and not hidden away in your drafts until the time you have received your Report."),a.a.createElement("li",null,"You should ideally only include published parts that you consider completed, excluding content such as authors notes, cast and character descriptions, playlist recommendations, etc. for the purposes of the Report."))))},{question:"How often can I purchase the Story Insights Report?",answer:"You can purchase one Story Insights Report for one story in a single order. If you wish to purchase the report for multiple stories, you will need to place a separate order for each report. We recommend re-ordering the report on the same story once you have made significant edits or additions to your story, or incorporated the feedback from your previous report in order to see your score improve over time."},{question:"How do I save my Story Insights Report?",answer:"To save your report, tap the Print icon on the Story Insights tab, followed by Save as PDF in the Destination dropdown."},{question:"Is the report customized for the genre of my story?",answer:"The machine-learning algorithm, which forms the basis of the Story Insights Report, has been designed for all possible genres other than Poetry, no matter how niche they might be. It is also important to note that the Story Insights tool compares your story to multiple levels of writing, including but not limited to Watty Award winning stories, Paid Stories, and Wattpad Books, in order to present highly objective insights that can help simplify your editing process and uncover the potential of your story."},{question:"How often is it recommended to run the report to improve my writing?",answer:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"We recommend running the report each time you make significant edits to your story. This may include writing new parts, editing the writing style, or incorporating the feedback shared in your previous Story Insights Report."),a.a.createElement("p",null,"Running the report with a repeated frequency after making major edits will allow you to compare your progress over time, bring focus to areas of improvement and help you develop overall as a writer."))},{question:"Does the Story Insights Report check for spelling and grammar?",answer:"The Story Insights Report does not check spelling and grammar for you. It focuses on more unique metrics which are not available within common word processing tools."},{question:"How is machine learning better than a human editor checking my story?",answer:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Using a machine-learning algorithm, in the form of the Wattpad Story Insights tool, to assess your writing has three main advantages over a human editor:"),a.a.createElement("ol",null,a.a.createElement("li",null,"The algorithm provides objective feedback by comparing your story to thousands of published stories across genres and at all levels, whether they are renowned published works, Watty Award winning stories, Paid Stories or Wattpad Books, to name a few."),a.a.createElement("li",null,"The feedback received is entirely confidential, and not shared with anyone other than the writer. This is great for writers who do not feel comfortable sharing their story with friends and family, or with a professional editor, to get feedback."),a.a.createElement("li",null,"Machine-learning enables us to provide you with feedback in a far more cost-effective way than if you were to hire a professional editor to help you improve your story. We know you already have the potential for success. Let us help you take your writing to the next level.")))},{question:"Is there a limit on how many times I can run the report?",answer:"There is no limit on the number of times you can purchase the report on a single story. We recommend re-purchasing the report once you have made edits to your story and only after having already received and reviewed the previous report you ordered, so that you can save it to compare your progress over time."},{question:"How long does it take for the Story Insights report to be generated?",answer:"It takes 24-48 hours for the Story Insights Report to be generated. We will notify you in your Wattpad Inbox once your report is available."},{question:"Does a low score mean I am a bad writer?",answer:"A low score should not be directly inferred as an indication that you are a good or bad writer. For example, if you are intentionally writing for a younger audience, your writing style may have a lower score due to a lack of complexity in sentence structure and vocabulary - which is perfectly acceptable if you feel this is the most appropriate style for your intended audience."},{question:"Is my report confidential?",answer:"Yes, your report is completely confidential and will not be accessible to anyone else on Wattpad."},{question:"Is my score going to be visible to anyone else on my profile?",answer:"Your score is completely confidential and only visible to you once you are securely logged in to your account."},{question:"What is the benefit of running the report on multiple stories?",answer:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Each story you write is likely unique in terms of its composition, intended audience, genre, plot complexity and writing style. The report you receive on one story cannot necessarily be generalised as feedback for other stories you have written, as it is highly specific to the content of a single story."),a.a.createElement("p",null,"If you wish to improve multiple stories, we recommend running the report on each story to get customised feedback. Whether you purchase one or multiple reports on one or multiple stories, the feedback you receive will help you view your craft from a fresh perspective, and improve your writing habits over time."))},{question:"What is Wattpads refund policy for the Story Insights Report?",answer:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"We do not offer refunds for purchases of the Story Insights Report. Before making your purchase, we recommend that you:"),a.a.createElement("ol",null,a.a.createElement("li",null,"View the sample report so you have a clear understanding of the type of insights you will receive on your story."),a.a.createElement("li",null,"Choose a published story, written in the English language and comprising a minimum of 3,000 words.")))}]},,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var i="".concat("POPOVER","/OPEN"),s="".concat("POPOVER","/CLOSE"),l={popoverProps:{}};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i:return a(a({},e),{},{popoverProps:t.popoverProps});case s:return a(a({},e),{},{popoverProps:{}});default:return e}}function u(e){return function(t,n){n().popover.popoverProps.triggerRef!==e.triggerRef?t({type:i,popoverProps:e}):t({type:s})}}function d(){return function(e){e({type:s})}}},function(e,n){e.exports=t},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return y}));var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(117),u=n(9),d=n(5),m=function(e){var t=e.label,n=e.labelClassName,r=e.tooltip,o=e.onClickIcon;return t&&null===t.match(/^ *$/)?a.a.createElement("div",{className:i()("form-field-label",n)},a.a.createElement("label",null,t),r&&a.a.createElement(f,{tooltip:r}),o&&a.a.createElement(p,{onClick:o})):null};m.defaultProps={label:null,labelClassName:null,tooltip:null,onClickIcon:null},m.propTypes={label:l.a.string,labelClassName:l.a.string,tooltip:l.a.string,onClickIcon:l.a.func};var f=function(e){var t=e.value,n=e.tooltip,r=e.showTooltip,o=void 0===r||r,i=e.ariaHidden,s=void 0!==i&&i;return a.a.createElement("div",{className:"icon-container","aria-hidden":s},a.a.createElement("div",{"data-tip":n,className:"tool-tip"},a.a.createElement("span",{className:"sr-only"},n),null!==t?a.a.createElement("span",{className:"stats-value","aria-hidden":!0},t):a.a.createElement(u.a,{iconName:"fa-info",height:"16",color:"wp-neutral-2"})),d.a&&o&&a.a.createElement(c.a,{place:"top",type:"dark",effect:"solid"}))};f.defaultProps={tooltip:"",value:null},f.propTypes={tooltip:l.a.string,value:l.a.any,showTooltip:l.a.bool,ariaHidden:l.a.bool};var p=function(e){var t=e.onClick;return a.a.createElement("div",{className:"icon-container"},a.a.createElement("button",{onClick:t,className:"btn btn-no-style"},a.a.createElement(u.a,{iconName:"fa-info",height:"16",color:"wp-neutral-2"})))};p.defaultProps={onClick:function(e){return e.preventDefault()}},p.propTypes={onClick:l.a.func};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===e||null!==e.match(/^ *$/)?null:a.a.createElement("div",{className:"about-form"},e)}},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(4),c=n.n(l),u=function(e){var t=e.onChange,n=void 0===t?function(){}:t,r=e.checked,o=void 0!==r&&r,i=e.value,l=e.children,u=e.contentId;return a.a.createElement("label",{className:c()("c-checkbox",{"label-active":o})},a.a.createElement("input",{type:"checkbox",onChange:function(e){n(e)},value:i,checked:o,"aria-describedby":u}),a.a.createElement("div",{className:c()({checked:o})},o&&a.a.createElement(s.e,{name:"check",color:"wp-neutral-5",size:14,className:"check-icon"}),l&&a.a.createElement("div",{className:"c-checkbox__content",id:u,"aria-hidden":!0},l)))};u.propTypes={onChange:i.a.func,checked:i.a.bool,value:i.a.any,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),contentId:i.a.string.isRequired},t.a=u},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var i="TOGGLE_TOAST_VISIBLE",s={toastProps:null};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return a(a({},e),{},{toastProps:e.toastProps?null:t.toastProps});default:return e}}function c(e){return{type:i,toastProps:e}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(107),l=n(4),c=n.n(l),u=n(6),d=n(38),m=function(e){var t=e.toggleToast,n=e.toastProps;n=n||{};var r=Object(s.a)().trans,o=n,i=o.className,l=o.body;if(l){var u=c()("toast",i);return a.a.createElement("div",{className:u},a.a.createElement("div",{className:"toast-content"},a.a.createElement("p",null,l),a.a.createElement("button",{className:"btn-no-background",onClick:t},r("OK"))))}return null};m.propTypes={toastProps:i.a.shape({body:i.a.string,className:i.a.string}),toggleToast:i.a.func};var f=Object(u.b)((function(e){return{toastProps:e.toast.toastProps}}),{toggleToast:d.c})(m)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=r||e,a=function e(t,n,a,o){var i=r?r.devicePixelRatio:n;if(!t)return i||(e(3)?3:e(2)?2:e(1.5)?1.5:e(1)?1:0);if(i&&i>0)return i>=t;var s=(r?r.matchMedia:a)||(r?r.msMatchMedia:o);return!!s&&(!!s(t="only all and (min--moz-device-pixel-ratio:"+t+")").matches||!!s(t.replace("-moz-","")).matches)}}).call(this,n(40))},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n.n(r),o=n(3),i=n(2);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){var t=s({},e),n=Object(o.h)().trans;return a.a.createElement(i.c,s({name:"/paid-content/coin-icon.svg",className:"coin-icon",alt:n("Coin")},t))}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return y}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(2);function u(e){var t=e.variant,n=e.messageNode;return a.a.createElement("div",{className:l()("ds-alert",t)},a.a.createElement(c.e,{name:"warning",size:"24",color:"ds-alert"}),n)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e){var t=e.text,n=e.variant,r=e.onClick,o=m(e,["text","variant","onClick"]);return a.a.createElement("button",d({className:l()("ds-button",n),onClick:r},o),t)}function p(e){return a.a.createElement("div",{className:l()("dscontainer",e.variant)},e.children)}function y(e){var t=e.text;return a.a.createElement("h2",{className:l()("ds-header",e.variant)},t)}u.propTypes={messageNode:i.a.node.isRequired,variant:i.a.string},u.defaultProps={variant:""},f.propTypes={text:i.a.string.isRequired,variant:i.a.string,onClick:i.a.func},f.defaultProps={variant:"",onClick:function(){}},p.propTypes={children:i.a.node,variant:i.a.string},p.defaultProps={variant:""},y.propTypes={text:i.a.string.isRequired,variant:i.a.string},y.defaultProps={variant:""}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i.a})),n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=a.a.createContext({trans:function(e){return e},ngettext:function(e){return e}}),i=n(152),s=a.a.createContext({})},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r="TOGGLE_MODAL_VISIBLE",a="OPEN_MODAL",o="CLOSE_MODAL"},,function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(6),l=n(168),c=n(182),u=n(4),d=n.n(u),m=n(5),f=n(8),p=n(110);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(n,e);var t=b(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),O(w(r=t.call(this,e)),"onNavigate",(function(e,t){e.preventDefault(),r.props.closeModal(),"/login"===window.location.pathname&&window.location.reload(),window.app.router.navigate(t,{trigger:!0})})),O(w(r),"showFormFields",(function(){r.setState({showFormFields:!0})})),O(w(r),"showLoginForm",(function(){r.setState({showFormFields:!1,showLoginForm:!0,class:"login-form"})})),O(w(r),"render",(function(){var e=r.props,t=e.formType,n=e.model,a=e.title,o=e.subtitle,s=e.trans,u=e.focus,m=void 0===u||u,f=r.props.signup?"signup":"",y=r.props.nextUrl||"/home",g=s("Be part of a global community of readers and writers, all connected through the power of story."),b=s("By continuing, you agree to Wattpad's <a href='/terms'>Terms of Service</a> and <a href='/privacy'>Privacy Policy</a>."),v=d()(r.state.class,{sidebar:"sidebar"===t});return r.state.showFormFields?i.a.createElement(l.a,h({model:n,nextUrl:y},r.props)):r.state.showLoginForm?i.a.createElement(p.a,h({},r.props,{login:!0})):i.a.createElement("div",{id:"authentication",className:v},"sidebar"===t?null:a?i.a.createElement("h1",null,a):i.a.createElement("h1",null,s("Join Wattpad")),o?i.a.createElement("h2",{className:"subtitle",dangerouslySetInnerHTML:{__html:o}}):i.a.createElement("p",null,g),i.a.createElement("div",{className:"panel-body"},i.a.createElement("div",null,i.a.createElement(c.a,{source:f,nextUrl:y,focus:m}),i.a.createElement("div",{className:"hr-with-text"},i.a.createElement("div",{className:"horizontal-line"}),i.a.createElement("span",{className:"or"}," OR "),i.a.createElement("div",{className:"horizontal-line"})),i.a.createElement("button",{className:"btn-block btn-primary submit-btn",onClick:function(){return r.showFormFields()}},s("Sign up with Email"))),i.a.createElement("p",null,s("If you already have an account, "),i.a.createElement("button",{className:"login",onClick:r.showLoginForm},s("Log in."))),i.a.createElement("span",{className:"policy-agreement",dangerouslySetInnerHTML:{__html:b}})))})),r.state={showFormFields:!1,showLoginForm:!1,class:"signup-form"},r}return n}(o.Component);O(S,"propTypes",{model:a.a.object,nextUrl:a.a.string,source:a.a.string,formType:a.a.string,title:a.a.string,subtitle:a.a.string,trans:a.a.func.isRequired,closeModal:a.a.func,signup:a.a.bool,focus:a.a.bool});var C=Object(s.b)(null,{closeModal:f.a})(S);t.a=Object(m.m)(C)},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return N})),n.d(t,"f",(function(){return j})),n.d(t,"e",(function(){return _})),n.d(t,"c",(function(){return T}));var r=n(0),a=n.n(r),o=n(81),i=n(166),s=n(8);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,s,"next",e)}function s(e){u(o,r,a,i,s,"throw",e)}i(void 0)}))}}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="CONTEST_FORM",h="".concat(y,"/REQUEST"),g="".concat(y,"/FETCH"),b="".concat(y,"/SET"),v="".concat(y,"/ERROR"),w="".concat(y,"/SUBMITTED_SET"),E="".concat(y,"/NEAR_ELIGIBLE_SET"),O="".concat(y,"/ADDED_WATTYS_TAG"),S={isLoading:!0,hasCheckedSubmission:!1,hasSubmitted:!1,isNearEligible:!1,hasAddedWattysTag:!1,user:"",cover:"",title:"",data:{story_id:null,contest_submission:{contest:"",wattys_submitted_time:0,language:"",award_category:"",sexual_content:"",is_exclusive:!1,is_cross_posted:null,is_final_consent:!1,is_canva_intended:!1,is_canva_owner_confirmed:!1,preferred_email:"",target_audience:"",mature_themes:[],opportunities:[],others:{mature_themes:""},plot_details:{summary:"",logline:""}}}};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case h:return f(f({},e),{},{isLoading:!0});case g:var n,r=S.hasSubmitted;return t.data.contest&&("wattys2021"===t.data.contest&&(n=t.data),n&&(r=!0)),f(f({},S),{},{isLoading:!1,hasCheckedSubmission:!0,hasSubmitted:r,data:{story_id:t.story_id||S.data.story_id,contest_submission:{award_category:t.data.award_category||S.data.contest_submission.award_category,target_audience:t.data.target_audience||S.data.contest_submission.target_audience,mature_themes:t.data.mature_themes||S.data.contest_submission.mature_themes,plot_details:t.data.plot_details||S.data.contest_submission.plot_details,others:t.data.others||S.data.contest_submission.others,preferred_email:t.data.preferred_email||S.data.contest_submission.preferred_email,opportunities:t.data.opportunities||S.data.contest_submission.opportunities,is_exclusive:t.data.is_exclusive||S.data.contest_submission.is_exclusive,is_cross_posted:t.data.is_cross_posted,is_final_consent:t.data.is_final_consent||S.data.contest_submission.is_final_consent,is_canva_intended:t.data.is_canva_intended||S.data.contest_submission.is_canva_intended,is_canva_owner_confirmed:t.data.is_canva_owner_confirmed||S.data.contest_submission.is_canva_owner_confirmed,sexual_content:t.data.sexual_content||S.data.contest_submission.sexual_content,language:t.data.language||S.data.contest_submission.language}},language:t.storyData.language&&t.storyData.language.id,cover:t.storyData.cover,title:t.storyData.title,user:t.storyData.user.name});case b:return f(f({},e),{},{data:f(f({},e.data),{},{story_id:t.story_id,contest_submission:f(f({},e.data.contest_submission),t.data)}),isLoading:!1,hasCheckedSubmission:!0});case w:return f(f({},e),{},{hasCheckedSubmission:!0,hasSubmitted:t.status});case E:return f(f({},e),{},{isNearEligible:t.is_near_eligible_bool});case v:return f(f({},e),{},{isLoading:!1});case O:return f(f({},e),{},{hasAddedWattysTag:!0});default:return e}}function k(e){return function(){var t=d(regeneratorRuntime.mark((function t(n,r){var a,o,i,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/v3/stories/".concat(e,"?fields=cover,title,language,user"),o="/v5/contests/wattys2021/story/".concat(e,"/eligibility"),t.next=4,Promise.resolve($.get(o));case 4:if(i=t.sent,s=i.submitted_t,!s){t.next=13;break}return c="/v5/contests/wattys2021/story/".concat(e,"/"),r().contestForm.isLoading||n({type:h}),t.abrupt("return",Promise.all([Promise.resolve($.get(c)),Promise.resolve($.get(a))]).then((function(e){var t=l(e,2),r=t[0],a=t[1];n({type:g,data:r.contest_submission,story_id:r.story_id,storyData:a})})));case 13:return window.te.push("event","wattys","submission_form",null,"view",{storyid:parseInt(e)}),t.abrupt("return",Promise.resolve($.get(a)).then((function(e){n({type:g,data:S.data.contest_submission,story_id:e.story_id,storyData:e})})));case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function N(e){return function(){var t=d(regeneratorRuntime.mark((function t(n,r){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/v3/stories/".concat(e,"?fields=cover,title,language,user"),o="/v5/contests/wattys2021/story/".concat(e,"/"),r().contestForm.isLoading||n({type:h}),t.abrupt("return",Promise.all([Promise.resolve($.get(o)),Promise.resolve($.get(a))]).then((function(e){var t=l(e,2),r=t[0],a=t[1];n({type:g,data:r.contest_submission,story_id:r.story_id,storyData:a})})));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function j(e,t){return function(){var n=d(regeneratorRuntime.mark((function n(r){var a,i,s,l,c,u,d,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"/v5/contests/wattys2021/submit",a="/apiv2/editstorytags",i="/api/v3/stories/".concat(e,"?fields=tags,parts"),r({type:h}),n.prev=4,n.next=7,Promise.resolve($.ajax({url:"/v5/contests/wattys2021/submit",type:"POST",data:JSON.stringify(t),dataType:"json",headers:{"Content-Type":"application/json"}}));case 7:window.te.push("event","wattys","submission_form",null,"submit",{storyid:parseInt(e)}),n.next=18;break;case 10:n.prev=10,n.t0=n.catch(4),s=wattpad.utils.trans("Sorry, something went wrong. Please try again.");try{400===n.t0.status&&("InvalidParam"===n.t0.responseJSON.error.error_type||"RequiredParamMissing"===n.t0.responseJSON.error.error_type)&&n.t0.responseJSON.error.fields.length>0?(s+=" [fields = ",n.t0.responseJSON.error.fields.forEach((function(e,t){s+=e+(t!==n.t0.responseJSON.error.fields.length-1?", ":"")})),s+="]"):401===n.t0.status&&"PermissionDenied"===n.t0.responseJSON.error.error_type&&(s+=wattpad.utils.trans("You do not have permission to modify this story"))}catch(e){}throw new window.app.views.ErrorToast({message:s},{type:"dismissable"}).render(),r({type:v}),n.t0;case 18:return r({type:b,story_id:t.story_id,data:{award_category:t.contest_submission.award_category,is_canva_intended:t.contest_submission.is_canva_intended,preferred_email:t.contest_submission.preferred_email,is_final_consent:t.contest_submission.is_final_consent}}),n.next=21,Promise.resolve($.get(i));case 21:if(l=n.sent,c=l.tags,u=l.parts,d="wattys2021",m=!1,!(-1===c.indexOf(d)&&u&&u.length>0)){n.next=37;break}return n.prev=27,n.next=30,Promise.resolve($.post(a,{request_type:"add",tag_value:d,story_id:u[0].id}));case 30:r(Object(o.a)({id:d,name:d,active:!0,className:"wattys-tag"})),r({type:O}),m=!0,n.next=37;break;case 35:n.prev=35,n.t1=n.catch(27);case 37:return r(P(!0)),n.abrupt("return",m);case 39:case"end":return n.stop()}}),n,null,[[4,10],[27,35]])})));return function(e){return n.apply(this,arguments)}}()}function _(e){return function(t){t(Object(s.c)({component:function(){return a.a.createElement(i.a,{closeModal:function(){return t(Object(s.c)())},storyId:e})},disableClose:!0,animate:!1,className:"modal-contest"}))}}function P(e){return function(t){t({type:w,status:e})}}function T(e){return function(){var t=d(regeneratorRuntime.mark((function t(n){var r,a,o,i,s,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,!1,a="/v5/contests/wattys2021/story/".concat(e,"/eligibility"),t.next=5,Promise.resolve($.get(a));case 5:o=t.sent,i=o.submitted_t,s=o.contest,l=o.is_near_eligible,c=Boolean(l),i?"wattys2021"===s&&(n({type:w,status:r=!0}),n({type:E,is_near_eligible_bool:c})):(n({type:w,status:r}),n({type:E,is_near_eligible_bool:c}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=e.height,n=e.width,r=e.color,o=e.animation,i=e.circle,s=void 0!==i&&i,d=e.count,m=void 0===d?1:d,f=e.styles,p=e.className,y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({backgroundColor:r,borderRadius:s?"50%":0,height:t,width:n},f),h=[],g=0;g<m;g++)h.push(a.a.createElement("div",{className:l()("skeleton",p,{pulse:o}),style:y,key:g}));return h}d.propTypes={height:i.a.oneOfType([i.a.number,i.a.string]),weight:i.a.oneOfType([i.a.number,i.a.string]),color:i.a.string,animation:i.a.bool,circle:i.a.bool,count:i.a.number,styles:i.a.object,className:i.a.string}},,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=function(e){var t=e.name,n=e.title,r=e.className,o=e.id,i=e.height,c=e.width,u=l(e,["name","title","className","id","height","width"]);return a.a.createElement("img",s({src:"/img/".concat(t),alt:n,className:r,id:o,height:i,width:c},u))};c.propTypes={name:i.a.string,title:i.a.string,className:i.a.string,id:i.a.string,height:i.a.string,width:i.a.string},t.a=c},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(15),l=n(3),c=n(9),u=n(27);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t=e.numParts,n=e.isMature,r=e.isCompleted,o=void 0!==r&&r,i=e.isPaid,m=void 0!==i&&i,f=e.paidIconPropsOverrides,p=void 0===f?{}:f,y=Object(l.h)(),h=y.trans,g=y.ngettext,b=m?h("Paid Story"):"",v=n?h("Mature"):"",w=t?Object(s.sprintf)(g("%s part","%s parts",t),t):"",E=o?"#1C6F65":"#8D5610",O=h(o?"Complete":"Ongoing"),S="".concat(b," ").concat(w," ").concat(O," ").concat(v);return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},S),a.a.createElement("div",{className:"icon-bar","aria-hidden":!0},m&&a.a.createElement(c.a,d({name:"paidStory",className:"paid-icon",size:"18",viewBox:"20",color:"ds-neutral-80",strokeWidth:"0",fill:!0},p)),t&&a.a.createElement("div",{className:"icon-parts"},a.a.createElement(c.a,{name:"parts",className:"icon"}),a.a.createElement("span",null,w)),a.a.createElement("div",{className:"completed"},a.a.createElement(u.a,{name:O,bgColor:E,color:"#ffffff",disableClick:!0})),n&&a.a.createElement("div",{className:"mature"},a.a.createElement(u.a,{name:v,bgColor:"#9E1D42",color:"#ffffff",disableClick:!0}))))};m.propTypes={numParts:i.a.number,isMature:i.a.bool,isCompleted:i.a.bool,isPaid:i.a.bool,paidIconPropsOverrides:i.a.object},t.a=m},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(66);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(){return a.a.createElement(s.a,{name:"/icons/spinner-black.svg",className:"fa-spin",alt:"Loading spinner",height:"40",width:"40"})}function d(e){var t=e.isLoading,n=e.className,o=e.children,i=e.customLoader,s=void 0===i?a.a.createElement(u,null):i,c=e.showLoaderAfter,d=l(Object(r.useState)(!1),2),m=d[0],f=d[1],p=Object(r.useRef)(null);return Object(r.useEffect)((function(){t?p.current=setTimeout((function(){!m&&f(!0)}),c):(p.current&&clearTimeout(p.current),m&&f(!1))}),[t,m,c]),t?m&&a.a.createElement("div",{className:n},s):o()}d.propTypes={isLoading:i.a.bool.isRequired,children:i.a.any.isRequired,customLoader:i.a.any,showLoaderAfter:i.a.number},d.defaultProps={showLoaderAfter:500}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(12),a=n.n(r),o=o||e,i=function(){return!a.a.isUndefined(a.a.get(o,"wattpad.utils"))}}).call(this,n(40))},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return C}));var r=n(21);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="CONVERSATION",u="".concat(c,"/POST_MESSAGE_REQUESTED"),d="".concat(c,"/POST_MESSAGE"),m="".concat(c,"/LOAD_REQUESTED"),f="".concat(c,"/LOAD_MORE_REQUESTED"),p="".concat(c,"/LOAD"),y="".concat(c,"/RESET"),h="".concat(c,"/DELETE_REQUESTED"),g="".concat(c,"/DELETE"),b={isActive:!1,isLoading:!0,isLoadingMore:!1,isDeleting:!1,isPosting:!1,messages:[],badges:[],scrollToMessageId:-1,total:0,offset:0,isEmailVerified:!1,isMutingCurrentUser:!1,isMutedByCurrentUser:!1,isBlockedByCurrentUser:!1};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case m:return s(s({},e),{},{badges:[],messages:[],offset:0,total:0,scrollToMessageId:-1,isActive:!1,isLoading:!0,isMutingCurrentUser:!1,isMutedByCurrentUser:!1,isBlockedByCurrentUser:!1});case f:return s(s({},e),{},{isLoadingMore:!0});case p:var n,o=[].concat(a(t.messages.slice().reverse()),a(e.messages));return n=t.isLoadMore?e.messages[0].id:o.length>0?o[o.length-1].id:-1,s(s({},e),{},{isLoading:!1,isLoadingMore:!1,isActive:t.isActive,scrollToMessageId:n,messages:o,badges:t.badges||[],offset:e.offset+t.messages.length,total:t.total,isEmailVerified:wattpad.utils.currentUser().get("verified_email"),isMutingCurrentUser:t.isMutingCurrentUser,isMutedByCurrentUser:t.isMutedByCurrentUser,isBlockedByCurrentUser:t.isBlockedByCurrentUser});case g:case y:return s({},b);case h:return s(s({},e),{},{isDeleting:!0});case u:return s(s({},e),{},{isPosting:!0});case d:return s(s({},e),{},{isPosting:!1,messages:[].concat(a(e.messages),[t.message]),scrollToMessageId:t.message?t.message.id:-1,offset:e.offset+1,total:e.total+1});case r.b:return s(s({},e),{},{isMutedByCurrentUser:!0});case r.c:return s(s({},e),{},{isMutedByCurrentUser:!1});case r.a:return s(s({},e),{},{isLoading:!1});default:return e}}var w=function(){return wattpad.utils.currentUser().get("username")};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="/api/v3/users/".concat(w(),"/inbox/").concat(e,"?offset=").concat(t);return function(e){var r=Promise.resolve($.get(n)),a=t>0;return e(a?{type:f}:{type:m}),r.then((function(t){e({type:p,messages:t.messages,badges:t.badges,isActive:t.isActive,total:t.total,isLoadMore:a,isMutingCurrentUser:t.isBlockingCurrentUser,isMutedByCurrentUser:t.safety.isMuted,isBlockedByCurrentUser:t.safety.isBlocked})})).catch((function(){return e({type:p,messages:[],total:0})}))}}function O(e,t){var n=w(),r="/api/v3/users/".concat(n,"/inbox/").concat(e);return function(a){var o={sender:n,recipient:e,body:t.body},i=Promise.resolve($.post(r,o));return a({type:u}),i.then((function(e){return a({type:d,message:e})})).catch((function(){new window.app.views.ErrorToast({message:wattpad.utils.trans("Sorry, something went wrong. Please try again.")},{type:"dismissable"}).render()}))}}function S(e){var t=w();return function(n,r){var a=function(e,t){return e().conversation.isActive?0!==(n=e().conversation.messages).length?n[0].id:null:function(e,t){var n=e.find((function(e){return e.user.name===t}));return null==n||null==n.recentMessage?null:n.recentMessage.id}(e().threads.threads,t);var n}(r,e);":purged:"==e.substring(0,8)&&(e=e.replace(":purged:",""));var o="/api/v3/users/".concat(t,"/inbox/").concat(e)+(null!==a?"?message_id=".concat(a):""),i=Promise.resolve($.ajax({url:o,type:"DELETE"}));return n({type:h}),i.finally((function(){return n({type:g})}))}}function C(){return function(e){e({type:y})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(12),a=n.n(r),o=n(5),i=n(13);function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="/v5/users/".concat(e,"/wallet");return function(e,r){return r().wallet.fetched&&!t?Promise.resolve():Promise.resolve($.get(n)).then((function(t){var n=a.a.find(t,{id:i.d});n&&e({type:i.i,amount:n.amount})})).catch((function(e){console.log("Failed to fetch wallet balance",e)}))}}function l(e,t){return function(n){return n({type:i.b,price:e,partId:t}),n({type:i.k,step:i.l.COIN}),setTimeout((function(){n({type:i.k,step:i.l.DEDUCTING})}),i.c),Object(o.q)(i.e)}}function c(){return function(e){return e({type:i.k,step:i.l.SUBTRACTING}),Object(o.q)(i.j)}}function u(){return function(e){return e({type:i.k,step:i.l.COIN}),setTimeout((function(){e({type:i.a})}),i.c),Object(o.q)(i.c)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(31);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t;return null===(t=e.current)||void 0===t||t.focus(),function(e){e(Object(r.a)())}}function l(e,t,n,a,i){return e.preventDefault(),n.current||(n.current=e.currentTarget),function(e){e(Object(r.c)({component:t,triggerRef:n,passthroughProps:o({placement:"right",showArrow:"true",modifiers:[{name:"offset",options:{offset:[0,12]}}]},i),contentClass:a}))}}},,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(83);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=function(e){var t,n,o=e.username,i=e.onUnmute,u=e.toggleModal,d=Object(s.h)().trans,m=d("This account will now be able to follow you, send you messages, post on your profile and comment on your stories.");return void 0!==("undefined"==typeof window?"undefined":c(window))&&(t=document.querySelector(".unmute-modal"),n=document.querySelector(".unmute-button")),Object(r.useEffect)((function(){Object(l.a)(t,n,u)}),[n,t,u]),a.a.createElement("div",{className:"mute-modal-content"},a.a.createElement("h3",{className:"mute-modal-title"},d("Unmute %s",o)),a.a.createElement("p",null,m),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement("button",{className:"cancel-mute",onClick:u},d("Cancel")),a.a.createElement("button",{className:"btn-primary btn-md",onClick:function(){u(),i&&i(o)}},d("Unmute"))))};u.defaultProps={onUnmute:function(){},toggleModal:function(){}},u.propTypes={username:i.a.string.isRequired,trans:i.a.func,onUnmute:i.a.func,toggleModal:i.a.func,buttonRef:i.a.object},t.a=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(4),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,n,r,o=p(i);function i(){return d(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t="wattys-tag"===this.props.className?"wp-neutral-5":"wp-neutral-2";return l.a.createElement("a",{className:a()("tag-item with-icon",{active:this.props.active},this.props.className),onClick:function(t){return e.props.clickHandler(t,e.props.name)},href:this.props.link},l.a.createElement("span",null,this.props.name),this.props.active?this.props.noRemoveIcon?null:l.a.createElement(c.e,{iconName:"fa-remove",height:"12",color:t}):l.a.createElement(c.e,{iconName:"fa-plus",height:"12",color:t}))}}])&&m(t.prototype,n),r&&m(t,r),i}(l.a.Component);g.defaultProps={clickHandler:function(){}},g.propTypes={active:i.a.bool,noRemoveIcon:i.a.bool,className:i.a.string,name:i.a.string.isRequired,clickHandler:i.a.func,link:i.a.string}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return y}));var l="".concat("STORY_TAGS","/SET"),c="".concat("STORY_TAGS","/ADD"),u="".concat("STORY_TAGS","/REMOVE"),d={tags:[]};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l:return i(i({},e),t.tags);case c:return i(i({},e),{},{tags:[].concat(r(e.tags),[t.tag])});case u:var n=e.tags.findIndex((function(e){return e.name===t.tag}));return i(i({},e),{},{tags:[].concat(r(e.tags.slice(0,n)),r(e.tags.slice(n+1)))});default:return e}}function f(e){return function(t){t({type:c,tag:e})}}function p(e){return function(t){t({type:l,tags:e})}}function y(e){return function(t){t({type:u,tag:e})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2);function l(e){var t,n=e.name,r=e.size;return e.allowedBadges.indexOf(n)>-1&&("staff"===n||"verified"===n||"star"===n||"ambassador"===n)&&(t=n),t?a.a.createElement(s.e,{name:t,size:r,viewBox:20}):null}l.defaultProps={size:"16",allowedBadges:["star","verified","staff","ambassador"]},l.propTypes={name:i.a.string.isRequired,size:i.a.string.isRequired,allowedBadges:i.a.array}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n){var r,a;if(e){var o,i;e.addEventListener("keydown",l),e.addEventListener("tap",l);var s=e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]');s=Array.prototype.slice.call(s),r=null===(o=s)||void 0===o?void 0:o[0],a=null===(i=s)||void 0===i?void 0:i[s.length-1],setTimeout((function(){r.focus()}),500)}function l(e){"Tab"===e.key&&r&&a&&(e.shiftKey?document.activeElement===r&&(e.preventDefault(),a.focus()):document.activeElement===a&&(e.preventDefault(),r.focus())),"Escape"===e.key&&t&&(n(),t.focus())}}},function(e,t,n){"use strict";e.exports=function(e){switch(e){case 16:case 17:case 31:case 48:return!0;default:return!1}}},,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(35);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e){var t=e.info,n=e.label,o=e.name,i=e.options,s=e.value,m=e.onChange,p=e.className,y=e.labelClassName,h=e.position,g=e.disabled,b=f(e,["info","label","name","options","value","onChange","className","labelClassName","position","disabled"]),v=function(e){return o+"-"+e},w=d(Object(r.useState)(""),2),E=w[0],O=w[1],S=d(Object(r.useState)(),2),C=S[0],k=S[1];Object(r.useEffect)((function(){var e=i.find((function(e){return e.value===s}));O(e?o+"-"+e.label:"")}),[s,O,i,o]);var N=function(e){O(e.target.id),m(e)},j=i.map((function(e){return a.a.createElement("div",{key:e.value,className:l()(p,"radio-button")},a.a.createElement("input",u({type:"radio",id:v(e.label),value:e.value,checked:E===v(e.label),onChange:N,className:l()({focus:C}),onFocus:function(){return k(!0)},onBlur:function(){return k(!1)},name:o,disabled:g},b)),a.a.createElement("label",{id:"radio-label",htmlFor:v(e.label)},e.label))}));return a.a.createElement("div",{className:"form-field radio-button-container"},Object(c.c)({label:n,labelClassName:y,tooltip:t}),a.a.createElement("div",{className:"radio-button-group"},"horizontal"===h?a.a.createElement("div",{className:"horizontal-group"},j):a.a.createElement("fieldset",{id:o},j)))}p.defaultProps={onChange:function(){},name:""},p.propTypes={label:i.a.string,name:i.a.string.isRequired,options:i.a.array.isRequired,info:i.a.string,onChange:i.a.func.isRequired,className:i.a.string,labelClassName:i.a.string,position:i.a.string,value:i.a.number,disabled:i.a.bool},t.a=p},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(35);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e){var t,n=e.info,o=e.label,i=e.placeholder,s=e.selected,m=e.selectClassName,p=e.disabled,y=e.dropdownOptions,h=e.onChange,g=e.onFocus,b=e.onBlur,v=e.onClickIcon,w=e.className,E=e.labelClassName,O=e.ariaLabel,S=f(e,["info","label","placeholder","selected","selectClassName","disabled","dropdownOptions","onChange","onFocus","onBlur","onClickIcon","className","labelClassName","ariaLabel"]),C=d(Object(r.useState)(),2),k=C[0],N=C[1],j=function(e){h(e)},_=y.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.name)})),P=function(){N(!0),g()},T=function(){N(!1),b()};return a.a.createElement("div",{className:l()("form-field",w)},Object(c.c)({label:o,labelClassName:E,tooltip:n,onClickIcon:v}),a.a.createElement("select",u({value:(t=y.find((function(e){return e.value.toString()===s})),t?t.value:i),onChange:function(e){return j(e)},onFocus:function(e){return P()},onBlur:function(e){return T()},className:l()("select-form-field",m,{focus:k}),id:"select-form-component",disabled:p,"aria-label":O},S),"(value !== placeholder &&"," ",a.a.createElement("option",{hidden:!0,disabled:!0,value:i},i),")",_))}p.defaultProps={placeholder:"Select",disabled:!1,onChange:function(){},onFocus:function(){},onBlur:function(){},onClickIcon:null},p.propTypes={dropdownOptions:i.a.array.isRequired,onChange:i.a.func.isRequired,onFocus:i.a.func,onBlur:i.a.func,onClickIcon:i.a.func,selected:i.a.string,selectClassName:i.a.string,disabled:i.a.bool,className:i.a.string,label:i.a.string,labelClassName:i.a.string,info:i.a.string,placeholder:i.a.string,ariaLabel:i.a.string},t.a=p},,,,,,,,,,,function(e,t,n){"use strict";var r=n(6),a=n(15),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n.n(c),d=n(2),m=n(8),f=n(5),p=n(13),y=n(75),h=n(152),g=n(47),b=n(3);function v(e){var t=e.children,n=e.toggleModal,r=Object(b.h)().trans;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"top-buttons-container"},u.a.createElement(A,{allowOpenCoinShop:!1,disabled:!0}),u.a.createElement("button",{className:"btn-no-style",onClick:n,title:r("Close Coin Shop")},u.a.createElement(d.e,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"}))),u.a.createElement("div",{className:"coins-modal-body"},t))}function w(e){var t=e.numCoins,n=e.previousBalance,r=e.toggleModal,a=Object(b.h)().trans,o=t+n;return u.a.createElement(v,{toggleModal:r},u.a.createElement("div",{className:"coin-purchase-confirmation"},u.a.createElement("h3",null,a("Wallet locked and loaded")," "),u.a.createElement("div",{className:"wallet-calculation"},u.a.createElement("div",{className:"calculation-row"},u.a.createElement("span",null,a("Previous balance")),u.a.createElement("span",{className:"coin-amount"},u.a.createElement(g.a,{height:"20",width:"20"})," ",n)),u.a.createElement("div",{className:"calculation-row"},u.a.createElement("span",null,a("Coins added")),u.a.createElement("span",{className:"coin-amount"},u.a.createElement(g.a,{height:"20",width:"20"})," ",t)),u.a.createElement("div",{className:"calculation-row new-balance"},u.a.createElement("span",null,a("New balance")),u.a.createElement("span",{className:"coin-amount"},u.a.createElement(g.a,{height:"20",width:"20"})," ",o))),u.a.createElement("button",{className:"btn-primary",onClick:r},a("Complete"))))}v.propTypes={children:l.a.node.isRequired,toggleModal:l.a.func.isRequired},w.propTypes={numCoins:l.a.number.isRequired,previousBalance:l.a.number.isRequired,toggleModal:l.a.func.isRequired};var E=Object(r.b)((function(e){return{previousBalance:e.wallet.amount}}),{toggleModal:m.c})(w);function O(e){var t=e.toggleModal,n=Object(b.h)().trans,r=wattpad.utils.getCurrentUserAttr("isPremium"),a=r?p.g:p.f,o=function(e){t(),setTimeout((function(){t({component:function(){return u.a.createElement(E,{numCoins:e})},className:"coins-modal-container",hideClose:!0})}),500)};return u.a.createElement(v,{toggleModal:t},u.a.createElement("div",{className:"coin-shop"},u.a.createElement("div",{className:"shop-explanation"},u.a.createElement("h3",null,n("Coin Shop")),u.a.createElement("div",{className:"coin-package-purchase-details"},u.a.createElement("p",null,n("Select a Coin package below.")),u.a.createElement("p",null,n("Taxes will be added at checkout."))),!r&&u.a.createElement("p",{className:"premium-benefit"},u.a.createElement(d.e,{name:"zap",className:"zap-icon",size:"16",color:"wp-neutral-1",fill:!0})," ",n("Premium members get up to 66%% more Coins"))),Object.values(a).map((function(e){return u.a.createElement(S,{key:e.value,isPremium:r,value:e.value,premiumValue:e.premium_value,nonPremiumValue:e.non_premium_value,price:e.price,illustrationUrl:e.illustration_url,featured:e.featured,onSelectPack:o})}))))}function S(e){var t=e.isPremium,n=e.value,r=e.premiumValue,a=e.nonPremiumValue,o=e.price,i=e.illustrationUrl,s=e.featured,l=e.onSelectPack,c=Object(b.h)().trans,m=r-n;return u.a.createElement("button",{className:"coin-pack btn-no-style",onClick:function(){return l(n)}},u.a.createElement("img",{src:i,alt:c("%s Coin Pack",n),height:"75",width:"75",className:"pack-image"}),u.a.createElement("div",{className:"pack-body"},u.a.createElement("div",null,s&&u.a.createElement("span",{className:"most-popular"},c("Most Popular")),u.a.createElement("div",{className:"coins-in-pack"},u.a.createElement("h4",null,c("%s Coins",n)),t&&u.a.createElement("span",{className:"non-premium-value"},c("%s Coins",a))),u.a.createElement("div",{className:"premium-status"},t?c("Premium"):c("+ %s with Premium",m)," ",u.a.createElement(d.e,{name:"zap",className:"zap-icon",size:"10",color:"wp-neutral-2",fill:!0}))),u.a.createElement("div",{className:"pack-price"},"$",o)))}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var a=R(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}O.propTypes={toggleModal:l.a.func.isRequired},S.propTypes={isPremium:l.a.bool.isRequired,value:l.a.number.isRequired,premiumValue:l.a.number,nonPremiumValue:l.a.number,price:l.a.string.isRequired,illustrationUrl:l.a.string.isRequired,featured:l.a.bool,onSelectPack:l.a.func.isRequired};var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(s,e);var t,n,r,o=_(s);function s(){var e;k(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(T(e=o.call.apply(o,[this].concat(n))),"onWalletClick",(function(){wattpad.testGroups.WEB_COIN_PURCHASING?(0,e.props.toggleModal)({component:function(e){var t=e.toggleModal;return u.a.createElement(O,{toggleModal:t})},className:"coins-modal-container",hideClose:!0}):e.props.onWalletClick()})),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.context;e.username&&this.props.fetchWalletBalance(e.username)}},{key:"render",value:function(){var e,t,n=this.props,r=n.wallet,o=n.purchase,s=n.trans,l=n.ngettext,c=n.disabled,m=r.amount,y=r.animationStep,h=r.fetched,b=o.amountSpent,v=this.context,w=i()("wallet");return y===p.l.COIN?(w=i()("coin-solo",w),u.a.createElement("button",{className:w},u.a.createElement(g.a,null))):y===p.l.DEDUCTING?(w=i()("deducting",w),u.a.createElement("button",{className:w},u.a.createElement("div",{className:"deducting-icon"},u.a.createElement(d.c,{name:"/icons/spinner.svg",className:"fa-spin",alt:s("Spinner"),height:"24",width:"24"})),u.a.createElement("span",{className:"num-coins"},s("Deducting")))):y===p.l.SUBTRACTING?(w=i()("subtracting",w),e=o.buyingPart?l("-%s Coin for next part","-%s Coins for next part",b):l("-%s Coin for story","-%s Coins for story",b),e=Object(a.sprintf)(e,b),u.a.createElement("button",{className:w},u.a.createElement("div",{className:"coin-container"},u.a.createElement(g.a,null)),u.a.createElement("span",{className:"num-coins"},e))):(t=v.username?h?m<1e4?m:Object(f.b)(m):"-":0,w=i()("default",w),u.a.createElement("button",{onClick:this.onWalletClick,className:w,disabled:c,title:s("Wallet with %s Coins",m)},u.a.createElement(g.a,null),u.a.createElement("span",{className:"num-coins divider-right"},t),!c&&u.a.createElement("div",{className:"get-coins"},u.a.createElement(d.e,{iconName:"fa-plus",height:"12",color:"wp-neutral-1"}))))}}])&&N(t.prototype,n),r&&N(t,r),s}(u.a.Component);x(I,"propTypes",{wallet:l.a.shape({amount:l.a.number.isRequired,animationStep:l.a.string.isRequired,fetched:l.a.bool.isRequired}).isRequired,purchase:l.a.shape({amountSpent:l.a.number.isRequired,buyingPart:l.a.bool}).isRequired,trans:l.a.func.isRequired,ngettext:l.a.func.isRequired,onWalletClick:l.a.func,toggleModal:l.a.func,fetchWalletBalance:l.a.func.isRequired,disabled:l.a.bool}),x(I,"defaultProps",{disabled:!1}),x(I,"contextType",h.a);var A=t.a=Object(r.b)((function(e){return{wallet:e.wallet,purchase:e.purchase}}),{toggleModal:m.c,fetchWalletBalance:y.a})(Object(f.m)(I))},function(e,t,n){"use strict";var r=n(52),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(2),c=n(136),u=n(84),d=n.n(u),m=n(3),f=n(43);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.sectionType,n=e.stories,a=e.index,o=e.windowWidth,u=e.wasSeen,g=e.storiesToShow,b=void 0===g?5:g,v=e.storyWidth,w=void 0===v?88:v,E=e.page,O=e.onStoryClick,S=e.clickTrackingUrls,C=e.callTrackingUrls,k=!1;o<=960&&(b=2.5,k=!0,o<575&&(Object(f.a)(2.5)?w=Math.floor(35):Object(f.a)(1.5)&&(w=Math.floor(52.5))));var N=d()(parseInt(Object(m.e)().language,10)),j=h(Object(i.useState)([]),2),_=j[0],P=j[1];Object(i.useEffect)((function(){if(u){var e=Math.min(Math.round(b),n.length);n.slice(0,e).map((function(e,n){"story_details"===E?window.te.push("event","story",null,null,"view",{storyid:e.id,page:"story_details",type:"similar_stories",source:"story_details"}):T(e.id,e.sources,a,n,t)})),P([].concat(y(_),y(n.slice(0,e).map((function(e,t){return t})))))}}),[u]);var T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;window.te.push("event","story",null,null,"view",{storyid:e,page:E,algo_source:t,position:n,offset:r,type:a})};return null!==n&&0!==n.length?s.a.createElement("div",{className:"story-carousel"},s.a.createElement("div",N?{dir:"ltr",className:"carousel-container rtl-adjust"}:{className:"carousel-container"},s.a.createElement(r.a,{dragging:!1,afterSlide:u?function(e){var r=Math.min(e+Math.round(b),n.length);n.slice(e,r).map((function(n,r){_.includes(e+r)||("story_details"===E?window.te.push("event","story",null,null,"view",{storyid:n.id,page:"story_details",type:"similar_stories",source:"story_details"}):T(n.id,n.sources,a,e+r,t))})),P([].concat(y(_),y(n.slice(e,r).map((function(t,n){return e+n})))))}:function(){},enableKeyboardControls:!0,frameOverflow:k?"visible":"hidden",heightMode:"max",slidesToShow:b,slidesToScroll:"auto",initialHeight:"1",renderCenterRightControls:5===b&&n.length>5?function(e){return function(e,t,n){return e!==n-b||N?s.a.createElement("button",{className:"next-btn",onClick:t},s.a.createElement(l.e,{name:"arrowCircleRight",size:"40",alt:"next",strokeWidth:"2.25"})):null}(e.currentSlide,e.nextSlide,e.slideCount)}:null,renderCenterLeftControls:5===b&&n.length>5?function(e){return function(e,t){return 0!==e||N?s.a.createElement("button",{className:"prev-btn",onClick:t},s.a.createElement(l.e,{name:"arrowCircleLeft",size:"40",alt:"previous",strokeWidth:"2.25"})):null}(e.currentSlide,e.previousSlide)}:null,renderBottomCenterControls:null,wrapAround:N},n.map((function(e,n){if(e.id&&e.cover)return s.a.createElement(c.a,p({},e,{sectionType:t,index:a,offset:n,width:w,key:"".concat(e.id,"-").concat(n),page:E,onStoryClick:O,storyData:e,clickTrackingUrls:S,callTrackingUrls:C}))}))))):null};v.defaultProps={onStoryClick:null},v.propTypes={sectionType:o.a.string.isRequired,stories:o.a.array.isRequired,index:o.a.number,wasSeen:o.a.bool,windowWidth:o.a.number,storiesToShow:o.a.number,storyWidth:o.a.number,page:o.a.string,onStoryClick:o.a.func,clickTrackingUrls:o.a.array,callTrackingUrls:o.a.func},t.a=v},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n(54);function o(){return Object(r.useContext)(a.b)}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(6),i=n(1),s=n.n(i),l=n(4),c=n.n(l),u=n(9),d=n(8),m=n(3);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.toggleModal,n=e.modalProps,o=e.isGlobalModalContainer,i=void 0!==o&&o,s=n=n||{},l=s.className,d=s.component,p=s.disableClose,y=void 0!==p&&p,h=s.hideClose,g=void 0!==h&&h,b=s.animate,v=void 0===b||b,w=s.onCloseModal,E=void 0===w?function(){}:w,O=s.useGlobalModalContainer,S=void 0!==O&&O,C=f(Object(r.useState)(null),2),k=C[0],N=C[1];Object(m.a)(k,(function(){d&&!y&&(t(),E())}));var j=Object(r.useCallback)((function(e){y||"Escape"===(e.key||e.keyCode)&&(t(),E())}),[y,t,E]);if(Object(r.useEffect)((function(){return window.addEventListener("keydown",j),function(){window.removeEventListener("keydown",j)}}),[j]),!d)return null;if(i!==S)return null;var _=d;return a.a.createElement("div",{className:c()("wp-modal","modal-container",l)},a.a.createElement("div",{ref:function(e){return N(e)},className:c()("modal-content",{animate:v}),"aria-label":"Full screen modal"},!y&&!g&&a.a.createElement("button",{className:"btn-no-style",onClick:function(){t(),E()},"aria-label":"Close modal"},a.a.createElement(u.a,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"})),a.a.createElement(_,{toggleModal:t})))}y.propTypes={toggleModal:s.a.func.isRequired,isGlobalModalContainer:s.a.bool,modalProps:s.a.shape({className:s.a.string,component:s.a.func,disableClose:s.a.bool,hideClose:s.a.bool,animate:s.a.bool,onCloseModal:s.a.func,useGlobalModalContainer:s.a.bool})};var h=Object(o.b)((function(e){return{modalProps:e.modal.modalProps}}),{toggleModal:d.c})(y);t.a=h},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(4),c=n.n(l),u=n(83);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e){var t,n,o=e.username,i=e.toggleModal,l=e.muteUser,m=Object(s.h)().trans,f=m("This account will not be able to follow you, send you messages, post on your profile or comment on your stories."),p=c()("btn-primary",{"on-mute-user":void 0===l});return void 0!==("undefined"==typeof window?"undefined":d(window))&&(t=document.querySelector(".mute-modal"),n=document.querySelector(".dropdown-toggle")),Object(r.useEffect)((function(){Object(u.a)(t,n,i)}),[n,t,i]),a.a.createElement("div",{className:"mute-modal-content"},a.a.createElement("h3",{className:"mute-modal-title"},m("Mute %s",o)),a.a.createElement("p",null,f),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement("button",{className:"cancel-mute",onClick:i},m("Cancel")),a.a.createElement("button",{className:p,onClick:function(){i(),l&&l(o)}},m("Mute"))))};m.propTypes={username:i.a.string.isRequired,toggleModal:i.a.func.isRequired,muteUser:i.a.func,buttonRef:i.a.object},t.a=m},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(6),l=n(4),c=n.n(l),u=n(2),d=n(5),m=n(182),f=n(8),p=n(57);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){b(n,e);var t=w(n);function n(){var e;g(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return C(O(e=t.call.apply(t,[this].concat(a))),"state",{hideEmailLogin:!0,showSignupForm:!1,class:"login-form"}),C(O(e),"openSignupModal",(function(){e.setState({showSignupForm:!0,hideEmailLogin:!1,class:"signup-form"})})),C(O(e),"showFormFields",(function(){e.setState({hideEmailLogin:!1})})),C(O(e),"render",(function(){var t=e.props.trans,n=e.props.nextUrl||"/home",r=e.props.notice,a=e.props.msg,o=e.props.model,s="/login?nextUrl=".concat(n),l=e.props.login?"login":"",d=e.props.focus,f=void 0===d||d;return e.state.hideEmailLogin?i.a.createElement("div",{id:"authentication-panel",className:c()(e.state.class)},i.a.createElement("p",null,t("Log in to Wattpad")),i.a.createElement("div",{className:"panel-body"},i.a.createElement(m.a,{source:l,nextUrl:n,focus:f}),i.a.createElement("div",{className:"hr-with-text"},i.a.createElement("div",{className:"horizontal-line"}),i.a.createElement("span",{className:"or"}," OR "),i.a.createElement("div",{className:"horizontal-line"})),i.a.createElement("button",{className:"btn-block btn-primary",onClick:function(){return e.showFormFields()}},t("Log in")),i.a.createElement("div",{className:"password-forgot"},i.a.createElement("a",{href:"/forgot?nextUrl=".concat(n)},t("Forgot password?"))),a&&i.a.createElement("div",{className:"alert alert-danger",role:"alert"},i.a.createElement(u.e,{iconName:"fa-info",height:"16",color:"wp-lighterror"}),a),r&&i.a.createElement("div",{className:"alert alert-info",role:"alert"},i.a.createElement(u.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}),r)),i.a.createElement("footer",{className:"signup-link"},i.a.createElement("span",null,t("Don't have an account? "),i.a.createElement("button",{onClick:function(){return e.openSignupModal()}},t("Sign up"))))):e.state.showSignupForm?i.a.createElement(p.a,h({},e.props,{nextUrl:n,model:o,signup:!0})):i.a.createElement(N,h({nextUrl:n,actionURL:s},e.props))})),e}return n}(o.Component);C(k,"propTypes",{model:a.a.object,nextUrl:a.a.string,trans:a.a.func.isRequired,notice:a.a.string,msg:a.a.string,openModal:a.a.func,login:a.a.bool,focus:a.a.bool});var N=function(e){b(n,e);var t=w(n);function n(){var e;g(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return C(O(e=t.call.apply(t,[this].concat(a))),"state",{showThirdPartyOptions:!1,showSignupForm:!1}),C(O(e),"onBackClicked",(function(){e.setState({showThirdPartyOptions:!0,showSignupForm:!1})})),C(O(e),"openSignupModal",(function(){e.setState({showSignupForm:!0,showEmailLogin:!1,class:"signup-form"})})),C(O(e),"render",(function(){var t=e.props.trans,n=e.props.nextUrl||"/home",r=e.props.notice,a=e.props.msg,o=e.props.model,s="/login?nextUrl=".concat(n),l=e.props.focus;return e.state.showThirdPartyOptions?i.a.createElement(k,h({},e.props,{login:!0})):e.state.showSignupForm?i.a.createElement(p.a,{nextUrl:n,model:o,signup:!0,focus:l}):i.a.createElement("div",{id:"authentication-panel",className:"login-form"},i.a.createElement("p",null,t("Log in to Wattpad")),i.a.createElement("div",{className:"panel-body"},i.a.createElement("form",{id:"signup-form",action:s,method:"POST"},i.a.createElement("div",{className:"input-group-vertical"},i.a.createElement(u.d,{name:"username",label:t("Username or Email"),form:"login",inputType:"text",validationModel:o,showLabel:!0,autofocus:!0}),i.a.createElement(u.d,{name:"password",label:t("Password"),form:"login",inputType:"password",showVisibilityToggle:!0,validationModel:o,showLabel:!0})),i.a.createElement("input",{type:"submit",className:"btn btn-lg btn-primary btn-block enable submit-btn",value:t("Log in")})),i.a.createElement("div",{className:"password-forgot"},i.a.createElement("a",{href:"/forgot?nextUrl=".concat(n)},t("Forgot password?"))),a&&i.a.createElement("div",{className:"alert alert-danger",role:"alert"},i.a.createElement(u.e,{iconName:"fa-info",height:"16",color:"wp-lighterror"}),a),r&&i.a.createElement("div",{className:"alert alert-info",role:"alert"},i.a.createElement(u.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}),r),i.a.createElement("div",{className:"back-link-container"},i.a.createElement("button",{className:"back-link",onClick:function(){return e.onBackClicked()}},i.a.createElement("span",{className:"fa fa-left fa-wp-neutral-1 back-icon"}),t("Back to all login options")))),i.a.createElement("footer",{className:"signup-link"},i.a.createElement("span",null,t("Don't have an account? "),i.a.createElement("button",{onClick:function(){return e.openSignupModal()}},t("Sign up")))))})),e}return n}(o.Component);C(N,"propTypes",{model:a.a.object,nextUrl:a.a.string,trans:a.a.func.isRequired,notice:a.a.string,msg:a.a.string,login:a.a.bool,focus:a.a.bool});var j=Object(s.b)(null,{openModal:f.b})(k);t.a=Object(d.m)(j)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(83),l=n(3);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=function(e){var t,n,o=e.username,i=e.onUnblock,u=e.toggleModal,d=Object(l.h)().trans,m=d("This account will now be able to follow you, send you messages, post on your profile, and read and comment on your stories.");return void 0!==("undefined"==typeof window?"undefined":c(window))&&(t=document.querySelector(".unblock-modal"),n=document.querySelector(".unblock-button")),Object(r.useEffect)((function(){Object(s.a)(t,n,u)}),[n,t,u]),a.a.createElement("div",{className:"block-modal-content"},a.a.createElement("h3",{className:"block-modal-title"},d("Unblock %s",o)),a.a.createElement("p",null,m),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement("button",{className:"cancel-block",onClick:u},d("Cancel")),a.a.createElement("button",{className:"btn-primary btn-md",onClick:function(){u(),i&&i(o)}},d("Unblock"))))};u.defaultProps={onUnblock:function(){},toggleModal:function(){}},u.propTypes={username:i.a.string.isRequired,trans:i.a.func,onUnblock:i.a.func,toggleModal:i.a.func},t.a=u},function(e,t,n){"use strict";var r=n(4),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(2),u=n(5),d=n(3),m=n(113),f=function(e){var t,n=Object(d.h)().trans,r=Object(d.d)(),o=e.profileType,i=e.backgroundUrl,s=e.username,f=e.name,y=e.highlight_colour,h=e.numFollowers,g=e.avatar,b=e.numStoriesPublished,v=e.numLists,w=e.onUnmute,E=e.onUnblock,O=e.className,S=e.isMobile,C=e.blockUser;return t=i?{backgroundImage:"url( '".concat(Object(u.p)(i,1920),"' )")}:{backgroundColor:y},l.a.createElement("div",{id:"profile-header",className:a()("profile-layout profile-header",O)},l.a.createElement("header",{style:t,className:"background background-lg"},l.a.createElement("div",{className:"avatar avatar-profile center-block"},g?l.a.createElement(c.a,{avatar:g,username:s}):l.a.createElement(c.c,{name:"avatar/empty.png",width:"96",height:"96"})),l.a.createElement("h1",{className:"profile-name h3","aria-label":n("%s's profile",f||s)},f||s),l.a.createElement("div",{className:"restricted-state"},"mute"===o&&w&&l.a.createElement("button",{className:"unmute-button",onClick:w},n("Unmute")),r.BLOCK_MVP&&"block"===o&&E&&l.a.createElement("button",{className:"unblock-button",onClick:E},n("Unblock")),S&&r.BLOCK_MVP&&l.a.createElement("div",{className:"button-group inline-block relative"},l.a.createElement(m.a,{username:s,isMuted:"mute"===o,isBlocked:"block"===o,unblockUser:E,unmuteUser:w,blockUser:C,isRestrictedProfile:!0,showModerationOptions:!0}))),l.a.createElement(p,{numStoriesPublished:b,numFollowers:h,numLists:v})))},p=function(e){var t=e.numStoriesPublished,n=e.numFollowers,r=e.numLists,a=Object(d.h)().ngettext;return l.a.createElement("div",{className:"row header-metadata"},l.a.createElement("div",{className:"col-xs-4"},l.a.createElement("p",null,void 0!==t?Object(u.b)(t):"-"),l.a.createElement("p",null,a("Work","Works",t||0))),l.a.createElement("div",{className:"col-xs-4"},l.a.createElement("p",null,void 0!==r?r:"-"),l.a.createElement("p",null,a("Reading List","Reading Lists",r||0))),l.a.createElement("div",{className:"col-xs-4"},l.a.createElement("p",{className:"followers-count"},void 0!==n?Object(u.b)(n):"-"),l.a.createElement("p",null,a("Follower","Followers",n||0))))};f.propTypes={profileType:i.a.string,username:i.a.string,backgroundUrl:i.a.string,avatar:i.a.string,highlight_colour:i.a.string,numStoriesPublished:i.a.number,numLists:i.a.number,numFollowers:i.a.number,name:i.a.string,onUnmute:i.a.func,onUnblock:i.a.func,className:i.a.string,isMobile:i.a.bool,blockUser:i.a.func},f.defaultProps={avatar:"",username:""},p.propTypes={numStoriesPublished:i.a.number,numFollowers:i.a.number,numLists:i.a.number},t.a=f},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(6),i=n(1),s=n.n(i),l=n(2),c=n(8),u=n(109),d=n(158),m=n(3),f=n(9),p=function(e){var t=e.username,n=e.unmuteUser,o=e.unblockUser,i=e.blockUser,s=e.toggleModal,c=e.isMuted,p=e.isBlocked,y=e.isRestrictedProfile,h=e.isAmbassador,g=e.isSysAdmin,b=e.onCloseAccount,v=e.showModerationOptions,w=e.onTimeout,E=Object(m.d)(),O=Object(r.useRef)(null),S=Object(m.h)().trans;return a.a.createElement("div",null,a.a.createElement(l.i,{ref:O}),a.a.createElement("div",{className:"triangle"}),a.a.createElement("div",{className:"dropdown-menu align-right"},a.a.createElement(l.m,{showBlockOption:E.BLOCK_MVP,showModerationOptions:v,username:t,isLoading:!1,isMutedByCurrentUser:c,isBlockedByCurrentUser:p,onMuteUser:function(){var e={username:t,toggleModal:s,buttonRef:O.current},n=function(){return a.a.createElement(u.a,e)};n.displayName="MuteModal",s({type:"mute",className:"mute-modal",hideClose:!0,component:n})},onUnmuteUser:n,onBlockUser:function(){var e={username:t,toggleModal:s,buttonRef:O.current};i&&(e.blockUser=i);var n=function(){return a.a.createElement(d.a,e)};n.displayName="BlockModal",s({type:"block",className:"block-modal",hideClose:!0,component:n})},onUnblockUser:o,onReportUser:function(){}}),(h||g)&&E.BLOCK_MVP&&a.a.createElement("div",{className:"user-safety-operations moderation-options"},a.a.createElement("button",{onClick:function(){b&&b()},"data-toggle":"modal","data-target":"#userClose","data-gtm":"profile|close_account",className:"user-safety-operation btn-no-background btn-left-icon "},a.a.createElement(f.a,{name:"closeAccount",strokeWidth:"0",viewBox:"16"}),a.a.createElement("span",{className:"option"},S("Close Account")," ")),a.a.createElement("button",{onClick:function(){w&&w()},"data-toggle":"modal","data-target":"#userTimeout","data-gtm":"profile|time_out",className:"user-safety-operation btn-no-background btn-left-icon "},a.a.createElement(f.a,{name:"timeout",strokeWidth:"0"}),a.a.createElement("span",{className:"option"},S("Time-out"))))),!y&&a.a.createElement(l.n,null))};p.propTypes={username:s.a.string.isRequired,toggleModal:s.a.func,isMuted:s.a.bool,isBlocked:s.a.bool,mutedUsers:s.a.array,unmuteUser:s.a.func,blockUser:s.a.func,unblockUser:s.a.func,isRestrictedProfile:s.a.bool,isAmbassador:s.a.bool,isSysAdmin:s.a.bool,onCloseAccount:s.a.func,onTimeout:s.a.func,showModerationOptions:s.a.bool};var y=Object(o.b)(null,{toggleModal:c.c})(p);t.a=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(3),c=n(4),u=n.n(c);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.email,n=e.userId,o=e.hideModal,i=e.onEmailChanged,c=e.onUpdateEmail,m=Object(l.h)().trans,f=d(Object(r.useState)("password"),2),p=f[0],y=f[1],h=d(Object(r.useState)(""),2),g=h[0],b=h[1],v=d(Object(r.useState)("pending"),2),w=v[0],E=v[1],O=d(Object(r.useState)(!0),2),S=O[0],C=O[1],k=d(Object(r.useState)(!0),2),N=k[0],j=k[1],_=d(Object(r.useState)(!0),2),P=_[0],T=_[1],R=d(Object(r.useState)(""),2),x=R[0],I=R[1],A=d(Object(r.useState)(""),2),L=A[0],M=A[1],q=d(Object(r.useState)(""),2),U=q[0],D=q[1],F=d(Object(r.useState)(!0),2),B=F[0],W=F[1],H=function(e){e.preventDefault(),e.stopPropagation(),y("text"===p?"password":"text")},V=function(e){wattpad.utils.stopEvent(e),o()},z=m("You registered your account with %s. If this is incorrect, you can change your email here.",t),Y=u()("form-control input-bg enable change-email-input",{invalid:!B});return a.a.createElement("div",{id:"change-email-modal",className:"change-email-modal-content"},a.a.createElement("button",{className:"close on-close",onClick:V,"aria-label":m("Close"),tabIndex:"0"},a.a.createElement(s.e,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),a.a.createElement("h1",null,m("Change email")),a.a.createElement("p",{className:"modal-message"},z.split(t)[0],a.a.createElement("strong",null,t),z.split(t)[1]),a.a.createElement("form",{className:"on-form-submit",onSubmit:function(e){if(wattpad.utils.stopEvent(e),b(""),!U){var t=e.target.id.value,n=e.target.email.value,r=e.target.confirm_email.value,a=e.target.password.value;n==r?Promise.resolve($.ajax({type:"POST",url:"/apiv2/updateuseremail",data:{id:t,email:n,confirm_email:r,password:a}})).then((function(){i(n),c&&c(n)})).catch((function(e){b(e.responseJSON.message)})):b(m("Please ensure the email fields match."))}},onChange:function(e){wattpad.utils.stopEvent(e);var t=e.target.name,n=!e.target.value;"email"==t?(C(n),n&&I("")):"confirm_email"==t?j(n):"password"==t&&T(n)}},a.a.createElement("input",{type:"hidden",name:"id",value:n}),a.a.createElement("div",{className:"input-group-vertical"},a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"new_email"},m("New Email")),a.a.createElement("input",{id:"new_email",className:Y,name:"email",type:"email",defaultValue:"",onBlur:function(e){wattpad.utils.stopEvent(e);var t=e.target.value;t?Promise.resolve($.ajax("/api/v3/users/validate",{data:{email:t}})).then((function(){W(!0),D(""),E("check"),I(t)})).catch((function(e){W(!1),D(e.responseJSON.message),E("warning")})):(W(!1),D(m("Email is required.")),E("warning"))},onFocus:function(e){e.preventDefault(),W(!0),D(""),M(""),E("pending")}}),"check"==w?a.a.createElement("span",{tabIndex:"-1"},a.a.createElement(s.e,{iconName:"fa-check",height:"18",className:"form-control-feedback"})):"warning"==w&&a.a.createElement("span",{tabIndex:"-1"},a.a.createElement(s.e,{iconName:"fa-warning",height:"18",className:"form-control-feedback"})),U&&a.a.createElement("p",{className:"user-error-message"},U)),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"control-label",htmlFor:"confirm_email"},m("Confirm New Email")),a.a.createElement("input",{id:"confirm_email",className:"form-control input-bg enable change-email-input",name:"confirm_email",type:"text",defaultValue:"",onBlur:function(e){var t=e.target.value;M(""!=x&&x!=t?m("Please ensure the email fields match."):"")}}),L&&a.a.createElement("p",{className:"user-error-message"},L)),a.a.createElement("div",{className:"form-group has-feedback password"},a.a.createElement("label",{className:"control-label",htmlFor:"password"},m("Confirm Password")),a.a.createElement("input",{id:"password",className:"form-control input-bg enable change-email-input",name:"password",defaultValue:"",type:p}),a.a.createElement("span",{onClick:H,onKeyDown:H,role:"button",tabIndex:"-1"},a.a.createElement(s.e,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"})))),a.a.createElement("a",{className:"forgot-password",href:"/forgot?nextUrl=settings"},m("Forgot your password?")),g&&a.a.createElement("div",{className:"server-error-message"},a.a.createElement(s.e,{iconName:"fa-warning",height:"22",className:"warning-icon"}),a.a.createElement("p",{className:"server-error-text"},g)),a.a.createElement("input",{type:"submit",className:"btn-primary btn-md btn-save",value:m("Change email"),disabled:S||N||P||!B||""!=L}),a.a.createElement("button",{className:"btn-secondary btn-md btn-cancel",onClick:V},m("Cancel"))))}f.propTypes={email:i.a.string.isRequired,userId:i.a.number.isRequired,hideModal:i.a.func,onEmailChanged:i.a.func.isRequired,onUpdateEmail:i.a.func};var p=n(170);function y(e){var t=e.email,n=e.isSuccess,r=e.hideModal,o=e.onClickResendEmail,i=e.onClickChangeEmail,c=Object(l.h)().trans,u=function(e){wattpad.utils.stopEvent(e),r()},d=c("Please check your email %s to complete sign-up.",t)+" "+c(n?"After you click the link in your email, you'll be able to:":"Please try again or change your email.");return a.a.createElement("div",{className:"sent-email-modal-content"},a.a.createElement("button",{className:"close on-close",onClick:u,"aria-label":c("Close"),tabIndex:"0"},a.a.createElement(s.e,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),n?a.a.createElement("h1",null,c("Email sent")):a.a.createElement("h1",null,c("Problem reaching email :(")),a.a.createElement("div",{className:"modal-content"},a.a.createElement("p",null,d.split(t)[0],a.a.createElement("strong",null,t),d.split(t)[1]),n&&a.a.createElement(p.a,null),a.a.createElement("div",{className:"button-wrapper"},a.a.createElement("form",null,n?a.a.createElement("button",{className:"btn-secondary btn-md btn-dismiss",onClick:u,"aria-label":c("Dismiss")},c("Dismiss")):a.a.createElement("div",null,a.a.createElement("button",{className:"btn-primary btn-md btn-change-email",onClick:i,"aria-label":c("Change email")},c("Change email")),a.a.createElement("button",{className:"btn-secondary btn-md btn-resend-email",onClick:o,"aria-label":c("Resend email")},c("Resend email")))))))}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.isChangeEmailModal,n=e.email,o=e.userId,i=e.isSuccess,s=e.hideModal,l=e.dismissModal,c=e.onUpdateEmail,u=h(Object(r.useState)(t),2),d=u[0],m=u[1],p=h(Object(r.useState)(i),2),g=p[0],b=p[1],v=h(Object(r.useState)(null),2),w=v[0],E=v[1],O=function(e){wattpad.utils.stopEvent(e),m(!0)},S=function(e){wattpad.utils.stopEvent(e),$.ajax({type:"POST",url:"/api/v3/users/validate",data:{activation_email:"true"},success:function(){b(!0),m(!1)},error:function(){b(!1),m(!1)}})},C=function(e){E(e),m(!1),b(!0)};return d?a.a.createElement(f,{email:n,userId:o,hideModal:s,onEmailChanged:C,onUpdateEmail:c}):a.a.createElement(y,{email:w||n,isSuccess:g,hideModal:l&&g?l:s,onClickResendEmail:S,onClickChangeEmail:O})}y.propTypes={email:i.a.string.isRequired,isSuccess:i.a.bool.isRequired,hideModal:i.a.func,onClickResendEmail:i.a.func.isRequired,onClickChangeEmail:i.a.func.isRequired},b.propTypes={isChangeEmailModal:i.a.bool.isRequired,email:i.a.string.isRequired,userId:i.a.number.isRequired,isSuccess:i.a.bool.isRequired,hideModal:i.a.func,dismissModal:i.a.func,onUpdateEmail:i.a.func}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r={1:"https://www.wattpad.com/1066992428-the-2021-watty-awards-important-milestones",2:"https://www.wattpad.com/1067035926-wattys-2021-rep%C3%A8res-importants",3:"https://www.wattpad.com/1067047847-wattys-2021-date-importanti",4:"https://www.wattpad.com/1068810093-wattys-2021-wichtige-meilensteine",5:"https://www.wattpad.com/1068871791-wattys-2021-notas-importantes",6:"https://www.wattpad.com/1068880427-wattys-2021-datas-importantes",13:"https://www.wattpad.com/1068975703-wattys-2021-belangrijke-mijlpalen",18:"https://www.wattpad.com/1069301465-wattys-2021-mga-mahalagang-milestone",20:"https://www.wattpad.com/1069327894-wattys-2021-tahapan-penting",23:"https://www.wattpad.com/1068992033-2021-watty-%C3%B6d%C3%BClleri-%C3%B6nemli-tarihler"},a={1:"https://www.wattpad.com/1066983608-the-2021-watty-awards-eligibility",2:"https://www.wattpad.com/1067012216-wattys-2021-admissibilit%C3%A9",3:"https://www.wattpad.com/1067043001-wattys-2021-criteri-di-idoneit%C3%A0",4:"https://www.wattpad.com/1068806862-wattys-2021-teilnahmebedingungen",5:"https://www.wattpad.com/1068864662-wattys-2021-elegibilidad",6:"https://www.wattpad.com/1068876345-wattys-2021-elegibilidade",13:"https://www.wattpad.com/1068973940-wattys-2021-in-aanmerking-komen",18:"https://www.wattpad.com/1069296701-wattys-2021-eligibility",20:"https://www.wattpad.com/1069325993-wattys-2021-kelayakan",23:"https://www.wattpad.com/1068990491-2021-watty-%C3%B6d%C3%BClleri-ba%C5%9Fvuru-%C5%9Fartlari"}},,function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,l,"next",e)}function l(e){r(i,a,o,s,l,"throw",e)}s(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return h}));var l="CATALOG",c="".concat(l,"/LOAD_FEATURED_LIST"),u="".concat(l,"/LOAD_PAID_STORIES_TAGS"),d="".concat(l,"/LOAD_PAID_STORIES_LIST"),m="".concat(l,"/IS_LOADING_PAID_STORIES"),f={featuredList:[],paidStoriesTags:[],paidStoriesListByTag:{},paidStoriesListOffset:0,isLoadingPaidStories:!1,hasTagsLoaded:!1};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:return i(i({},e),{},{featuredList:t.featuredList});case u:return i(i({},e),{},{paidStoriesTags:t.tags,hasTagsLoaded:!0});case d:return i(i({},e),{},{paidStoriesListByTag:t.paidStoriesListByTag||e.paidStoriesListOffset,isLoadingPaidStories:!1,paidStoriesListOffset:t.paidStoriesListOffset||e.paidStoriesListOffset});case m:return i(i({},e),{},{isLoadingPaidStories:!0});default:return e}}function y(){var e,t=parseInt(wattpad.language,10)||1,n=wattpad.supportedLangs.find((function(e){return e.id===t}));n&&(e=n.code);var r=null;JSON.parse(wattpad.newCurationProfiles).forEach((function(t){t.code===e&&(r=t.username)}));var o="/api/v3/users/".concat(r,"/lists");return function(){var e=a(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve($.get(o));case 3:n=e.sent,t({type:c,featuredList:n.lists}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:c,featuredList:[]});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function h(){return function(){var e=a(regeneratorRuntime.mark((function e(t,n){var r,a,o,s,l,c,f,p,y,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().catalog,a=r.paidStoriesListOffset,o=r.isLoadingPaidStories,s=r.paidStoriesListByTag,l=r.hasTagsLoaded,c=r.paidStoriesTags,f=l&&a===c.length,!o&&!f){e.next=9;break}return e.abrupt("return");case 9:if(t({type:m}),l){e.next=22;break}return e.prev=11,e.next=14,Promise.resolve($.get("/v4/paid_stories/tags"));case 14:p=e.sent,c=p.tags,t({type:u,tags:c}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),t({type:u,tags:[]});case 22:if(y=[],h=Math.min(a+4,c.length),c&&c.length>0)for(g=a;g<h;g++)c[g]&&y.push(Promise.resolve($.get("/v4/paid_stories/tags/:tag?limit=-1&fields=stories(id,cover,title,tags,isPaywalled),tag".replace(":tag",c[g]))));return e.prev=25,e.next=28,Promise.all(y);case 28:e.sent.forEach((function(e){s[e.tag]=e.stories})),t({type:d,paidStoriesListByTag:i({},s),paidStoriesListOffset:a+4}),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(25),t({type:d});case 36:case"end":return e.stop()}}),e,null,[[11,19],[25,33]])})));return function(t,n){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b}));var r=n(21);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="THREADS",u="".concat(c,"/LOAD_REQUESTED"),d="".concat(c,"/LOAD_MORE_REQUESTED"),m="".concat(c,"/LOAD"),f="".concat(c,"/LOAD_MORE"),p="".concat(c,"/RESET"),y={isLoading:!0,isLoadingMore:!1,isEmailVerified:!1,threads:[],filter:"",total:0,offset:0};function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u:return s(s({},y),{},{filter:t.filter});case d:return s(s({},e),{},{filter:t.filter,isLoadingMore:!0});case f:return s(s({},e),{},{isLoading:!1,isLoadingMore:!1,threads:[].concat(a(e.threads),a(t.threads)),offset:e.offset+t.threads.length,total:t.total});case m:return s(s({},e),{},{isLoading:!1,isLoadingMore:!1,isEmailVerified:wattpad.utils.currentUser().get("verified_email"),threads:a(t.threads),offset:t.threads.length,total:t.total});case p:return s({},y);case r.b:var n=e.threads.map((function(e){return e.user.name===t.name&&(e.user.isMutedByCurrentUser=!0),e}));return s(s({},e),{},{threads:n});case r.c:var o=e.threads.map((function(e){return e.user.name===t.name&&(e.user.isMutedByCurrentUser=!1),e}));return s(s({},e),{},{threads:o});case r.a:return s(s({},e),{},{isLoading:!1});default:return e}}function g(e){var t=e.filter,n=void 0===t?"":t,r=e.offset,a=void 0===r?0:r,o="/api/v3/users/".concat(wattpad.utils.currentUser().get("username"),"/inbox?filter=").concat(n,"&limit=").concat(10,"&offset=").concat(a);return function(e){var t=Promise.resolve($.get(o)),r=a>0;return e(r?{type:d,filter:n}:{type:u,filter:n}),t.then((function(t){var a=t.threads.map((function(e){return s(s({},e),{},{user:s(s({},e.user),{},{isMutedByCurrentUser:e.user.safety.isMuted,isBlockedByCurrentUser:e.user.safety.isBlocked})})}));e({type:r?f:m,threads:a,total:t.total,filter:n})})).catch((function(){return e({type:m,threads:[],filter:n})}))}}function b(){return function(e){e({type:p})}}},function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,l,"next",e)}function l(e){r(i,a,o,s,l,"throw",e)}s(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f}));var l="".concat("QUESTS","/LOAD_ALL"),c="".concat("QUESTS","/LOAD_EMBEDDED"),u={isLoading:!0,mapById:{},mapByEmbeddedType:{}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l:return i(i({},e),{},{mapById:t.questMap});case c:return i(i({},e),{},{mapByEmbeddedType:i(i({},e.mapByEmbeddedType),t.embeddedQuestMap)});default:return e}}function m(){var e="/v5/users/".concat(wattpad.utils.currentUser().get("username"),"/quests/");return function(){var t=a(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.resolve($.get(e));case 3:return r=t.sent,o={},t.next=7,Promise.all(r.quests.map(function(){var t=a(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.concat(n.id,"/"),t.next=3,Promise.resolve($.get(r));case 3:a=t.sent,o[n.id]=a.quest;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 7:n({type:l,questMap:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),wattpad.utils.showToast();case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}var f=function(e){return function(){var t=a(regeneratorRuntime.mark((function t(n){var r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="/v5/users/".concat(wattpad.utils.currentUser().get("username"),"/quests/embedded/").concat(e,"/"),t.next=4,Promise.resolve($.get(r));case 4:a=t.sent,o=s({},e,a.quests),n({type:c,embeddedQuestMap:o}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),wattpad.utils.showToast();case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i="".concat("WORKS_ITEM_DETAILS","/UPDATE");function s(e){return function(t){t({type:i,data:e})}}var l={worksItemDetailsActiveTab:"toc"};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i:return a(a({},e),{},{worksItemDetailsActiveTab:t.data||l.worksItemDetailsActiveTab});default:return e}}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(4),c=n.n(l),u=n(31),d=n(3),m=n(16),f=n(6);function p(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O=function(e){var t=e.readingLists,n=e.storyId,o=e.storiesCollections,i=e.className,l=e.fromStoryDetails,y=e.setShowPopover;Object(r.useEffect)((function(){var e,t,n;if(void 0!==("undefined"==typeof window?"undefined":E(window))&&(_.current=document.activeElement,n=document.querySelector(".react-popover-container--small")),n){n.addEventListener("keydown",(function(n){9===n.keyCode&&e&&t&&(n.shiftKey?document.activeElement===e&&(n.preventDefault(),t.focus()):document.activeElement===t&&(n.preventDefault(),e.focus()));27===n.keyCode&&_&&(y?y(!1):w(Object(u.a)()),_.current.focus())}));var r=n.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]');r=Array.prototype.slice.call(r),e=r[0],t=r[r.length-1],e.focus()}function a(e){n.contains(e.target)||y(!1)}return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[y,w]);var v=Object(d.h)().trans,w=Object(f.c)(),O=b(Object(r.useState)(o||{}),2),S=O[0],C=O[1],k=b(Object(r.useState)(t||[]),2),N=k[0],j=k[1],_=Object(r.useRef)(null),P=b(Object(r.useState)(""),2),T=P[0],R=P[1],x=b(Object(r.useState)(null),2),I=x[0],A=x[1],L=Object(r.useRef)({}),M=Object(r.useRef)(null),q=function(e,t){t?window.te.push("event","app","story","library","add",{storyid:e,page:"story_details"}):window.te.push("event","app","story","library","add",{storyid:e,page:"home"})},U=function(e){q(n,l),w(Object(m.p)(e,n)),C(h(h({},S),{},g({},e,!0)))},D=function(e){A(null),S[e]?(!function(e,t){t?window.te.push("event","app","story","library","remove",{storyid:e,page:"story_details"}):window.te.push("event","app","story","library","remove",{storyid:e,page:"home"})}(n,l),w(Object(m.m)(e,n)),C(h(h({},S),{},g({},e,!1)))):U(e)};return a.a.createElement("div",{"aria-modal":"true",className:c()("react-popover-container--small",i)},a.a.createElement("div",{className:"react-popover-header"},a.a.createElement("span",{className:"sr-only"},v("Add to modal open")),a.a.createElement("div",{"aria-hidden":"true",className:"react-popover-title"},v("Add to")),a.a.createElement("button",{onClick:function(){var e;y?y(!1):w(Object(u.a)()),null===(e=_.current)||void 0===e||e.focus()},className:"react-popover-done-btn"},v("Done"))),a.a.createElement("ul",{className:"react-popover-list--small"},a.a.createElement("li",{key:"library",className:"react-popover-item"},a.a.createElement("button",{onClick:function(){D("library")},tabIndex:"0",className:"react-popover-item__btn",ref:function(e){return L.current.library=e}},a.a.createElement(s.e,{iconName:"fa-library",height:"18",color:"wp-neutral-1"}),a.a.createElement("span",{className:"item-name"},v("My Library (Private)")),S.library&&a.a.createElement(s.e,{name:"check",size:"24",color:"wp-base-1-light",fill:!0,strokeWidth:"1"}))),N&&N.map((function(e){return a.a.createElement("li",{key:e.id,className:"react-popover-item"},a.a.createElement("button",{onClick:function(){D(e.id)},tabIndex:"0",className:"react-popover-item__btn",ref:function(t){return L.current[e.id]=t}},a.a.createElement(s.e,{iconName:"fa-reading-list",height:"18",color:"wp-neutral-1"}),a.a.createElement("span",{className:"item-name"},e.name),S[e.id]&&a.a.createElement(s.e,{name:"check",size:"24",color:"wp-base-1-light",fill:!0,strokeWidth:"1"})))})),a.a.createElement("div",{ref:M})),a.a.createElement("form",null,a.a.createElement("div",{className:"react-popover-input-row"},a.a.createElement("input",{type:"text",className:"form-control input-text",placeholder:v("Add new reading list..."),onChange:function(e){return R(e.target.value)},value:T}),a.a.createElement("button",{"aria-label":v("Add new reading list..."),className:"btn-icon",onClick:function(e){e.preventDefault(),e.stopPropagation(),function(){if(A(null),T){var e=T;R("");var t=N.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(t&&S[t.id])L.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else if(t)U(t.id),L.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else{var r={id:null,name:e,numStories:0,cover:0,tags:[],featured:!1,stories:n};q(n,l),Promise.resolve($.post("/api/v3/lists/",r)).then((function(e){j([].concat(p(N),[{id:e.id,name:e.name}])),C(h(h({},S),{},g({},e.id,!0))),w(Object(m.g)()),w(Object(m.e)(n)),M.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})})).catch((function(e){var t=e.responseText?e.responseText:e.statusText;console.log(t||e);var n=new Error(v("We are unable to add this story to your reading list at this time"));A(n)}))}}}()}},a.a.createElement(s.e,{name:"add",height:"12",color:"wp-neutral-1",strokeWidth:"2.5"})))),I&&a.a.createElement("div",{className:"react-popover-error"},I.message))};O.propTypes={readingLists:i.a.array.isRequired,storyId:i.a.number,storiesCollections:i.a.object.isRequired,className:i.a.string,fromStoryDetails:i.a.bool,setShowPopover:i.a.func},t.a=O},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(175),u=n(100),d=n(129),m=function(e){var t=e.sectionType,n=e.expandPrompt,o=e.background,i=e.heading,s=e.subheading,m=e.stories,f=e.isPromoted,p=e.index,y=e.windowWidth,h=e.wasSeen,g=e.setPosition,b=e.storiesToShow,v=e.storyWidth,w=e.page,E=e.withDivider,O=void 0===E||E,S=e.onStoryClick,C=e.callTrackingUrls,k=e.clickTrackingUrls,N=Object(r.useRef)(null),j=_.get(window,"wattpad.testGroups.NEW_METADATA_ON_HOME",!1);return Object(r.useEffect)((function(){if(N.current){var e=N.current.getBoundingClientRect();g(p,t,e.top+window.scrollY,e.bottom+window.scrollY)}}),[p,t,g]),null===m||0===m.length?null:j&&"storyExpanded"===t?a.a.createElement("div",{className:l()("story-swimlane module",o),ref:N},a.a.createElement("div",{className:"module-content full-width"},a.a.createElement(d.a,{heading:i,expandPrompt:n,sectionType:t,subheading:s,isPromoted:f}),a.a.createElement(c.a,{sectionType:t,stories:m,windowWidth:y,index:p,wasSeen:h,storiesToShow:b,storyWidth:v,page:w,onStoryClick:S,clickTrackingUrls:k,callTrackingUrls:C}),O&&a.a.createElement("hr",{className:"module-divider"}))):a.a.createElement("div",{className:l()("story-swimlane module",o),ref:N},a.a.createElement("div",{className:"module-content"},a.a.createElement(d.a,{heading:i,expandPrompt:n,sectionType:t,subheading:s,isPromoted:f}),a.a.createElement(u.a,{sectionType:t,stories:m,windowWidth:y,index:p,wasSeen:h,storiesToShow:b,storyWidth:v,page:w,onStoryClick:S,clickTrackingUrls:k,callTrackingUrls:C}),O&&a.a.createElement("hr",{className:"module-divider"})))};m.defaultProps={onStoryClick:null},m.propTypes={heading:i.a.string,index:i.a.number.isRequired,expandPrompt:i.a.object,background:i.a.string,isPromoted:i.a.bool,sectionType:i.a.string.isRequired,setPosition:i.a.func.isRequired,subheading:i.a.string,stories:i.a.array.isRequired,wasSeen:i.a.bool,windowWidth:i.a.number,storiesToShow:i.a.number,storyWidth:i.a.number,page:i.a.string,withDivider:i.a.bool,onStoryClick:i.a.func,clickTrackingUrls:i.a.array,callTrackingUrls:i.a.func},t.a=m},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(2),u=n(35),d=n(5);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e,t){var n="";return 0===e&&t<5&&(n="<5 mins"),e>0&&(n="".concat(e,"h ")),(e>0||t>=5)&&(n+="".concat(t,"m")),n},p=function(e){var t=e.icon,n=e.label,r=e.size,o=e.viewBox,i=e.value,s=e.hoursVal,l=e.minutesVal,m=e.showTooltip;return a.a.createElement("li",{className:"stats-item"},a.a.createElement("div",{className:"stats-label"},a.a.createElement(c.e,{className:"stats-label__icon",name:t,size:r,strokeWidth:"0",fillColor:"ds-neutral-80",viewBox:o,"aria-hidden":!0}),a.a.createElement("span",{className:"stats-label__text","aria-hidden":!0},n)),"readTime"!==t?null!==i&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},"".concat(n," ").concat(parseInt(i).toLocaleString())),Object(u.a)({value:Object(d.b)(i),tooltip:parseInt(i).toLocaleString(),showTooltip:m,ariaHidden:!0})):a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},"".concat(n," ").concat(f(s,l))),Object(u.a)({value:f(s,l),tooltip:"".concat(s," hours, ").concat(l," minutes"),showTooltip:m,ariaHidden:!0})))};p.propTypes={icon:i.a.string.isRequired,label:i.a.string.isRequired,size:i.a.oneOfType([i.a.string,i.a.number]),viewBox:i.a.oneOfType([i.a.string,i.a.number]),value:i.a.number,hoursVal:i.a.number,minutesVal:i.a.number,showTooltip:i.a.bool};var y=function(e){var t=e.className,n=e.statsItems,r=e.showTooltip;return n&&n.length>0&&a.a.createElement("ul",{className:l()("new-story-stats",t)},n.map((function(e){return a.a.createElement(p,m({},e,{key:"".concat(e.label),showTooltip:r}))})))};y.defaultProps={statsItems:[]},y.propTypes={className:i.a.string,statsItems:i.a.arrayOf(i.a.shape({icon:i.a.string.isRequired,label:i.a.string.isRequired,size:i.a.oneOfType([i.a.string,i.a.number]),viewBox:i.a.oneOfType([i.a.string,i.a.number]),value:i.a.any,hoursVal:i.a.number,minutesVal:i.a.number})),showTooltip:i.a.bool},t.a=y},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(3),u=n(2),d=function(e){var t=e.onClick,n=e.className,r=e.color,o=void 0===r?"wp-neutral-1":r,i=Object(c.h)().trans;return a.a.createElement("button",{onClick:t,className:l()("info-btn",n),"aria-label":i("Click for more information")},a.a.createElement(u.e,{iconName:"fa-info",height:"14",color:o}))};d.propTypes={onClick:i.a.func.isRequired,className:i.a.string,color:i.a.string},t.a=d},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=function(e){var t=e.title,n=e.content,r=e.closePopover,o=Object(s.h)().trans;return a.a.createElement("div",{className:"react-popover-tooltip",role:"alertdialog","aria-modal":"true","aria-labelledby":"popover-title","aria-describedby":"popover-content"},a.a.createElement("h3",{className:"popover-title",id:"popover-title"},t),a.a.createElement("div",{className:"popover-content",id:"popover-content"},a.a.createElement("span",null,n)),a.a.createElement("hr",{"aria-hidden":!0}),a.a.createElement("div",{className:"tooltip-footer"},a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.wattpad.com/hc/en-us/articles/4437003467924",className:"tooltip-footer__link"},a.a.createElement("span",null,o("Learn more"))),a.a.createElement("button",{className:"btn btn-purple tooltip-footer__btn",onClick:r},o("Ok"))))};l.propTypes={title:i.a.string.isRequired,content:i.a.string.isRequired,closePopover:i.a.func.isRequired},t.a=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f}));var r=n(25);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))}}function d(e){var t="/v5/stories/".concat(e,"/notes");return function(){var n=u(regeneratorRuntime.mark((function n(a){var o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",a({type:r.b,data:null}));case 2:return a({type:r.d}),n.prev=3,o=Promise.resolve($.get(t)),n.next=7,o;case 7:i=n.sent,a({type:r.b,data:i}),n.next=14;break;case 11:return n.prev=11,n.t0=n.catch(3),n.abrupt("return",a({type:r.b,data:null}));case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}()}function m(e,t,n){return t.id=e,t=function(e,t){if(t.name){var n=t.name,r=t.value,a=s(n.split("."),2),l=a[0],c=a[1];switch(l){case"protagonist":return o(o({},e),{},{protagonist:o(o({},e.protagonist),{},i({},c,r))});case"protagonist_goal":return o(o({},e),{},{protagonist_goal:o(o({},e.protagonist_goal),{},i({},c,r))});case"opportunity":return o(o({},e),{},{opportunity:o(o({},e.opportunity),{},i({},c,r))});default:return o({},e)}}return o(o({},e),{},{protagonist:t.protagonist,protagonist_goal:t.protagonist_goal,opportunity:t.opportunity})}(t,n),function(e){e({type:r.e,data:t})}}function f(e,t){return t.id=parseInt(e),t.protagonist.name=t.protagonist.name&&t.protagonist.name.trim(),t.protagonist.other_names=t.protagonist.other_names&&t.protagonist.other_names.trim(),t.protagonist_goal.description=t.protagonist_goal.description&&t.protagonist_goal.description.trim(),t.protagonist_goal.outcome=t.protagonist_goal.outcome&&t.protagonist_goal.outcome.trim(),t.opportunity.logline=t.opportunity.logline&&t.opportunity.logline.trim(),function(){var e=u(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve($.ajax({url:"/v5/stories",type:"POST",data:JSON.stringify(t),dataType:"json",headers:{"Content-Type":"application/json"}}));case 3:n({type:r.c}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),wattpad.utils.showToast(),n({type:r.a});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=function(e){var t=e.children,n=e.isExpandable,r=e.onClick,o=e.className,i=u(e,["children","isExpandable","onClick","className"]);return n?a.a.createElement("div",c({onClick:r,role:"button",tabIndex:"0",className:l()("clickable",o)},i),t):o?a.a.createElement("div",c({className:o},i),t):a.a.createElement(a.a.Fragment,null,t)};d.propTypes={children:i.a.any,isExpandable:i.a.bool,onClick:i.a.func,className:i.a.any};var m=function(e){var t=e.type,n=e.children,r=e.link,o=e.isLinkable,i="link"===t,s=i?{target:"_blank",rel:"noopener noreferrer"}:{className:"on-navigate"};return(o=o&&r&&("action"===t||i))?a.a.createElement("a",c({href:r},s),n):a.a.createElement(a.a.Fragment,null,n)};m.propTypes={type:i.a.string,isLinkable:i.a.bool,link:i.a.string,children:i.a.any}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(174),l=n(3);function c(e){var t=e.expandPrompt,n=e.isPaid,r=Object(l.h)().trans,o=t||{},i=o.weblink,s=void 0===i?"":i,c=o.prompt,u=void 0===c?"":c;return n&&(s="/catalog/paidstories",u=r("See all")),s&&u?a.a.createElement("a",{href:s,className:"on-navigate btn-secondary"},u):null}c.propTypes={expandPrompt:i.a.object,isPaid:i.a.bool};var u=function(e){var t=e.expandPrompt,n=e.heading,r=e.subheading,o=e.isPromoted,i=e.sectionType,l="paid"===i||"paidMultiRow"===i;return a.a.createElement("div",{className:"module-header"},a.a.createElement("div",{className:"left-section"},a.a.createElement("div",{className:"heading"},a.a.createElement("h3",null,n)),a.a.createElement("div",{className:"subheading"},a.a.createElement("h4",null,r))),t&&a.a.createElement(c,{expandPrompt:t,isPaid:l}),!0===o&&a.a.createElement(s.a,null))};u.propTypes={expandPrompt:i.a.object,heading:i.a.string.isRequired,subheading:i.a.string,isPromoted:i.a.bool,sectionType:i.a.string};t.a=u},,,,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var i="".concat("PAID_CONTENT_METADATA","/SET"),s="".concat("PAID_CONTENT_METADATA","/CLEAR");function l(e,t){return function(n,r){if(void 0!==r().paidMetadata.stories[e])return Promise.resolve();var a=t.join(",");return Promise.resolve($.get("/v5/story/".concat(e,"/paid-content/metadata"),{parts:a})).then((function(t){n({type:i,storyId:e,metadata:t})}))}}function c(e,t){return{type:s,storyId:e,partIds:t}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{parts:{},stories:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n=t.metadata,r=t.storyId,l=n.story,c=n.parts,u=c.reduce((function(e,t){return e[t.id]=t,e}),{}),d=e.stories,m=e.parts;return a(a({},e),{},{stories:a(a({},d),{},o({},r,l)),parts:a(a({},m),u)});case s:var f=t.storyId,p=t.partIds,y=_.omit(e.stories,f),h=_.omit(e.parts,p);return a(a({},e),{},{stories:y,parts:h});default:return e}}},function(e,t){e.exports={"wp-base-1":"#ff6122","wp-base-1-light":"#ff7b3c","wp-base-1-dark":"#e64809","wp-base-1-60":"#A93E19","wp-base-2":"#00b2b2","wp-base-2-light":"#1acccc","wp-base-2-dark":"#009999","wp-neutral-1":"#222222","wp-neutral-2":"#6f6f6f","wp-neutral-3":"#eeeeee","wp-neutral-4":"#fafafa","wp-neutral-new-4":"rgba(18, 18, 18, 0.12)","wp-neutral-5":"#ffffff","wp-error-1":"#ff3f12","wp-warning-01":"#ffc922","facebook-1":"#3b5998","twitter-1":"#55acee","pinterest-1":"#bd081c","tumblr-1":"#35465c","google-1":"#db4437","google-2":"#1e6cd6","wp-ambassador-profile":"#df6400","wp-lightteal":"#c3d8dc","wp-lighterteal":"#eaf0f4","wp-lighterror":"#faada1","wp-errorbackground":"#ff6d55","wp-focus-blue":"#00a0d9","wp-button-red":"#e94a2c","wp-button-green":"#01b05a","wp-wattys-tag":"#322864","ds-neutral-00-solid":"#fff","ds-neutral-100":"#121212","ds-base-4-accent":"#e81249","ds-base-2-60":"#3b19a9","ds-alert":"#e00000","ds-success":"#00854e","ds-neutral-80":"rgba(18, 18, 18, 0.64)","ds-neutral-40":"rgba(18, 18, 18, 0.12)"}},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(4),l=n.n(s),c=n(2),u=n(5),d=n(27);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.title,n=e.id,r=e.cover,a=e.tags,s=e.isPaid,f=e.isPaywalled,p=e.sources,y=e.offset,h=e.shiftCarousel,g=e.sectionType,b=e.index,v=e.width,w=void 0===v?200:v,E=e.page,O=e.onStoryClick,S=e.storyData,C=e.clickTrackingUrls,k=e.callTrackingUrls,N=e.isActiveStory,j=void 0!==N&&N;a=a||[];var P=m(Object(o.useState)(a[0]),2),T=P[0],R=P[1];Object(o.useEffect)((function(){R(_.shuffle(a).find((function(e){return w<200?e.length<10:e.length<18})))}),[a,w]);return i.a.createElement("div",{className:l()("story-item","story-".concat(y))},i.a.createElement("div",{className:"cover"},i.a.createElement("a",{href:"/story/"+n,onClick:function(e){return function(e,t){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:n,page:E,algo_source:p,position:b,offset:y,type:g}),C&&k(C),"mobile"!==wattpad.utils.getDeviceType()&&O?O(S):h&&!j?h():app.router.navigate(t,{trigger:!0})}(e,"/story/".concat(n))}},i.a.createElement("img",{src:Object(u.r)(r,w),alt:"".concat(t," cover")}))),i.a.createElement("div",{className:"tag-and-badge"},s||f?i.a.createElement(c.e,{name:"paidStory",className:"paid-stories-badge",size:"20",viewBox:"20",color:"ds-neutral-100",strokeWidth:"0",fill:!0,title:"Paid Stories Badge"}):null,T?i.a.createElement(d.a,{name:T,bgColor:"#eeeeee",color:"#6f6f6f",clickHandler:function(e,t){e.preventDefault(),app.router.navigate("/stories/".concat(t),{trigger:!0})},link:"/stories/".concat(T)}):null))};p.defaultProps={onStoryClick:null,sources:[]},p.propTypes={cover:a.a.string.isRequired,id:a.a.oneOfType([a.a.string,a.a.number]).isRequired,index:a.a.number,isPaid:a.a.bool,isPaywalled:a.a.bool,offset:a.a.number,sectionType:a.a.string,sources:a.a.array,tags:a.a.array,shiftCarousel:a.a.func,title:a.a.string.isRequired,width:a.a.number,page:a.a.string,onStoryClick:a.a.func,storyData:a.a.object,clickTrackingUrls:a.a.array,callTrackingUrls:a.a.func,isActiveStory:a.a.bool},t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(3),a=function(){var e=Object(r.h)().trans;return[{name:e("All Rights Reserved"),summary:e("You do not allow your work to be used or adapted in any way without your permission."),value:"1"},{name:e("Public Domain"),summary:e("This allows anyone to use your story for any purpose  they could freely print, sell, or turn your story into a movie."),value:"2"},{name:e("Creative Commons (CC) Attribution"),summary:e("You hold some rights to your story but allow for things like translation or adaptations with credit back to you."),value:"3"},{name:e("(CC) Attrib. NonCommercial"),summary:e("This license lets others remix, adapt, and build upon your work non-commercially with credit back to you."),value:"4"},{name:e("(CC) Attrib. NonComm. NoDerivs"),value:"5",summary:e("This license allows others to share your unaltered work with others as long as you get credit.")},{name:e("(CC) Attrib. NonComm. ShareAlike"),value:"6",summary:e("This lets others adapt, and build upon your work non-commercially, as long as you are credited and the same terms are applied.")},{name:e("(CC) Attribution-ShareAlike"),value:"7",summary:e("This lets others adapt and build on your work, even for commercial purposes, as long as you are credited and the same terms are applied.")},{name:e("(CC) Attribution-NoDerivs"),value:"8",summary:e("This lets others reuse your work for any purpose but it cannot be altered and you must be credited.")}]},o=function(){var e=Object(r.h)().trans;return{copyright:{title:e("Who owns your story?"),mainContent:e("Let others know if this story is just yours, or if anyone can repost or remix it"),link:{href:"https://support.wattpad.com/hc/en-us/articles/216192503-Copyright-FAQ",text:e("Learn more")},button:{text:e("OK")}}}}},,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(0);t.a=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=Object(r.useRef)();Object(r.useEffect)((function(){o.current=n}),[n]),Object(r.useEffect)((function(){if(a&&a.addEventListener){var e=function(e){return o.current(e)};return a.addEventListener(t,e),function(){a.removeEventListener(t,e)}}}),[t,a])}}).call(this,n(40))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),a=n.n(r).a.createContext({})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e){var t=e.className,n=e.minRows,o=e.maxRows,i=e.onChange,s=e.value,d=e.textareaLineHeight,f=e.characterLimit,p=m(e,["className","minRows","maxRows","onChange","value","textareaLineHeight","characterLimit"]),y=u(Object(r.useState)(n),2),h=y[0],g=y[1],b=u(Object(r.useState)(),2),v=b[0],w=b[1],E=Object(r.useRef)(null),O=Object(r.useCallback)((function(){var e=E.current.rows;E.current.rows=n;var t=E.current.scrollHeight,r=t?Math.floor(t/d):n;r===e&&(E.current.rows=r),r>=o&&(E.current.rows=o,E.current.scrollTop=E.current.scrollHeight),g(Math.min(r,o))}),[n,o,d]);Object(r.useEffect)((function(){""===s&&h!==n&&g(n)}),[s,h,n]),Object(r.useEffect)((function(){O()}),[O]),Object(r.useEffect)((function(){return window.addEventListener("resize",O),function(){window.removeEventListener("resize",O)}}));var S=f-s.length,C=S<=0;return a.a.createElement("div",{className:l()(t,"resizable-textarea",{error:C,focus:v})},a.a.createElement("textarea",c({ref:E,onFocus:function(){return w(!0)},onBlur:function(){return w(!1)},rows:h,value:s,onChange:function(e){O(),i(e)}},p)),a.a.createElement("div",{className:"counter"},S))}f.defaultProps={minRows:2,maxRows:5,textareaLineHeight:24,onChange:function(){},characterLimit:2e3},f.propTypes={className:i.a.string,value:i.a.string.isRequired,minRows:i.a.number.isRequired,maxRows:i.a.number.isRequired,textareaLineHeight:i.a.number.isRequired,onChange:i.a.func.isRequired,characterLimit:i.a.number.isRequired}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(3),s=n(1),l=n.n(s),c=n(170),u=n(114);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.email,n=e.userId,s=e.hideModal,l=Object(i.h)().trans,m=d(Object(r.useState)(!1),2),f=m[0],p=m[1],y=d(Object(r.useState)(!1),2),h=y[0],g=y[1],b=d(Object(r.useState)(!1),2),v=b[0],w=b[1],E=function(e){wattpad.utils.stopEvent(e),s()},O=function(e){wattpad.utils.stopEvent(e),p(!0),g(!0)},S=function(e){wattpad.utils.stopEvent(e),$.ajax({type:"POST",url:"/api/v3/users/validate",data:{activation_email:"true"},success:function(){w(!0),p(!0),g(!1)},error:function(){w(!1),p(!0),g(!1)}})},C=l("Please check your email %s to complete sign-up.",t)+" "+l("After you click the link in your email, you'll be able to:");return f?a.a.createElement(u.a,{isChangeEmailModal:h,email:t,userId:n,isSuccess:v,hideModal:s}):a.a.createElement("div",{className:"please-verify-modal-content"},a.a.createElement("button",{className:"close on-close",onClick:E,"aria-label":l("Close"),tabIndex:"0"},a.a.createElement(o.e,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),a.a.createElement("h1",null,l("Please verify your email.")),a.a.createElement("div",{className:"modal-content"},a.a.createElement("p",{className:"modal-message"},C.split(t)[0],a.a.createElement("strong",null,t),C.split(t)[1]),a.a.createElement(c.a,null),a.a.createElement("div",{className:"button-wrapper"},a.a.createElement("form",null,a.a.createElement("div",null,a.a.createElement("button",{className:"btn-primary btn-md btn-change-email",onClick:O,"aria-label":l("Change email")},l("Change email")),a.a.createElement("button",{className:"btn-secondary btn-md btn-resend-email",onClick:S,"aria-label":l("Resend email")},l("Resend email")))))))}f.propTypes={email:l.a.string.isRequired,userId:l.a.number.isRequired,hideModal:l.a.func},t.a=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(3);function c(e){var t=e.ctaType,n=Object(l.h)().trans;return a.a.createElement("a",{href:"https://www.wattpad.com/premium",className:"try-premium on-premium btn-primary",target:"_blank",rel:"noopener noreferrer",onClick:function(){window.te.push("event","subscriptions","cta",null,"view",{cta_type:t})}},a.a.createElement(s.e,{name:"zap",size:"20",className:"zap-icon",color:"ds-base-4-accent",fill:!0}),a.a.createElement("div",{className:"button-copy"},n("Try Premium")))}c.propTypes={ctaType:i.a.string}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(15),u=n(5),d=n(3),m=n(2),f=n(67);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.promoted,n=e.url,o=e.id,s=e.cover,l=e.title,y=e.user,h=e.categories,g=e.readCount,b=e.voteCount,v=e.commentCount,w=e.description,E=e.sponsorName,O=e.clickUrl,S=e.impressionUrl,C=e.isPaywalled,k=e.isCompleted,N=e.isMature,j=e.numParts,P=e.isMobile,T=e.isFeatureFlagged,R=e.descCharLimit,x=void 0===R?170:R,I=Object(d.h)().trans,A=p(Object(r.useState)(!1),2),L=A[0],M=A[1],q=Object(r.useRef)(),U=Object(u.g)(s,67);Object(r.useEffect)((function(){if(!L&&!P){var e=_.throttle((function(){if(q.current){var e=q.current.getBoundingClientRect(),t=e.top,n=e.bottom;t>=0&&n<=window.innerHeight&&(window.te.push("event","story",null,null,"view",{storyid:o,page:"story_details",type:"similar_stories",source:"story_details"}),M(!0))}}),300);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}}),[L,M,q,o,P]);return a.a.createElement("a",{className:i()("clearfix on-story-preview",{promoted:t}),href:Object(u.d)(n),onClick:function(e){return function(e,t){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:o,page:"story_details",type:"similar_stories",source:"story_details"}),app.router.navigate(t,{trigger:!0})}(e,Object(u.d)(n))},"data-story-id":o,ref:q,"data-impression-url":S,"data-click-url":O,"data-author-name":y?y.name:null},a.a.createElement("div",{className:"send-story-cover-event cover cover-sm","data-story-id":o},a.a.createElement("img",{srcSet:"".concat(Object(u.g)(s,80)," 1x, ").concat(Object(u.g)(s,100)," 1.5x, ").concat(Object(u.g)(s,144)," 2x, ").concat(Object(u.g)(s,176)," 2.5x, ").concat(Object(u.g)(s,200)," 3x"),src:U,alt:I("%1$s by %2$s",l,y?y.name:null)})),a.a.createElement("div",{className:"left-container"},C&&!T&&a.a.createElement("div",{className:"paid-indicator"},a.a.createElement(m.c,{name:"paid-content/supported-stories-badge.svg",title:"Paid Stories Badge",height:"18px",width:"18px"}),a.a.createElement("span",null,"Paid Story")),a.a.createElement("div",{className:"story-item-title-and-badge"},C&&T&&a.a.createElement(m.e,{name:"paidStory",className:"paid-stories-badge",size:"20",viewBox:"20",color:"ds-neutral-100",strokeWidth:"0",fill:!0,title:"Paid Stories Badge"}),a.a.createElement("div",{className:"title","aria-hidden":!0},Object(u.u)(l,45,!1))),T?a.a.createElement(f.a,{numParts:j,isCompleted:k,isMature:N}):a.a.createElement(a.a.Fragment,null,t?a.a.createElement("small",{className:"promoted left-icon"},a.a.createElement(m.e,{iconName:"fa-badge-promoted",height:"13",color:"wp-neutral-1"}),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:I("Promoted by %s",Object(c.sprintf)("<b>%s</b>",E))}})):a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:"meta"},a.a.createElement("span",{className:"reads small left-icon"},a.a.createElement(m.e,{iconName:"fa-view",height:"12",color:"wp-neutral-2"}),Object(u.b)(g)),a.a.createElement("span",{className:"votes small left-icon"},a.a.createElement(m.e,{name:"votes",size:"12",color:"wp-neutral-2",fill:!0}),Object(u.b)(b)),v&&a.a.createElement("span",{className:"comments small left-icon"},a.a.createElement(m.e,{name:"commentMeta",size:"14",color:"wp-neutral-2",fill:!0}),Object(u.b)(v))),a.a.createElement("div",{className:"categories"},h&&h.map((function(e){return a.a.createElement("button",{key:e,className:"btn btn-link btn-xxs btn-category"},a.a.createElement("span",null,e))}))))),w&&a.a.createElement("div",{className:"small story-item-description"},Object(u.u)(w,x,!1,{sanitization:"unsanitize"}))))}h.propTypes={promoted:l.a.bool,url:l.a.string,id:l.a.any,cover:l.a.string,title:l.a.string,user:l.a.object,categories:l.a.array,readCount:l.a.any,voteCount:l.a.any,commentCount:l.a.any,description:l.a.string,sponsorName:l.a.string,clickUrl:l.a.string,impressionUrl:l.a.string,isPaywalled:l.a.bool,isCompleted:l.a.bool,isMature:l.a.bool,numParts:l.a.number,isFeatureFlagged:l.a.bool,descCharLimit:l.a.any,isMobile:l.a.bool}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(11),u=n(27),d=n(80);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=g(i);function i(){var e;p(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(v(e=o.call.apply(o,[this].concat(n))),"tagClickHandler",(function(t,n){window.wattpad.utils.stopEvent(t),window.app.trigger("app:component:TagCarouselItem:click",t.currentTarget.textContent,t),e.props.onTagClicked&&e.props.onTagClicked(n)})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.relatedTags.tags,n=this.props.relatedTags.withIcon||!1;return a.a.createElement("div",{className:l()("tag-carousel",this.props.className,{hidden:!((null==t?void 0:t.length)>0)})},a.a.createElement("div",{className:"tag-items"},null==t?void 0:t.map((function(t,r){return n?a.a.createElement(d.a,f({key:t.id},t,{clickHandler:e.tagClickHandler})):a.a.createElement(u.a,f({key:t.id,bgColor:e.getNextTagColor(r,"bg"),color:e.getNextTagColor(r)},t,{clickHandler:e.tagClickHandler}))}))))}},{key:"getNextTagColor",value:function(e,t){var n=e%c.j;return"bg"===t?c.i[n]:c.k[n]}}])&&y(t.prototype,n),r&&y(t,r),i}(a.a.Component);O.propTypes={relatedTags:i.a.object.isRequired,className:i.a.string,onTagClicked:i.a.func}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(4),c=n.n(l),u=n(83);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e){var t,n,o=e.username,i=e.toggleModal,l=e.blockUser,m=Object(s.h)().trans,f=m("This account will not be able to follow you, send you messages, post on your profile, or read or comment on your stories."),p=c()("btn-primary",{"on-block-user":void 0===l});return void 0!==("undefined"==typeof window?"undefined":d(window))&&(t=document.querySelector(".block-modal"),n=document.querySelector(".dropdown-toggle")),Object(r.useEffect)((function(){Object(u.a)(t,n,i)}),[n,t,i]),a.a.createElement("div",{className:"block-modal-content"},a.a.createElement("h3",{className:"block-modal-title"},m("Block %s",o)),a.a.createElement("p",null,f),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement("button",{className:"cancel-block",onClick:i},m("Cancel")),a.a.createElement("button",{className:p,onClick:function(){i(),l&&l(o)}},m("Block"))))};m.propTypes={username:i.a.string.isRequired,toggleModal:i.a.func.isRequired,blockUser:i.a.func},t.a=m},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(12),l=n.n(s),c=n(27),u=n(4),d=n.n(u),m=n(5);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,n,r,o=b(i);function i(){return y(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"tagClickHandler",value:function(e){window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagMetaItem:click",e)}},{key:"numNotShownClickHandler",value:function(e){window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagMetaNumNotShown:click",e)}},{key:"formatTags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(l.a.isEmpty(e))return{};var n=l.a.clone(e),r={tags:[],numNotShown:Math.max(n.length-t,0)},a=null;if(n.length<=t)l.a.each(n,(function(e){r.tags.push({id:e,name:e,link:"/stories/".concat(e)})}));else for(;r.tags.length<t;)a=n.splice(Math.floor(Math.random()*n.length),1)[0],r.tags.push({id:a,name:a,link:"/stories/".concat(a)});return r}},{key:"render",value:function(){var e=this,t=this.props,n=t.trans,r=t.tagMeta,o=this.formatTags(r.tags,r.numShown),i=r.storyId||null,s=null;return o.numNotShown&&(s=a.a.createElement("span",{className:d()("num-not-shown",{"on-story-preview":i}),"data-story-id":i,onClick:this.numNotShownClickHandler,onKeyDown:this.numNotShownClickHandler,role:"button",tabIndex:"0"},n("+%s more",o.numNotShown))),o.tags&&o.tags.length>0?a.a.createElement("div",{className:"tag-meta clearfix"},a.a.createElement("ul",{className:"tag-items"},o.tags.map((function(t){return a.a.createElement("li",{key:t.id},a.a.createElement(c.a,p({},t,{clickHandler:e.tagClickHandler})))}))),s):null}}])&&h(t.prototype,n),r&&h(t,r),i}(a.a.Component);E.propTypes={tagMeta:i.a.shape({tags:i.a.arrayOf(i.a.string).isRequired,storyId:i.a.string,numShown:i.a.number}).isRequired,trans:i.a.func.isRequired},t.a=Object(m.m)(E)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(2);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t=e.searchTerm,n=e.handleSearchSubmit,o=e.handleSaveSearchTerm,i=Object(s.h)().trans,u=c(Object(r.useState)(t),2),d=u[0],m=u[1],f=c(Object(r.useState)(!!t),2),p=f[0],y=f[1],h=Object(r.useRef)(null);return a.a.createElement("form",{role:"search","aria-label":i("Stories and people"),className:"search-bar",onSubmit:function(e){var t;e.preventDefault(),null==h||null===(t=h.current)||void 0===t||t.blur(),y(!!d),o(d),n(d)}},a.a.createElement(l.e,{className:"search-bar__icon",name:"search",size:"24"}),a.a.createElement("input",{className:"search-bar__input",type:"search",value:d,onChange:function(e){m(e.target.value)},placeholder:i("Search for stories and people"),minLength:"1",spellCheck:"false",autoComplete:"off",ref:h,size:"10"}),p&&a.a.createElement("a",{href:"/search",className:"search-bar__cancel",onClick:function(e){e.preventDefault(),y(!1),app.router.navigate("/search",{trigger:!0})}},i("Cancel")))};d.defaultProps={handleSearchSubmit:function(){},handleSaveSearchTerm:function(){}},d.propTypes={searchTerm:i.a.string,handleSearchSubmit:i.a.func.isRequired,handleSaveSearchTerm:i.a.func},t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(5),l=n(73),c=n(3),u=n(67),d=n(124);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=e.id,n=e.title,o=e.cover,i=e.description,f=e.completed,p=e.isPaywalled,y=e.mature,h=e.readCount,g=e.voteCount,b=e.numParts,v=e.length,w=e.language,E=e.searchTerm,O=e.index,S=e.sources,C=e.viewedStories,k=e.pushViewEvent,N=e.isMobile,j=Object(c.h)().trans,P=Object(c.d)(),T=Object(l.a)()&&window.innerWidth<575,R=m(Object(r.useState)(!1),2),x=R[0],I=R[1],A=Object(r.useRef)(),L=Object(r.useRef)(!1),M=T?"14":"16",q=[{icon:"views",label:j("Reads"),size:M,viewBox:"16",value:h},{icon:"votesBeta",label:j("Votes"),size:M,viewBox:"16",value:g},{icon:"partsBeta",label:j("Parts"),size:M,viewBox:"16",value:b}];if(1===w){var U=Object(s.c)(Object(s.k)(v));q.push({icon:"readTime",label:j("Time"),size:M,viewBox:"16",hoursVal:U.hours,minutesVal:U.minutes})}Object(r.useEffect)((function(){if(!N&&P.NEW_SEARCH_STORY_CARD_CONTAINER&&!x&&!C.includes(t)&&!0!==L.current){var e=_.throttle((function(){if(A.current){var e=A.current.getBoundingClientRect(),n=e.top,r=e.bottom,a=.5*e.height;A.current.offsetParent&&(n>=0&&r<=window.innerHeight||n<=0&&r>0&&r>=a||r>=window.innerHeight&&n<window.innerHeight&&window.innerHeight-n>=a)&&(I(!0),L.current=!0,k(t,O,S))}}),300);return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}}),[P.NEW_SEARCH_STORY_CARD_CONTAINER,x,t,O,N,k,E,S,C]);var D=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"cover"},a.a.createElement("img",{src:Object(s.r)(o,Object(s.f)(t)),alt:""})),a.a.createElement("div",{className:"story-info"},a.a.createElement("span",{className:"sr-only"},n),a.a.createElement("div",{className:"title","aria-hidden":"true"},n),a.a.createElement(u.a,{isPaid:p,isCompleted:f,isMature:y,paidIconPropsOverrides:{color:"ds-neutral-100"}}),a.a.createElement(d.a,{statsItems:q,showTooltip:!1}),e&&a.a.createElement("div",{className:"description"},i)))};return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{className:"story-card",onClick:function(e){return function(e){var n="/story/".concat(t);e.preventDefault(),window.te.push("event","search","story",null,"click",{storyid:t,search:E,position:O}),window.te.push("event","story",null,null,"click",{storyid:t,page:"search",position:O,query:[E],algo_source:S}),app.router.navigate(n,{trigger:!0})}(e)},href:"/story/".concat(t),ref:A},a.a.createElement("div",{className:"story-card-data shown-xxs","data-id":t},a.a.createElement("div",{className:"top-section"},D(!1,100)),a.a.createElement("div",{className:"description"},i)),a.a.createElement("div",{className:"story-card-data hidden-xxs","data-id":t},D(!0,144))))}p.propTypes={id:i.a.oneOfType([i.a.string,i.a.number]),title:i.a.string,cover:i.a.string,description:i.a.string,completed:i.a.bool,isPaywalled:i.a.bool,mature:i.a.bool,readCount:i.a.number,voteCount:i.a.number,numParts:i.a.number,length:i.a.number,language:i.a.number,searchTerm:i.a.string,index:i.a.number,sources:i.a.oneOfType([i.a.string,i.a.array]),viewedStories:i.a.array,pushViewEvent:i.a.func,isMobile:i.a.bool}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(5),c=n(2),u=function(e){var t=e.suggestedSearchTerms,n=void 0===t?[]:t,r=Object(s.h)().trans;return n&&n.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{className:"recent-searches__heading"},r("Recent Searches")),a.a.createElement("ul",{className:"recent-searches__results-list"},n.map((function(e,t){return a.a.createElement("li",{key:t,className:"recent-searches__list-item"},a.a.createElement("a",{className:"recent-searches__item-link on-navigate",href:"/search/".concat(wattpad.utils.urlEncodeWithSpace(e))},a.a.createElement(c.e,{className:"recent-searches__item-icon",name:"search",size:"16"}),a.a.createElement("span",{className:"sr-only"},e),a.a.createElement("span",{"aria-hidden":!0},Object(l.u)(e,30,!1))))}))))};u.propTypes={suggestedSearchTerms:i.a.array},t.a=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function s(e){var t=e.bannerMessages,n=void 0===t?[]:t;return n.length>0&&a.a.createElement("div",{className:"educational-banner"},n.map((function(e,t){return a.a.createElement("div",{className:"educational-banner__message",key:t,dangerouslySetInnerHTML:{__html:e}})})))}s.propTypes={bannerMessages:i.a.arrayOf(i.a.string)}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(178),c=n(37);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=["anytime","day","week","month","year"],f=function(e){var t=e.selectedOptions,n=e.handleFilterChange,o=Object(s.h)().trans,i=u(Object(l.a)(m,"anytime",t),2),d=i[0],f=i[1],p=Object(r.useRef)(!0);Object(r.useEffect)((function(){p.current?p.current=!1:n(d,"age")}),[d,n]);var y=function(e){f(e.currentTarget.checked?"APPLY":"REMOVE",e.currentTarget.value)};return a.a.createElement("div",{className:"filter"},a.a.createElement("span",{className:"sr-only"},o("Last updated")+" "+o("You can select multiple options")),a.a.createElement("div",{className:"filter__title","aria-hidden":!0},o("Last updated")),a.a.createElement("div",{className:"filter__description","aria-hidden":!0},o("You can select multiple options")),a.a.createElement("div",{className:"filter__options"},a.a.createElement(c.a,{value:"anytime",checked:d.anytime,onChange:y,contentId:"lastUpdated1"},o("Anytime")),a.a.createElement(c.a,{value:"day",checked:d.day,onChange:y,contentId:"lastUpdated2"},o("Today")),a.a.createElement(c.a,{value:"week",checked:d.week,onChange:y,contentId:"lastUpdated3"},o("This week")),a.a.createElement(c.a,{value:"month",checked:d.month,onChange:y,contentId:"lastUpdated4"},o("This month")),a.a.createElement(c.a,{value:"year",checked:d.year,onChange:y,contentId:"lastUpdated5"},o("This year"))))};f.defaultProps={handleFilterChange:function(){},selectedOptions:{}},f.propTypes={handleFilterChange:i.a.func,selectedOptions:i.a.object},t.a=f},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(5),l=n(3),c=function(e){var t=e.browseTopics,n=void 0===t?[]:t,r=Object(l.h)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"browse-title"},r("Browse Categories")),a.a.createElement("div",{className:"topics-container"},n.map((function(e){var t=e.name,n=e.topic,r=e.browseURL,o=e.image,i=r?Object(s.d)(r):"/stories/".concat(t);return a.a.createElement("a",{key:t,href:i,className:"browse-topic-tile",style:o?{backgroundImage:"url(".concat(o,")")}:{},onClick:function(e){return function(e,t,n){e.preventDefault(),window.te.push("event","browse","item",null,"click",{page:"search",target:t}),app.router.navigate(n,{trigger:!0})}(e,t,i)}},n)}))))};c.propTypes={browseTopics:i.a.array},t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n(6),a=n(4),o=n.n(a),i=n(1),s=n.n(i),l=n(0),c=n.n(l),u=n(9),d=n(3);function m(e){var t=e.subtitle,n=e.closeModal,r=e.isStandalonePage,a=Object(d.h)().trans;return c.a.createElement("div",{className:"form-header"},!r&&c.a.createElement("button",{className:"btn-no-style close-btn",onClick:n,"aria-label":"Close modal"},c.a.createElement(u.a,{name:"close",size:"24",color:"wp-neutral-5",className:"close-btn"})),c.a.createElement("div",{className:"centered-text"},c.a.createElement("h2",{dangerouslySetInnerHTML:{__html:a("the<span class='mediumbold'>wattys</span>2021")}}),c.a.createElement("div",{className:"subtitle bold"},t)))}m.propTypes={subtitle:s.a.string.isRequired,closeModal:s.a.func,isStandalonePage:s.a.bool.isRequired};var f=n(58),p=n(12),y=n.n(p);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.children,n=e.validationRules,r=Object(l.useRef)(null),a=h(Object(l.useState)(null),2),o=a[0],i=a[1];return Object(d.c)("blur",(function(){var e,t=r.current.value;y.a.each(n,(function(n){if(!n.rule(t))return e=n.errorMessage,!1})),e?i(e):o&&i(null)}),r.current),t({ref:r,errorMessage:o,className:o?"error-field":""})}var v=n(2),w=n(116);function E(e){var t=e.isStandalonePage,n=e.closeModal,r=e.formState,a=Object(d.h)().trans,o={chick_lit:a("ChickLit"),fanfiction:a("Fanfiction"),fantasy:a("Fantasy"),historical_fiction:a("Historical Fiction"),horror:a("Horror"),paranormal:a("Paranormal"),mystery_thriller:a("Mystery & Thriller"),new_adult:a("New Adult"),romance:a("Romance"),science_fiction:a("Science Fiction"),young_adult:a("Young Adult"),werewolf:a("Werewolf"),wild_card:a("Wild Card")},i=a("Congratulations! You have been entered\ninto the 2021 Watty Awards."),s=o[r.data.contest_submission.award_category];if(r.isLoading)return c.a.createElement("div",{className:"loading-spinner"},c.a.createElement(v.f,null));function l(){window.te.push("event","wattys","banner",null,"view",{storyid:parseInt(r.data.story_id),type:"confirmed_submission",page:"story_details"}),n()}return c.a.createElement("div",{id:"submission-success"},c.a.createElement(m,{subtitle:i,closeModal:l,isStandalonePage:t}),c.a.createElement("div",{className:"form-deadline"},c.a.createElement("div",{className:"deadline-text",dangerouslySetInnerHTML:{__html:a('<a target="_blank" href="%s">When will winners be announced?</a>',w.b[parseInt(app.get("language"),10)])}})),c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"content"},c.a.createElement("h3",{className:"black bold"},a("Share the exciting news with your readers!")),c.a.createElement("div",{className:"screenshot-text",dangerouslySetInnerHTML:{__html:a('Screenshot your entry below to share the news on social, or create your own graphic using our <a target="_blank" class="bold" href="https://www.canva.com/design/DAEiCsArYyE/jmPIutqBjR-PSVjhv5sDtw/view?utm_content=DA[]esignshare&utm_medium=link&utm_source=sharebutton&mode=preview">Canva template</a>!')}}))),c.a.createElement("div",{className:"main-container-cover"},c.a.createElement("div",{className:"content"},c.a.createElement("h5",{className:"bold"},a("I entered my story in the 2021 Wattys!")),c.a.createElement("div",{className:"image-container"},c.a.createElement("img",{src:r.cover,alt:"story cover"})),c.a.createElement("h6",{dangerouslySetInnerHTML:{__html:a("<span class='bold'>%s</span><br>by @%s",r.title,r.user)}}))),c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"submission-info-text"},c.a.createElement("span",{dangerouslySetInnerHTML:{__html:a("Your story has been submitted in the <span class='bold'>%s</span> category for the 2021 Watty Awards. ",s)}}),r.data.contest_submission.is_canva_intended&&c.a.createElement("span",{dangerouslySetInnerHTML:{__html:a("Your cover design has been submitted for the <span class='bold'>Best Cover</span> Award presented by Canva.")}})),c.a.createElement("div",{className:"submission-info-text",dangerouslySetInnerHTML:{__html:a("<span class='bold'>Good luck and happy writing!</span>")}})),t?null:c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"btn-container"},c.a.createElement("button",{onClick:l,className:"btn btn-primary"},a("Done"))))))}E.propTypes={isStandalonePage:s.a.bool,closeModal:s.a.func,formState:s.a.object};var O=n(87),S=n(71);function C(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=!1,x=!1,I=!1,A=function(e){return encodeURI(e).split(/%..|./).length-1},L={1:"https://www.wattpad.com/story/268937431-the-2021-watty-awards",2:"https://www.wattpad.com/story/268944812-wattys-2021",3:"https://www.wattpad.com/story/268952851-wattys-2021",4:"https://www.wattpad.com/story/269401348-wattys-2021",5:"https://www.wattpad.com/story/269415640-wattys-2021",6:"https://www.wattpad.com/story/269418221-wattys-2021",13:"https://www.wattpad.com/story/269442967-wattys-2021",18:"https://www.wattpad.com/story/269525576-wattys-2021",20:"https://www.wattpad.com/story/269532621-wattys-2021",23:"https://www.wattpad.com/story/269447328-wattys-2021"},M={1:"https://policies.wattpad.com/content",2:"https://support.wattpad.com/hc/fr/articles/200774334-Lignes-Directrices-sur-le-Contenu",3:"https://support.wattpad.com/hc/it/articles/200774334-Linee-Guida-per-il-Contenuto",4:"https://support.wattpad.com/hc/de/articles/200774334-Inhaltliche-Richtlinien",5:"https://support.wattpad.com/hc/es/articles/200774334-Pautas-de-Contenido",6:"https://support.wattpad.com/hc/pt/articles/200774334-Diretrizes-de-Conte%C3%BAdo",13:"https://support.wattpad.com/hc/en-us/articles/200774334-Content-Guidelines",18:"https://support.wattpad.com/hc/en-us/articles/200774334-Content-Guidelines#h_01F2VZBEV52B6YDC0D0B63C6M9",20:"https://support.wattpad.com/hc/id/articles/200774334-Pedoman-Konten",23:"https://support.wattpad.com/hc/tr/articles/200774334-%C4%B0%C3%A7erik-Kurallar%C4%B1-"};function q(e){var t=e.submitForm,n=e.closeModal,r=e.isStandalonePage,a=e.storyId,i=e.setContestForm,s=e.formState,f=Object(d.h)().trans,p=s.data,y=_(Object(l.useState)(p.contest_submission),2),h=y[0],g=y[1],v=_(Object(l.useState)(""),2),w=v[0],E=v[1],k=_(Object(l.useState)(!1),2),P=k[0],T=k[1],q=_(Object(l.useState)(!1),2),U=q[0],D=q[1],F=_(Object(l.useState)({fieldName:"",fieldInvalid:!1}),2),B=F[0],W=F[1],H=_(Object(l.useState)(""),2),V=H[0],z=H[1],Y=_(Object(l.useState)(""),2),$=Y[0],G=Y[1];function K(e){var t,n=e.target,r=n.name,a=n.checked;W({fieldName:"opportunities",fieldInvalid:!1}),a?(h.opportunities.indexOf("none")>-1?(t=h.opportunities.filter((function(e){return"none"!==e})),t=[].concat(C(t),[r])):t="none"===r?["none"]:[].concat(C(h.opportunities),[r]),0!==t.length&&(R=!1)):0===(t=h.opportunities.filter((function(e){return e!==r}))).length&&(R=!0),g(N(N({},h),{},{opportunities:t}))}function Z(e){var t,n=e.target,r=n.name,a=n.checked;W({fieldName:"mature_themes",fieldInvalid:!1}),a?(h.mature_themes.indexOf("none")>-1?(t=h.mature_themes.filter((function(e){return"none"!==e})),t=[].concat(C(t),[r])):"none"===r?(t=["none"],D(!1)):t=[].concat(C(h.mature_themes),[r]),0!==t.length&&(x=!1)):0===(t=h.mature_themes.filter((function(e){return e!==r}))).length&&(x=!0),g(N(N({},h),{},"other"===r||"none"===r&&1==a?{mature_themes:t,others:N(N({},h.others),{},{mature_themes:""})}:{mature_themes:t}))}function J(e){var t=e.target,n=t.name,r=t.value;W({fieldName:n,fieldInvalid:!1}),g(N(N({},h),{},{others:N(N({},h.others),{},j({},n,r))}))}Object(l.useEffect)((function(){g(p.contest_submission),z(L[parseInt(app.get("language"),10)]),G(M[parseInt(app.get("language"),10)]),2===parseInt(app.get("language"),10)&&T(!0)}),[p.contest_submission]);var Q=function(e){var t=e.target,n=t.name,r=0!=t.value;"is_canva_owner_confirmed"!=n&&"is_exclusive"!=n&&"is_final_consent"!=n||(r=e.target.checked),g(N(N({},h),{},j("is_canva_intended"!=n||0!=r?{}:{is_canva_owner_confirmed:r},n,r)))};function X(e){var t,n=e.target,r=n.name,a=n.value;"language"===r?(W({fieldName:"language",fieldInvalid:!1}),g(N(N({},h),{},(j(t={},r,a),j(t,"is_canva_intended",!1),j(t,"is_canva_owner_confirmed",!1),j(t,"award_category",""),j(t,"opportunities",[]),t)))):(W({fieldName:r,fieldInvalid:!1}),g(N(N({},h),{},j({},r,a))))}function ee(e){var t=e.target,n=t.name,r=t.value;W({fieldName:n,fieldInvalid:!1}),g(N(N({},h),{},{plot_details:N(N({},h.plot_details),{},j({},n,r))}))}function te(e){var t=e.target,n=t.name,r=t.value;W({fieldName:n,fieldInvalid:!1}),g(N(N({},h),{},{plot_details:N(N({},h.plot_details),{},j({},n,r))}))}function ne(e){var t=e.target,n=t.name,r=t.value;W({fieldName:n,fieldInvalid:!1}),g(N(N({},h),{},j({},n,r)))}var re={rule:function(e){return e.length>0},errorMessage:function(){return f("This field is required.")}},ae=function(e){return{rule:function(t){return A(t)<=e},errorMessage:function(){return f("This field has to contain less than %s characters.",e)}}},oe=function(e){return{rule:function(t){return A(t)>=e},errorMessage:function(){return f("This field has to contain more than %s characters.",e)}}},ie=s.hasSubmitted,se=s.isLoading,le=ie||se,ce=(new Date).getTime()<new Date("30 Sept 2021 23:59:59 GMT-0400").getTime();ce||(le=!0);var ue={chick_lit:f("ChickLit"),fanfiction:f("Fanfiction"),fantasy:f("Fantasy"),historical_fiction:f("Historical Fiction"),horror:f("Horror"),mystery_thriller:f("Mystery & Thriller"),new_adult:f("New Adult"),paranormal:f("Paranormal"),romance:f("Romance"),science_fiction:f("Science Fiction"),werewolf:f("Werewolf"),wild_card:f("Wild Card"),young_adult:f("Young Adult")},de=f("Thank you for your interest in the 2021 Watty Awards. In order to be considered for this years awards, complete the following submission form."),me=[{label:f("Yes"),value:1},{label:f("No"),value:0}],fe=[{label:f("Yes"),value:1},{label:f("No"),value:0}];return se&&ie?c.a.createElement("div",{className:"loading-spinner"},c.a.createElement(S.a,null)):c.a.createElement("div",{id:"contest-form"},c.a.createElement("form",null,c.a.createElement("div",{className:o()("overflow-container",{disabled:se})},c.a.createElement(m,{subtitle:de,closeModal:n,isStandalonePage:r}),c.a.createElement("div",{className:"form-deadline"},c.a.createElement("div",{className:"deadline-text",dangerouslySetInnerHTML:{__html:f('Submissions are due by September 30th, 2021. For full eligibility criteria, refer to the <a target="_blank" href="%s">Rules and Regulations</a>.',V)}})),c.a.createElement("div",{className:"form-content"},!ce&&c.a.createElement("div",{className:"already-submitted-box",dangerouslySetInnerHTML:{__html:f("The 2021 Watty Awards are now closed. Thanks for your participation!")}}),ie&&c.a.createElement("div",{className:"already-submitted-box",dangerouslySetInnerHTML:{__html:f("You are viewing your submission for the <strong>%s</strong> category in the 2021 Watty Awards. Changes cannot be made.",ue[s.data.contest_submission.award_category])}}),!ie&&c.a.createElement("div",{className:"form-title",dangerouslySetInnerHTML:{__html:f("We need a few more details about the story you are entering:<br><span class='bold'>%s</span>",s.title)}}),c.a.createElement("h4",null,f("Language")),c.a.createElement("div",{className:"subtitle"},f("Select the award language you wish to be considered for. Stories that do not fit under any of the languages listed below will not be eligible to win.")),c.a.createElement(b,{validationRules:[re]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{ref:t,value:h.language,name:"language",disabled:le,className:o()("form-element full-width",r),onChange:X},c.a.createElement("option",{value:"",disabled:!0},f("Select a language")),c.a.createElement("option",{value:"en"},f("English")),c.a.createElement("option",{value:"fr"},f("French")),c.a.createElement("option",{value:"nl"},f("Dutch")),c.a.createElement("option",{value:"tl"},f("Filipino")),c.a.createElement("option",{value:"de"},f("German")),c.a.createElement("option",{value:"id"},f("Indonesian")),c.a.createElement("option",{value:"it"},f("Italian")),c.a.createElement("option",{value:"pt"},f("Portuguese")),c.a.createElement("option",{value:"es"},f("Spanish")),c.a.createElement("option",{value:"tr"},f("Turkish"))),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==B.fieldInvalid||"language"!=B.fieldName&&""!=B.fieldName&&I)&&""==h.language&&c.a.createElement("div",{className:"error-text"},f("This field is required.")))})),c.a.createElement("div",{className:"inline-row"},c.a.createElement("div",{className:"flex-part"},c.a.createElement("h4",null,f("Award category")),c.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:f("Select the award category you wish to be considered for. If you don't see a category that you feel matches your story exactly, please submit under the category that you think is the closest match.")}}),c.a.createElement(b,{validationRules:[re]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{ref:t,value:h.award_category,name:"award_category",disabled:le,className:o()("form-element full-width",r),onChange:X},c.a.createElement("option",{value:"",disabled:!0},f("Select a category")),"nl"!==h.language&&c.a.createElement("option",{value:"chick_lit"},f("ChickLit")),c.a.createElement("option",{value:"fanfiction"},f("Fanfiction")),c.a.createElement("option",{value:"fantasy"},f("Fantasy")),"nl"!==h.language&&c.a.createElement("option",{value:"historical_fiction"},f("Historical Fiction")),"nl"!==h.language&&c.a.createElement("option",{value:"horror"},f("Horror")),"nl"!==h.language&&c.a.createElement("option",{value:"mystery_thriller"},f("Mystery & Thriller")),"nl"!==h.language&&c.a.createElement("option",{value:"new_adult"},f("New Adult")),"nl"!==h.language&&c.a.createElement("option",{value:"paranormal"},f("Paranormal")),c.a.createElement("option",{value:"romance"},f("Romance")),"nl"!==h.language&&c.a.createElement("option",{value:"science_fiction"},f("Science Fiction")),"en"===h.language&&c.a.createElement("option",{value:"werewolf"},f("Werewolf")),"en"!==h.language&&c.a.createElement("option",{value:"wild_card"},f("Wild Card")),c.a.createElement("option",{value:"young_adult"},f("Young Adult"))),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==B.fieldInvalid||"award_category"!=B.fieldName&&""!=B.fieldName&&I)&&""==h.award_category&&c.a.createElement("div",{className:"error-text"},f("This field is required.")))})))),c.a.createElement("div",{className:"inline-row"},c.a.createElement("div",{className:"flex-part"},c.a.createElement("h4",null,f("Mature Themes")),c.a.createElement("div",{className:"subtitle"},f("Select the themes that your story contains.")),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:h.mature_themes.indexOf("none")>-1,name:"none",type:"checkbox",disabled:le,onChange:Z})," ",c.a.createElement("div",null,f("My story does not contain any mature themes"))),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:h.mature_themes.indexOf("sex")>-1,name:"sex",type:"checkbox",disabled:le,onChange:Z})," ",c.a.createElement("div",null,f(P?"Sexual Content":"Sex"))),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:h.mature_themes.indexOf("language")>-1,name:"language",type:"checkbox",disabled:le,onChange:Z})," ",c.a.createElement("div",null,f("Explicit Language"))),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:h.mature_themes.indexOf("drug_use")>-1,name:"drug_use",type:"checkbox",disabled:le,onChange:Z})," ",c.a.createElement("div",null,f("Drug Use"))),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:h.mature_themes.indexOf("self-harm")>-1,name:"self-harm",type:"checkbox",disabled:le,onChange:Z})," ",c.a.createElement("div",null,f("Self-harm"))),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:h.mature_themes.indexOf("violence")>-1,name:"violence",type:"checkbox",disabled:le,onChange:Z})," ",c.a.createElement("div",null,f("Violence"))),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:h.mature_themes.indexOf("other")>-1,name:"other",type:"checkbox",disabled:le,onChange:function(e){D(e.target.checked),Z(e)}})," ",c.a.createElement("div",null,c.a.createElement(b,{validationRules:[re,ae(100)]},(function(e){var t=e.ref,n=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("textarea",{ref:t,style:{height:48,marginBottom:5},className:o()("form-element",n,"half-width"),name:"mature_themes",value:h.others.mature_themes,placeholder:f("Other"),disabled:!U||le,onChange:J}),""==h.others.mature_themes&&U&&c.a.createElement("div",{className:"error-text"},f("Specify other mature themes.")),h.others.mature_themes&&h.others.mature_themes.length>100&&c.a.createElement("div",{className:"error-text"},f("This field has to contain less than 100 characters.")))})))),x&&!le&&c.a.createElement("div",{className:"error-text"},f("You must pick at least 1")),!x&&(1==B.fieldInvalid||"mature_themes"!=B.fieldName&&""!=B.fieldName&&I)&&0==h.mature_themes.length&&c.a.createElement("div",{className:"error-text"},f("This field is required.")))),c.a.createElement(b,{validationRules:[re]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"inline-row"},c.a.createElement("div",{className:"flex-part"},c.a.createElement("div",{className:"title-container"},c.a.createElement("h4",null,f("Story Maturity")),c.a.createElement("button",{id:"content-tooltip",className:"icon-container on-contest-popover popover-icon"},c.a.createElement(u.a,{iconName:"fa-warning",height:"17",color:"wp-neutral-2"}))),c.a.createElement("div",{className:"subtitle"},f("Select one of the story maturity ratings:")),c.a.createElement("div",null,c.a.createElement("select",{ref:t,value:h.sexual_content,name:"sexual_content",disabled:le,className:o()("form-element sexual-content full-width",r),onChange:X},c.a.createElement("option",{value:"",disabled:!0},f("Select a maturity level")),c.a.createElement("option",{value:"clean"},f("No sexual content")),c.a.createElement("option",{value:"steamy"},f("Steamy")),c.a.createElement("option",{value:"fade_to_black"},f("Fade to Black")),c.a.createElement("option",{value:"explicit_rare"},f("Explicit Sex Rare")),c.a.createElement("option",{value:"explicit_common"},f("Explicit Sex Common"))),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==B.fieldInvalid||"sexual_content"!=B.fieldName&&""!=B.fieldName&&I)&&""==h.sexual_content&&c.a.createElement("div",{className:"error-text"},f("This field is required."))))))})),c.a.createElement(b,{validationRules:[re]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"inline-row"},c.a.createElement("div",{className:"flex-part"},c.a.createElement("h4",null,f("Target Audience")),c.a.createElement("div",{className:"subtitle"},f("Tell us what age group your story is intended for.")),c.a.createElement("div",null,c.a.createElement("select",{ref:t,value:h.target_audience,name:"target_audience",disabled:le,className:o()("form-element full-width",r),onChange:X},c.a.createElement("option",{value:"",disabled:!0},f("Select an audience")),c.a.createElement("option",{value:"8-13"},f("Middle Grade (8-12 years old)")),c.a.createElement("option",{value:"13-18"},f("Young Adult (13-18 years old)")),c.a.createElement("option",{value:"18-25"},f("New Adult (18-24 years old)")),c.a.createElement("option",{value:"25+"},f("Adult (25+ years old)"))),n&&c.a.createElement("div",{className:"error-text"},n),!n&&(1==B.fieldInvalid||"target_audience"!=B.fieldName&&""!=B.fieldName&&I)&&""==h.target_audience&&c.a.createElement("div",{className:"error-text"},f("This field is required."))))))})),c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,f("Logline")),c.a.createElement("div",{style:{marginBotttom:0},className:"subtitle",dangerouslySetInnerHTML:{__html:f("Give us a one-sentence description of your story that conveys the dramatic narrative and hook. It should follow the below format:<br>[Character Name], [Character Description], has to [Action] in order to [Result].")}}),c.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:f("Ex. Cleopatra, <strong>a</strong> zombified ruler of Egypt, <strong>has to</strong> resist the temptation of eating Mark Antony, <strong>in order to</strong> not change the course of Egypt's future.")}}),c.a.createElement(b,{validationRules:[re,ae(500),oe(20)]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("textarea",{ref:t,style:{height:120,marginBottom:5},className:o()("form-element",r,"full-width"),name:"logline",value:h.plot_details.logline,placeholder:f("Enter your logline"),disabled:le,onChange:te}),n&&c.a.createElement("div",{style:{marginBottom:0},className:"error-text"},n),!n&&(1==B.fieldInvalid||"logline"!=B.fieldName&&""!=B.fieldName&&I)&&""==h.plot_details.logline&&c.a.createElement("div",{className:"error-text"},f("This field is required.")))}))),c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,f("Plot Summary")),c.a.createElement("div",{className:"subtitle"},f("A plot summary should be approximately 500 words and written in third person. It should identify the major characters, key moments of action, and how the story ends (including spoilers).")),c.a.createElement(b,{validationRules:[re,oe(100),ae(1e4)]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("textarea",{ref:t,style:{height:240,marginBottom:5},className:o()("form-element",r,"full-width"),name:"summary",value:h.plot_details.summary,disabled:le,onChange:ee,placeholder:f("Enter your plot summary")}),n&&c.a.createElement("div",{style:{marginBottom:0},className:"error-text"},n),!n&&(1==B.fieldInvalid||"summary"!=B.fieldName&&""!=B.fieldName&&I)&&""==h.plot_details.summary&&c.a.createElement("div",{className:"error-text"},f("This field is required.")))})))),"en"==h.language&&c.a.createElement("div",{className:"canva-section"},c.a.createElement("div",{className:"canva-intro"},c.a.createElement("div",{className:"col-20"},c.a.createElement("img",{src:"/img/contest-form/canva-2021.png",alt:"Canva Logo"})),c.a.createElement("div",{className:"col-80"},c.a.createElement("div",{className:"canva-title",dangerouslySetInnerHTML:{__html:"<strong>Best Cover</strong> Presented by Canva"}}))),c.a.createElement("div",{className:"canva-body"},c.a.createElement("div",{className:"col-60"},c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{dangerouslySetInnerHTML:{__html:'Would you like to submit your cover design for the <a target="_blank" href="https://www.wattpad.com/1066986254-the-2021-watty-awards-best-cover-presented-by">Best Cover Award</a> presented by Canva?'}}),c.a.createElement(O.a,{name:"is_canva_intended",options:fe,value:h.is_canva_intended?1:0==h.is_canva_intended?0:null,position:"horizontal",onChange:Q,disabled:le}),(1==B.fieldInvalid||"is_canva_intended"!=B.fieldName&&""!=B.fieldName&&I)&&null==h.is_canva_intended&&c.a.createElement("div",{className:"error-text"},f("This field is required."))),h.is_canva_intended&&c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{disabled:le,name:"is_canva_owner_confirmed",checked:h.is_canva_owner_confirmed,type:"checkbox",onChange:Q})," ",c.a.createElement("div",{dangerouslySetInnerHTML:{__html:'I hereby acknowledge and confirm that my cover meets all <a target="_blank" href="'.concat("https://drive.google.com/file/d/1OWd4VDxNXexE627WMCZEiEq7fM20ksMV/view",'">Terms and Conditions</a> for the Best Cover Award presented by Canva. I confirm that the cover design is my own, all imagery used within is original or licensed content, and design abides by Wattpads <a target="_blank" href="').concat($,'">content guidelines</a>.')}}))),c.a.createElement("div",{className:"col-40"},c.a.createElement("img",{src:s.cover,alt:"story cover"}))),h.is_canva_intended&&c.a.createElement("div",{className:"checkbox-group-mobile"},c.a.createElement("input",{disabled:le,name:"is_canva_owner_confirmed",checked:h.is_canva_owner_confirmed,type:"checkbox",onChange:Q})," ",c.a.createElement("div",{dangerouslySetInnerHTML:{__html:'I hereby acknowledge and confirm that my cover meets all <a target="_blank" href="'.concat("https://drive.google.com/file/d/1OWd4VDxNXexE627WMCZEiEq7fM20ksMV/view",'">Terms and Conditions</a> for the Best Cover Award presented by Canva. I confirm that the cover design is my own, all imagery used within is original or licensed content, and design abides by Wattpads <a target="_blank" href="').concat($,'">content guidelines</a>.')}})),1==h.is_canva_intended&&0==h.is_canva_owner_confirmed&&c.a.createElement("div",{className:"error-text"},f("This checkbox is required."))),c.a.createElement("div",{className:"form-content"},!ie&&c.a.createElement("div",{className:"form-title form-title-width-limited",dangerouslySetInnerHTML:{__html:f("There are just a few more things to answer to complete your submission for the <strong>thewattys2021</strong>",s.title)}}),c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,f("Is your story on another platform?")),c.a.createElement(O.a,{name:"is_cross_posted",options:me,value:h.is_cross_posted?1:0==h.is_cross_posted?0:null,position:"horizontal",onChange:Q,disabled:le}),(1==B.fieldInvalid||"is_cross_posted"!=B.fieldName&&""!=B.fieldName&&I)&&null==h.is_cross_posted&&c.a.createElement("div",{className:"error-text"},f("This field is required."))),c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,f("Exclusivity")),c.a.createElement("div",{className:"subtitle"},f("If you are notified that your story has been selected for the Wattys shortlist, it is expected that your story be exclusive to Wattpad for 1 year. You will not be permitted to upload it to another platform and will be required to remove it from existing platforms.")),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{disabled:le,name:"is_exclusive",checked:!!h.is_exclusive||(h.is_exclusive,!1),type:"checkbox",onChange:Q})," ",c.a.createElement("div",{dangerouslySetInnerHTML:{__html:f("I agree to make the story exclusive on Wattpad for 1 calendar year, starting the day of the Wattys shortlist announcement, if my story is shortlisted for the Wattys 2021.")}})),(1==B.fieldInvalid||"is_exclusive"!=B.fieldName&&""!=B.fieldName&&I)&&0==h.is_exclusive&&c.a.createElement("div",{className:"error-text"},f("This checkbox is required."))),c.a.createElement("h4",{className:"bigger-margin-top"},f("Opportunities")),c.a.createElement("div",{className:"subtitle"},f("We want to know your other aspirations on our platform! This information will help us determine other opportunities for you and your story that you would be interested in.")),c.a.createElement("div",{className:"subtitle black"},f("Consider me and my story for...")),("en"===h.language||"tl"===h.language||"id"===h.language||"de"===h.language||"fr"===h.language||"es"===h.language)&&c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:h.opportunities.indexOf("stars")>-1,name:"stars",type:"checkbox",disabled:le,onChange:K})," ",c.a.createElement("div",{dangerouslySetInnerHTML:{__html:f('<a target="_blank" href="https://www.wattpad.com/writers/opportunities/stars/">Wattpad Stars</a>')}})),("en"===h.language||"tl"===h.language||"id"===h.language||"de"===h.language||"fr"===h.language||"es"===h.language)&&c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:h.opportunities.indexOf("paid_stories")>-1,name:"paid_stories",type:"checkbox",disabled:le,onChange:K})," ",c.a.createElement("div",{dangerouslySetInnerHTML:{__html:f('<a target="_blank" href="https://www.wattpad.com/writers/opportunities/paidstories/">Wattpad Paid Stories</a>')}})),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:h.opportunities.indexOf("publishings")>-1,name:"publishings",type:"checkbox",disabled:le,onChange:K})," ",c.a.createElement("div",{dangerouslySetInnerHTML:{__html:f('Wattpad publishing opportunities, including <a target="_blank" href="https://www.wattpad.com/writers/opportunities/books/">Wattpad Books</a>')}})),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:h.opportunities.indexOf("entertainment")>-1,name:"entertainment",type:"checkbox",disabled:le,onChange:K})," ",c.a.createElement("div",{dangerouslySetInnerHTML:{__html:f('<a target="_blank" href="https://www.wattpad.com/writers/opportunities/studios/">Wattpad entertainment opportunities</a>, including film and television')}})),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{disabled:le,checked:"en"===h.language||"tl"===h.language||"id"===h.language||"de"===h.language||"fr"===h.language||"es"===h.language?h.opportunities.indexOf("entertainment")>-1&&h.opportunities.indexOf("stars")>-1&&h.opportunities.indexOf("publishings")>-1&&h.opportunities.indexOf("paid_stories")>-1:h.opportunities.indexOf("entertainment")>-1&&h.opportunities.indexOf("publishings")>-1,type:"checkbox",onChange:function(e){W({fieldName:"opportunities",fieldInvalid:!1});var t=e.target.checked,n=["publishings","entertainment"];"en"!==h.language&&"tl"!==h.language&&"id"!==h.language&&"de"!==h.language&&"fr"!==h.language&&"es"!==h.language||(n.push("stars"),n.push("paid_stories")),R=!t,g(N(N({},h),{},{opportunities:t?n:[]}))}})," ",c.a.createElement("div",{dangerouslySetInnerHTML:{__html:f('All available <a target="_blank" href="https://www.wattpad.com/writers/opportunities/">opportunities with Wattpad</a>')}})),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{checked:h.opportunities.indexOf("none")>-1,name:"none",type:"checkbox",disabled:le,onChange:K})," ",c.a.createElement("div",null,f("None of the above"))),R&&!le&&c.a.createElement("div",{className:"error-text"},f("You must pick at least 1")),!R&&(1==B.fieldInvalid||"opportunities"!=B.fieldName&&""!=B.fieldName&&I)&&0==h.opportunities.length&&c.a.createElement("div",{className:"error-text"},f("This field is required.")),c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:"bigger-margin-top"},f("Email")),c.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:f("What is the best email for us to contact you about your entry?")}}),c.a.createElement(b,{validationRules:[re,ae(128)]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("textarea",{ref:t,style:{height:40,marginBottom:5},className:o()("form-element",r,"half-width"),name:"preferred_email",value:h.preferred_email,placeholder:f("Email address"),disabled:le,onChange:ne}),n&&c.a.createElement("div",{style:{marginBottom:0},className:"error-text"},n),!n&&(1==B.fieldInvalid||"preferred_email"!=B.fieldName&&""!=B.fieldName&&I)&&""==h.preferred_email&&c.a.createElement("div",{className:"error-text"},f("This field is required.")))}))),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"secondary-email"},c.a.createElement(b,{validationRules:[re,ae(128)]},(function(e){var t=e.ref,n=e.errorMessage,r=e.className;return c.a.createElement(c.a.Fragment,null,c.a.createElement("textarea",{ref:t,style:{height:40,marginBottom:5,marginTop:10},className:o()("form-element",r,"half-width"),name:"email_confirm_field",value:w,placeholder:f("Confirm email address"),disabled:le,onChange:function(e){var t=e.target.value;return E(t)}}),n&&c.a.createElement("div",{style:{marginBottom:0},className:"error-text"},n),!ie&&!n&&(1==B.fieldInvalid||I)&&""==w&&c.a.createElement("div",{className:"error-text"},f("This field is required.")),!ie&&h.preferred_email!=w&&c.a.createElement("div",{className:"error-text"},f("These two fields must match.")))}))))),c.a.createElement("div",{className:"footer-section-submission"},c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("input",{disabled:le,name:"is_final_consent",checked:!!h.is_final_consent||(h.is_final_consent,!1),type:"checkbox",onChange:Q})," ",c.a.createElement("div",{dangerouslySetInnerHTML:{__html:f('I confirm that I\'ve read, understood, and agree to the contest <a class="bold" target="_blank" rel="noopener noreferrer" href="%s">Rules and Regulations</a>.',V)}})),(1==B.fieldInvalid||"is_final_consent"!=B.fieldName&&""!=B.fieldName&&I)&&0==h.is_final_consent&&c.a.createElement("div",{className:"error-text"},f("This field is required.")),c.a.createElement("div",{className:"subtitle-small",style:{marginTop:10,marginBottom:20}},f("Ready to hit submit? Please note that once youve submitted your story, you wont be able to resubmit the same one, so make sure your story is Wattys ready. This information will be kept confidential and is for internal purposes only.")),r&&ie?null:c.a.createElement("div",{className:"btn-container"},!ie&&ce&&c.a.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),e.stopPropagation(),I=!0,function(e){return 0==e.award_category.length||(0==e.language.length||(0==e.mature_themes.length||(!(!U||""!=e.others.mature_themes)||(""==e.sexual_content||(""==e.target_audience||(!e.plot_details||(""==e.preferred_email||(""==w||(w!=e.preferred_email||(0==e.is_exclusive||(0==e.is_final_consent||(null==e.is_cross_posted||(null==e.is_canva_intended||(null==e.is_canva_owner_confirmed||(1==e.is_canva_inteded&&0==e.is_canva_owner_confirmed||(0==e.opportunities.length||void 0))))))))))))))))}(h)&&W({fieldInvalid:!0});var n={story_id:parseInt(a),contest_submission:h},r=U&&0!=h.others.mature_themes.length||!U;!le&&h.plot_details.logline&&A(h.plot_details.logline)<=500&&A(h.plot_details.logline)>=20&&h.award_category&&h.sexual_content&&h.target_audience&&h.language&&h.plot_details.summary&&A(h.plot_details.summary)>=100&&A(h.plot_details.summary)<=1e4&&h.preferred_email&&A(h.preferred_email)<=128&&w&&A(w)<=128&&h.preferred_email===w&&0!=h.mature_themes.length&&!x&&r&&A(h.others.mature_themes)<=100&&0!=h.is_exclusive&&0!=h.is_final_consent&&null!=h.is_cross_posted&&null!=h.is_canva_intended&&null!=h.is_canva_owner_confirmed&&h.is_canva_intended===h.is_canva_owner_confirmed&&!R&&i(a,n).then((function(e){t(e)}))},className:"btn btn-primary submit-btn"},f("Enter the 2021 Wattys!")))))))}q.propTypes={submitForm:s.a.func.isRequired,closeModal:s.a.func.isRequired,isStandalonePage:s.a.bool.isRequired,fetchContestForm:s.a.func,setContestForm:s.a.func,storyId:s.a.string,formState:s.a.shape({isLoading:s.a.bool.isRequired,hasSubmitted:s.a.bool.isRequired,cover:s.a.string.isRequired,user:s.a.string.isRequired,title:s.a.string,data:s.a.shape({story_id:s.a.number,contest_submission:s.a.shape({contest:s.a.string,award_category:s.a.string.isRequired,target_audience:s.a.string.isRequired,is_exclusive:s.a.bool,is_cross_posted:s.a.bool,is_final_consent:s.a.bool,is_canva_intended:s.a.bool,is_canva_owner_confirmed:s.a.bool,mature_themes:s.a.arrayOf(s.a.string).isRequired,language:s.a.string.isRequired,preferred_email:s.a.string,others:s.a.shape({mature_themes:s.a.string}),plot_details:s.a.shape({summary:s.a.string.isRequired,logline:s.a.string.isRequired}).isRequired,opportunities:s.a.arrayOf(s.a.string).isRequired})}),language:s.a.number})};var U=function(e){var t=e.success,n=e.isStandalonePage,r=e.closeModal,a=e.storyId,o=e.formState,i=e.fetchContestForm,s=e.setContestForm;Object(l.useEffect)((function(){a&&i(a)}),[a,i]);var u=_(Object(l.useState)("form"),2),d=u[0],m=u[1];return"success"===d||t?c.a.createElement(E,{isStandalonePage:n,formState:o,closeModal:r}):c.a.createElement(q,{storyId:a,closeModal:r,formState:o,setContestForm:s,isStandalonePage:n,submitForm:function(e){n?window.location.href="/contests/wattys2021?storyId=".concat(a,"&success=true&hasAddedWattysTag=").concat(e):m("success")}})};U.defaultProps={success:!1,isStandalonePage:!1,closeModal:function(){},storyId:""},U.propTypes={formState:s.a.object,fetchContestForm:s.a.func,setContestForm:s.a.func,closeModal:s.a.func,success:s.a.bool,hasAddedWattysTag:s.a.bool,isStandalonePage:s.a.bool,storyId:s.a.string};var D=Object(r.b)((function(e){return{formState:N({},e.contestForm)}}),{fetchContestForm:f.b,setContestForm:f.f})(U)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(3),c=n(4),u=n.n(c);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.username,n=e.email,o=e.setPayloadUsername,i=e.setPayloadEmail,s=e.submitReport,c=Object(l.h)().trans,m=d(Object(r.useState)("pending"),2),f=m[0],y=m[1],h=d(Object(r.useState)("pending"),2),g=h[0],b=h[1],v=d(Object(r.useState)(""),2),w=v[0],E=v[1],O=d(Object(r.useState)(""),2),S=O[0],C=O[1],k=d(Object(r.useState)(!0),2),N=k[0],j=k[1],_=function(e){wattpad.utils.stopEvent(e);var t=e.target.value;if("name"==e.target.name)o(t);else if("email"==e.target.name){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)&&t?j(!0):j(!1),i(t)}},P=function(e,t,n){"name"==e?(E(t),y(n)):(C(t),b(n))},T=function(e){wattpad.utils.stopEvent(e);var t=e.target.value,n=e.target.name;if(t)"email"!=n||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?P(n,"","check"):P(n,c("The email address is invalid."),"warning");else{var r=c("name"==n?"Name is required.":"Email is required.");P(n,r,"warning")}},R=function(e){wattpad.utils.stopEvent(e),"name"==e.target.name?(y("pending"),E("")):(b("pending"),C(""))},x=u()({"fa-warning":"warning"==f,"fa-check":"warning"!=f}),I=u()({"fa-warning":"warning"==g,"fa-check":"warning"!=g});return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"modal-body contact-info-body"},a.a.createElement("p",null,c("Please leave your contact information so that we may reach you.")),a.a.createElement("form",null,a.a.createElement(p,{payloadInput:t,inputId:"contact-name",inputName:"name",placeholder:c("Name"),onChange:_,onBlur:T,onFocus:R,validIcon:f,iconClassName:x,contactInfoError:w}),a.a.createElement(p,{payloadInput:n,inputId:"contact-email",inputName:"email",placeholder:c("Email"),onChange:_,onBlur:T,onFocus:R,validIcon:g,iconClassName:I,contactInfoError:S}))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{className:"btn btn-orange",onClick:s,disabled:!t||!n||!N},c("Submit Report"))))}function p(e){var t=e.payloadInput,n=e.inputId,r=e.inputName,o=e.placeholder,i=e.onChange,l=e.onBlur,c=e.onFocus,d=e.validIcon,m=e.iconClassName,f=e.contactInfoError;return t||(t=""),a.a.createElement("div",{className:"input-container"},a.a.createElement("input",{id:n,className:u()("contact-input",n),name:r,value:t,placeholder:o,onChange:i,onBlur:l,onFocus:c}),"pending"!=d&&a.a.createElement("span",{tabIndex:"-1"},a.a.createElement(s.e,{iconName:m,height:"18",className:"form-control-feedback"})),f&&a.a.createElement("p",{className:"contact-error-message"},f))}p.propTypes={payloadInput:i.a.string,inputId:i.a.string,inputName:i.a.string,placeholder:i.a.string,onChange:i.a.func,onBlur:i.a.func,onFocus:i.a.func,validIcon:i.a.string,iconClassName:i.a.string,contactInfoError:i.a.string},f.propTypes={username:i.a.string,email:i.a.string,setPayloadUsername:i.a.func,setPayloadUEmail:i.a.func,onClickPrev:i.a.func,submitReport:i.a.func};var y=f,h=n(6),g=n(21);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=e.requesterUsername,n=e.reportedUsername,o=e.muteCopies,i=e.submitReport,c=e.hideModal,u=e.showToast,d=e.initializeMutedUsers,m=e.muteUser,f=Object(l.h)().trans,p=o[2].title,y=o[2].extras.selectedStateText,v=o[0].title,w=o[0].subtitle,E=o[1].title,O=b(Object(r.useState)(p),2),S=O[0],C=O[1],k=Object(h.d)((function(e){return e.profileData.mutedUsers}));Object(r.useEffect)((function(){Promise.all([Promise.resolve(i()),Promise.resolve(d(t))]).then((function(){var e=k.some((function(e){return e.username==n}));C(e?y:p)}))}),[]);return a.a.createElement("div",{className:"report-modal-thank-you"},a.a.createElement("header",{className:"modal-header thank-you"},a.a.createElement("div",{className:"shield-icon"},a.a.createElement(s.e,{name:"shieldCheck",size:"27",strokeWidth:"0",boxX:"0",boxY:"0",viewBox:"27"})),a.a.createElement("h3",{className:"thank-you-title"},v),a.a.createElement("button",{className:"on-close",onClick:c},a.a.createElement(s.e,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"}))),a.a.createElement("div",{className:"modal-body"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:w}}),a.a.createElement("div",{className:"line-divider"}),a.a.createElement("p",{className:"mute-note"},E),a.a.createElement("button",{className:"mute-btn btn-secondary",onClick:function(e){e.preventDefault();var t=S==p,r=t?"ignore_user":"unignore_user",a=t?g.b:g.c,o=f(t?"%s is now muted. You can unmute them at any time.":"%s is now unmuted. You can mute them at any time.",n);return Promise.resolve($.ajax({url:"/apiv2/ignoreuser?id=".concat(n,"&action=").concat(r),type:"POST"})).then((function(){m(a,n),C(t?y:p),u(o)})).catch((function(e){var t;throw t=a==g.b?e.responseJSON&&467==e.responseJSON.code?e.responseJSON.message:f("There was an error muting this user. Please try again."):f("There was an error unmuting this user. Please try again."),u(t),e}))}},S)))}w.propTypes={requesterUsername:i.a.string.isRequired,reportedUsername:i.a.string.isRequired,muteCopies:i.a.array.isRequired,submitReport:i.a.func.isRequired,hideModal:i.a.func.isRequired,showToast:i.a.func,muteUser:i.a.func,initializeMutedUsers:i.a.func};var E=Object(h.b)(null,{initializeMutedUsers:g.e,muteUser:function(e,t){return{type:e,name:t}}})(w);function O(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){var t=e.reportType,n=e.requesterUsername,o=e.requesterEmail,i=e.reportId,c=e.hideModal,u=e.showErrorToast,d=Object(l.h)().trans,m=S(Object(r.useState)(""),2),f=m[0],p=m[1],h=S(Object(r.useState)(null),2),g=h[0],b=h[1],v=S(Object(r.useState)(null),2),w=v[0],C=v[1],k=S(Object(r.useState)(""),2),N=k[0],_=k[1],P=S(Object(r.useState)(""),2),T=P[0],R=P[1],x=S(Object(r.useState)([]),2),I=x[0],A=x[1],L=S(Object(r.useState)(""),2),M=L[0],q=L[1],U=S(Object(r.useState)(!1),2),D=U[0],F=U[1],B=S(Object(r.useState)(!1),2),W=B[0],H=B[1],V=S(Object(r.useState)(!1),2),z=V[0],Y=V[1],G=S(Object(r.useState)(!1),2),K=G[0],Z=G[1],J=S(Object(r.useState)(n),2),Q=J[0],X=J[1],ee=S(Object(r.useState)(o),2),te=ee[0],ne=ee[1],re=S(Object(r.useState)(!1),2),ae=re[0],oe=re[1],ie=d("An error has occurred. We're sorry about that!"),se=0;switch(t){case"user":se=0;break;case"private-message":se=1;break;case"comment":se=2;break;case"public-message":se=5;break;default:se=4}Object(r.useEffect)((function(){Promise.resolve($.ajax({type:"GET",url:"/v4/support/tree"})).then((function(e){var t=e.flows[se];p(t.title),b(t),C(t.ticketFormId)})).catch((function(){c(),u(ie)}))}),[]);var le=function(e){if(e.preventDefault(),W)n?(fe(),F(!1)):de();else{F(!0),A([].concat(O(I),[g]));var t=g.items.filter((function(t){return t.title==e.target.value}))[0];if(t&&t.zendeskString&&R(t.zendeskString),177==t.id)me(t.next.items);else{var r=t.next;if("text"==t.type){var a="",o="",i=t.title.toLowerCase();i.includes("explicit content")?(a=d("Explicit Content"),o=d("Please explain the violation of our policies and where it is located on the account with as much detail as possible. If the violation occurs in a story, please provide a link to the story part(s). For example: This user is promoting sexual conduct in their about section.")):i.includes("harassment")?(a=d("Hate & Harassment"),o=d("Please explain the violation of our Code of Conduct and where it is located on the account. If the violation occurs within a story, please include a link to the story part(s). Please provide as much information as possible. For example: The user is sending me hateful private messages.")):i.includes("violence")?(a=d("Violence"),o=d("Please explain the violation of our Code of Conduct and where it takes place on this account with as much information as possible. If the violation occurs within a story, please include a link to the story part(s). For example: The profile image is depicting an act of graphic violence.")):i.includes("personal")?(a=d("Release of Personal Info"),o=d("If a photo of you or your personal identifying information is being released, please tell us what the information is and where it is located on the account. If the violation occurs within a story, please include a link to the story part(s). For example: An image of my face is being used as the background photo.")):i.includes("self-harm")?(a=d("Self-Harm"),o=d("Please explain the violation of our policies and where it is located on the account. If the violation occurs within a story, please include a link to the story part(s). For example: There is a self-harm image in the avatar. Or: The user is talking about self-harming on their conversation board or comments.")):i.includes("underage user")?(a=d("Underage User"),o=""):i.includes("spam")?(a=d("Spam"),o=d("Please explain what type of spam youve encountered and where we can find it on the account. If the violation occurs within a story, please include a link to the story part(s). For example: This user is sharing malicious download links on their conversation board. Or: This is a publisher trying to recruit writers.")):o="",Y(!0),q(o),r.header=a}H(r.items&&r.items[0]&&!!r.items[0].submittable),b(r)}}},ce=function(){if(K)Z(!1);else{1==I.length&&F(!1);var e=O(I);b(e.pop()),A(e),H(!1),Y(!1),_(""),R("")}},ue=function(e){_(e.target.value)},de=function(){Y(!1),Z(!0)},me=function(e){b(e),oe(!0)},fe=function(){K&&(Z(!1),F(!1));var e="",n="",r="";switch(t){case"user":e="".concat(N,"\n\nReported User's Profile: https://www.wattpad.com/user/").concat(i.name,"\n\n"),n="user",r="user_account_conduct";break;case"private-message":e="".concat(N,"\n\nReported User's Profile: https://www.wattpad.com/user/").concat(i.name,"\n\n"),n="private_message",r="private_message_conduct";break;case"comment":e="".concat(N,"\n\n")+"Comment Author: ".concat(i.name,"\n")+"Comment Location: ".concat(i.location,"\n")+"Comment Body: ".concat(i.body,"\n")+"Comment DeepLink: ".concat(i.deepLink),n="comment",r="story_comment_conduct";break;case"public-message":e="".concat(N,"\n\n")+"Message Author: ".concat(i.name,"\n")+"Message Location: ".concat(i.location,"\n")+"Message Body: ".concat(i.body,"\n"),n="public_message",r="public_message_conduct"}var a={name:Q,email:te,comment:e,ticket_form_id:w,username:i.name,reportType:n,reason:T,custom_fields:[{id:22708584,value:wattpad.utils.getCookie("locale")||"en_US"},{id:21519886,value:"mobile"==wattpad.utils.getDeviceType()?"mobile_web":"web"},{id:22875340,value:T},{id:360041074311,value:r}]};Promise.resolve($.ajax({type:"POST",url:"/v4/support/tickets/",data:a})).then((function(){ae||(b(g.items[0].next),Y(!1))})).catch((function(){c(),u(ie)}))};return ae?a.a.createElement(E,{requesterUsername:n,reportedUsername:i.name,muteCopies:g,submitReport:fe,hideModal:c,showToast:u}):g?a.a.createElement("div",{className:"report-modal"},a.a.createElement("header",{className:"modal-header"},a.a.createElement("h3",{className:"modal-title"},f),D&&a.a.createElement("button",{className:"prev-btn",onClick:ce},a.a.createElement(s.e,{iconName:"fa-left",height:"16",color:"wp-neutral-2"})),a.a.createElement("button",{className:"on-close",onClick:c},a.a.createElement(s.e,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"}))),K?a.a.createElement(y,{username:Q,email:te,setPayloadUsername:X,setPayloadEmail:ne,onClickPrev:ce,submitReport:fe}):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"modal-body"},z?a.a.createElement("h6",{className:"reason-title"},d("Reason:")+" ",a.a.createElement("strong",null,g.header)):a.a.createElement("h6",{className:"reason-note"},g.header),a.a.createElement("form",null,a.a.createElement("div",{className:"modal-body-content"},!g.isFinal&&g.items.map((function(e){return a.a.createElement(j,{key:e.id,item:e,textDescription:M,onChangeReportComment:ue,reportDetails:N,onClickNext:le})}))))),W&&!g.isFinal&&a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{className:"btn btn-orange",onClick:le,disabled:!N},d("Submit Report"))))):null}function j(e){var t,n=e.item,r=e.textDescription,o=e.onChangeReportComment,i=e.reportDetails,l=e.onClickNext;switch(n.type){case"text":return function(e){return a.a.createElement("div",{className:"report-reason",key:e.id},a.a.createElement("label",{className:"reason-label",htmlFor:"reason-".concat(e.id)},a.a.createElement("div",{className:"reason-text-container"},a.a.createElement("input",{className:"reason-title",type:"button",id:"reason-".concat(e.id),name:"report-reason-option",value:e.title,onClick:l}),a.a.createElement("p",{className:"reason-subtitle"},e.subtitle)),a.a.createElement("span",{className:"reason-right-icon",tabIndex:"-1"},a.a.createElement(s.e,{iconName:"fa-right",height:"13"}))))}(n);case"editText":return t=r,a.a.createElement("div",{className:"reason-comment"},a.a.createElement("textarea",{className:"form-control details-input",placeholder:t,value:i,onChange:o}));case"url":return function(e){return a.a.createElement("a",{href:e.extras.url},e.title)}(n);default:return a.a.createElement("div",null)}}N.propTypes={reportType:i.a.string.isRequired,requesterUsername:i.a.string,requesterEmail:i.a.string,reportId:i.a.shape({name:i.a.string.isRequired,location:i.a.string,body:i.a.string,deepLink:i.a.string}).isRequired,hideModal:i.a.func.isRequired,showErrorToast:i.a.func},j.propTypes={item:i.a.object,textDescription:i.a.string,onChangeReportComment:i.a.func.isRequired,reportDetails:i.a.string,onClickNext:i.a.func.isRequired};t.a=N},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(117),l=n(6),c=n(4),u=n.n(c),d=n(2),m=n(3);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=Object(d.o)(d.d);function h(e){var t=e.validationModel,n=e.onValid,r=e.onInvalid,a=e.inputRef,s=Object(m.h)().trans,l=f(Object(o.useState)(!1),2),c=l[0],d=l[1],p=f(Object(o.useState)(void 0),2),h=p[0],g=p[1],b=function(e){d(!1),r(),g(e)},v=function(){d(!0),g(void 0),n()},w=u()("has-feedback birthday-container",{valid:!0===c,invalid:!0!==c});return i.a.createElement("div",{className:w},i.a.createElement("div",{className:"birthday-fields"},i.a.createElement(y,{name:"month",label:s("Month"),form:"signup",inputType:"select",alt_msg:c?"Select Month":h,validationModel:t,onInvalid:b,onValid:v}),i.a.createElement(y,{name:"day",label:s("Day"),form:"signup",inputType:"select",alt_msg:c?"Select Day":h,validationModel:t,onInvalid:b,onValid:v}),i.a.createElement(y,{name:"year",label:s("Year"),form:"signup",inputType:"select",alt_msg:c?"Select Month":h,validationModel:t,onInvalid:b,onValid:v,inputRef:a})),!c&&i.a.createElement("div",{"aria-describedby":"birthday_error","aria-live":"assertive",role:"alert",className:"error-msg"},h))}h.propTypes={validationModel:a.a.shape({on:a.a.func,off:a.a.func}),onValid:a.a.func,onInvalid:a.a.func,inputRef:a.a.object};var g=h,b=n(5),v=n(8),w=n(57);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=Object(d.o)(d.d),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(n,e);var t=C(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),_(N(r=t.call(this,e)),"onNavigate",(function(e,t){e.preventDefault(),r.props.closeModal(),window.app.router.navigate(t,{trigger:!0})})),_(N(r),"validateSignupForm",(function(e,t){t.toLowerCase().includes("username")?r.setState({isUsernameValid:e}):t.toLowerCase().includes("email")?r.setState({isEmailValid:e}):t.toLowerCase().includes("password")?r.setState({isPasswordValid:e}):t.toLowerCase().includes("birthday")&&r.setState({isBirthdayValid:e})})),_(N(r),"onBackClicked",(function(){r.setState({showThirdPartyOptions:!0})})),_(N(r),"render",(function(){var e=r.props,t=e.source,n=e.formType,a=e.model,o=e.title,l=e.subtitle,c=e.trans,m=r.props.nextUrl||"/home",f="/signup?nextUrl=".concat(m),p="new_landing_".concat(t),y=c("Be part of a global community of readers and writers, all connected through the power of story."),h=c("By continuing, you agree to Wattpad's <a href='/terms'>Terms of Service</a> and <a href='/privacy'>Privacy Policy</a>."),b=u()("signup-form",{sidebar:"sidebar"===n}),v=r.state.isPasswordValid&&r.state.isEmailValid&&r.state.isUsernameValid&&r.state.isBirthdayValid,E=u()("btn-primary btn-block submit-btn",{enable:!0===v,disabled:!0!==v});return r.state.showThirdPartyOptions?i.a.createElement(w.a,O({model:a,nextUrl:m,signup:!0},r.props)):i.a.createElement("div",{id:"authentication",className:b},"sidebar"===n?null:o?i.a.createElement("h1",null,o):i.a.createElement("h1",null,c("Join Wattpad")),l?i.a.createElement("h2",{dangerouslySetInnerHTML:{__html:l}}):i.a.createElement("p",null,y),i.a.createElement("div",{className:"panel-body"},i.a.createElement("form",{id:"signupForm",action:f,method:"POST",onSubmit:function(e){r.state.isPasswordValid||(e.preventDefault(),r.passwordInput.current.focus()),r.state.isEmailValid||(e.preventDefault(),r.emailInput.current.focus()),r.state.isUsernameValid||(e.preventDefault(),r.usernameInput.current.focus()),r.state.isBirthdayValid||(e.preventDefault(),r.birthdayInput.current.focus())}},i.a.createElement("input",{type:"hidden",name:"signup-from",value:p}),i.a.createElement("input",{type:"hidden",name:"form-type",value:n||""}),i.a.createElement("div",{className:"input-group-vertical"},i.a.createElement(P,{name:"username",label:c("Username"),form:"signup",inputType:"text",title:c("Enter username"),inputRef:r.usernameInput,autofocus:!0,validationModel:a,showLabel:!0,onValid:function(e){return r.validateSignupForm(!0,e)},onInvalid:function(e){return r.validateSignupForm(!1,e)}}),i.a.createElement(P,{name:"email",label:c("E-mail"),form:"signup",inputType:"text",title:c("Enter E-mail"),validationModel:a,inputRef:r.emailInput,showLabel:!0,onValid:function(e){return r.validateSignupForm(!0,e)},onInvalid:function(e){return r.validateSignupForm(!1,e)}}),i.a.createElement(P,{name:"password",label:c("Password"),form:"signup",inputType:"password",title:c("Enter password"),validationModel:a,inputRef:r.passwordInput,showLabel:!0,showVisibilityToggle:!0,onValid:function(e){return r.validateSignupForm(!0,e)},onInvalid:function(e){return r.validateSignupForm(!1,e)}}),i.a.createElement("div",{className:"birthday-info"},i.a.createElement("span",{className:"birthday-title"},c("Birthday")),i.a.createElement("div",{"aria-label":"why we ask for your birthday","data-tip":c("We ask for your date of birth so you can have the right Wattpad experience for your age.")},i.a.createElement(d.e,{iconName:"fa-info",height:"16",color:"wp-neutral-1",className:"tooltip-icon"})),i.a.createElement(s.a,{className:"tool-tip",effect:"solid"})),i.a.createElement("div",{className:"birthday-fields"},i.a.createElement(g,{inputRef:r.birthdayInput,validationModel:a,onValid:function(){return r.validateSignupForm(!0,"birthday")},onInvalid:function(){return r.validateSignupForm(!1,"birthday")}}))),i.a.createElement("input",{type:"submit",className:E,"aria-label":"Sign up with email",value:c("Sign up with email")})),i.a.createElement("span",{className:"policy-agreement",dangerouslySetInnerHTML:{__html:h}}),i.a.createElement("div",{className:"back-link-container"},i.a.createElement("button",{className:"back-link",onClick:function(){return r.onBackClicked()}},i.a.createElement("span",{className:"fa fa-left fa-wp-neutral-1 back-icon"}),c("Back to all signup options")))))})),r.state={isUsernameValid:!1,isEmailValid:!1,isPasswordValid:!1,isBirthdayValid:!1,showThirdPartyOptions:!1},r.usernameInput=i.a.createRef(),r.emailInput=i.a.createRef(),r.passwordInput=i.a.createRef(),r.birthdayInput=i.a.createRef(),r}return n}(o.Component);_(T,"propTypes",{model:a.a.object,nextUrl:a.a.string,source:a.a.string,formType:a.a.string,title:a.a.string,subtitle:a.a.string,trans:a.a.func.isRequired,closeModal:a.a.func});var R=Object(l.b)(null,{closeModal:v.a})(T);t.a=Object(b.m)(R)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(e){return a.a.createElement("div",{className:l()("ds ds-one-col-page",e.variant)},a.a.createElement("div",{className:"column"},e.children))}c.propTypes={children:i.a.node,variant:i.a.string},c.defaultProps={variant:""}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(2);function c(e){var t=e.featureStr;return a.a.createElement("div",{className:"check-and-feature"},a.a.createElement(l.e,{iconName:"fa-check",height:"22",className:"check-icon"}),a.a.createElement("p",null,a.a.createElement("strong",null,t.split(" ")[0])," "+t.substring(t.indexOf(" ")+1)))}c.propTypes={featureStr:i.a.string},t.a=function(){var e=Object(s.h)().trans;return a.a.createElement("div",{className:"checked-features"},a.a.createElement(c,{featureStr:e("Vote on stories that you like")}),a.a.createElement(c,{featureStr:e("Comment on stories and profiles")}),a.a.createElement(c,{featureStr:e("Update your profile")}),a.a.createElement(c,{featureStr:e("Create your stories, and more")}))}},,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(3);t.a=function(){var e=Object(i.h)().trans;return a.a.createElement("div",{className:"promoted-indicator"},a.a.createElement(o.e,{name:"promoted",className:"promoted-icon",size:"25",color:"wp-base-1",boxX:"-5",boxY:"-5"}),a.a.createElement("p",null,e("Promoted")))}},function(e,t,n){"use strict";var r=n(52),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(2),c=n(136),u=n(84),d=n.n(u),m=n(5),f=n(3),p=n(43),y=n(67);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=e.heading,n=e.index,r=e.isCompleted,a=e.isPaid,o=e.numParts,i=e.offset,c=e.page,u=e.sectionType,d=e.sources,p=e.subheading,h=e.storyId,g=e.fromStoryDetails,b=e.isMature,v=void 0!==b&&b,w=Object(f.h)().trans;return s.a.createElement("div",{className:"story-metadata"},s.a.createElement("div",{className:"meta-header"},s.a.createElement("div",{className:"title-and-badge"},s.a.createElement("div",{className:"paid-stories-badge"},a?s.a.createElement(l.e,{name:"paidStory",className:"paid-stories-badge",size:"20",viewBox:"20",color:"ds-neutral-100",strokeWidth:"0",fill:!0,title:"Paid Stories Badge"}):null),s.a.createElement("div",{className:"story-title"},s.a.createElement("h3",null,t))),s.a.createElement(y.a,{numParts:o,isMature:v,isCompleted:r})),s.a.createElement("div",{className:"story-description","aria-hidden":"true"},s.a.createElement("h4",null,Object(m.u)(p,200,!1))),s.a.createElement("div",{className:"more-details-wrapper"},s.a.createElement("button",{className:"more-details",onClick:function(){g?window.te.push("event","story",null,null,"click",{storyid:h,page:"story_details",type:"similar_stories",source:"story_details"}):window.te.push("event","story",null,null,"click",{storyid:h,page:c,algo_source:d,position:n,offset:i,type:u}),app.router.navigate("/story/".concat(h),{trigger:!0})}},w("More details")),s.a.createElement("div",{className:"arrow-icon"},s.a.createElement(l.e,{name:"chevRight",size:"18"}))))};E.propTypes={heading:o.a.string.isRequired,index:o.a.number,isCompleted:o.a.bool,isMature:o.a.bool,isPaid:o.a.bool,numParts:o.a.number,offset:o.a.number,page:o.a.string,sectionType:o.a.string.isRequired,sources:o.a.array,storyId:o.a.number.isRequired,subheading:o.a.string,fromStoryDetails:o.a.bool};var O=function(e){var t=e.index,n=e.onStoryClick,a=e.page,o=e.sectionType,u=e.stories,m=e.storiesToShow,f=void 0===m?5:m,y=e.storyWidth,v=void 0===y?88:y,w=e.wasSeen,O=e.windowWidth,S=e.callTrackingUrls,C=e.clickTrackingUrls,k=e.userLang,N=e.fromStoryDetails,j=!1,_=O<575,P=O<=360;O<=980&&(f=2.5,j=!0,_&&(f=3.5,Object(p.a)(2.5)?v=Math.floor(35):Object(p.a)(1.5)&&(v=Math.floor(52.5))),P&&(f=3));var T=d()(k),R=b(Object(i.useState)([]),2),x=R[0],I=R[1],A=b(Object(i.useState)(0),2),L=A[0],M=A[1],q=b(Object(i.useState)(0),2),U=q[0],D=q[1];Object(i.useEffect)((function(){if(w){var e=Math.min(Math.round(f),u.length);u.slice(0,e).map((function(e,n){N?window.te.push("event","story",null,null,"view",{storyid:e.id,page:"story_details",type:"similar_stories",source:"story_details"}):F(e.id,e.sources,t,n,o)})),I([].concat(g(x),g(u.slice(0,e).map((function(e,t){return t})))))}}),[w]);var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;window.te.push("event","story",null,null,"view",{storyid:e,page:a,algo_source:t,position:n,offset:r,type:o})},B=function(e){D(e)};return null!==u&&0!==u.length?s.a.createElement("div",{className:"story-expanded-carousel"},s.a.createElement("div",T?{dir:"ltr",className:"carousel-container rtl-adjust"}:{className:"carousel-container"},s.a.createElement(r.a,{dragging:!1,afterSlide:function(e){if(M(e),w){var n=Math.min(e+Math.round(f),u.length);u.slice(e,n).map((function(n,r){x.includes(e+r)||(N?window.te.push("event","story",null,null,"view",{storyid:n.id,page:"story_details",type:"similar_stories",source:"story_details"}):F(n.id,n.sources,t,e+r,o))})),I([].concat(g(x),g(u.slice(e,n).map((function(t,n){return e+n})))))}},enableKeyboardControls:!0,slideIndex:U,frameOverflow:j?"visible":"hidden",scrollMode:"page",slidesToScroll:_?1:f,heightMode:"max",cellAlign:"left",wrapAround:!!_||T,slidesToShow:f,initialHeight:"1",renderCenterRightControls:5===f&&u.length>5?function(e){return function(e,t,n){return e!==n-f||T?s.a.createElement("button",{className:"next-btn",onClick:t},s.a.createElement(l.e,{name:"arrowCircleRight",size:"40",alt:"next",strokeWidth:"2.25"})):null}(e.currentSlide,e.nextSlide,e.slideCount)}:null,renderCenterLeftControls:5===f&&u.length>5?function(e){return function(e,t){return 0!==e||T?s.a.createElement("button",{className:"prev-btn",onClick:t},s.a.createElement(l.e,{name:"arrowCircleLeft",size:"40",alt:"previous",strokeWidth:"2.25"})):null}(e.currentSlide,e.previousSlide)}:null,renderBottomCenterControls:null},u.map((function(e,r){if(e.id&&e.cover)return r===L?s.a.createElement("div",{key:"".concat(e.id,"-").concat(r),className:"zoom-story-item"},s.a.createElement(c.a,h({},e,{sectionType:o,index:t,offset:r,width:v,shiftCarousel:function(){return B(r)},page:a,onStoryClick:n,storyData:e,clickTrackingUrls:C,callTrackingUrls:S,isActiveStory:!0}))):s.a.createElement(c.a,h({},e,{sectionType:o,index:t,offset:r,width:v,key:"".concat(e.id,"-").concat(r),page:a,shiftCarousel:function(){return B(r)},onStoryClick:n,storyData:e,clickTrackingUrls:C,callTrackingUrls:S}))}))),u.map((function(e,n){if(e.id&&e.cover&&n===L)return s.a.createElement(E,{heading:e.title,subheading:e.description,key:e.id,sectionType:o,page:a,index:t,offset:n,storyId:e.id,isPaid:e.isPaid||e.isPaywalled,numParts:e.numParts,isCompleted:e.completed,isMature:e.mature,sources:e.sources,fromStoryDetails:N})})))):null};O.defaultProps={onStoryClick:null},O.propTypes={index:o.a.number,onStoryClick:o.a.func,page:o.a.string,sectionType:o.a.string.isRequired,stories:o.a.array.isRequired,storiesToShow:o.a.number,storyWidth:o.a.number,wasSeen:o.a.bool,windowWidth:o.a.number,callTrackingUrls:o.a.func,clickTrackingUrls:o.a.array,userLang:o.a.number,fromStoryDetails:o.a.bool},t.a=O},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(5),c=function(e){var t=e.username,n=e.avatar,r=void 0===n?"/img/avatar/empty.png":n,o=e.authorCharLimit,i=void 0===o?0:o,c=e.shouldLinkify,u=void 0!==c&&c,d=Object(s.h)().trans;return a.a.createElement("div",{className:"author-info"},a.a.createElement("img",{src:r||"/img/avatar/empty.png",alt:"",className:"author-info__badge"}),a.a.createElement("div",{className:"author-info__username"},a.a.createElement("a",{href:"/user/"+t,className:"on-navigate","aria-label":d("by %s. Tap to go to the author's profile page.",t)},i?Object(l.u)(t,i,u):t)))};c.propTypes={username:i.a.string.isRequired,avatar:i.a.string,authorCharLimit:i.a.number,shouldLinkify:i.a.bool},t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(11),u=n(72),d=n(80);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=g(i);function i(){var e;p(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(v(e=o.call.apply(o,[this].concat(n))),"tagClickHandler",(function(t,n){e.props.onTagClicked&&e.props.onTagClicked(n,t),window.wattpad.utils.stopEvent(t),window.app.trigger("app:component:TagGridItem:click",t)})),E(v(e),"tagKeyDownHandler",(function(t,n){" "!==t.key&&"Spacebar"!==t.key||(e.props.onTagClicked&&e.props.onTagClicked(n,t),window.wattpad.utils.stopEvent(t))})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.tagGridTags.tags,n=this.props.tagGridTags.withIcon||!1;return t&&t.length>0?a.a.createElement("div",{className:l()("tag-grid clearfix",this.props.className)},a.a.createElement("ul",{className:"tag-items"},t.map((function(t,r){return n?a.a.createElement("li",{key:t.id},a.a.createElement(d.a,f({},t,{clickHandler:e.tagClickHandler}))):a.a.createElement("li",{key:t.id},a.a.createElement(u.TagPill,f({bgColor:e.getNextTagColor(r,"bg"),color:e.getNextTagColor(r)},t,{clickHandler:e.tagClickHandler,keyDownHandler:e.tagKeyDownHandler})))})))):null}},{key:"getNextTagColor",value:function(e,t){var n=e%c.j;return"bg"===t?c.i[n]:c.k[n]}}])&&y(t.prototype,n),r&&y(t,r),i}(a.a.Component);O.propTypes={tagGridTags:i.a.object.isRequired,onTagClicked:i.a.func,className:i.a.string}},function(e,t,n){"use strict";var r=n(0),a=n(1),o=n.n(a);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.includes(t))throw new Error("Default option is not in options list");var a={};e.forEach((function(e){return a[e]=e===t}));var o={};o=0===Object.keys(n).length?c({},a):c({},n);var s=function(e,n){switch(n.type){case"APPLY":var r;return delete e.error,n.value===t?a:c(c({},e),{},(u(r={},n.value,!0),u(r,t,!1),r));case"REMOVE":if(delete e.error,n.value===t)return e;var o=c(c({},e),{},u({},n.value,!1));return Object.values(o).includes(!0)?o:a;default:return c(c({},e),{},{error:"Error in default reducer"})}},l=Object(r.useReducer)(s,o),d=i(l,2),m=d[0],f=d[1],p=function(e,t){f({type:e,value:t})};return[m,p]};d.propTypes={optionsList:o.a.arrayOf(o.a.string).isRequired,defaultOption:o.a.string.isRequired,initialState:o.a.object},t.a=d},,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(46),i=n.n(o),s=n(1),l=n.n(s),c=n(4),u=n.n(c),d=n(338),m=n(122),f=n(2),p=n(3),y=n(6),h=n(8),g=n(16);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t,n=e.beforeModalRef,o=e.storyId,i=Object(y.c)(),s=Object(y.d)((function(e){return e.homeSections.readingLists}))||[],l=Object(y.d)((function(e){return e.homeSections.storiesCollections}))[o]||{},c=Object(p.h)().trans,u=v(Object(r.useState)(""),2),d=u[0],m=u[1],w=Object(r.useRef)({}),E=Object(r.useRef)(null),O=v(Object(r.useState)(null),2),S=O[0],C=O[1];void 0!==("undefined"==typeof window?"undefined":b(window))&&(t=document.querySelector(".reading-list-modal")),Object(r.useEffect)((function(){var e,r;if(t){t.addEventListener("keydown",(function(t){9===t.keyCode&&e&&r&&(t.shiftKey?document.activeElement===e&&(t.preventDefault(),r.focus()):document.activeElement===r&&(t.preventDefault(),e.focus()));27===t.keyCode&&n&&n.focus()}));var a=t.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]');a=Array.prototype.slice.call(a),e=a[0],r=a[a.length-1],document.activeElement===n&&e.focus()}}),[n,t]);var k=function(e){N(o),i(Object(g.p)(e,o))},N=function(e){window.te.push("event","app","story","library","add",{storyid:e,page:"story_details"})},j=function(e){C(null),l[e]?(!function(e){window.te.push("event","app","story","library","remove",{storyid:e,page:"story_details"})}(o),i(Object(g.m)(e,o))):k(e)};return a.a.createElement("div",{className:"reading-list-modal"},a.a.createElement("span",{className:"reading-list-header"},a.a.createElement("span",{className:"sr-only"},c("Add to modal open")),a.a.createElement("div",{"aria-hidden":"true",className:"reading-list-title"},c("Add to")),a.a.createElement("button",{className:"reading-list-close-btn",onClick:function(){n&&n.focus(),i(Object(h.a)())}},c("Done"))),a.a.createElement("ul",{className:"reading-list-items"},a.a.createElement("li",{key:"library",className:"reading-list-item"},a.a.createElement("button",{onClick:function(){j("library")},ref:function(e){return w.current.library=e},tabIndex:"0"},a.a.createElement(f.e,{iconName:"fa-library",height:"22",color:"wp-neutral-1"}),a.a.createElement("span",{className:"reading-list-item-name"},"Library"),l.library&&a.a.createElement(f.e,{name:"check",size:"22",color:"wp-base-1",fill:!0,strokeWidth:"1"}))),s&&s.map((function(e){return a.a.createElement("li",{key:e.id,className:"reading-list-item"},a.a.createElement("button",{onClick:function(){j(e.id)},tabIndex:"0",ref:function(t){return w.current[e.id]=t}},a.a.createElement(f.e,{iconName:"fa-reading-list",height:"22",color:"wp-neutral-1"}),a.a.createElement("span",{className:"reading-list-item-name"},e.name),l[e.id]&&a.a.createElement(f.e,{name:"check",size:"22",color:"wp-base-1",fill:!0,strokeWidth:"1"})))})),a.a.createElement("div",{ref:E})),a.a.createElement("form",null,a.a.createElement("div",{className:"reading-list-input-row"},a.a.createElement("input",{type:"text",className:"form-control input-text",placeholder:c("Add new reading list..."),onChange:function(e){return m(e.target.value)},value:d}),a.a.createElement("button",{"aria-label":c("Add new reading list..."),tabIndex:"0",className:"btn-icon",onClick:function(e){e.preventDefault(),e.stopPropagation(),function(){C(null);var e=d;m("");var t=s.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(t&&l[t.id])w.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else if(t)k(t.id),w.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else{var n={id:null,name:e,numStories:0,cover:0,tags:[],featured:!1,stories:o};N(o),Promise.resolve($.post("/api/v3/lists/",n)).then((function(){i(Object(g.g)()),i(Object(g.e)(o)),E.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})})).catch((function(e){var t=e.responseText?e.responseText:e.statusText;console.log(t||e);var n=new Error(c("We are unable to add this story to your reading list at this time"));C(n)}))}}()}},a.a.createElement(f.e,{name:"add",height:"12",color:"wp-neutral-1",strokeWidth:"2.5"})))),S&&a.a.createElement("div",{className:"reading-list-error"},S.message))}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}E.propTypes={beforeModalRef:l.a.object,storyId:l.a.number.isRequired,readingLists:l.a.array,storiesCollections:l.a.object};var k=function(e){var t=e.className,n=e.isLoggedInUser,o=e.isPaid,s=e.isPaidPreview,l=e.firstPartId,c=e.storyId,g=e.readingLists,b=e.storiesCollections,v=e.sources,w=e.isMobile,C=Object(y.c)(),k=S(Object(r.useState)(!1),2),N=k[0],j=k[1],_=Object(r.useRef)(null),P=Object(r.useRef)(null),T=S(Object(r.useState)(null),2),R=T[0],x=T[1],I=Object(p.h)().trans,A=function(){return a.a.createElement(m.a,{readingLists:g,storiesCollections:b[c],storyId:parseInt(c),className:"story-details-add-to-library",fromStoryDetails:!0,setShowPopover:j})},L=Object(d.a)(_.current,P.current,{modifiers:[{name:"arrow",options:{element:R}},{name:"offset",options:{offset:[0,10]}}]}),M=L.styles,q=L.attributes,U=function(e){var t=e.partId,n=e.children;return a.a.createElement("a",{className:"btn-primary read-btn",href:"/"+t,onClick:function(e){return function(e){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:c,page:"story_details",type:"primary",source:"story_details",algo_source:v||""}),app.router.navigate("/"+l,{trigger:!0})}(e)}},n)};return a.a.createElement("div",{className:u()("story-actions",t)},N&&"undefined"!=typeof window&&i.a.createPortal(a.a.createElement("div",O({ref:P,style:M.popper},q.popper),A(),a.a.createElement("div",{ref:x,style:M.arrow})),document.querySelector("#react-popover")),o&&s?a.a.createElement(U,{partId:l},a.a.createElement(f.e,{name:"paidStory",size:"20",color:"ds-neutral-00-solid",strokeWidth:"0",fill:!0}),I("Free preview")):a.a.createElement(U,{partId:l},a.a.createElement(f.e,{name:"bookOpenBeta",size:"16",color:"ds-neutral-00-solid"}),I("Start reading")),a.a.createElement("button",{ref:_,className:"btn-primary add-to-library-btn",onClick:function(){w?C(Object(h.c)({component:function(){return a.a.createElement(E,{beforeModalRef:_.current,storyId:c})},className:"reading-list-modal-container",useGlobalModalContainer:!0})):(j(!N),A())},disabled:!n,title:I("Add story to..."),"aria-label":I("Add story to...")},a.a.createElement(f.e,{name:"add",size:"24"})))};k.propTypes={className:l.a.string,isLoggedInUser:l.a.bool,isPaid:l.a.bool,isPaidPreview:l.a.bool,firstPartId:l.a.number,storyId:l.a.number,readingLists:l.a.array,storiesCollections:l.a.object,isMobile:l.a.bool,partId:l.a.number,children:l.a.node,sources:l.a.array};t.a=k},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(3),c=n(66);function u(e){var t=e.googleCta,n=e.nextUrl;Object(r.useEffect)((function(){0===$("#google-root").length&&($.getScript("https://apis.google.com/js/api.js",(function(){window.gapi.load("client:auth2")})),$("body").append("<div id='google-root'></div>"))}),[]);return a.a.createElement("button",{onClick:function(){window.gapi.auth2.authorize({client_id:wattpad.googleClientId,scope:"profile openid email https://www.googleapis.com/auth/user.birthday.read"},(function(e){if(e.access_token){var t={token:e.access_token,type:"google"},r=encodeURIComponent(JSON.stringify(t));window.location.href="/oauth-auth?nextUrl="+wattpad.utils.getNextUrl(n,window.location.href)+"&data="+r}}))},className:"btn btn-google btn-block"},a.a.createElement(c.a,{name:"/shared/google_login_color.png",title:"Google Login",width:"24",className:"google-login-logo","aria-hidden":"true"}),a.a.createElement("span",null,a.a.createElement("span",{className:"auth-btn"},t)))}function d(e){var t=e.source,n=e.nextUrl,r=e.focus,o=void 0===r||r,i=Object(l.h)().trans,c=i("signup"===t?"Sign up with Facebook":"Log in with Facebook"),d=i("signup"===t?"Sign up with Google":"Log in with Google");return a.a.createElement("div",{className:"signin-buttons"},a.a.createElement("button",{className:"btn btn-facebook btn-block",autoFocus:o},a.a.createElement(s.e,{iconName:"fa-facebook-official",height:"24",color:"wp-neutral-5"}),a.a.createElement("span",null,a.a.createElement("span",{className:"auth-btn"},c))),a.a.createElement(u,{googleCta:d,nextUrl:n}))}u.propTypes={googleCta:i.a.string.isRequired,nextUrl:i.a.string},d.propTypes={source:i.a.string,nextUrl:i.a.string,focus:i.a.bool};t.a=d},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(73),a=a||e,o=a.wattpad&&a.wattpad.utils||{},i={localStorage:{get:function(e){return a.localStorage.getItem(e)},set:function(e,t){return a.localStorage.setItem(e,t)}},sessionStorage:{get:function(e){return a.sessionStorage.getItem(e)},set:function(e,t){return a.sessionStorage.setItem(e,t)}},cookie:{get:function(e){return o.getCookie(e)},set:function(e,t){return o.setCookie(e,t)}}},s=function(e){return-1!==["cookie","localStorage","sessionStorage"].indexOf(e)&&("cookie"===e?o&&o.getCookie:"localStorage"===e?a&&a.localStorage:"sessionStorage"===e?a&&a.sessionStorage:void 0)},l=function(e){var t=e.key,n=e.type,a=void 0===n?"cookie":n;if(r.a&&s(a))try{var o=i[a].get(t);return o?JSON.parse(o):null}catch(e){return null}return null}}).call(this,n(40))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(6),c=n(4),u=n.n(c),d=n(2),m=n(118),f=n(31);function p(e){var t=e.title,n=e.isMobile,o=e.subtitle,i=e.loadFeaturedList,l=e.featuredList,c=e.openPopover,m=e.readingList,f=Object(r.useRef)(null),p=Object(s.h)().trans;o=o||p("Check out the latest and greatest stories hand-picked by our team"),Object(r.useEffect)((function(){i()}),[i]);return t?a.a.createElement("header",{className:"catalog-header right-icon"},n?a.a.createElement("h1",{className:"catalog-title"},t):a.a.createElement("button",{disabled:0===l.length,className:"btn-no-style list-title",onClick:function(){if(l.length>0){c({component:function(){return a.a.createElement("div",{className:"react-popover-list"},a.a.createElement("a",{className:u()("on-navigate react-popover-item",{selected:!m}),href:"/catalog/paidstories"},p("Paid Stories")),l.map((function(e){return a.a.createElement("a",{key:e.id,className:u()("on-navigate react-popover-item",{selected:m&&e.id===m.id}),href:"/featured/".concat(e.id)},e.name)})))},triggerRef:f})}},"aria-label":p("Show featured list"),ref:f},a.a.createElement("h1",null,t),a.a.createElement(d.e,{name:"chevDown",size:24})),a.a.createElement("h2",{className:"subtitle"},o)):null}p.propTypes={title:i.a.string,isMobile:i.a.bool,subtitle:i.a.string,loadFeaturedList:i.a.func,featuredList:i.a.array,openPopover:i.a.func,readingList:i.a.object};var y=Object(l.b)((function(e){return{featuredList:e.catalog.featuredList}}),{loadFeaturedList:m.b,openPopover:f.c})(p),h=n(321);function g(e){var t=e.catalog,n=e.isMobile,r=Object(s.h)().trans;return a.a.createElement("div",{className:"catalog-container"},a.a.createElement(y,{title:r("Paid Stories"),isMobile:n}),"paidstories"===t&&a.a.createElement(h.a,null))}g.propTypes={catalog:i.a.string.isRequired,isMobile:i.a.bool.isRequired}},,,function(e,t){e.exports={home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',library:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-library" transform="translate(3.000000, 3.000000)" fill="#6F6F6F"><path d="M17.4,0 C17.9522847,-1.01453063e-16 18.4,0.44771525 18.4,1 L18.4,17 C18.4,17.5522847 17.9522847,18 17.4,18 L17,18 C16.4477153,18 16,17.5522847 16,17 L16,1 C16,0.44771525 16.4477153,1.01453063e-16 17,0 L17.4,0 Z M12.4,0 C12.9522847,-1.01453063e-16 13.4,0.44771525 13.4,1 L13.4,17 C13.4,17.5522847 12.9522847,18 12.4,18 L12,18 C11.4477153,18 11,17.5522847 11,17 L11,1 C11,0.44771525 11.4477153,1.01453063e-16 12,0 L12.4,0 Z M6.33618624,0.254903754 L6.72255657,0.358431372 C7.25602267,0.501373184 7.57260516,1.04971014 7.42966335,1.58317624 L3.28855863,17.0379895 C3.14561682,17.5714556 2.59727986,17.8880381 2.06381376,17.7450962 L1.67744343,17.6415686 C1.14397733,17.4986268 0.827394836,16.9502899 0.970336648,16.4168238 L5.11144137,0.962010536 C5.25438318,0.428544432 5.80272014,0.111961943 6.33618624,0.254903754 Z" id="Combined-Shape"></path></g></g>',create:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-create" transform="translate(2.000000, 2.000000)" stroke="#6F6F6F" stroke-width="2"><g id="edit-2" stroke-linecap="round" stroke-linejoin="round"><path d="M15,1 C15.7145312,0.285468802 16.7559831,0.00641259763 17.7320508,0.267949159 C18.7081186,0.52948572 19.4705143,1.29188142 19.7320508,2.26794918 C19.9935874,3.24401693 19.7145312,4.28546882 19,5 L5.5,18.5 L0,20 L1.5,14.5 L15,1 Z" id="Path"></path></g><path d="M2.5,14.5 L5.5,17.5" id="Line-3" stroke-linecap="square"></path></g></g>',notifications:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',profile:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',chevDown:'<polyline points="6 9 12 15 18 9"></polyline>',chevUp:'<polyline points="18 15 12 9 6 15"></polyline>',chevLeft:'<polyline points="15 18 9 12 15 6"></polyline>',chevRight:'<polyline points="9 18 15 12 9 6"></polyline>',close:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',closeCircle:"",search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',add:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',remove:'<line x1="5" y1="12" x2="19" y2="12"></line>',more:'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',follow:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',following:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',dropdownCaret:"",arrowCircleRight:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',arrowCircleLeft:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',arrowCircleDown:'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',arrowCircleUp:'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',arrowLeft:'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',arrowRight:'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',arrowDown:'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',helpCircle:'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',refresh:'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',circle:'<circle cx="12" cy="12" r="10"></circle>',report:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',history:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',drag:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',share:'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',comment:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',edit:'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',mute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',unmute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',block:'<path d="M7.00001 0.333252C3.31668 0.333252 0.333344 3.31659 0.333344 6.99992C0.333344 10.6833 3.31668 13.6666 7.00001 13.6666C10.6833 13.6666 13.6667 10.6833 13.6667 6.99992C13.6667 3.31659 10.6833 0.333252 7.00001 0.333252ZM1.66668 6.99992C1.66668 4.05325 4.05334 1.66659 7.00001 1.66659C8.23334 1.66659 9.36334 2.08992 10.2667 2.78992L2.79001 10.2666C2.09001 9.36325 1.66668 8.23325 1.66668 6.99992ZM7.00001 12.3333C5.76668 12.3333 4.63668 11.9099 3.73334 11.2099L11.21 3.73325C11.91 4.63659 12.3333 5.76659 12.3333 6.99992C12.3333 9.94659 9.94668 12.3333 7.00001 12.3333Z" fill="#111111"/>',success:'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',filter:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',attach:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',lightbulb:'<path d="M8 20.56l.03.937c0 .86.995 1.004 1.984 1.004h2.304c1 0 1.68-.328 1.68-1.187V20.5m-5.89-1c0-1.58-.556-2.654-1.573-3.802a6.3 6.3 0 0 1-1.482-4.93C5.42 8.04 7.75 5.5 10.976 5.5c3.286 0 6.02 2.727 6.024 6.13 0 1.534-.556 3.017-1.62 4.165-.974 1.05-1.482 2.08-1.482 3.705" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><path d="M8 20.052h6" stroke-width="2"/><path d="M21.38 13.845H20m-17.62 0H1m2.76-7.207l-.975-.975m16.835.285l-.975.975M11 1.5v1.38" stroke-width="2" stroke-linecap="round"/>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',textFormat:"",picture:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',hideKeyboard:"",link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',brightnessUp:"",brightnessDown:"",reply:"",embed:"",camera:"",lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',unlock:"",timeout:'<path fill-rule="evenodd" clip-rule="evenodd" d="M1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12ZM21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM19 13C19 13.5523 18.5523 14 18 14L12.0014 14C12.0009 14 12.0005 14 12 14C11.4477 14 11 13.5523 11 13V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V12L18 12C18.5523 12 19 12.4477 19 13Z" fill="#121212"/>',closeAccount:'<path fill-rule="evenodd" clip-rule="evenodd" d="M15.3332 8.00033C15.3332 12.0504 12.0499 15.3337 7.99984 15.3337C3.94975 15.3337 0.666504 12.0504 0.666504 8.00033C0.666504 3.95024 3.94975 0.666992 7.99984 0.666992C12.0499 0.666992 15.3332 3.95024 15.3332 8.00033ZM2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8ZM7.05719 8L5.5286 9.5286C5.26825 9.78895 5.26825 10.2111 5.5286 10.4714C5.78895 10.7318 6.21106 10.7318 6.4714 10.4714L8 8.94281L9.5286 10.4714C9.78895 10.7318 10.2111 10.7318 10.4714 10.4714C10.7318 10.2111 10.7318 9.78895 10.4714 9.5286L8.94281 8L10.4714 6.4714C10.7318 6.21106 10.7318 5.78895 10.4714 5.5286C10.2111 5.26825 9.78895 5.26825 9.5286 5.5286L8 7.05719L6.4714 5.5286C6.21106 5.26825 5.78895 5.26825 5.5286 5.5286C5.26825 5.78895 5.26825 6.21106 5.5286 6.4714L7.05719 8Z" fill="#121212"/>',readingList:"",underline:"",bold:"",italic:"",textAlignRight:"",textAlignCenter:"",textAlignLeft:"",userFollow:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 7C3.5 9.76142 5.73858 12 8.5 12C11.2614 12 13.5 9.76142 13.5 7C13.5 4.23858 11.2614 2 8.5 2C5.73858 2 3.5 4.23858 3.5 7ZM11.5 7C11.5 8.65685 10.1569 10 8.5 10C6.84315 10 5.5 8.65685 5.5 7C5.5 5.34315 6.84315 4 8.5 4C10.1569 4 11.5 5.34315 11.5 7ZM17 21C17 21.5523 16.5523 22 16 22C15.4477 22 15 21.5523 15 21V19C15 17.3431 13.6569 16 12 16H5C3.34315 16 2 17.3431 2 19V21C2 21.5523 1.55228 22 1 22C0.447715 22 0 21.5523 0 21V19C0 16.2386 2.23858 14 5 14H12C14.7614 14 17 16.2386 17 19V21ZM21 10H23C24.3333 10 24.3333 12 23 12H21V14C21 15.3333 19 15.3333 19 14V12H17C15.6667 12 15.6667 10 17 10H19V8C19 6.66667 21 6.66667 21 8V10Z"/>',userFollowed:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 7C3.5 9.76142 5.73858 12 8.5 12C11.2614 12 13.5 9.76142 13.5 7C13.5 4.23858 11.2614 2 8.5 2C5.73858 2 3.5 4.23858 3.5 7ZM11.5 7C11.5 8.65685 10.1569 10 8.5 10C6.84315 10 5.5 8.65685 5.5 7C5.5 5.34315 6.84315 4 8.5 4C10.1569 4 11.5 5.34315 11.5 7ZM17 21C17 21.5523 16.5523 22 16 22C15.4477 22 15 21.5523 15 21V19C15 17.3431 13.6569 16 12 16H5C3.34315 16 2 17.3431 2 19V21C2 21.5523 1.55228 22 1 22C0.447715 22 0 21.5523 0 21V19C0 16.2386 2.23858 14 5 14H12C14.7614 14 17 16.2386 17 19V21ZM23.7071 8.29289C23.3166 7.90237 22.6834 7.90237 22.2929 8.29289L19 11.5858L17.7071 10.2929C17.3166 9.90237 16.6834 9.90237 16.2929 10.2929C15.9024 10.6834 15.9024 11.3166 16.2929 11.7071L18.2929 13.7071C18.6834 14.0976 19.3166 14.0976 19.7071 13.7071L23.7071 9.70711C24.0976 9.31658 24.0976 8.68342 23.7071 8.29289Z"/>',rankingBadge:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5.6001 11.1998C5.6001 5.45604 10.2563 0.799805 16.0001 0.799805C21.7439 0.799805 26.4001 5.45604 26.4001 11.1998C26.4001 16.9436 21.7439 21.5998 16.0001 21.5998C10.2563 21.5998 5.6001 16.9436 5.6001 11.1998ZM12.2383 16.3775L12.9567 12.1887L9.91334 9.2221L14.1192 8.61095L16.0001 4.7998L17.881 8.61095L22.0869 9.2221L19.0435 12.1887L19.7619 16.3775L16.0001 14.3998L12.2383 16.3775ZM11.2001 30.8975V22.2013C12.67 22.8435 14.2934 23.1998 16.0001 23.1998C17.9017 23.1998 19.7 22.7575 21.2978 21.9701V30.8975L16.2489 25.8486L11.2001 30.8975Z"/>',reportFlag:'<path fill-rule="evenodd" clip-rule="evenodd" d="M0.333008 18.9997V2.99967C0.333008 2.64605 0.473484 2.30691 0.723532 2.05687C1.0163 1.7641 1.54299 1.41297 2.33782 1.09504C3.54157 0.613537 5.08449 0.333008 6.99967 0.333008C8.88843 0.333008 10.1765 0.701033 12.8282 1.76171C15.1765 2.70103 16.2218 2.99967 17.6663 2.99967C19.2512 2.99967 20.4582 2.7802 21.3378 2.42837C21.793 2.2463 22.0163 2.09743 22.0569 2.05687C22.8968 1.21691 24.333 1.8118 24.333 2.99967V18.9997C24.333 19.3533 24.1925 19.6924 23.9425 19.9425C23.6497 20.2353 23.123 20.5864 22.3282 20.9043C21.1244 21.3858 19.5815 21.6663 17.6663 21.6663C15.7776 21.6663 14.4895 21.2983 11.8378 20.2376C9.4895 19.2983 8.44426 18.9997 6.99967 18.9997C5.41486 18.9997 4.20777 19.2191 3.3282 19.571C3.20092 19.6219 3.09177 19.6702 2.99967 19.7143V28.333C2.99967 29.0694 2.40272 29.6663 1.66634 29.6663C0.929961 29.6663 0.333008 29.0694 0.333008 28.333V18.9997ZM6.99967 16.333C8.88842 16.333 10.1765 16.701 12.8282 17.7617C15.1765 18.701 16.2218 18.9997 17.6663 18.9997C19.2512 18.9997 20.4582 18.7802 21.3378 18.4284C21.4651 18.3775 21.5742 18.3291 21.6663 18.2851V5.13776C20.5742 5.47524 19.2471 5.66634 17.6663 5.66634C15.7776 5.66634 14.4895 5.29832 11.8378 4.23764C9.4895 3.29832 8.44426 2.99967 6.99967 2.99967C5.41486 2.99967 4.20777 3.21914 3.3282 3.57098C3.20092 3.62189 3.09177 3.6702 2.99967 3.71428V16.8616C4.09182 16.5241 5.41894 16.333 6.99967 16.333Z" fill="#121212"/>',commentMeta:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',views:'<path fill-rule="evenodd" clip-rule="evenodd" d="M0.0703819 7.70186C0.164094 7.51443 0.339978 7.20175 0.596224 6.80498C1.02033 6.1483 1.52075 5.49201 2.09698 4.87737C3.77421 3.08833 5.7468 2 8 2C10.2532 2 12.2258 3.08833 13.903 4.87737C14.4792 5.49201 14.9797 6.1483 15.4038 6.80498C15.66 7.20175 15.8359 7.51443 15.9296 7.70186C16.0235 7.88954 16.0235 8.11046 15.9296 8.29814C15.8359 8.48557 15.66 8.79825 15.4038 9.19502C14.9797 9.8517 14.4792 10.508 13.903 11.1226C12.2258 12.9117 10.2532 14 8 14C5.7468 14 3.77421 12.9117 2.09698 11.1226C1.52075 10.508 1.02033 9.8517 0.596224 9.19502C0.339978 8.79825 0.164094 8.48557 0.0703819 8.29814C-0.0234606 8.11046 -0.0234606 7.88954 0.0703819 7.70186ZM1.71632 8.47165C2.0995 9.06496 2.55221 9.65868 3.06973 10.2107C4.5175 11.755 6.16991 12.6667 8.00004 12.6667C9.83017 12.6667 11.4826 11.755 12.9304 10.2107C13.4479 9.65868 13.9006 9.06496 14.2838 8.47165C14.3925 8.30325 14.489 8.14509 14.5729 8C14.489 7.85491 14.3925 7.69675 14.2838 7.52835C13.9006 6.93504 13.4479 6.34132 12.9304 5.78929C11.4826 4.24501 9.83017 3.33333 8.00004 3.33333C6.16991 3.33333 4.5175 4.24501 3.06973 5.78929C2.55221 6.34132 2.0995 6.93504 1.71632 7.52835C1.60756 7.69675 1.5111 7.85491 1.42718 8C1.5111 8.14509 1.60756 8.30325 1.71632 8.47165ZM8 10.6667C6.52724 10.6667 5.33333 9.47276 5.33333 8C5.33333 6.52724 6.52724 5.33333 8 5.33333C9.47276 5.33333 10.6667 6.52724 10.6667 8C10.6667 9.47276 9.47276 10.6667 8 10.6667ZM8 9.33333C8.73638 9.33333 9.33333 8.73638 9.33333 8C9.33333 7.26362 8.73638 6.66667 8 6.66667C7.26362 6.66667 6.66667 7.26362 6.66667 8C6.66667 8.73638 7.26362 9.33333 8 9.33333Z"/>',votes:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',votesBeta:'<path fill-rule="evenodd" clip-rule="evenodd" d="M6.53792 5.80206C6.44089 5.99863 6.25344 6.13493 6.03653 6.16664L2.76572 6.64472L5.13194 8.94941C5.28919 9.10257 5.36096 9.32332 5.32385 9.53968L4.76557 12.7948L7.68982 11.2569C7.88407 11.1548 8.11616 11.1548 8.31042 11.2569L11.2347 12.7948L10.6764 9.53968C10.6393 9.32332 10.711 9.10257 10.8683 8.94941L13.2345 6.64472L9.9637 6.16664C9.74679 6.13493 9.55934 5.99863 9.46231 5.80206L8.00012 2.83982L6.53792 5.80206ZM5.49723 4.89797L7.40227 1.03858C7.64683 0.543131 8.35332 0.543131 8.59788 1.03858L10.5029 4.89797L14.7632 5.52067C15.3098 5.60056 15.5276 6.27246 15.1319 6.6579L12.0498 9.6599L12.7771 13.901C12.8706 14.4456 12.2989 14.8609 11.8098 14.6037L8.00007 12.6002L4.19038 14.6037C3.70129 14.8609 3.12959 14.4456 3.223 13.901L3.95039 9.6599L0.868253 6.6579C0.472524 6.27246 0.690379 5.60056 1.23699 5.52067L5.49723 4.89797Z"/>',parts:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line>',partsBeta:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3.33366 4.66634C3.70185 4.66634 4.00033 4.36786 4.00033 3.99967C4.00033 3.63148 3.70185 3.33301 3.33366 3.33301C2.96547 3.33301 2.66699 3.63148 2.66699 3.99967C2.66699 4.36786 2.96547 4.66634 3.33366 4.66634ZM4.00033 7.99967C4.00033 8.36786 3.70185 8.66634 3.33366 8.66634C2.96547 8.66634 2.66699 8.36786 2.66699 7.99967C2.66699 7.63148 2.96547 7.33301 3.33366 7.33301C3.70185 7.33301 4.00033 7.63148 4.00033 7.99967ZM4.00033 11.9997C4.00033 12.3679 3.70185 12.6663 3.33366 12.6663C2.96547 12.6663 2.66699 12.3679 2.66699 11.9997C2.66699 11.6315 2.96547 11.333 3.33366 11.333C3.70185 11.333 4.00033 11.6315 4.00033 11.9997ZM6.00033 7.99967C6.00033 8.36786 6.2988 8.66634 6.66699 8.66634H12.667C13.0352 8.66634 13.3337 8.36786 13.3337 7.99967C13.3337 7.63148 13.0352 7.33301 12.667 7.33301H6.66699C6.2988 7.33301 6.00033 7.63148 6.00033 7.99967ZM6.66699 12.6663C6.2988 12.6663 6.00033 12.3679 6.00033 11.9997C6.00033 11.6315 6.2988 11.333 6.66699 11.333H12.667C13.0352 11.333 13.3337 11.6315 13.3337 11.9997C13.3337 12.3679 13.0352 12.6663 12.667 12.6663H6.66699ZM6.00033 3.99967C6.00033 4.36786 6.2988 4.66634 6.66699 4.66634H12.667C13.0352 4.66634 13.3337 4.36786 13.3337 3.99967C13.3337 3.63148 13.0352 3.33301 12.667 3.33301H6.66699C6.2988 3.33301 6.00033 3.63148 6.00033 3.99967Z"/>',readTime:'<path fill-rule="evenodd" clip-rule="evenodd" d="M1.7998 1.91992C1.52366 1.91992 1.2998 2.14378 1.2998 2.41992V11.72C1.2998 11.9962 1.52366 12.22 1.7998 12.22H6.13985C6.50055 12.22 6.84648 12.3633 7.10153 12.6184C7.3518 12.8686 7.49446 13.2064 7.49972 13.5598V13.58C7.49972 13.8562 7.72358 14.08 7.99972 14.08C7.99977 14.08 7.99983 14.08 7.99987 14.08C8.27602 14.08 8.49987 13.8562 8.49987 13.58V13.5598C8.50514 13.2064 8.6478 12.8686 8.89806 12.6184C9.15312 12.3633 9.49904 12.22 9.85975 12.22H14.1998C14.4759 12.22 14.6998 11.9962 14.6998 11.72V2.41992C14.6998 2.14378 14.4759 1.91992 14.1998 1.91992H10.4798C9.6894 1.91992 8.93142 2.23389 8.37255 2.79275C8.23258 2.93273 8.10796 3.0852 7.9998 3.24754C7.89163 3.0852 7.76702 2.93273 7.62704 2.79275C7.06818 2.23389 6.3102 1.91992 5.51985 1.91992H1.7998ZM8.49987 11.6512V4.89995C8.49987 4.89362 8.49985 4.8873 8.49981 4.88097C8.50478 4.36269 8.71281 3.86671 9.07966 3.49986C9.45099 3.12853 9.95462 2.91992 10.4798 2.91992H13.6998V11.22H9.85975C9.3696 11.22 8.89517 11.3725 8.49987 11.6512ZM7.49978 4.88097C7.49482 4.36269 7.28679 3.86671 6.91994 3.49986C6.54861 3.12853 6.04498 2.91992 5.51985 2.91992H2.2998V11.22H6.13985C6.63 11.22 7.10443 11.3725 7.49972 11.6512V4.89995C7.49972 4.89362 7.49974 4.8873 7.49978 4.88097Z" fill="#686868"/>',bookOpenBeta:'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',paidStory:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 5C7.98528 5 10 4.32843 10 3.5C10 2.67157 7.98528 2 5.5 2C3.01472 2 1 2.67157 1 3.5C1 4.32843 3.01472 5 5.5 5ZM1 5.39676V7.35873C1.7563 7.65631 3.29325 7.95305 5.07318 7.99496C5.5172 7.22867 6.08473 6.54286 6.74854 5.96477C6.34655 5.98814 5.929 6 5.5 6C3.6955 6 2.09368 5.79011 1 5.39676ZM4.00016 11.9485C4.00005 11.9657 4 11.9828 4 12C4 12.6749 4.08358 13.3303 4.24095 13.9564C2.82212 13.8582 1.63548 13.6088 1 13.3587V11.3968C1.77904 11.6769 2.81589 11.864 4.00016 11.9485ZM4.58902 8.98153C4.3366 9.60066 4.1595 10.2585 4.06912 10.9437C2.72657 10.8379 1.60965 10.5986 1 10.3587V8.39676C1.9057 8.7225 3.15986 8.92243 4.58902 8.98153Z"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M19 12C19 15.866 15.866 19 12 19C8.13401 19 5 15.866 5 12C5 8.13401 8.13401 5 12 5C15.866 5 19 8.13401 19 12ZM12.8574 16.231C13.556 16.1121 14.1116 15.8464 14.5241 15.4339C14.9366 15.0214 15.1429 14.5141 15.1429 13.9121C15.1429 13.4067 15.0184 13.0035 14.7694 12.7025C14.5204 12.4015 14.2231 12.1822 13.8775 12.0447C13.5319 11.9072 13.0878 11.7716 12.5452 11.6378C12.1588 11.5412 11.8577 11.4557 11.6422 11.3814C11.4267 11.3071 11.2483 11.2049 11.1071 11.0748C10.9659 10.9447 10.8953 10.7756 10.8953 10.5675C10.8953 10.2702 11.016 10.0324 11.2576 9.85403C11.4991 9.67565 11.8206 9.58647 12.2219 9.58647C12.5713 9.58647 12.8667 9.63478 13.1082 9.7314C13.3498 9.82802 13.6229 9.97295 13.9277 10.1662C14.054 10.2405 14.1525 10.2888 14.2231 10.3111C14.2937 10.3334 14.3699 10.3446 14.4516 10.3446C14.6003 10.3446 14.7322 10.274 14.8474 10.1327C14.9626 9.99153 15.0202 9.82802 15.0202 9.64221C15.0202 9.50843 14.9961 9.39322 14.9478 9.2966C14.8994 9.19998 14.8195 9.11451 14.7081 9.04019C14.1209 8.62397 13.4929 8.37127 12.824 8.28208V7.66891C12.824 7.46824 12.7626 7.30659 12.64 7.18395C12.5174 7.06132 12.3557 7 12.155 7C11.9618 7 11.802 7.06132 11.6757 7.18395C11.5493 7.30659 11.4861 7.46824 11.4861 7.66891V8.30438C10.7949 8.4233 10.2356 8.6983 9.80827 9.12938C9.38091 9.56045 9.16723 10.077 9.16723 10.679C9.16723 11.1919 9.29544 11.6006 9.55185 11.9054C9.80827 12.2101 10.1149 12.4331 10.4716 12.5743C10.8284 12.7155 11.2817 12.8567 11.8317 12.9979C12.2108 13.102 12.5006 13.1875 12.7013 13.2543C12.902 13.3212 13.0711 13.4141 13.2086 13.5331C13.3461 13.652 13.4148 13.8043 13.4148 13.9901C13.4148 14.2949 13.2959 14.5309 13.0581 14.6981C12.8202 14.8653 12.4784 14.9489 12.0324 14.9489C11.6979 14.9489 11.3765 14.9025 11.0681 14.8096C10.7596 14.7167 10.4344 14.5699 10.0926 14.3692C9.88445 14.2503 9.70979 14.1908 9.56858 14.1908C9.41993 14.1908 9.288 14.2614 9.1728 14.4026C9.0576 14.5439 9 14.7074 9 14.8932C9 15.0344 9.02416 15.1515 9.07247 15.2444C9.12078 15.3373 9.20439 15.4209 9.32331 15.4952C9.61317 15.7033 9.94948 15.8743 10.3323 16.008C10.715 16.1418 11.1108 16.2273 11.5196 16.2645V16.8665C11.5196 17.0672 11.5827 17.2288 11.7091 17.3514C11.8355 17.4741 11.9952 17.5354 12.1885 17.5354C12.3892 17.5354 12.5508 17.4741 12.6735 17.3514C12.7961 17.2288 12.8574 17.0672 12.8574 16.8665V16.231Z" />',notifDedicate:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',notifStoryUpdate:'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',notifFeedMessage:"",warning:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"warning-triangle":'<g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Ic-/-14px-/-Alert" transform="translate(0.000000, 0.000000)" fill="#FFC922">\n      <path d="M11.875,5 C12.4019232,5 12.8906036,5.28229723 13.1638807,5.744551 L13.1638807,5.744551 L19.5479857,16.6799097 C19.8158305,17.1558373 19.8174297,17.7418513 19.5521866,18.2193104 C19.2869436,18.6967695 18.7946975,18.9939599 18.259105,19 L18.259105,19 L5.490895,19 C4.95530252,18.9939599 4.46305644,18.6967695 4.19781339,18.2193104 C3.93257035,17.7418513 3.93416953,17.1558373 4.2020143,16.6799097 L4.2020143,16.6799097 L10.5861193,5.744551 C10.8593964,5.28229723 11.3480768,5 11.875,5 Z M11.65625,15.5 C11.2938131,15.5 11,15.7938131 11,16.15625 L11,16.15625 L11,16.4397278 C11,16.8021647 11.2938131,17.0959778 11.65625,17.0959778 C12.0186869,17.0959778 12.3125,16.8021647 12.3125,16.4397278 L12.3125,16.4397278 L12.3125,16.15625 C12.3125,15.7938131 12.0186869,15.5 11.65625,15.5 Z M11.65625,9.375 C11.2938131,9.375 11,9.66881313 11,10.03125 L11,10.03125 L11,13.53125 C11,13.8936869 11.2938131,14.1875 11.65625,14.1875 C12.0186869,14.1875 12.3125,13.8936869 12.3125,13.53125 L12.3125,13.53125 L12.3125,10.03125 C12.3125,9.66881313 12.0186869,9.375 11.65625,9.375 Z" id="Combined-Shape"></path>\n  </g>\n</g>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',info:"",copyright:"",publicDomain:"",creativeCommons:"",location:"",stats:"",check:'<path fill-rule="evenodd" clip-rule="evenodd" d="M20.7071 5.29289C21.0976 5.68342 21.0976 6.31658 20.7071 6.70711L9.70711 17.7071C9.31658 18.0976 8.68342 18.0976 8.29289 17.7071L3.29289 12.7071C2.90237 12.3166 2.90237 11.6834 3.29289 11.2929C3.68342 10.9024 4.31658 10.9024 4.70711 11.2929L9 15.5858L19.2929 5.29289C19.6834 4.90237 20.3166 4.90237 20.7071 5.29289Z"/>',shieldCheck:'<path d="m1.19901 4.09592 9.80099-3.675998 9.801 3.675998c.51.195.865.68.866 1.248v5.74298c0 4.236-1.83 8.266-5.018 11.056l-5.649 4.944-5.64999-4.944c-3.081-2.707-5.016002-6.656-5.017002-11.056v-5.74298c0-.568.356-1.053.856002-1.245zm8.386 10.01298-1.885-1.882c-.12377-.1238-.27072-.2221-.43246-.2891-.16174-.0671-.3351-.1016-.51019-.1016-.17508-.0001-.34846.0344-.51024.1013-.16177.067-.30878.1652-.43261.2889-.12384.1238-.22208.2707-.28913.4325-.06704.1617-.10158.3351-.10162.5102-.00005.1751.03439.3484.10135.5102s.16513.3088.2889.4326l2.829 2.828c.12357.1241.27045.2226.43219.2898s.33516.1018.51031.1018c.17514 0 .34857-.0346.51029-.1018.1618-.0672.3086-.1657.4322-.2898l5.657-5.657c.2501-.2499.3907-.589.3908-.9426.0001-.35362-.1403-.69278-.3903-.94288s-.589-.39065-.9426-.39075c-.3536-.00009-.6928.14029-.9429.39025l-4.71499 4.71498z" fill="#3f6f0c"/>',staff:' <g id="Staff---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -227.000000)">\n      <g id="ic_badge_verified" transform="translate(1147.000000, 227.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      </g>\n      <path d="M1154.11212,241.7 C1155.77292,241.7 1156.00632,239.785105 1157.14045,238.07578 C1157.09856,238.686857 1157.13746,239.227533 1157.26314,239.599248 C1157.75689,241.066395 1159.45659,241.179036 1160.22864,239.689361 C1161.31788,237.588608 1161.62909,237.092989 1162.72731,235.580785 C1163.45148,234.581097 1162.61061,233.936228 1161.63807,234.400872 C1161.13834,234.640234 1160.32739,235.234414 1159.31595,236.498808 C1159.4925,235.538545 1159.44462,233.910884 1157.97235,234.003813 C1157.19432,234.051685 1156.18587,234.879595 1154.80935,237.00006 C1154.92307,235.808883 1154.96795,234.964076 1154.41735,234.521961 C1154.0403,234.21783 1153.15155,234.102373 1152.6189,234.752874 C1152.08325,235.409008 1151.95757,236.687481 1152.01144,238.03354 C1152.11617,240.852377 1153.17549,241.7 1154.11212,241.7 Z" id="Logo-path" fill="#FFFFFF"></path>\n  </g>\n</g>',ambassador:'<g id="Amb-badge" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Badges" transform="translate(-35.000000, -206.000000)">\n      <g id="ic_badge_verified" transform="translate(35.000000, 206.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n          <g id="Group-3" transform="translate(5.000000, 6.000000)" fill="#FFFFFF">\n              <path d="M9.78065737,1.78094955 C9.35444338,0.694861133 8.31740847,-0.012577196 7.16968296,0.000169440589 C6.33637761,0.00279374812 5.5446272,0.373570912 5,1.01615136 C4.45500506,0.373570912 3.66362239,0.00279374812 2.83031704,0.000169440589 C1.68295927,-0.012577196 0.645924361,0.694861133 0.219342627,1.78094955 C-0.225626252,2.85466623 0.0192905027,4.09671349 0.837150656,4.91137353 L4.73890256,8.88907394 C4.88195454,9.03641006 5.11473578,9.03678496 5.25889098,8.89132335 L5.26109744,8.88907394 L9.16284934,4.91137353 C9.9807095,4.09671349 10.2256263,2.85466623 9.78065737,1.78094955" id="Fill-1"></path>\n          </g>\n      </g>\n  </g>\n</g>',verified:'<g id="Verifier---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -299.000000)">\n      <path d="M1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1165.419,305.513 Z" id="Path" fill="#FFFFFF"></path>\n      <path d="M1166.64,307.645 L1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1166.64,307.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      <path d="M1156.36061,312.705984 C1156.00858,313.098005 1155.43225,313.098005 1155.08022,312.705984 L1152.26402,309.569809 C1151.91199,309.177788 1151.91199,308.536863 1152.26402,308.144841 C1152.61604,307.75282 1153.19238,307.75282 1153.5444,308.144841 L1155.72042,310.568087 L1160.4564,305.294016 C1160.80842,304.901995 1161.38396,304.901995 1161.73598,305.294016 C1162.08801,305.686038 1162.08801,306.326963 1161.73598,306.718984 L1156.36061,312.705984 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',star:'<g id="Stars---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -336.000000)">\n      <path d="M1166.64,344.645 L1165.419,342.513 L1164.774,340.142 C1164.521,339.209 1163.792,338.48 1162.859,338.226 L1160.487,337.581 L1158.355,336.36 C1157.935,336.12 1157.467,336 1157,336 C1156.533,336 1156.065,336.12 1155.646,336.36 L1153.513,337.581 L1151.141,338.226 C1150.208,338.48 1149.48,339.208 1149.226,340.141 L1148.581,342.513 L1147.36,344.646 C1146.88,345.485 1146.88,346.515 1147.36,347.355 L1148.581,349.487 L1149.226,351.86 C1149.48,352.792 1150.209,353.521 1151.142,353.774 L1153.513,354.419 L1155.645,355.64 C1156.065,355.88 1156.533,356 1157,356 C1157.467,356 1157.935,355.88 1158.355,355.64 L1160.487,354.419 L1162.859,353.774 C1163.792,353.521 1164.521,352.792 1164.774,351.859 L1165.419,349.487 L1166.64,347.355 C1167.12,346.515 1167.12,345.485 1166.64,344.645 L1166.64,344.645 Z" id="Path" fill="#FF6122"></path>\n      <path d="M1158.545,344.292 L1157.42218,341.899553 C1157.18902,341.402744 1156.81055,341.403664 1156.57782,341.899553 L1155.455,344.292 L1152.98082,344.669751 C1152.43913,344.752455 1152.30655,345.133713 1152.69639,345.533299 L1154.5,347.382 L1154.07122,350.011366 C1153.98218,350.557373 1154.30135,350.783681 1154.7872,350.515124 L1157,349.292 L1159.2128,350.515124 C1159.69726,350.782914 1160.01765,350.556362 1159.92878,350.011366 L1159.5,347.382 L1161.30361,345.533299 C1161.68822,345.139079 1161.54832,344.750539 1161.01918,344.669751 L1158.545,344.292 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',sponsored:"",storyrank:"",promoted:'<g fill="none" fill-rule="evenodd">\n  <path fill="#FF6122" fill-rule="nonzero" d="M14.73 6.484l-.916-1.6-.483-1.778a2.044 2.044 0 0 0-1.437-1.436l-1.779-.484L8.516.27a2.048 2.048 0 0 0-2.032 0l-1.6.916-1.778.484c-.7.19-1.246.736-1.436 1.436l-.484 1.779-.916 1.6c-.36.629-.36 1.401 0 2.031l.916 1.6.484 1.779c.19.699.737 1.246 1.437 1.436l1.778.483 1.599.916a2.048 2.048 0 0 0 2.032 0l1.6-.916 1.778-.483c.7-.19 1.247-.737 1.437-1.437l.483-1.779.916-1.599c.36-.63.36-1.402 0-2.032z"/>\n  <g stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">\n      <path d="M7.5 10.5V5.25M4.875 7.875L7.5 5.25l2.625 2.625"/>\n  </g>\n</g>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',twitter:"",facebook:"","facebook-login":"",pinterest:"",tumblr:"",googlePlus:"",email:"",preferences:'<g fill="none" fill-rule="nonzero" stroke="#222" stroke-linecap="round" stroke-width="2" transform="translate(1 1)">\n  <path d="M0 2h17M0 8.5h17M0 15.5h17"/>\n  <circle cx="8" cy="2" r="2" fill="#222"/>\n  <circle cx="15" cy="9" r="2" fill="#222"/>\n  <circle cx="8" cy="16" r="2" fill="#222"/>\n</g>'}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(85),a=n(315),o=n(339);function i(e){return Object(r.e)(o.a,e,Object(r.d)(Object(r.a)(a.a),s.__REDUX_DEVTOOLS_EXTENSION__?s.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}))}var s=s||e}).call(this,n(40))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(6),l=n(5),c=n(54),u=n(72);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e,t){var n,o;return o=n=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(h,n);var r,o,i,d=y(h);function h(){return m(this,h),d.apply(this,arguments)}return r=h,(o=[{key:"render",value:function(){var n,r,o,i;if(Object(l.n)()){var d=wattpad.utils.currentUser();n=wattpad.utils.trans,r=wattpad.utils.ngettext,o=d?d.attributes:{},i=wattpad.testGroups}else n=this.props.resLocals.trans,r=this.props.resLocals.ngettext,o=this.props.resLocals.currentUser||{},i=this.props.resLocals.testGroups;return a.a.createElement(s.a,{store:t},a.a.createElement(u.AppProvider,{i18n:{translate:n,ngettext:r}},a.a.createElement(c.c.Provider,{value:o},a.a.createElement(c.b.Provider,{value:{trans:n,ngettext:r}},a.a.createElement(c.a.Provider,{value:i},a.a.createElement(e,this.props))))))}}])&&f(r.prototype,o),i&&f(r,i),h}(r.Component),b(n,"displayName","".concat(function(e){return e.displayName||e.name||"Component"}(e),"WithRedux")),b(n,"propTypes",{resLocals:i.a.shape({trans:i.a.func,ngettext:i.a.func,currentUser:i.a.object,testGroups:i.a.object})}),o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n.n(r),o=n(2);function i(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(o.j,null),a.a.createElement(o.n,{isGlobalModalContainer:!0}))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(66),l=n(5);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h,g,b,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,o=f(i);function i(){return u(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{className:"announcement-modal"},a.a.createElement(s.a,{name:"shared/megaphone_teal.png"}),a.a.createElement("header",null,e("Announce an Important Post")),a.a.createElement("div",null,e("By using this feature, this message will be sent to all your followers notification feeds. Please note that you can only post up to %s announcements per day - save these for special occasions!",3)),a.a.createElement("div",{className:"buttons"},a.a.createElement("a",{href:"https://support.wattpad.com/hc/en-us/articles/201463980-Making-an-announcement",target:"_blank",rel:"noopener noreferrer",className:"btn btn-orange"},e("Learn more")),a.a.createElement("button",{className:"btn btn-orange","data-dismiss":"modal"},e("Got it"))))}}])&&d(t.prototype,n),r&&d(t,r),i}(a.a.Component);h=v,g="propTypes",b={trans:i.a.func.isRequired},g in h?Object.defineProperty(h,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):h[g]=b,t.a=Object(l.m)(v)},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(9);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,o=m(i);function i(){return c(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.headerName,t=this.props.options;return a.a.createElement("div",{className:"menu-modal"},a.a.createElement("div",{className:"header"},e,a.a.createElement("span",{"data-dismiss":"modal"},a.a.createElement(s.a,{iconName:"fa-remove",height:"14",color:"wp-neutral-2"}))),a.a.createElement("ul",{className:"menu-items"},t.map((function(t){var n=t.browseURL||wattpad.utils.categoryNameToUrl(t.key);return a.a.createElement("li",{key:t.key},t.url?"Browse"===e?a.a.createElement("a",{href:n,className:"on-navigate on-topic"},t.name):a.a.createElement("a",{href:n,className:"on-navigate"},t.name):a.a.createElement("span",{className:"selected"},t.name))}))))}}])&&u(t.prototype,n),r&&u(t,r),i}(a.a.Component);y.propTypes={headerName:i.a.string.isRequired,options:i.a.array.isRequired}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(9),l=n(5);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,o=f(i);function i(){var e;u(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(y(e=o.call.apply(o,[this].concat(n))),"onPasswordToggle",(function(t){e.props.onPasswordToggle(t)})),g(y(e),"hideModal",(function(){e.props.hideModal()})),g(y(e),"handleSubmit",(function(t){var n;switch(t.preventDefault(),e.props.type){case"username":n="updateusername";break;case"password":case"addPassword":n="updateuserpassword"}e.props.onFormSubmit(n)})),e}return t=i,(n=[{key:"renderUsernameForm",value:function(){var e=this.props.trans;return a.a.createElement("div",null,a.a.createElement("p",null,e("Your username is important, here are a few things you need to know before you change it:")),a.a.createElement("ol",null,a.a.createElement("li",null,e("It takes up to 24 hours for all changes to take effect. Your profile and stories may be inaccessible during this time.")),a.a.createElement("li",null,e("Your user profile and widget links will change and the old ones will no longer work.")),a.a.createElement("li",null,e("You will need to re-login using your new username."))),a.a.createElement("form",{className:"on-form-submit",onSubmit:this.handleSubmit},a.a.createElement("input",{type:"hidden",name:"id",value:this.props.userId}),a.a.createElement("div",{className:"input-group-vertical"},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"control-label",htmlFor:"username"},e("New Username")),a.a.createElement("input",{id:"username",className:"form-control input-lg enable",name:"username",type:"text",defaultValue:""})),a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"password"},e("Confirm Password")),a.a.createElement("input",{id:"password",className:"form-control input-lg enable",name:"password",type:"password",defaultValue:""}),a.a.createElement("span",{onClick:this.onPasswordToggle,onKeyDown:this.onPasswordToggle,role:"button",tabIndex:"-1"},a.a.createElement(s.a,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"})))),a.a.createElement("a",{className:"forgot-password on-navigate",href:"/forgot?nextUrl=settings"},e("Forgot your password?")),a.a.createElement("input",{type:"submit",className:"btn btn-lg btn-orange btn-block enable",value:e("Save")})))}},{key:"renderPasswordForm",value:function(e){var t=this.props.trans;return a.a.createElement("form",{className:"on-form-submit",onSubmit:this.handleSubmit},a.a.createElement("input",{type:"hidden",name:"id",value:this.props.userId}),a.a.createElement("div",{className:"input-group-vertical"},e&&a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"old_password"},t("Current Password")),a.a.createElement("input",{id:"old_password",className:"form-control input-lg enable",name:"old_password",type:"password",defaultValue:""}),a.a.createElement("span",{onClick:this.onPasswordToggle,onKeyDown:this.onPasswordToggle,role:"button",tabIndex:"-1"},a.a.createElement(s.a,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"}))),a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"new_password"},t("New Password")),a.a.createElement("input",{id:"new_password",className:"form-control input-lg enable",name:"new_password",type:"password",defaultValue:""}),a.a.createElement("span",{onClick:this.onPasswordToggle,onKeyDown:this.onPasswordToggle,role:"button",tabIndex:"-1"},a.a.createElement(s.a,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"}))),a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"confirm_password"},t("Confirm Password")),a.a.createElement("input",{id:"confirm_password",className:"form-control input-lg enable",name:"confirm_password",type:"password",defaultValue:""}),a.a.createElement("span",{onClick:this.onPasswordToggle,onKeyDown:this.onPasswordToggle,role:"button",tabIndex:"-1"},a.a.createElement(s.a,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"})))),a.a.createElement("a",{className:"forgot-password on-navigate",href:"/forgot?nextUrl=settings"},t("Forgot your password?")),a.a.createElement("input",{type:"submit",className:"btn btn-lg btn-orange btn-block enable",value:t("Save")}))}},{key:"render",value:function(){var e,t,n=this.props,r=n.type,o=n.title;switch(r){case"username":e=this.renderUsernameForm();break;case"password":t=!0,e=this.renderPasswordForm(t);break;case"addPassword":t=!1,e=this.renderPasswordForm(t)}return a.a.createElement("div",{id:"user-settings-modal"},a.a.createElement("span",{className:"close on-close",onClick:this.hideModal,onKeyDown:this.hideModal,role:"button",tabIndex:"-1"},a.a.createElement(s.a,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),a.a.createElement("header",{className:"panel-heading"},a.a.createElement("h3",null,o)),a.a.createElement("div",{className:"panel-body"},a.a.createElement("div",{className:"body-text"},e)))}}])&&d(t.prototype,n),r&&d(t,r),i}(a.a.Component);b.propTypes={trans:i.a.func.isRequired,onPasswordToggle:i.a.func.isRequired,onFormSubmit:i.a.func.isRequired,hideModal:i.a.func.isRequired,type:i.a.string.isRequired,userId:i.a.number.isRequired,title:i.a.string.isRequired},t.a=Object(l.m)(b)},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(5),l=n(2),c=n(159);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,e);var t,n,r,a=p(o);function o(){return d(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e,t=this.props,n=t.title,r=t.user,a=t.url,o=t.readCount,u=t.numParts,d=t.voteCount,m=t.cover,f=t.description,p=t.mature,y=t.completed,h=t.tags,g=t.rank,b=t.id,v=t.app,w=t.trans,E={tags:h,storyId:b,numShown:"desktop"===v.deviceType?3:2},O=Object(s.u)(n,35,!1),S=r.fullname||r.name,C=w("by %s",Object(s.u)(S,30,!1)),k=Object(s.d)(a),N="/user/"+r.name,j=Object(s.b)(o).toString(),_=Object(s.b)(u).toString(),P=Object(s.b)(d).toString(),T=Object(s.s)(f);"desktop"===v.deviceType?(e=Object(s.r)(m,Object(s.f)(142),v.devicePixelRatio,v.matchMedia,v.msMatchMedia),T=Object(s.u)(T,170,!1)):(e=Object(s.r)(m,Object(s.f)(92),v.devicePixelRatio,v.matchMedia,v.msMatchMedia),T=Object(s.u)(T,170,!1));var R,x=w("%1$s by %2$s",n,r.name),I={__html:T},A=i.a.createElement("div",{className:"description",dangerouslySetInnerHTML:I}),L=i.a.createElement("img",{src:e,alt:x});return g&&(R=i.a.createElement("div",{className:"story-rank"},i.a.createElement("span",null,"#",g))),i.a.createElement("div",{className:"item"},i.a.createElement("a",{className:"on-story-preview cover cover-lg","data-story-id":b,href:k},i.a.createElement("div",{className:"fixed-ratio fixed-ratio-cover"},L,R)),i.a.createElement("div",{className:"content"},i.a.createElement("a",{className:"title meta on-story-preview","data-story-id":b,href:k},O),i.a.createElement("a",{className:"username meta on-navigate",href:N},C),i.a.createElement("div",{className:"meta social-meta"},i.a.createElement("span",{className:"read-count"},i.a.createElement(l.e,{iconName:"fa-view",height:"12",color:"wp-neutral-2"}),j),i.a.createElement("span",{className:"vote-count"},i.a.createElement(l.e,{iconName:"fa-vote",height:"12",color:"wp-neutral-2"}),P),i.a.createElement("span",{className:"part-count"},i.a.createElement(l.e,{iconName:"fa-list",height:"12",color:"wp-neutral-2"}),_)),A,i.a.createElement("div",{className:"bottom-content clearfix"},i.a.createElement("div",{className:"story-status"},y?i.a.createElement("span",{className:"label label-info"},w("Completed")):null,p?i.a.createElement("span",{className:"label label-danger"},w("Mature")):null),i.a.createElement(c.a,{tagMeta:E}))))}}])&&m(t.prototype,n),r&&m(t,r),o}(o.Component);g.propTypes={completed:a.a.bool,cover:a.a.string,description:a.a.string.isRequired,id:a.a.string.isRequired,mature:a.a.bool,numParts:a.a.number.isRequired,rank:a.a.number,readCount:a.a.number.isRequired,trans:a.a.func.isRequired,tags:a.a.arrayOf(a.a.string).isRequired,title:a.a.string.isRequired,url:a.a.string.isRequired,user:a.a.shape({avatar:a.a.string,fullname:a.a.string,name:a.a.string}),voteCount:a.a.number.isRequired,app:a.a.object},t.a=Object(s.m)(g)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1),a=n.n(r),o=n(0),i=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,e);var t,n,r,a=d(o);function o(){return l(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props.promoName,t=this.props.promoOptions,n=t.flavourText,r=t.button;return i.a.createElement("div",{className:"banner-background",id:"".concat(e,"-banner")},i.a.createElement("div",{className:"banner-info"},n?i.a.createElement("div",{className:"flavour-text"},n):null,r?i.a.createElement("a",{href:r.link,className:"btn btn-orange banner-btn"},r.text):null))}}])&&c(t.prototype,n),r&&c(t,r),o}(i.a.Component);p.propTypes={promoName:a.a.string.isRequired,promoOptions:a.a.object.isRequired}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r),o=n(3),i=n(1),s=n.n(i),l=n(5);function c(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=f||e;function p(e){var t=e.createCanvaCover,n=e.canvaApiKey,i=e.story,s=Object(o.h)().trans,c=d(Object(r.useState)(null),2),m=c[0],p=c[1];Object(o.c)("myworks:cover:saved",(function(e){p(e.detail)}),f),Object(r.useEffect)((function(){var e,t,n="canva-script";document.getElementById(n)||((t=document.createElement("script")).id=n,e=document.getElementsByTagName("script")[0],t.src="https://sdk.canva.com/v2/beta/api.js",e.parentNode.insertBefore(t,e))}),[]);var y=function(){var e=null;return i.id&&(m?"canva"===m.cover_partner&&m.cover_source_id&&(e=m.cover_source_id):e="canva"===i.cover_partner&&i.cover_source_id?i.cover_source_id:Object(l.l)({key:"canva-cover-".concat(i.id)})),e};function h(e){t(e)}function g(){return(g=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.CanvaButton){e.next=2;break}return e.abrupt("return");case 2:if(f.canvaApi){e.next=6;break}return e.next=5,f.CanvaButton.initialize({apiKey:n});case 5:f.canvaApi=e.sent;case 6:f.canvaApi.createDesign({type:"WattpadBookCover",publishLabel:s("Use Cover"),onDesignPublish:h}),(t=y())&&f.canvaApi.editDesign({designId:t,publishLabel:s("Update Cover"),onDesignPublish:h});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement("button",{className:"canva-btn canva-btn-size-s",onClick:function(){return g.apply(this,arguments)}},a.a.createElement("span",{className:"canva-btn-i"}),y()?s("Edit Cover"):s("Create Cover"))}p.propTypes={createCanvaCover:s.a.func,canvaApiKey:s.a.string.isRequired,story:s.a.object}}).call(this,n(40))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var r=n(0),a=n.n(r),o=n(12),i=n.n(o),s=n(1),l=n.n(s),c=n(4),u=n.n(c),d=n(2),m=n(11);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,e);var t,n,r,o=h(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),w(b(t=o.call(this,e)),"getSelectedPremiumTheme",(function(){var e=k?k.getCookie(m.h):t.props.reqCookies[m.h];return parseInt(e||m.c)})),w(b(t),"selectTheme",(function(e){if(e!==t.state.selectedTheme){var n=t.isPremium();n?(k.setPremiumTheme(e),t.setState({selectedTheme:e})):e!==m.d&&t.props.showSubscriptionModal();var r=m.l[e];C.te.push("event","profile","theme",null,"change",{premium:+n,theme:r})}}));var n=t.isPremium()?t.getSelectedPremiumTheme():m.d;return t.state={selectedTheme:n},t}return t=s,(n=[{key:"isPremium",value:function(){return this.props.isPremium}},{key:"render",value:function(){var e=this,t=i.a.range(1,m.g+1);return a.a.createElement("div",null,t.map((function(t){return a.a.createElement("div",{key:t,className:"theme-option-wrapper"},a.a.createElement(O,{themeId:t,selected:t===e.state.selectedTheme,premium:e.isPremium(),selectTheme:e.selectTheme}))})))}}])&&p(t.prototype,n),r&&p(t,r),s}(a.a.Component);w(E,"propTypes",{isPremium:l.a.bool.isRequired,reqCookies:l.a.object,showSubscriptionModal:l.a.func});var O=function(e){var t=e.themeId,n=e.selected,r=e.premium,o=e.selectTheme,i=r||t===m.d?"":"unavailable";return a.a.createElement("div",{className:u()("theme-option","theme-".concat(t),{selected:n})},a.a.createElement("div",{className:u()("theme-option-inner","theme-".concat(t),i),onClick:function(){return o(t)},onKeyDown:function(){return o(t)},role:"option",tabIndex:"0","aria-selected":n},a.a.createElement(S,{selected:n})))};O.propTypes={themeId:l.a.number.isRequired,selected:l.a.bool.isRequired,premium:l.a.bool.isRequired,selectTheme:l.a.func.isRequired};var S=function(e){var t=e.selected,n=a.a.createElement("div",null);return t&&(n=a.a.createElement(d.e,{iconName:"fa-check",height:"24",color:"wp-neutral-5"})),n};S.propTypes={selected:l.a.bool.isRequired};var C=C||e,k=i.a.get(C,"wattpad.utils")}).call(this,n(40))},function(e,t,n){"use strict";var r=n(6),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(8),c=n(3),u=n(2),d=n(112),m={1:"https://support.wattpad.com/hc/en-us/articles/360029365812",2:"https://support.wattpad.com/hc/fr/articles/360029365812",3:"https://support.wattpad.com/hc/it/articles/360029365812",4:"https://support.wattpad.com/hc/de/articles/360029365812",5:"https://support.wattpad.com/hc/es/articles/360029365812",6:"https://support.wattpad.com/hc/pt/articles/360029365812",20:"https://support.wattpad.com/hc/id/articles/360029365812",23:"https://support.wattpad.com/hc/tr/articles/360029365812"};function f(e){var t=e.toggleModal;return Object(i.useEffect)((function(){return t({className:"user404",disableClose:!0,component:function(){return s.a.createElement(p,null)}}),function(){t()}}),[t]),s.a.createElement("div",{id:"userError-404"},s.a.createElement(d.a,null),s.a.createElement(u.n,null))}function p(){var e=Object(c.h)().trans;var t=m[parseInt(app.get("language"),10)]?m[parseInt(app.get("language"),10)]:m[1];return s.a.createElement("div",{className:"user-not-found"},s.a.createElement("h3",null,e("User not found")),s.a.createElement("p",null,e("This user no longer exists, or is only visible to a selected audience.")),s.a.createElement("div",{className:"modal-btns"},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-block learn-more",href:t},e("Learn more")),s.a.createElement("button",{className:"btn btn-sm btn-block go-back",onClick:function(){window.history.back()}},s.a.createElement("span",null," ",e("Go back")," "))))}f.propTypes={toggleModal:o.a.func.isRequired};var y=Object(r.b)(null,{toggleModal:l.c})(f);t.a=y},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(2);t.a=function(){var e=Object(o.h)().trans;return a.a.createElement("div",{id:"story-404-wrapper"},a.a.createElement(i.c,{name:"errors/story-404.svg",className:"error-404-image"}),a.a.createElement("h3",null,e("This page got lost in a good story and never came back.")),a.a.createElement("p",null,e("We couldnt find what youre looking for. This page might have moved, no longer exists, or is only visible to a selected audience.")),a.a.createElement("div",{className:"buttons-404"},a.a.createElement("a",{className:"btn-primary on-navigate",href:"./home"},e("Go home"))))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(2);t.a=function(){var e=Object(o.h)().trans;return a.a.createElement("div",{className:"merch-message-wrapper"},a.a.createElement(i.c,{name:"merch/merch_message.svg",className:"merch-message-image"}),a.a.createElement("h3",null,e("Sorry this product is in beta and only available on iOS at the moment.")),a.a.createElement("p",null,e("We hope to bring you exciting new merch experiences down the road.")))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(5),c=function(e){var t=e.group,n=e.authorMessage,r=e.onBuyCoins,o=e.trans,i=t.user,l=i.username,c=i.name,u=i.avatar;return a.a.createElement("div",{className:"story-paywall"},a.a.createElement("span",{"data-dismiss":"modal"},a.a.createElement(s.e,{iconName:"fa-remove",height:"20",color:"wp-neutral-2"})),a.a.createElement("h2",null,o("If you are enjoying this story, please consider helping fund my writing")),a.a.createElement("div",{className:"avatar"},a.a.createElement(s.a,{avatar:u,username:l})),a.a.createElement("a",{className:"on-navigate profile-link",href:"/user/".concat(l)},"@",l),a.a.createElement("div",{className:"blocked-message"},a.a.createElement("span",{className:"italic"},n),a.a.createElement("div",{className:"author-name"},c)),a.a.createElement("button",{onClick:r,className:"btn btn-orange unlock unlock-part"},o("Get Coins to support me")),a.a.createElement("div",{className:"more-details"},o("When you unlock stories with Coins you are directly supporting writers, so they can keep writing stories you love.")," ",a.a.createElement("a",{href:"https://www.wattpad.com/paidstories/",target:"_blank",rel:"noopener noreferrer"},o("Learn how your support is empowering writers"))))};c.propTypes={group:i.a.shape({user:i.a.shape({username:i.a.string.isRequired,avatar:i.a.string.isRequired,name:i.a.string.isRequired}).isRequired}).isRequired,authorMessage:i.a.string.isRequired,onBuyCoins:i.a.func.isRequired,trans:i.a.func.isRequired},t.a=Object(l.m)(c)},function(e,t,n){"use strict";var r=n(6),a=n(4),o=n.n(a),i=n(1),s=n.n(i),l=n(0),c=n.n(l),u=n(5),d=n(3),m=n(99);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=f(Object(l.useState)(Object(u.n)()&&!parseInt(window.wattpad.utils.getCookie("seen-wallet-onboard"))),2),n=t[0],r=t[1];if(!n)return c.a.createElement(m.a,e);var a=e.isDesktop;return c.a.createElement("div",{className:o()("wallet-onboarding",{desktop:a})},c.a.createElement("div",{className:"wallet-overlay"}),c.a.createElement("div",{className:"wallet-bubble"},c.a.createElement(h,{onOnboardingFinish:function(){window.wattpad.utils.setCookie("seen-wallet-onboard",1),r(!1)}}),c.a.createElement(m.a,e)))}function h(e){var t=e.onOnboardingFinish,n=Object(d.h)().trans;return c.a.createElement("div",{className:"tooltip-content"},c.a.createElement("h6",null,n("Keep track of your Coin balance")),c.a.createElement("p",null,n("Visit the Coin Shop on the Wattpad mobile app to purchase Coins for Paid Stories")),c.a.createElement("button",{onClick:t,className:"btn ack-tooltip"},n("Got it")),c.a.createElement("div",{className:"arrow"}))}y.propTypes={isDesktop:s.a.bool.isRequired},h.propTypes={onOnboardingFinish:s.a.func.isRequired};var g=Object(r.b)((function(e){return{isDesktop:e.deviceData.isDesktop}}))(y);t.a=g},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(6),a=n(52),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n.n(c),d=n(2),m=n(5),f=n(13),p=n(8),y=n(3);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.onOnboardingFinish,n=void 0===t?function(){}:t,r=e.toggleModal,o=e.premium,s=void 0!==o&&o,l=Object(y.h)().trans,p=Object(c.useRef)(null);function g(){p.current.onResize()}var b=h(Object(c.useState)(!1),2),E=b[0],O=b[1],S=function(){!function(){if(!Object(m.n)())throw new Error("Can only be run on client");window.wattpad.utils.setCookie("seen-paid-onboard",1)}(),r(),n()},C=Object(f.h)(l);return s||(C=C.filter((function(e){return!e.showToPremiumOnly}))),u.a.createElement("div",{className:"onboarding-modal"},E&&u.a.createElement("button",{className:"btn-no-style",onClick:S},u.a.createElement(d.e,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"})),u.a.createElement(a.a,{dragging:!0,slidesToShow:1,ref:p,afterSlide:function(e){e===C.length-1&&O(!0)},renderCenterLeftControls:null,renderCenterRightControls:null,renderBottomCenterControls:function(e){var t=e.nextSlide,n=e.goToSlide,r=e.currentSlide,a=e.previousSlide,o=r===e.slideCount-1,s=0===r,c=o?S:t,d=l(o?"Got it":"Next");return u.a.createElement("div",{className:"carousel-controls"},u.a.createElement(v,{slides:C,goToSlide:n,currentSlide:r}),u.a.createElement("button",{className:"btn btn-orange onboarding-nav nav-next",onClick:c},d),u.a.createElement("button",{className:i()("btn btn-no-background onboarding-nav nav-back",{invisible:s}),onClick:a},l("Back")))}},C.map((function(e){var t=e.title,n=e.content,r=e.imageUrl,a=e.learnMoreLink;return u.a.createElement(w,{key:t,onImageLoad:g,title:t,content:n,imageUrl:r,learnMoreLink:a})}))))}function v(e){var t=e.slides,n=e.goToSlide,r=e.currentSlide;return u.a.createElement("div",{className:"paging-buttons"},t.map((function(e,t){var a=t===r?"wp-neutral-2":"wp-neutral-3";return u.a.createElement("button",{className:"btn btn-no-background",key:t,onClick:function(){return n(t)}},u.a.createElement(d.e,{iconName:"fa-circle-filled",height:"10",color:a}))})))}b.propTypes={onOnboardingFinish:l.a.func,toggleModal:l.a.func.isRequired,premium:l.a.bool},v.propTypes={slides:l.a.array.isRequired,goToSlide:l.a.func.isRequired,currentSlide:l.a.number.isRequired};var w=function(e){var t=e.title,n=e.content,r=e.imageUrl,a=e.onImageLoad,o=e.learnMoreLink,i=Object(y.h)().trans;return u.a.createElement("div",{className:"slide"},u.a.createElement("div",{className:"slide-pane slide-image"},u.a.createElement(d.c,{width:"150",onLoad:a,name:r})),u.a.createElement("div",{className:"slide-pane slide-copy"},u.a.createElement("h4",null,t),u.a.createElement("span",null,n),o&&u.a.createElement(u.a.Fragment,null,". ",u.a.createElement("a",{className:"learn-more",href:o,target:"_blank",rel:"noopener noreferrer"},i("Learn more")))))};w.propTypes={title:l.a.string.isRequired,content:l.a.string.isRequired,imageUrl:l.a.string.isRequired,learnMoreLink:l.a.string,onImageLoad:l.a.func};var E={toggleModal:p.c},O=Object(r.b)(null,E)(b),S=function(e){window.store.dispatch(Object(p.c)({component:function(){return u.a.createElement(O,e)},disableClose:!0,useGlobalModalContainer:!0}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(2),u=n(8),d=n(3),m=function(e){var t=e.isDesktop,n=e.appLink,o=e.trackCoinsEvents,i=e.thankForInterest,s=void 0!==i&&i;Object(r.useEffect)((function(){return o(null,"view"),function(){o(null,"dismiss")}}),[o]);var l=Object(d.h)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"coins-cta background"},a.a.createElement("h3",null,l(s?"Thank you for your interest! You can purchase Coins on the app.":"Unlock Paid Stories with Coins")),a.a.createElement("p",null,l("Once you purchase Coins, you can unlock stories, and support writers, anywhere you use Wattpad - both on the app and on web!"))),a.a.createElement("div",{className:"how-to-buy"},t?a.a.createElement(p,{trans:l,learnMoreLink:"https://www.wattpad.com/paidstories/"}):a.a.createElement(f,{trans:l,appLink:n,onApplinkClick:function(){return o("purchase_cta","click")}})))};m.propTypes={isDesktop:i.a.bool.isRequired,appLink:i.a.string,trackCoinsEvents:i.a.func.isRequired,thankForInterest:i.a.bool};var f=function(e){var t=e.appLink,n=e.trans,r=e.onApplinkClick;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(y,{num:1},n("Open the Wattpad app on your mobile device and tap on the profile icon to go to your personal profile.")),a.a.createElement(y,{num:2},n("Tap on the plus icon beside your Coin wallet to view the Coin Shop.")),a.a.createElement(y,{num:3},n("Choose and purchase a Coin bundle to unlock your favorite stories."))),a.a.createElement("a",{href:t,onClick:r,className:"btn btn-orange"},n("Go to the app")))};f.propTypes={appLink:i.a.string,trans:i.a.func.isRequired,onApplinkClick:i.a.func.isRequired};var p=function(e){var t=e.trans,n=e.learnMoreLink;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"row"},a.a.createElement(y,{num:1,isDesktop:!0},t("Open the Wattpad app on your mobile device and tap on the profile icon to go to your personal profile.")),a.a.createElement(y,{num:2,isDesktop:!0},t("Tap on the plus icon beside your Coin wallet to view the Coin Shop.")),a.a.createElement(y,{num:3,isDesktop:!0},t("Choose and purchase a Coin bundle to unlock your favorite stories."))),a.a.createElement("div",{className:"row instructions-images"},a.a.createElement(h,{step:"1"}),a.a.createElement(h,{step:"2"}),a.a.createElement(h,{step:"3"})),a.a.createElement("div",{className:"learn-more"},a.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},t("Learn how your support is empowering writers"))))};p.propTypes={trans:i.a.func.isRequired,learnMoreLink:i.a.string.isRequired};var y=function(e){var t=e.num,n=e.isDesktop,r=e.children;return a.a.createElement("div",{className:l()("cta-step",{"col-sm-4":n})},a.a.createElement("div",{className:"step-circle"},a.a.createElement("div",null,t)),a.a.createElement("p",{className:"step-instruction"},r))};y.propTypes={num:i.a.number.isRequired,children:i.a.node.isRequired,isDesktop:i.a.bool};var h=function(e){var t=e.step;return a.a.createElement("div",{className:"col-sm-4"},a.a.createElement(c.c,{name:"paid-content/buy-coins-step-".concat(t,".png")}))};h.propTypes={step:i.a.string.isRequired};var g=function(e){var t=e.isDesktop;window.store.dispatch(Object(u.c)({className:l()("buy-coins",{desktop:t,mobile:!t}),component:function(){return a.a.createElement(m,e)}}))}},function(e,t,n){"use strict";var r=n(166);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(15),l=n(1),c=n.n(l),u=n(2),d=n(5),m=n(3),f=n(82),p=n(27);function y(e){var t=e.author,n=e.createDate,r=e.isOffensive,o=e.id,l=e.isReply,c=e.numReplies,y=e.body,h=e.isStoryWriter,g=void 0!==h&&h,b=Object(m.h)(),v=b.trans,w=b.ngettext,E=t.badges&&t.badges.length>0?t.badges[0]:"",O=v("Writer");return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:i()({"story-writer-comment":g})},a.a.createElement("div",{className:"header"},a.a.createElement("a",{href:"/user/".concat(t.name),className:"avatar avatar-sm pull-left on-navigate"},a.a.createElement("img",{src:t.avatar,alt:"".concat(t.name,"'s avatar")})),a.a.createElement("div",{className:"author-details"},a.a.createElement("a",{className:"username on-navigate right-icon",href:"/user/".concat(t.name)},t.name,a.a.createElement(f.a,{name:E,allowedBadges:["staff","verified"]})),g&&a.a.createElement(p.a,{name:O,bgColor:"#a93e19",color:"#fff",disableClick:!0})),a.a.createElement("small",null,Object(d.e)(n,{fuzzyTime:!0}))),r&&a.a.createElement("div",{className:"warning"},a.a.createElement(u.e,{iconName:"fa-warning",color:"wp-lighterror",height:"10"}),a.a.createElement("small",null,v("This comment may be offensive."))),a.a.createElement("pre",{dangerouslySetInnerHTML:{__html:Object(d.o)(y)}}),a.a.createElement("footer",null,a.a.createElement("button",{type:"button",className:i()("btn btn-sm btn-link",l?"on-add-mention":"on-reply"),"data-target":"#replies-".concat(o),"data-id":o},c?Object(s.sprintf)(w("%s Reply","%s Replies",c),c):v("Reply")))),!l&&a.a.createElement("div",{id:"replies-".concat(o),className:"replies-list collapse","data-id":o,"data-message-owner":t.name}))}y.propTypes={author:c.a.shape({name:c.a.string,avatar:c.a.string,badges:c.a.array}),createDate:c.a.string,isOffensive:c.a.bool,id:c.a.string,isReply:c.a.bool,numReplies:c.a.number,body:c.a.string,isStoryWriter:c.a.bool}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),a=n.n(r),o=n(6),i=n(0),s=n.n(i),l=n(81),c=n(177);function u(e){return s.a.createElement(c.a,{tagGridTags:e.storyTags,onTagClicked:function(t){return e.removeStoryTag(t)}})}u.propTypes={storyTags:a.a.object,removeStoryTag:a.a.func.isRequired};var d=Object(o.b)((function(e){return{storyTags:e.storyTags}}),{removeStoryTag:l.c})(u)},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(2),u=n(3),d=n(9);function m(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t,n,o=e.username,i=e.genres,s=Object(u.h)().trans,p=Object(u.d)(),y=f(Object(r.useState)([]),2),h=y[0],g=y[1],b=f(Object(r.useState)(!1),2),v=b[0],w=b[1],E=(t=v,n=Object(r.useRef)(),Object(r.useEffect)((function(){n.current=t})),n.current);Object(r.useEffect)((function(){o&&i&&0!==i.length||app.router.navigate("/start/success",{trigger:!0})}),[p,o,i]),Object(r.useEffect)((function(){var e=setTimeout((function(){w(!1)}),5e3);return function(){clearTimeout(e)}}),[E,v]);var O=function(e,t){if("click"===t.type||13===t.keyCode){var n=e.name;if(h.includes(n)){var r=h.filter((function(e){return e!==n}));g(r),w(!1)}else h.length>=3?w(!0):g([].concat(m(h),[n]))}};return i&&0!==i.length?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"full-screen background-1 onboarding-bg"}),a.a.createElement("div",{className:"onboardingModal modal fade in genres"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"onboarding-genres"},a.a.createElement("div",{className:"logo-wrapper"},a.a.createElement(c.c,{name:"logos/wp-logo-orange.png",alt:"wattpad logo",className:"wp-logo",width:"174"})),a.a.createElement("div",{className:"greeting"},s("Hi, %s",o)),a.a.createElement("div",{className:"prompt",dangerouslySetInnerHTML:{__html:s("Choose <strong>up to three</strong> genres that you enjoy reading. This will help us better recommend stories you'll love.")}}),a.a.createElement(a.a.Fragment,null),a.a.createElement("div",{className:"genres"},i.map((function(e){var t=h.includes(e.name);return a.a.createElement("div",{key:e.name,className:"genre-tile",tabIndex:0,role:"button",onClick:function(t){O(e,t)},onKeyDown:function(t){O(e,t)}},a.a.createElement("div",{className:"genre-info",style:e.image?{backgroundImage:"url(".concat(e.image,")")}:{}},a.a.createElement("div",{className:"genre-name"},e.topic)),a.a.createElement("div",{className:"selected-wrapper"},a.a.createElement("div",{className:l()("overlay",{active:t,hidden:!t})}),a.a.createElement("div",{className:l()("selected-icon",{active:t,hidden:!t})},a.a.createElement(d.a,{iconName:"fa-check",color:"wp-neutral-5"}))))})),a.a.createElement("ul",{className:"overflow-padding","aria-hidden":!0})),v&&a.a.createElement("div",{className:"genre-error-toast-wrapper"},a.a.createElement("div",{className:"genre-error-toast"},a.a.createElement("p",null,s("Oops, you can only select three genres. Try removing one before adding another"))))),a.a.createElement("div",{className:"finish-button-wrapper"},a.a.createElement("button",{className:l()("finish-button","btn-primary",{enabled:h.length>0,disabled:h.length<=0}),onClick:function(){var e="/v5/users/".concat(o,"/content-settings");Promise.resolve($.ajax({url:e,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({preferredTags:h})})).finally((function(){window.te.push("event","onboarding",null,null,"complete"),app.router.navigate("/start/success",{trigger:!0})}))}},s("Finish"))),a.a.createElement("div",{className:"transparency"})))):null}h.propTypes={username:i.a.string.isRequired,genres:i.a.arrayOf(i.a.object).isRequired}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=n(2),i=n(3);function s(){var e=Object(i.h)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"full-screen background-1 onboarding-bg"}),a.a.createElement("div",{className:"onboardingModal modal fade in success"},a.a.createElement("div",{className:"onboarding-success"},a.a.createElement("div",{className:"logo-wrapper"},a.a.createElement(o.c,{name:"logos/wp-logo-orange.png",alt:"wattpad logo",className:"wp-logo",width:"174"})),a.a.createElement("div",{className:"title"},e("All done")),a.a.createElement("div",{className:"message"},e("Thanks for setting up your profile! A world of stories awaits you...")),a.a.createElement("div",{className:"image"},a.a.createElement("img",{src:"/img/onboarding-success/book_lover.svg",alt:""})),a.a.createElement("button",{className:"start-reading-button btn-primary",onClick:function(){app.router.navigate("/home",{trigger:!0})}},e("Start reading")))))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(5),c=n(46),u=n.n(c);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,n,r,o=y(i);function i(){var e;m(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=o.call.apply(o,[this].concat(n))),"removeMessaging",(function(){var t=e.props,n=t.id,r=t.groupId,a=t.partId;u.a.unmountComponentAtNode(document.getElementById("component-bannedimagemessaging-".concat(n,"-/myworks/").concat(r,"/write/").concat(a)))})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.src,n=e.trans;return a.a.createElement("div",{className:"banned-image-wrapper",contentEditable:"false",suppressContentEditableWarning:!0},a.a.createElement("div",{className:"banned-image-messaging","data-url":t},a.a.createElement(s.e,{name:"warning-triangle",size:"68",color:"wp-warning-01",viewBox:"24",className:"warning-icon"}),a.a.createElement("span",{className:"message"},n("This image has been deemed unsafe and will only be visible to you."),a.a.createElement("button",{role:"link",className:"on-learn-more btn-no-background",onClick:function(){window.open("https://support.wattpad.com/hc/en-us/articles/360020840731-Image-Moderation-on-Wattpad","_blank","noopener")}},n("Learn more")))))}},{key:"componentDidMount",value:function(){window.app.currentView.listenTo(window.app,"works:editor:remove-banned-indicator",this.removeMessaging)}},{key:"componentWillUnmount",value:function(){window.app.currentView.stopListening(window.app,"works:editor:remove-banned-indicator")}}])&&f(t.prototype,n),r&&f(t,r),i}(a.a.Component);v(w,"propTypes",{trans:i.a.func.isRequired,id:i.a.any.isRequired,src:i.a.string.isRequired,groupId:i.a.string,partId:i.a.number,cleanupBannedMessaging:i.a.func}),t.a=Object(l.m)(w)},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n(3),c=n(4),u=n.n(c);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(){var e=Object(l.h)().trans;return i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(s.c,{name:"/icons/spin/fa-loading.gif",className:"fa-spin spinner",alt:e("Spinner"),height:"48",width:"48"}))},p=function(e){var t=e.isIOS,n=e.isAndroid,r=Object(l.h)().trans,a=i.a.createElement("p",null,r("Thank you, we've received your appeal")),o=r("We ask that you leave your image in your story until weve processed your request."),c=n,d=c?"wattpad://home":t?"/inbox/Wattpad?success=true":"/inbox/Wattpad",m=u()("btn btn-md btn-orange",{"on-navigate":c});return i.a.createElement("div",{className:"col-xs-12 submission-success"},i.a.createElement(s.c,{name:"image-moderation/appeal-success.svg",className:"success-image"}),i.a.createElement("span",{className:"success-header"},a),i.a.createElement("span",{className:"success-info"},o),i.a.createElement("a",{href:d,className:m},r("OK, got it")))},y=function(e){var t=e.imageUrl,n=e.onSubmissionError,r=e.isIOS,a=e.isAndroid,s=Object(l.h)().trans,c=d(Object(o.useState)(!1),2),u=c[0],m=c[1],y=d(Object(o.useState)(!1),2),g=y[0],b=y[1];return i.a.createElement("div",{className:"image-appeal-flow"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},!u&&!g&&i.a.createElement("div",null,i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("h1",null,s("Appeal form")),i.a.createElement("span",{className:"form-info",dangerouslySetInnerHTML:{__html:s('This image has been flagged because it appears to violate our <a href="https://policies.wattpad.com/content" target=_blank class="on-click">%s</a>. Your readers will not be able to see this image, and there will not be an image in its place.',"Content Guidelines")}}),i.a.createElement("span",{className:"form-info"},s("If you think your image was mistakenly flagged, please describe why in the space below."))),i.a.createElement(h,{handleSubmit:function(){return m(!0),Promise.resolve($.ajax({type:"POST",url:"/v5/image_moderation/appeal",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({image_url:t})})).then((function(){m(!1),b(!0)})).catch((function(e){m(!1),b(!1),function(e){var t;switch(e){case"submitted":t=s("This image has already been appealed. Once a decision has been made, we will notify you.");break;case"resolved":t=s("Sorry, this image has already been reviewed by our team and cannot be appealed again.");break;default:t=s("Sorry, an error has occurred and were unable to submit your appeal. Please try again later.")}n(t)}(e.responseJSON.status)}))},imageUrl:t})),!u&&g&&i.a.createElement(p,{isIOS:r,isAndroid:a}),u&&i.a.createElement(f,null))))},h=function(e){var t=e.handleSubmit,n=e.imageUrl,r=Object(l.h)().trans,a=d(Object(o.useState)(0),2),s=a[0],c=a[1];return i.a.createElement("form",{id:"image-appeal",name:"image-appeal",className:"col-xs-12",onSubmit:function(e){e.preventDefault(),t()}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"form-reason"},i.a.createElement("textarea",{name:"reason",id:"reason",rows:"7",placeholder:"Tell us why",maxLength:"435",onKeyUp:function(e){c(e.target.value.length)}}),i.a.createElement("span",{className:"image-info col-xs-12"},i.a.createElement("div",{className:"image-container"},i.a.createElement("img",{src:n,alt:n})),i.a.createElement("a",{href:n,className:"image-url"},n))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("span",{className:"next-steps"},r("Once weve reviewed your appeal, we will notify you via your inbox. If your appeal is approved your image will be restored and made visible to your readers.")))),i.a.createElement("div",{className:"row submit"},i.a.createElement("button",{className:"btn btn-md btn-orange pull-right on-send",disabled:0===s},r("Send"))))};y.propTypes={imageUrl:a.a.string.isRequired,onSubmissionError:a.a.func.isRequired,isIOS:a.a.bool,isAndroid:a.a.bool},p.propTypes={isIOS:a.a.bool,isAndroid:a.a.bool},h.propTypes={imageUrl:a.a.string.isRequired,handleSubmit:a.a.func.isRequired},t.a=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(53),c=n(169),u=n(2);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(){return wattpad.utils.currentUser().authenticated()},p=function(e){return"/v5/users/".concat(e,"/privacy-settings/ccpa/")},y=function(){return f()?(e=wattpad.utils.getCurrentUserAttr("username"),Promise.resolve($.get(p(e)).then((function(e){return e.optout})))):Promise.resolve(!!window.wattpad.utils.getCookie("ccpa-oo"));var e},h=function(e){return f()?function(e){var t=wattpad.utils.getCurrentUserAttr("username");return Promise.resolve($.ajax({url:p(t),type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify({optout:e})}))}(e):Promise.resolve(window.wattpad.utils.setCookie("ccpa-oo",e,3650))},g=function(){return-1!==window.location.search.indexOf("mode=app")},b=function(){var e="/home";g()&&(e="".concat(window.location.pathname,"?").concat("mode=app","&").concat("closeWebForm=true")),wattpad.utils.redirectToServer(e)};function v(e){var t=Object(s.h)().trans,n=d(Object(r.useState)(!0),2),o=n[0],i=n[1],m=d(Object(r.useState)(!1),2),p=m[0],v=m[1],w=d(Object(r.useState)(!1),2),E=w[0],O=w[1],S=d(Object(r.useState)(e.startWithError?"startWithError enabled":null),2),C=S[0],k=S[1];a.a.useEffect((function(){y().then((function(e){v(e),O(!0)})).catch((function(){v(!1),O(!0)}))}),[]);return E?a.a.createElement(c.a,{variant:"privacy-settings text-center max-width-and-wp-bg"},a.a.createElement(l.d,{variant:"large mb",text:t("Do not sell my personal information")}),p?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"icon-holder"},a.a.createElement(u.e,{iconName:"fa-check",color:"wp-neutral-5",size:20})),a.a.createElement("p",{className:"fs-14 mb-4 neutral-100",id:"opted-out-text"},t("You have successfully opted out. Wattpad will not sell your personal information to third parties.")),!f()&&a.a.createElement("p",{className:"fs-14 mb-3 b neutral-100",dangerouslySetInnerHTML:{__html:t('To save this preference permanently, you must <a class="base-2-60" href="%s">log in</a> or <a class="base-2-60" href="%s">create an account</a>.',"/login","/signup")}}),a.a.createElement(l.b,{variant:"base-2-60 full-width",text:t("Back to Wattpad"),onClick:b})):a.a.createElement(a.a.Fragment,null,a.a.createElement(l.c,{variant:"base-2"},a.a.createElement("p",{className:"fs-14"},t("If you choose to continue sharing your information, Wattpad will be able to provide you with a better reading experience by serving you ads that are more tailored to your interests.")),a.a.createElement(l.b,{variant:"base-2-60 full-width",id:"continue-sharing-button",text:t("Continue sharing information"),onClick:b})),a.a.createElement(l.c,null,a.a.createElement("p",{className:"fs-14 mb-3"},t("If you are a California resident, you have the right to opt out of the sharing of your personal information with third parties (subject to certain exceptions) under the California Consumer Privacy Act (CCPA). This is known as the right to opt out of the sale of your personal information.")),a.a.createElement("div",{className:"checkbox-holder"},a.a.createElement("input",{type:"checkbox",name:"californian",id:"californian",value:"yes",onChange:function(e){i(!e.target.checked)}}),a.a.createElement("label",{htmlFor:"californian",className:"fs-12 b"},t("I am a resident of California"))),a.a.createElement(l.b,{variant:"full-width mb-1 neutral-100",disabled:o,id:"optout-button",onClick:function(e){var t;t=!0,e.preventDefault(),o||h(t).then((function(){v(t),k(null),window.wattpad.utils.setCookie("usprivacy","",-1,!0)})).then((function(){g()&&app.router.navigate("".concat(window.location.pathname,"?").concat("mode=app","&").concat("optOut","=").concat(t),{trigger:!0})})).catch((function(e){k(e)}))},text:t("Do not sell my personal information")}),C&&a.a.createElement(l.a,{variant:"fs-12 text-left mb-1",messageNode:a.a.createElement("div",{dangerouslySetInnerHTML:{__html:t('There was an error submitting your opt-out request. Please try again or <a class="base-2-60" href="%s">report the issue</a>.',"https://support.wattpad.com/hc/en-us/requests/new")}})}),a.a.createElement("p",{className:"fs-12"},a.a.createElement("em",{dangerouslySetInnerHTML:{__html:t('You can also opt out of the sale of your personal information by sending us an email at <a class="base-2-60" href="%s">%s</a>.',"mailto:privacy@wattpad.com","privacy@wattpad.com")}}))))):a.a.createElement("div",{className:"loading-spinner"},a.a.createElement(u.f,null))}v.propTypes={startWithError:i.a.bool},v.defaultProps={startWithError:!1}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(6),i=n(1),s=n.n(i),l=n(4),c=n.n(l),u=n(121),d=n(2),m=n(5),f=n(3);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){var t=e.isNew,n=e.isPublish,o=e.onSwitchTabs,i=e.updateActiveTab,s=e.activeTab,l=Object(f.h)().trans;function u(e){var t=e.currentTarget.getAttribute("data-section");i(t),o(t)}return Object(r.useEffect)((function(){i("toc")}),[i]),a.a.createElement("div",{className:"works-edit-select"},a.a.createElement("button",{className:c()("on-switch-type",{active:"story-detail"===s||t}),"data-section":"story-detail",onClick:u},l("Story Details")),!t&&!n&&a.a.createElement("button",{className:c()("on-switch-type",{active:"toc"===s}),"data-section":"toc",onClick:u},l("Table of Contents")),!t&&a.a.createElement(O,{onTabChange:u,activeTab:s,label:l("Story Notes")}))}E.defaultProps={onSwitchTabs:function(){}},E.propTypes={isNew:s.a.bool.isRequired,isPublish:s.a.bool.isRequired,onSwitchTabs:s.a.func.isRequired,updateActiveTab:s.a.func.isRequired,activeTab:s.a.string.isRequired};t.a=Object(o.b)((function(e){return{activeTab:e.worksItemDetails.worksItemDetailsActiveTab}}),{updateActiveTab:u.b})(E);var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=g(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e),n=v(t),a=function(e){localStorage.setItem("seen-planner","true"),t.setState({isNew:!1}),t.props.onTabChange(e)},(r="onClickedPlannerTab")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.state={isNew:Object(m.n)()&&!localStorage.getItem("seen-planner")},t}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("button",{className:c()("on-switch-type",{active:"story-planner"===this.props.activeTab}),"data-section":"story-planner",onClick:this.onClickedPlannerTab},a.a.createElement("div",{id:"story-planner-tab"},this.state.isNew&&a.a.createElement("div",{id:"story-planner-new-tag-container"},a.a.createElement(d.c,{name:"shared/new-tag-2x.png",id:"storyplanner-new-tag",height:"19px",width:"40px"})),a.a.createElement("div",null,this.props.label)))}}])&&y(t.prototype,n),r&&y(t,r),i}(a.a.Component);O.propTypes={onTabChange:s.a.func.isRequired,activeTab:s.a.string.isRequired,label:s.a.string}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(3);t.a=function(){var e=Object(i.h)().trans;return a.a.createElement("div",{className:"acknowledge"},a.a.createElement(o.b,{defaultValue:!1,id:"acknowledge-checkbox"}),a.a.createElement("label",{htmlFor:"acknowledge-checkbox"},e("I acknowledge this is my own original work, or I have the permission from the original author to post this work. Copyright infringement may result in story deletion or account closure.")))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=(n(2),n(5));function u(e){var t=e.story,n=e.section,r=e.trans;return a.a.createElement("nav",{className:"pull-right",id:"writer-analytics-nav-bar"},a.a.createElement("ul",null,a.a.createElement("li",{"data-section":"activities",className:l()({active:"activities"===n,"not-active":"activities"!==n})},a.a.createElement("a",{className:"on-nav-item",href:"/myworks/".concat(t.id,"/analytics/")},r("Overview"))),a.a.createElement("li",{"data-section":"interactions",className:l()({active:"interactions"===n,"not-active":"interactions"!==n})},a.a.createElement("a",{className:"on-nav-item",href:"/myworks/".concat(t.id,"/analytics/interactions")},r("Engagement"))),a.a.createElement("li",{"data-section":"demographics",className:l()({active:"demographics"===n,"not-active":"demographics"!==n})},a.a.createElement("a",{className:"on-nav-item",href:"/myworks/".concat(t.id,"/analytics/demographics")},r("Demographics")))))}u.propTypes={story:i.a.object.isRequired,section:i.a.string.isRequired,trans:i.a.func},t.a=Object(c.m)(u),i.a.string.isRequired,i.a.string.isRequired,i.a.func.isRequired},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(15),l=n(6),c=n(5),u=n(3),d=n(125),m=n(126),f=n(76),p=function(e){var t=e.handleOpenPopover,n=e.handleClosePopover,o=e.story,i=o.readCount,l=void 0===i?null:i,f=o.voteCount,p=void 0===f?null:f,y=o.numParts,h=void 0===y?null:y,g=Object(u.h)(),b=g.ngettext,v=g.trans,w=Object(r.useRef)(),E=function(){return a.a.createElement(m.a,{title:v("What is Total Reads?"),content:v("The total number of times your story parts have been viewed or read to any extent since they were published (all-time)."),closePopover:function(){return n(w)}})};return a.a.createElement("ul",{className:"stats-list"},null!==l&&a.a.createElement("li",{className:"h5 readcount stats-list__item"},Object(s.sprintf)(b("%s Total Read","%s Total Reads",l),Object(c.b)(l)),a.a.createElement(d.a,{onClick:function(e){t(e,E,w,"writer-analytics-info-popover")},color:"wp-neutral-5",className:"stats-list-read__info"})),null!==p&&a.a.createElement("li",{className:"h5 votecount stats-list__item"},Object(s.sprintf)(b("%s Vote","%s Votes",p),Object(c.b)(p))),null!==h&&a.a.createElement("li",{className:"h5 numparts stats-list__item"},Object(s.sprintf)(b("%s Story Part","%s Story Parts",h),Object(c.b)(h))))};p.propTypes={story:i.a.shape({readCount:i.a.number,voteCount:i.a.number,numParts:i.a.number}).isRequired,handleOpenPopover:i.a.func,handleClosePopover:i.a.func};var y=Object(l.b)(null,{handleOpenPopover:f.b,handleClosePopover:f.a})(p);t.a=y},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(6),l=n(15),c=n(5),u=n(3),d=n(2),m=n(125),f=n(126),p=n(76),y=function(e){var t=e.handleOpenPopover,n=e.handleClosePopover,o=e.story.qualifiedUniqueReaders,i=Object(u.h)(),s=i.ngettext,p=i.trans,y=Object(r.useRef)(),h=function(){return a.a.createElement(f.a,{title:p("What is Engaged Readers?"),content:p("Unique readers with 5+ minutes of time spent reading your story in the last 365 days. Of your total story viewers during the same period, these readers were most interested in exploring your content."),closePopover:function(){return n(y)}})};return a.a.createElement("div",{className:"qur-label"},a.a.createElement(d.e,{className:"qur-label__book",name:"bookOpenBeta",size:"16",strokeWidth:"3",color:"ds-neutral-00-solid"}),a.a.createElement("span",{className:"h5 qur-label__text"},Object(l.sprintf)(s("%s Engaged Reader","%s Engaged Readers",o),Object(c.b)(o))),a.a.createElement(m.a,{onClick:function(e){t(e,h,y,"writer-analytics-info-popover")},color:"wp-neutral-5"}))};y.propTypes={story:i.a.shape({qualifiedUniqueReaders:i.a.number.isRequired}).isRequired,handleOpenPopover:i.a.func,handleClosePopover:i.a.func};var h=Object(s.b)(null,{handleOpenPopover:p.b,handleClosePopover:p.a})(y);t.a=h},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(6),l=n(125),c=n(126),u=n(3),d=n(76),m=function(e){var t=e.handleOpenPopover,n=e.handleClosePopover,o=e.title,i=e.metric,s=e.section,d=Object(u.h)().trans,m=Object(r.useRef)(),f=function(){return a.a.createElement(c.a,{title:d("What is Daily Unique Readers?"),content:d("The number of unique daily viewers or readers of your story over the last 30 days."),closePopover:function(){return n(m)}})};return a.a.createElement("div",{className:"line-chart-header"},a.a.createElement("h2",{className:"line-chart-header__title"},o),"activities"===s&&"readers"===i&&a.a.createElement(l.a,{onClick:function(e){t(e,f,m,"writer-analytics-info-popover")},className:"line-chart-header__info",color:"wp-neutral-1"}))};m.propTypes={title:i.a.string.isRequired,metric:i.a.string,section:i.a.string,handleOpenPopover:i.a.func,handleClosePopover:i.a.func};var f=Object(s.b)(null,{handleOpenPopover:d.b,handleClosePopover:d.a})(m);t.a=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),o=n(2),i=n(5),s=n(3);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(){var e=Object(s.h)().trans,t=!0;Object(i.n)()&&(t="true"===localStorage.getItem("hide-insights-mystories-banner"));var n=l(Object(r.useState)(t),2),c=n[0],u=n[1];if(Object(r.useEffect)((function(){window.te.push("event","cta",null,null,"view",{page:"myworks",cta_type:"story_insights"})}),[]),c)return null;return a.a.createElement("div",{className:"myworks-insights-cta"},a.a.createElement("div",{className:"image-container"},a.a.createElement("div",{className:"image-background"},a.a.createElement(o.c,{width:"128",height:"104",name:"writer-insights/cta-sample.png",title:""}))),a.a.createElement("div",{className:"cta-copy"},a.a.createElement("h5",null,e("Your story has potential. Uncover it with Wattpad Story Insights.")),a.a.createElement("ul",null,a.a.createElement("li",null,e("Get confidential, actionable feedback to improve your writing quality")),a.a.createElement("li",null,e("Discover how your writing stacks up against top stories on Wattpad")),a.a.createElement("li",null,e("Introduce suggested patterns of success into your story to take it to the next level")))),a.a.createElement("button",{className:"btn-no-style",onClick:function(){localStorage.setItem("hide-insights-mystories-banner",!0),u(!0)},"aria-label":e("Close insights banner")},a.a.createElement(o.e,{className:"close-btn",name:"close",color:"wp-neutral-1",size:"30"})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(9),l=n(3);function c(e){var t=e.msg,n=e.notice,r=e.nextUrl,o=Object(l.h)().trans,i="/forgot?nextUrl=".concat(r);return a.a.createElement("div",{id:"forgot-password"},a.a.createElement("header",{className:"forgot-password-header"},a.a.createElement("h2",null,o("Lost your password?")),a.a.createElement("span",{className:"instruction"},o("Type your username or email below and we'll send you instructions on how to reset it."))),a.a.createElement("div",{className:"forgot-password-body panel-body"},a.a.createElement("div",{className:"more-info",dangerouslySetInnerHTML:{__html:o('Visit <a href="https://support.wattpad.com/hc/en-us/articles/211235843-Resetting-or-changing-your-password">Wattpad Support</a> for more information')}}),a.a.createElement("hr",null),a.a.createElement("form",{action:i,method:"post"},a.a.createElement("div",{className:"form-group has-feedback","data-attr":"forgotEmail"},a.a.createElement("input",{id:"forgot-email",className:"form-control input-lg enable",name:"email",type:"text",placeholder:o("Username or Email")})),t&&a.a.createElement("div",{className:"alert alert-danger",role:"alert"},a.a.createElement(s.a,{iconName:"fa-info",height:"16",color:"wp-lighterror"})," ",t),n&&a.a.createElement("div",{className:"alert alert-info",role:"alert"},a.a.createElement(s.a,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}),n),a.a.createElement("div",{className:"row"},a.a.createElement("input",{type:"submit",className:"btn btn-primary enable submit",value:o("Send instructions")}),a.a.createElement("a",{className:"btn btn-secondary cancel",rel:"nofollow",href:"/login?nextUrl=".concat(r),"data-form":"login"},o("Cancel"))))))}c.propTypes={nextUrl:i.a.string,notice:i.a.string,msg:i.a.string}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(0),a=n.n(r),o=n(6),i=n(120),s=n(4),l=n.n(s),c=n(1),u=n.n(c),d=n(15),m=n(128),f=n(3),p=n(2);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(){var e=Object(f.h)().trans;return a.a.createElement("div",{className:"quest-progress"},a.a.createElement("div",{className:"placeholder-container"},a.a.createElement(p.c,{name:"quests/incoming-quests.svg"}),a.a.createElement("div",{className:"title"},e("You're on your way")),a.a.createElement("div",null,e("Keep an eye out for more Quests. The more you do, the more eligible you become to have your story featured!"))))}function v(e){var t=e.title,n=e.description,r=e.is_complete,o=e.body.click_url,i=e.type;return a.a.createElement("div",{className:"quest-task"},a.a.createElement(p.b,{disabled:!0,defaultValue:r}),a.a.createElement("div",{className:"quest-task-right-content"},a.a.createElement(m.b,{type:i,link:o,isLinkable:!r},a.a.createElement("h6",{className:l()("quest-task-title",{complete:r})},t),a.a.createElement("div",{className:l()("quest-task-description",{complete:r})},n))))}function w(e){var t=e.style,n=e.description,o=e.tasks_total,i=e.tasks_completed,s=e.title,c=e.tasks,u=e.badges,p=h(Object(r.useState)(!1),2),g=p[0],b=p[1],w=Object(f.h)().ngettext,E=function(){return b(!g)},O=o-i||0;return a.a.createElement("div",{className:l()("quest-card",{expanded:g})},a.a.createElement("div",{className:"left-content",style:{background:t.banner_color}},a.a.createElement("img",{src:t.avatar_url,alt:"Quest avatar"})),a.a.createElement(m.a,{isExpandable:!g,onClick:E,className:"right-content"},a.a.createElement(m.a,{isExpandable:g,onClick:E},a.a.createElement("h3",null,s),g&&n&&a.a.createElement("div",null,n)),g&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("hr",null)),c&&c.map((function(e){return a.a.createElement(v,y({key:e.id},e))}))),a.a.createElement("div",{className:"tasks-container"}),a.a.createElement("div",{className:"tasks-count"},Object(d.sprintf)(w("%s task left to complete","%s tasks left to complete",O),O)),u.length>0&&a.a.createElement("div",{className:"quest-badges-container"},u.map((function(e){return a.a.createElement("div",{key:e.title,className:"quest-badge"},e.title)})))))}function E(e){var t=e.loadQuests,n=e.questMapById,o=Object(f.h)().trans;Object(r.useEffect)((function(){t()}),[t]);var i=Object.values(n);return a.a.createElement("div",{id:"quests"},a.a.createElement("h3",null,o("Do these quests to become a better Wattpader!")),a.a.createElement("div",{className:"split-view"},a.a.createElement("div",{className:"quest-cards"},i.map((function(e){return a.a.createElement(w,y({key:e.id},e))}))),i.length>0&&a.a.createElement(b,null)))}v.propTypes={title:u.a.string,description:u.a.string,is_complete:u.a.bool,body:u.a.object,type:u.a.string},v.defaultProps={body:{click_url:"",tracking_url:""},type:""},w.propTypes={id:u.a.number,description:u.a.string,tasks_total:u.a.number,tasks_completed:u.a.number,title:u.a.string,style:u.a.object,tasks:u.a.array,badges:u.a.array},w.defaultProps={tasks_total:0,style:{},badges:[]},E.propTypes={loadQuests:u.a.func,questMapById:u.a.object};var O=Object(o.b)((function(e){return{questMapById:e.quests.mapById}}),{loadQuests:i.c})(E)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r),o=n(6),i=n(120),s=n(1),l=n.n(s),c=n(3),u=n(2),d=n(128);function m(e){var t=e.loadEmbeddedQuests,n=e.embeddedType,o=e.embeddedQuests,i=e.username,s=Object(c.h)().trans;Object(r.useEffect)((function(){t(n)}),[t,n]);var l=o&&o[0];if(!l)return null;var m,f=l.tasks&&l.tasks.find((function(e){return!e.is_complete}));return m=f?a.a.createElement(d.b,{type:f.type,link:f.body&&f.body.click_url,isLinkable:!0},a.a.createElement("div",{className:"panel panel-default2 panel-embedded-quest"},a.a.createElement("img",{src:l.style&&l.style.avatar_url,alt:"".concat(n," avatar")}),a.a.createElement("div",{className:"right-content"},a.a.createElement("div",{className:"banner-title"},f.title),a.a.createElement("div",null,f.description)))):a.a.createElement("div",{className:"panel panel-default2 panel-embedded-quest completed-banner"},a.a.createElement("img",{src:l.style&&l.style.avatar_url,alt:"".concat(n," avatar")}),a.a.createElement("div",{className:"right-content"},a.a.createElement("div",{className:"banner-title"},s("Congrats, youve completed all recommended tasks.")),a.a.createElement("div",null,s("Youre well on your way to becoming a superstar writer. Keep the momentum up by completing more tasks. The more you do the closer you are to getting featured on a special Featured List.")))),a.a.createElement("div",{id:"embedded-quests"},a.a.createElement("div",{className:"header"},a.a.createElement("span",{className:"title"},l.title,": "),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:s("<strong>%s</strong> of %s completed",l.tasks_completed,l.tasks_total)}})),m,a.a.createElement("a",{className:"link-quests right-icon",href:"/user/".concat(i,"/quests")},a.a.createElement(u.e,{name:"arrowRight",size:20}),s("Complete more tasks and get featured")," "))}m.propTypes={loadEmbeddedQuests:l.a.func,embeddedType:l.a.string.isRequired,embeddedQuests:l.a.array,username:l.a.string};var f=Object(o.b)((function(e,t){return{embeddedQuests:e.quests.mapByEmbeddedType[t.embeddedType]}}),{loadEmbeddedQuests:i.b})(m);f.defaultProps={embeddedType:"profile-about",embeddedQuests:[]}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(3);t.a=function(){var e=Object(i.h)().trans;return a.a.createElement("div",{className:"validation-success"},a.a.createElement("div",{className:"message-wrapper"},a.a.createElement("div",{className:"animation-wrapper"},a.a.createElement(o.g,{animationId:"validation-success-animation",animationOptions:{animType:"svg",loop:!1,path:"/img/lottie-animations/success.json"}})),a.a.createElement("h1",null,"Success!"),a.a.createElement("p",null,e("Your email is verified and sign-up is complete. Enjoy!")),a.a.createElement("a",{className:"btn-primary on-navigate",href:"/home"},e("Continue"))))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(3),u=function(e){var t=e.searchTerm,n=void 0===t?"":t,r=e.resultType,o=Object(c.h)().trans;return a.a.createElement("div",{className:"container"},a.a.createElement("nav",{id:"tabs",className:"search-tabs"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("a",{href:"/search/".concat(encodeURIComponent(n),"/stories"),"data-target":"stories",className:l()("on-tab-navigate",{active:"stories"===r})},o("Stories"))),a.a.createElement("li",null,a.a.createElement("a",{href:"/search/".concat(encodeURIComponent(n),"/people"),"data-target":"people",className:l()("on-tab-navigate",{active:"people"===r})},o("Profiles"))))))};u.propTypes={searchTerm:i.a.string,resultType:i.a.string},t.a=u},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(2),c=function(e){var t=e.resultType,n=Object(s.h)().trans,r=n("stories"===t?"Try a different search to see if we can find you some stories to read":"Try a different search to see if we can find you the user youre looking for");return a.a.createElement("div",{className:"empty-search-results"},a.a.createElement(l.c,{name:"search/no-results.svg",title:""}),a.a.createElement("div",{className:"message"},a.a.createElement("h4",null,n("Hmmm...there are no results")),a.a.createElement("p",{className:"message"},r)))};c.propTypes={resultType:i.a.string.isRequired},t.a=c},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(163),l=n(160),c=function(e){var t=e.bannerMessages,n=e.isMobile,r=e.searchTerm,o=e.handleSearchSubmit,i=e.handleSaveSearchTerm;return a.a.createElement(a.a.Fragment,null,n&&a.a.createElement(l.a,{searchTerm:r,handleSaveSearchTerm:i,handleSearchSubmit:o}),(null==t?void 0:t.length)>0&&a.a.createElement(s.a,{bannerMessages:t}))};c.defaultProps={isMobile:!1,bannerMessages:[],handleSearchSubmit:function(){},handleSaveSearchTerm:function(){}},c.propTypes={bannerMessages:i.a.arrayOf(i.a.string),isMobile:i.a.bool,searchTerm:i.a.string.isRequired,handleSearchSubmit:i.a.func,handleSaveSearchTerm:i.a.func},t.a=c},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(162),l=n(165),c=function(e){var t=e.recentSearches,n=e.browseTopics;return!e.searchTerm&&a.a.createElement("div",{className:"blank-search"},a.a.createElement("div",{className:"recent-searches"},a.a.createElement(s.a,{suggestedSearchTerms:t})),a.a.createElement("div",{id:"browse-topics"},a.a.createElement(l.a,{browseTopics:n})))};c.propTypes={recentSearches:i.a.array,browseTopics:i.a.array,searchTerm:i.a.string},t.a=c},function(e,t,n){"use strict";var r=n(6),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(28);var c=n(108),u=n(2),d=function(){return s.a.createElement("div",{id:"indicate-interest",className:"dashboard-cta container"},s.a.createElement(u.c,{name:"desktop-web/story-report-cta.png",id:"story-report-image"}),s.a.createElement("div",{className:"header"},l.d.header),s.a.createElement("div",{className:"paragraph"},s.a.createElement("p",{className:"description"},l.d.para1," "),s.a.createElement("p",{className:"description"},l.d.para2," "),s.a.createElement("p",{className:"description"},l.d.para3," ")))},m=n(4),f=n.n(m),p=n(52),y=n(5),h=n(8);function g(e,t){var n=window.location.origin;return{purchaseSuccessUrl:"".concat(n,"/myworks/").concat(e,"/analytics/insights?success=true&repurchase=").concat(t),purchaseCancelUrl:"".concat(n,"/myworks/").concat(e,"/analytics/insights?success=false&repurchase=").concat(t)}}function b(e){var t=e.storyId,n=e.isRepurchase,r=wattpad.utils.currentUser(),a=r.isWattpadStar(),o=r.isStaff(),i=a||o,s=null;i&&o?s="staff":i&&a&&(s="wattpad_star"),window.te.push("event","story_insights","report",null,"purchase_start",{storyid:parseInt(t,10),is_free:i,free_reason:s,is_repurchase:n}),i?function(e,t,n){var r="/v5/stories/".concat(e,"/insights/request");Promise.resolve($.post(r)).then((function(){wattpad.utils.sendPurchaseResultEvent({action:"purchase_complete",storyId:e,isFree:!0,freeReason:n,isRepurchase:t,orderRefId:null}),window.location.reload()})).catch((function(){wattpad.utils.showToast(),wattpad.utils.sendPurchaseResultEvent({action:"purchase_fail",storyId:e,isFree:!0,freeReason:n,isRepurchase:t,orderRefId:null})}))}(t,n,s):wattpad.testGroups.TAXAMO_INSIGHTS_PURCHASING?function(e,t){Taxamo.options.checkoutSrc="https://p.taxamo.com",Taxamo.initialize("public_test_srQi_BP75YLHUkh92Sn3EWpm9n2pLA6gkaz4BGdxBzc");var n=g(e,t),r=n.purchaseSuccessUrl,a=n.purchaseCancelUrl,o={transaction_lines:[{custom_id:"story-insights-report-usd",amount:9.99,description:"Story Insights Report"}],currency_code:"USD"},i={allowed_payment_providers:"stripe",require_email:!0,finished_redirect_url:r,cancel_redirect_url:a,show_invoice_address:!1,show_summary:!0},s={storyid:parseInt(e,10)},l=wattpad.utils.currentUser().get("username"),c="/v5/users/".concat(l,"/taxamo/checkout/sessions");Promise.resolve($.ajax({url:c,type:"POST",data:JSON.stringify(s),contentType:"application/json"})).then((function(e){o.custom_data=e.session_id,new Taxamo.Checkout(o,i).redirect()})).catch((function(){wattpad.utils.showToast(),wattpad.utils.sendPurchaseResultEvent({action:"purchase_fail",storyId:e,isFree:!1,freeReason:null,isRepurchase:t,orderRefId:null})}))}(t,n):function(e,t){var n=Stripe("pk_live_8kZCrClnJK62C0x9AQuZsKZI00VDFFqXa9"),r=g(e,t),a=r.purchaseSuccessUrl,o=r.purchaseCancelUrl,i={skus:[{id:"story_insights",details:{story_id:parseInt(e,10)}}],success_url:a,cancel_url:o},s=wattpad.utils.currentUser().get("username"),l="/v5/users/".concat(s,"/stripe/checkout/sessions");Promise.resolve($.ajax({url:l,type:"POST",data:JSON.stringify(i),contentType:"application/json"})).then((function(r){var a=r.session_id;n.redirectToCheckout({sessionId:a}).then((function(n){var r=n.error.message;r&&wattpad.utils.showToast(r),wattpad.utils.sendPurchaseResultEvent({action:"purchase_fail",storyId:e,isFree:!1,freeReason:null,isRepurchase:t,orderRefId:null})}))})).catch((function(){wattpad.utils.showToast(),wattpad.utils.sendPurchaseResultEvent({action:"purchase_fail",storyId:e,isFree:!1,freeReason:null,isRepurchase:t,orderRefId:null})}))}(t,n)}var v=[1,2,3,4,5],w={WRITING_STYLE:"Writing Style",STORY_READABILITY:"Reading Accessibility",READING_TIME:"Reading Time",SENTENCE_STRUCTURE:"Sentence Length",ADVERB_USAGE:"Adverb Use",WORD_REPETITION:"Word Repetition"},E={title:"Learn more about Writing Style",learnMoreUrl:"https://w.tt/si-writing-style",details:[{header:"Why your Writing Style matters",explanation:"Understanding your current writing style helps you determine if you want to introduce any changes to achieve certain writing goals. Want to be published? Consider taking on an Advanced Narrative Style, or a Literary Style. Want to tell a fast-paced story with unique formatting and dialogue? Consider a more Straightforward Writing Style."},{header:"Changing your Writing Style",explanation:"Modifying your Writing Style is not as simple as doing a spelling and grammar check. Style is a part of every word chosen, the pace of your story, and how you organize ideas. It takes effort to really comb through your manuscript, rewrite sections, collect feedback, and edit intensely. A good place to start is by reviewing insights highlighted by this report."},{header:"How Writing Style is calculated",explanation:"Writing Style is calculated by a Machine Learning technology that analyzes the patterns in grammar and sentence structure across a variety of stories; from previous Watty Award winning stories to Award Winning Novels. After evaluating thousands of these stories, it uses its knowledge to assess the style of your story."}]},O={1:{styleName:"Direct Writing Style",styleDetails:"Your writing style does not follow traditional writing practices for grammar or sentence structure. This style is commonly found in stories that switch up their format, like chat fiction, role playing, or screenplay formatted stories. It is less commonly found in descriptive, long-form narrative.",styleSummary:"Does not follow traditional writing practices for grammar or sentence structure. It is less commonly found in descriptive, long-form narrative."},2:{styleName:"Straightforward Writing Style",styleDetails:"Your writing style is more commonly found with stories that are less descriptive, and contain shorter sentences. Generally, this is a style used by non-fiction writers, or writers that write journalistically, in a way that gets straight to the point.",styleSummary:"More commonly found with stories that are less descriptive, and contain shorter sentences."},3:{styleName:"Modern Narrative Style",styleDetails:"Your writing style is more commonly found with stories that are published online; where stories are faster paced, and sometimes more dialogue-heavy than in traditional literature. This is a preferred style for writers who are trying to keep readers attention over serial releases.",styleSummary:"More commonly found with stories that are faster paced, and sometimes more dialogue-heavy than in traditional literature."},4:{styleName:"Advanced Narrative Style",styleDetails:"Your writing style is more commonly found within modern-day literature; where stories contain more dialogue and shorter sentences than in traditional literature. Grammar and sentence structure in this style are more refined than they are in the average story.",styleSummary:"More commonly found within modern-day literature; where stories contain more dialogue and shorter sentences than in traditional literature."},5:{styleName:"Literary Writing Style",styleDetails:"Your writing style is more commonly found in traditional literature; where narrative is descriptive, sentences are longer than average, and the writing is filled with more prose than dialogue. This is an ideal writing style for those writing for more traditional publishing opportunities.",styleSummary:"More commonly found in traditional literature; where narrative is descriptive, sentences are longer than average, and the writing is filled with more prose than dialogue."}},S={title:"Learn more about Reading Accessibility",learnMoreUrl:"https://w.tt/si-reading-accessibility",details:[{header:"Why Reading Accessibility matters",explanation:"If you are writing for a younger audience, but your Reading Accessibility is older, consider changing your sentence length and vocabulary to be more accessible. If, on the other hand, the audience you are writing for is older, but your Reading Accessibility is much younger, consider making your writing less accessible so that it keeps the attention of an older audience."},{header:"Changing your Reading Accessibility",explanation:"If you want to make your Reading Accessibility for an older audience, then use more complex words and write longer, more descriptive sentences. Conversely, if you want to make your Reading Accessibility younger, use less verbose language, and shorter sentences."},{header:"How Reading Accessibility is calculated",explanation:"Reading Accessibility takes into consideration both vocabulary and sentence length. It is a formula that calculates the number of words with three or more syllables, along with the average length of your sentences."}]},C={1:{ageRange:"22+",sameScoreCover:"writer-insights/readability-covers/atonement.jpg",description:"Most accessible to an audience that may have graduated College, and can easily understand a story such as Atonement, by Ian McEwen."},2:{ageRange:"20-22",sameScoreCover:"writer-insights/readability-covers/hitchhikers-guide-galaxy.png",description:"Most accessible to an audience that may currently be in their later years of College (Juniors/Seniors), or older, and can easily understand a story such as The Hitchhikers Guide to the Galaxy, by Douglas Adams."},3:{ageRange:"18-20",sameScoreCover:"writer-insights/readability-covers/walk-to-remember.jpg",description:"Most accessible to an audience that may currently be in their early years of College (Freshmen/Sophomores), or older, and can easily understand a story such as A Walk to Remember, by Nicholas Sparks."},4:{ageRange:"16-18",sameScoreCover:"writer-insights/readability-covers/handmaids-tale.jpg",description:"Most accessible to an audience that may currently be in their later years of High School (Juniors/Seniors), or older, and can easily understand a story such as The Handmaids Tale, by Margaret Atwood."},5:{ageRange:"14-16",sameScoreCover:"writer-insights/readability-covers/fault-stars.jpg",description:"Most accessible to an audience that may currently be in their early years of High School (Freshmen/Sophomores), or older, and can easily understand a story such as The Fault in our Stars, by John Green."},6:{ageRange:"14 and under",sameScoreCover:"writer-insights/readability-covers/harry-potter.jpg",description:"Most accessible to an audience that may currently be attending Elementary School, or older, and can easily understand a story such as Harry Potter and the Sorcerers Stone, by J.K. Rowling."},default:{ageRange:"N/A",sameScoreCover:null}},k={title:"Learn more about Reading Time",learnMoreUrl:"https://w.tt/si-reading-time",details:[{header:"Why Reading Time matters",explanation:"Stories that are consistent with the lengths of their parts fare better than stories that are not. Invest time in shortening or lengthening your story parts, so that most of them contain more or less the same word count. If you want to polish your story parts further, aim for the Wattpad Sweet Spot. These are story parts with a length of somewhere between 6 minutes (1,500 words) to 12 minutes (3,000 words)."},{header:"How Reading Time is calculated",explanation:"Reading time is based on the average time it would take a reader on Wattpad to read through your story or story part. This is based on your story parts word counts, and the average words read per minute."}]},N={title:"Learn more about Sentence Length",learnMoreUrl:"https://w.tt/si-sen-length",details:[{header:"Why Sentence Length matters",explanation:"Having varied sentence lengths in your story can allow for an interesting and dynamic reading experience. It's also a great way to impact the pacing of your story. If all your sentences are super short (or super long), the pacing might feel choppy (or long-winded). Consider how the content within each chapter is structured. So, in addition to ensuring your sentences are neither too long or too short, make sure you vary the length of your sentences throughout your storytelling, as a way to impact the pacing of your story."},{header:"How Sentence Length is calculated",explanation:"We count every word in each of your sentences to give you the average number of words per sentence (target sentence length is between 15-20 words), and the number of long sentences (sentences with more than 25 words)."}]},j={title:"Learn more about Adverb Use",learnMoreUrl:"https://w.tt/si-adverbs",details:[{header:"Why Adverb use should be limited",explanation:s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Stephen King once said, The road to hell is paved with adverbs. While that might sound extreme, it's well understood in the writing community that you should limit the use of adverbs in your writing."),s.a.createElement("div",null,"Look at this example:",s.a.createElement("ul",null,s.a.createElement("li",null,"She said it softly - adverb"),s.a.createElement("li",null,"She spoke with a soft tone - no adverb"))),s.a.createElement("p",null,"As you can see from the above, removing the use of an adverb forces a writer to become more descriptive. This is only a simple example, but as you can imagine, overusing Adverbs will, over time, impact how descriptive you are in your narrative writing."))}]},_={title:"Learn more about Word Repetition",learnMoreUrl:"https://w.tt/si-word-rep",details:[{header:"When to edit your most repeated words",explanation:"When describing characters or places, we are especially prone to overusing words. His handsome smile is okay to use once, but referencing his smile this way every time gets repetitive. Make sure to reference your characters and places in new and creative ways, even when talking about the same feature."},{header:"When not to edit your most repeated words",explanation:s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Repeating words in dialogue is generally welcome as it makes for more realistic characters. This is because when we speak, we often start with I, and are prone to overusing particular words over and over again."),s.a.createElement("p",null,"Remember that writing is an art and not a science, so dont fuss about eliminating all words that are overused. Think strategically about whether you want to keep the word, and why, before changing it."))}]};function P(e){var t=e.storyStyleScore,n=e.size,r=.6*n;return s.a.createElement("div",{className:"score-gauge",style:{height:n,width:n}},s.a.createElement("div",{className:"score-levels"},v.map((function(e){var r=t===e;return s.a.createElement(u.e,{name:"circle",className:f()("score-level","score-level-".concat(e)),color:r?"wp-base-1":"wp-neutral-3",key:e,size:n})}))),s.a.createElement("span",{style:{fontSize:r},className:"score-number"},t))}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t=e.title,n=e.details,r=e.learnMoreUrl,a=T(Object(i.useState)(!1),2),o=a[0],l=a[1];return s.a.createElement("div",{className:"expandable-learn-more"},s.a.createElement("button",{className:"btn-no-style btn-right-icon expand-button",onClick:function(){return l(!o)}},s.a.createElement("strong",null,t),s.a.createElement(u.e,{name:o?"chevUp":"chevDown",color:"wp-neutral-2",size:"24"})),s.a.createElement("div",{className:f()("learn-more-sections",{"visible-print":!o})},n.map((function(e){var t=e.header,n=e.explanation;return s.a.createElement("div",{className:"learn-more-section",key:t},s.a.createElement("strong",{className:"header"},t),s.a.createElement("div",null,n))}))),s.a.createElement("div",{className:f()("additional-info-link",{"visible-print":!o})},"Additional guidelines on this section can be found"," ",s.a.createElement("a",{href:r,rel:"noopener noreferrer",target:"_blank"},"here"),"."))}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e){var t=e.title,n=e.levels,r=I(Object(i.useState)(!1),2),a=r[0],o=r[1];return s.a.createElement("div",{className:"see-all-levels"},s.a.createElement("button",{className:"btn-link btn-right-icon btn-no-style see-all-button",onClick:function(){return o(!a)}},t," ",s.a.createElement(u.e,{name:a?"arrowCircleUp":"arrowCircleDown",color:"wp-base-1-dark",size:"18"})),s.a.createElement("div",{className:f()("levels-content",{"visible-print":!a})},n))}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t=e.goToSection,n=e.storyStyleScore,r=e.showTips,a=void 0===r||r,o=O[n],i=o.styleName,l=o.styleDetails,c=Object.entries(O).map((function(e){var t=M(e,2),n=t[0],r=t[1],a=r.styleName,o=r.styleSummary;return s.a.createElement(s.a.Fragment,{key:n},s.a.createElement("h6",{className:"level-title"},"".concat(n," - ").concat(a)),s.a.createElement("div",{className:"level-content"},o))}));return s.a.createElement("div",{className:"insights-module insights-section story-style"},s.a.createElement("div",{className:"insights-subsection"},s.a.createElement("h2",null,w.WRITING_STYLE),s.a.createElement("div",{className:"score-body"},s.a.createElement("div",{className:"style-description"},s.a.createElement("div",{className:"style-result"},s.a.createElement(P,{storyStyleScore:n,showTitle:!1,size:110})),s.a.createElement("span",null,"This story is written in a"),s.a.createElement("h2",{className:"header-red"},i),s.a.createElement("div",null,l)),a&&s.a.createElement("div",{className:"helpful-tips"},s.a.createElement("div",{className:"tips-header"},s.a.createElement(u.e,{size:"25",name:"lightbulb",color:"wp-neutral-1"}),s.a.createElement("h3",null,"Helpful Tips")),s.a.createElement("div",{className:"tip"},s.a.createElement("span",null,"Take a look at how short or long your sentences are. This can indicate how descriptive your writing is."),s.a.createElement("button",{className:"btn-link btn-no-style go-to-section hidden-print",onClick:function(){return t(w.SENTENCE_STRUCTURE)}},"Go to Sentence Length",s.a.createElement(u.e,{size:"18",className:"go-to-icon",name:"arrowCircleRight",color:"wp-base-1-dark"}))),s.a.createElement("div",{className:"tip"},s.a.createElement("span",null,"Often times, you can use better diction to describe a person or situation. Replacing adverbs with other descriptors can help."),s.a.createElement("button",{className:"btn-link btn-no-style go-to-section hidden-print",onClick:function(){return t(w.ADVERB_USAGE)}},"Go to Adverb Use",s.a.createElement(u.e,{size:"18",className:"go-to-icon",name:"arrowCircleRight",color:"wp-base-1-dark"}))),s.a.createElement("div",{className:"tip"},s.a.createElement("span",null,"You might be using a few specific words too frequently. See what words are overused and switch them up."),s.a.createElement("button",{className:"btn-link btn-no-style go-to-section hidden-print",onClick:function(){return t(w.WORD_REPETITION)}},"Go to Word Repetition",s.a.createElement(u.e,{size:"18",className:"go-to-icon",name:"arrowCircleRight",color:"wp-base-1-dark"}))))),s.a.createElement(L,{title:"See all styles",levels:c})),s.a.createElement("div",{className:"writer-distribution"},s.a.createElement("div",{className:"insights-subsection"},s.a.createElement("h4",null,"Writing Styles of Top Wattpad Writers"),s.a.createElement(u.c,{name:"writer-insights/writer-distribution-graphs/level-".concat(n,".png"),id:"distribution-graph"}))),s.a.createElement(x,E))}function D(e){var t=e.score,n=e.details,r=e.circleSize,a=e.scoreFontSize,o=e.detailsFontSize,i=void 0===o?14:o;return s.a.createElement("span",{className:"score-circle",style:{height:r,width:r}},s.a.createElement("div",{className:"score",style:{fontSize:a}},t),s.a.createElement("span",{className:"score-details",style:{fontSize:i}},n))}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e){var t=e.goToSection,n=e.readabilityAgeRange,r=e.sameScoreCover,a=e.showTips,o=void 0===a||a,i=Object.entries(C).filter((function(e){return"default"!==F(e,1)[0]})).sort((function(e,t){var n=F(e,1)[0];return F(t,1)[0]-n})).map((function(e){return F(e,2)[1]})).map((function(e){var t=e.ageRange,n=e.description;return s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("h6",{className:"level-title"},"Ages ".concat(t)),s.a.createElement("div",{className:"level-content"},n))}));return s.a.createElement("div",{className:"insights-section insights-module story-readability"},s.a.createElement("div",{className:"readability-main insights-subsection"},s.a.createElement("h2",null,w.STORY_READABILITY),s.a.createElement("div",{className:"readability-body"},s.a.createElement("div",{className:"readability-description"},s.a.createElement("div",{className:"readability-result"},s.a.createElement(D,{score:"Ages ".concat(n),circleSize:150,scoreFontSize:25}),r&&s.a.createElement("span",{className:"same-score"},s.a.createElement("div",null,"Your storys Reading Accessibility is similar to:"),s.a.createElement(u.c,{name:r,height:"110",width:"82"}))),s.a.createElement("div",null,"Reading Accessibility estimates the age a reader would likely need to be, to understand your story the first time they read through it. Ideally, your Reading Accessibility age is similar to the age of the audience that you are writing for.")),o&&s.a.createElement("div",{className:"helpful-tips"},s.a.createElement("div",{className:"tips-header"},s.a.createElement(u.e,{size:"25",name:"lightbulb",color:"wp-neutral-1"}),s.a.createElement("h3",null,"Helpful Tip")),s.a.createElement("div",{className:"tip"},s.a.createElement("span",null,"Make your story more or less accessible to readers by playing with the length of your sentences."),s.a.createElement("button",{className:"btn-link btn-no-style go-to-section hidden-print",onClick:function(){return t(w.SENTENCE_STRUCTURE)}},"Go to Sentence Length",s.a.createElement(u.e,{size:"18",className:"go-to-icon",name:"arrowCircleRight",color:"wp-base-1-dark"}))))),s.a.createElement(L,{title:"See all levels",levels:i})),s.a.createElement(x,S))}P.propTypes={storyStyleScore:o.a.number.isRequired,size:o.a.number.isRequired},x.propTypes={title:o.a.string.isRequired,details:o.a.array.isRequired,learnMoreUrl:o.a.string.isRequired},L.propTypes={title:o.a.string.isRequired,levels:o.a.array.isRequired},U.propTypes={goToSection:o.a.func.isRequired,storyStyleScore:o.a.number.isRequired,showTips:o.a.bool},D.propTypes={score:o.a.string.isRequired,details:o.a.string,circleSize:o.a.number.isRequired,scoreFontSize:o.a.number.isRequired,detailsFontSize:o.a.number},W.propTypes={goToSection:o.a.func.isRequired,readabilityAgeRange:o.a.string.isRequired,sameScoreCover:o.a.string,showTips:o.a.bool};var H=n(12),V=n.n(H);function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){var t=e.data;return V.a.isNull(t)||V.a.isUndefined(t)?"N/A":V.a.isArray(t)?(t.length&&t[0].frequency&&(t=t.filter((function(e){return e.frequency>1})).map((function(e){return e.token}))),0===t.length?"N/A":t.join(", ")):V.a.isNumber(t)?Math.round(t):t}function J(e){var t=e.title,n=e.partId,r=e.storyId;return s.a.createElement("a",{href:"/myworks/".concat(r,"/write/").concat(n),target:"_blank",rel:"noopener noreferrer",className:"part-title-link"},t)}function Q(e){var t=e.title,n=e.storyId,r=e.columnHeaders,a=e.columns,o=e.storyParts,l=e.partsMetadata,c=e.customRenderColumnMap,d=void 0===c?{}:c,m=z(Object(i.useState)(!1),2),p=m[0],y=m[1],h=Object(i.useMemo)((function(){return function(e,t){return e.map((function(e){var n=e.id,r=t.map((function(e){return e.find((function(e){return e.id===n}))}));return V.a.merge.apply(null,[{},e].concat(Y(r)))})).filter((function(e){return!e.draft&&!e.deleted}))}(o,l)}),[o,l]),g=p?h.length:5,b=h.length>5;return s.a.createElement("div",{className:"parts-data-table-wrapper"},t&&s.a.createElement("h3",{className:"table-header"},t),s.a.createElement("div",{className:"parts-data-table"},s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,r.map((function(e){return s.a.createElement("th",{key:e},e)}))),h.map((function(e,t){return s.a.createElement("tr",{className:f()({"visible-print":t>=g}),key:e.id},a.map((function(t){var r,a=d[t];return r=a?a(e):"title"===t?s.a.createElement(J,{title:e.title,partId:e.id,storyId:n}):s.a.createElement(Z,{data:e[t]}),s.a.createElement("td",{key:t},r)})))})))),b&&s.a.createElement("div",{className:"toggle-parts-shown hidden-print"},s.a.createElement("button",{className:"btn-no-style btn-right-icon",onClick:function(){return y(!p)}},s.a.createElement("strong",null,p?"Show Less":"Show All")," ",s.a.createElement(u.e,{size:"18",name:"triangle",className:f()("triangle-icon",{flip:!p}),color:"wp-neutral-2",fill:!0})))))}Z.propTypes={data:o.a.oneOfType([o.a.node,o.a.array])},J.propTypes={title:o.a.string.isRequired,partId:o.a.number.isRequired,storyId:o.a.string.isRequired},Q.propTypes={title:o.a.string,storyId:o.a.string.isRequired,columnHeaders:o.a.array.isRequired,columns:o.a.array.isRequired,storyParts:o.a.array.isRequired,partsMetadata:o.a.array.isRequired,customRenderColumnMap:o.a.object};var X=function(e){var t=e.word_count;return t<1400?"Add ".concat(1500-t," words"):t>3100?"Remove ".concat(t-3e3," words"):null};function ee(e){var t=e.formattedTotalReadingTime,n=e.readingTimeParts,r=e.wordCountParts,a=e.storyParts,o=e.storyId;return s.a.createElement("div",{className:"insights-section insights-module reading-time"},s.a.createElement("div",{className:"insights-subsection"},s.a.createElement("h2",null,w.READING_TIME),s.a.createElement("div",{className:"score-body"},s.a.createElement(D,{circleSize:170,score:t,details:"full story",scoreFontSize:40,detailsFontSize:18}),s.a.createElement("div",{className:"reading-time-explanation"},s.a.createElement("h5",{className:"explanation-title"},"Understanding your Reading Time"),s.a.createElement("span",null,"Keeping your story parts a similar length to one another is vital for a reader's trust and expectation. Consistency is key."," ",s.a.createElement("strong",null,"The sweet spot for story part length on Wattpad is around 6 minutes (1,500 words) to 12 minutes (3,000 words)."))))),s.a.createElement(Q,{title:"Reading Time - Part Level",storyId:o,columnHeaders:["Story Part","Reading Time (Minutes)","Word Count","Suggested Edit"],columns:["title","reading_time","word_count","suggestedEdit"],partsMetadata:[n,r],storyParts:a,customRenderColumnMap:{title:function(e){var t=e.title,n=e.word_count,r=e.id,a=n<1400||n>3100,i=s.a.createElement(J,{title:t,partId:r,storyId:o});return a?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.e,{className:"part-length-warning-icon",name:"circle",size:"8",color:"wp-base-1-dark",fill:!0}),i):i},suggestedEdit:X}}),s.a.createElement(x,k))}function te(e){var t=e.sentenceLengthParts,n=e.formattedAverageSentenceLength,r=e.formattedTotalLongSentenceCount,a=e.storyParts,o=e.storyId;return s.a.createElement("div",{className:"insights-section insights-module sentence-structure"},s.a.createElement("div",{className:"insights-subsection"},s.a.createElement("h2",null,w.SENTENCE_STRUCTURE),s.a.createElement("div",{className:"score-body"},s.a.createElement("div",{className:"score-circle-with-copy"},s.a.createElement(D,{circleSize:170,score:n,details:"average words per sentence",scoreFontSize:40,detailsFontSize:18}),s.a.createElement("span",null,s.a.createElement("h5",{className:"sentence-details-title"},"Target Sentence Length"),s.a.createElement("span",{className:"sentence-details-copy"},"Your average Sentence Length should be somewhere between 15 - 20 words. Remember, writing is an art and not a science, so if you are on the lower or higher end of this, thats okay."))),s.a.createElement("div",{className:"score-circle-with-copy"},s.a.createElement(D,{circleSize:170,score:r,details:"long sentences",scoreFontSize:40,detailsFontSize:18}),s.a.createElement("span",null,s.a.createElement("h5",{className:"sentence-details-title"},"Identifying Lengthy Sentences"),s.a.createElement("span",{className:"sentence-details-copy"},"Long sentences contain more than 25 words. Usually, they can be quickly edited by being broken up. Occasional use of long sentences is fine, but try to avoid writing using them too often as they can bog down the reading experience."))))),s.a.createElement(Q,{title:"Sentence Length - Part Level",storyId:o,columnHeaders:["Story Part","Average Sentence Length","Long Sentence Count"],columns:["title","average_sent_length","total_long_sent_count"],partsMetadata:[t],storyParts:a}),s.a.createElement(x,N))}function ne(e){var t=e.adverbUsageParts,n=e.storyParts,r=e.storyId;return s.a.createElement("div",{className:"insights-section insights-module adverb-usage"},s.a.createElement("div",{className:"adverb-usage-main insights-subsection"},s.a.createElement("h2",null,w.ADVERB_USAGE),s.a.createElement("div",{className:"score-body"},s.a.createElement("h5",null,"Limiting the use of Adverbs"),s.a.createElement("span",null,"Adverbs are adjective and verb word modifiers. For example, the words slow, soft, and beautiful become adverbs when written as slowly, softly, and beautifully. They help quickly (see, we just used an adverb) add more description, but overusing them makes us lazier writers over time."))),s.a.createElement(Q,{storyId:r,columnHeaders:["Story Part","Adverbs Used"],columns:["title","frequent_adverbs"],partsMetadata:[t],storyParts:n}),s.a.createElement(x,j))}function re(e){var t=e.overusedWordsParts,n=e.leadingWordsParts,r=e.storyParts,a=e.storyId;return s.a.createElement("div",{className:"insights-section insights-module word-repetition"},s.a.createElement("div",{className:"word-repetition-main insights-subsection"},s.a.createElement("h2",null,w.WORD_REPETITION),s.a.createElement("div",{className:"score-body"},s.a.createElement("div",{className:"sentence-advice"},s.a.createElement("h5",null,"Starting sentences in the same way"),s.a.createElement("span",null,"If you're starting your sentences in the same way, you're making the flow of your story repetitive. Identifying your most commonly used sentence starter words is a way to ensure you're not using the same words recurrently as a crutch.")),s.a.createElement("div",{className:"sentence-advice"},s.a.createElement("h5",null,"Reusing the same words"),s.a.createElement("span",null,"Were not just repeating the same words when we start our sentences, but unintentionally, we overuse our favourite words throughout an entire story. To keep the story dynamic for the reader, switch up some of your overused words for another word.")))),s.a.createElement(Q,{storyId:a,columnHeaders:["Story Part","Repeated Sentence Starters","Most Repeated Words"],columns:["title","frequent_leading_words","overused_words"],partsMetadata:[t,n],storyParts:r}),s.a.createElement(x,_))}ee.propTypes={formattedTotalReadingTime:o.a.string.isRequired,readingTimeParts:o.a.array.isRequired,wordCountParts:o.a.array.isRequired,storyParts:o.a.array.isRequired,storyId:o.a.string.isRequired},te.propTypes={sentenceLengthParts:o.a.array.isRequired,formattedAverageSentenceLength:o.a.string.isRequired,formattedTotalLongSentenceCount:o.a.string.isRequired,storyParts:o.a.array.isRequired,storyId:o.a.string.isRequired},ne.propTypes={adverbUsageParts:o.a.array.isRequired,storyParts:o.a.array.isRequired,storyId:o.a.string.isRequired},re.propTypes={overusedWordsParts:o.a.array.isRequired,leadingWordsParts:o.a.array.isRequired,storyParts:o.a.array.isRequired,storyId:o.a.string.isRequired};var ae=[{id:20044727,title:"Chapter I"},{id:20045032,title:"Chapter II"},{id:20045076,title:"Chapter III"},{id:20045109,title:"Chapter IV"},{id:20045138,title:"Chapter V"}],oe={adverbs_parts:[{id:20044727,frequent_adverbs:["immediately","likely","certainly","only","merely","surely"]},{id:20045032,frequent_adverbs:["certainly","suddenly","really","only","actually"]},{id:20045076,frequent_adverbs:["only","lively","highly","wonderfully","extremely","happily","equally","merely","early","occasionally"]},{id:20045109,frequent_adverbs:["certainly","lively","possibly","honestly","deeply","nearly","only","immediately","greatly","continually"]},{id:20045138,frequent_adverbs:["only","strongly","absolutely","hardly","immediately","certainly","safely","highly","easily","directly"]}],complexity:10,last_updated:"2019-11-19 00:00:00",leading_words_parts:[{id:20044727,frequent_leading_words:[{token:"you",frequency:7},{token:"but",frequency:6},{token:"i",frequency:6},{token:"mr.",frequency:4},{token:"it",frequency:3},{token:"my",frequency:3},{token:"what",frequency:2},{token:"is",frequency:2},{token:"how",frequency:2},{token:"when",frequency:2}]},{id:20045032,frequent_leading_words:[{token:"i",frequency:8},{token:"but",frequency:3},{token:"the",frequency:3},{token:"what",frequency:3},{token:"it",frequency:2},{token:"she",frequency:2},{token:"mrs.",frequency:2},{token:"do",frequency:2},{token:"mr.",frequency:1},{token:"he",frequency:1}]},{id:20045076,frequent_leading_words:[{token:"i",frequency:9},{token:"mr.",frequency:8},{token:"he",frequency:6},{token:"the",frequency:4},{token:"she",frequency:4},{token:"his",frequency:4},{token:"you",frequency:4},{token:"oh",frequency:4},{token:"they",frequency:3},{token:"and",frequency:3}]},{id:20045109,frequent_leading_words:[{token:"i",frequency:6},{token:"he",frequency:5},{token:"but",frequency:4},{token:"bingley",frequency:4},{token:"you",frequency:3},{token:"miss",frequency:3},{token:"they",frequency:3},{token:"mr.",frequency:3},{token:"his",frequency:2},{token:"in",frequency:2}]},{id:20045138,frequent_leading_words:[{token:"i",frequency:6},{token:"the",frequency:4},{token:"that",frequency:3},{token:"you",frequency:3},{token:"but",frequency:3},{token:"if",frequency:3},{token:"by",frequency:2},{token:"oh",frequency:2},{token:"mr.",frequency:2},{token:"pride",frequency:2}]}],overused_words_parts:[{id:20044727,overused_words:[{token:"mr.",frequency:10},{token:"dear",frequency:8},{token:"bennet",frequency:6},{token:"know",frequency:5},{token:"visit",frequency:5},{token:"single",frequency:4},{token:"man",frequency:4},{token:"wife",frequency:4},{token:"daughters",frequency:4},{token:"bingley",frequency:4}]},{id:20045032,overused_words:[{token:"mr.",frequency:13},{token:"bennet",frequency:9},{token:"said",frequency:9},{token:"bingley",frequency:7},{token:"mrs.",frequency:7},{token:"visit",frequency:5},{token:"know",frequency:5},{token:"long",frequency:4},{token:"kitty",frequency:4},{token:"wife",frequency:3}]},{id:20045076,overused_words:[{token:"mr.",frequency:24},{token:"bingley",frequency:16},{token:"bennet",frequency:12},{token:"mrs.",frequency:8},{token:"room",frequency:8},{token:"sisters",frequency:7},{token:"darcy",frequency:7},{token:"danced",frequency:7},{token:"dance",frequency:7},{token:"handsome",frequency:6}]},{id:20045109,overused_words:[{token:"bingley",frequency:11},{token:"good",frequency:7},{token:"darcy",frequency:7},{token:"miss",frequency:5},{token:"mr.",frequency:4},{token:"man",frequency:4},{token:"people",frequency:4},{token:"house",frequency:4},{token:"elizabeth",frequency:3},{token:"sister",frequency:3}]},{id:20045138,overused_words:[{token:"said",frequency:9},{token:"lucas",frequency:7},{token:"mrs.",frequency:7},{token:"miss",frequency:7},{token:"mr.",frequency:7},{token:"pride",frequency:7},{token:"think",frequency:4},{token:"bennet",frequency:4},{token:"believe",frequency:4},{token:"long",frequency:4}]}],readability:4,reading_time:593,reading_time_parts:[{id:20044727,reading_time:4},{id:20045032,reading_time:4},{id:20045076,reading_time:8},{id:20045109,reading_time:5},{id:20045138,reading_time:4}],total_long_sent_count:1334,average_sent_length:21.250539507694317,sent_length_parts:[{id:20044727,total_long_sent_count:6,average_sent_length:13.967213114754099},{id:20045032,total_long_sent_count:4,average_sent_length:14.907407407407407},{id:20045076,total_long_sent_count:17,average_sent_length:19.168539325842698},{id:20045109,total_long_sent_count:13,average_sent_length:19.071428571428573},{id:20045138,total_long_sent_count:8,average_sent_length:17.88888888888889}],word_count:123977,word_count_parts:[{id:20044727,word_count:852},{id:20045032,word_count:805},{id:20045076,word_count:1706},{id:20045109,word_count:1068},{id:20045138,word_count:966}]},ie=function(e){var t,n,r,a,o,i=e.last_updated,s=e.readability,l=e.complexity,c=e.reading_time_parts,u=e.reading_time,d=e.word_count_parts,m=e.sent_length_parts,f=e.average_sent_length,p=e.total_long_sent_count,h=e.adverbs_parts,g=e.overused_words_parts,b=e.leading_words_parts,v=C[s]||C.default,w=v.ageRange,E=v.sameScoreCover,O=(t=u,n=Math.floor(t/60),r=t%60,a=n>0?"".concat(n,"h"):"",o="".concat(r,"m"),"".concat(a).concat(o)),S=String(Object(y.b)(p)),k=String(Math.round(f));return{dateUpdated:i,readingTimeParts:c,wordCountParts:d,sentenceLengthParts:m,adverbUsageParts:h,overusedWordsParts:g,leadingWordsParts:b,storyStyleScore:Math.ceil(l/2),readabilityAgeRange:w,sameReadabilityScoreCover:E,formattedTotalReadingTime:O,formattedTotalLongSentenceCount:S,formattedAverageSentenceLength:k}};function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e){var t=e.title,n=ie(oe),r=n.readingTimeParts,a=n.wordCountParts,o=n.sentenceLengthParts,i=n.adverbUsageParts,l=n.overusedWordsParts,c=n.leadingWordsParts,u=n.storyStyleScore,d=n.readabilityAgeRange,m=n.sameReadabilityScoreCover,f=n.formattedTotalReadingTime,p=n.formattedTotalLongSentenceCount,y=n.formattedAverageSentenceLength,h=function(){};switch(t){case w.WRITING_STYLE:return s.a.createElement(U,{storyStyleScore:u,goToSection:h,showTips:!1});case w.STORY_READABILITY:return s.a.createElement(W,{readabilityAgeRange:d,sameScoreCover:m,goToSection:h,showTips:!1});case w.READING_TIME:return s.a.createElement(ee,{formattedTotalReadingTime:f,readingTimeParts:r,wordCountParts:a,storyParts:ae,storyId:"6630775"});case w.SENTENCE_STRUCTURE:return s.a.createElement(te,{sentenceLengthParts:o,formattedAverageSentenceLength:y,formattedTotalLongSentenceCount:p,storyParts:ae,storyId:"6630775"});case w.ADVERB_USAGE:return s.a.createElement(ne,{adverbUsageParts:i,storyParts:ae,storyId:"6630775"});case w.WORD_REPETITION:return s.a.createElement(re,{overusedWordsParts:l,leadingWordsParts:c,storyParts:ae,storyId:"6630775"});default:throw new Error("Section ".concat(t," doesn't exist"))}}function ue(e){var t=e.onPurchaseCtaClick,n=e.onPurchaseCtaView;Object(i.useEffect)(n,[]);var r=se(Object(i.useState)(w.WRITING_STYLE),2),a=r[0],o=r[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:"header-red"},"Sample Report"),s.a.createElement("div",{className:"sample-preview"},s.a.createElement("div",{className:"sample-sections"},Object.values(w).map((function(e){var t=a===e;return s.a.createElement("button",{key:e,onClick:function(){return o(e)},className:f()("btn-no-background sample-section-select",{selected:t})},s.a.createElement(u.e,{size:"24",name:"remove",className:f()({invisible:!t})}),e)}))),s.a.createElement("div",{className:"sample-content"},s.a.createElement("div",{id:"story-insights-dashboard"},s.a.createElement(ce,{title:a})),s.a.createElement("a",{href:"#purchase-cta",onClick:t,className:"btn-primary go-to-purchase"},"Get report"))))}function de(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){if(e){if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){window.te.push("event","story_insights","faq",null,"view",{storyid:parseInt(e,10),source:t})}function he(e,t){window.te.push("event","story_insights","faq",null,"click",{storyid:parseInt(e,10),source:t})}function ge(){var e=me(Object(i.useState)([]),2),t=e[0],n=e[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,"Frequently Asked Questions"),l.c.map((function(e){var r=e.question,a=e.answer,o=t.includes(r),i=o?"chevUp":"chevDown";return s.a.createElement(s.a.Fragment,{key:r},s.a.createElement("button",{className:"question btn-no-background",onClick:function(){return function(e){if(t.includes(e)){var r=t.filter((function(t){return t!==e}));n(r)}else n([].concat(de(t),[e]))}(r)}},s.a.createElement("span",null,r," "),s.a.createElement(u.e,{name:i})),o&&s.a.createElement("div",{className:"answer"},a))})))}function be(e,t,n){window.te.push("event","cta",null,null,n,{page:"story_insights",storyid:parseInt(e,10),cta_type:"purchase_report",cta_source:t})}function ve(e,t){window.te.push("event","cta",null,null,t,{page:"story_insights",storyid:parseInt(e,10),cta_type:"explore_report"})}function we(e){var t=e.onPurchaseCtaView,n=e.onPurchaseCtaClick,r=e.onLearnMoreView,a=e.onLearnMoreClick;return Object(i.useEffect)((function(){t(),r()}),[t,r]),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"cta-copy"},s.a.createElement("h2",null,"Introducing Wattpad Story Insights"),s.a.createElement("p",null,"An analysis tool designed to empower writers to get actionable feedback, hone their craft, and get primed for professional writing opportunities on Wattpad and beyond."),s.a.createElement("div",{className:"cta-buttons"},s.a.createElement("a",{href:"#purchase-cta",onClick:n,className:"btn-primary"},"Get report"),s.a.createElement("a",{href:"#report-sample",onClick:a,className:"whats-inside btn-right-icon"},"Explore the report ",s.a.createElement(u.e,{size:"24",name:"chevDown"})))),s.a.createElement("div",{className:"cta-image-container"},s.a.createElement(u.c,{name:"desktop-web/story-report-cta.png",className:"cta-image"})))}function Ee(){var e=Object(i.useRef)(null);function t(){e.current.onResize()}return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:"header-red"},"What Wattpad Writers Have to Say"),s.a.createElement(p.a,{ref:e,wrapAround:!0,autoplay:!0,autoplayInterval:6e3,renderCenterLeftControls:null,renderBottomCenterControls:function(e){var t=e.goToSlide,n=e.currentSlide;return s.a.createElement("div",{className:"paging-buttons"},l.a.map((function(e,r){var a=r===n;return s.a.createElement("button",{className:"btn btn-no-background",key:e.title,onClick:function(){return t(r)}},s.a.createElement(u.e,{iconName:"fa-circle-filled",className:f()("paging-icon",{active:a}),height:"20",color:"wp-neutral-3"}))})))},renderCenterRightControls:null},l.a.map((function(e){var n=e.header,r=e.testimonial,a=e.author,o=e.title,i=e.coverImage;return s.a.createElement("div",{key:r,className:"testimonial"},s.a.createElement("div",{className:"testimonial-copy"},s.a.createElement("h4",null,n),s.a.createElement("p",{className:"testimonial-body"},"",r,""),s.a.createElement("div",{className:"testimonial-source"},a," ",s.a.createElement("i",null,"Author of ",o))),s.a.createElement("div",{className:"testimonial-cover"},s.a.createElement("img",{onLoad:t,src:i,alt:"Cover of ".concat(o),width:"255",height:"400"})))}))))}function Oe(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,"Terms & Conditions"),s.a.createElement("ul",null,s.a.createElement("li",null,"The Story Insights Report is currently available at an Introductory Price of USD $9.99. Wattpad reserves the right to change this price at any time after launch."),s.a.createElement("li",null,"All purchases made on www.wattpad.com are non-refundable."),s.a.createElement("li",null,"By ordering this Report, you consent to Wattpad running an analysis on your story."),s.a.createElement("li",null,"To ensure the report is as accurate as possible:",s.a.createElement("ul",null,s.a.createElement("li",null,"Your story must be written in English"),s.a.createElement("li",null,"Your story must be published on Wattpad"),s.a.createElement("li",null,"Your story must comprise of narrative storytelling, and not poetry."))),s.a.createElement("li",null,"While having a Completed story is not a requirement, the minimum length of your story should be around 3,000 words."),s.a.createElement("li",null,"The tool only takes published parts into account. Any parts you wish to have reviewed should be published on Wattpad, and not hidden away in your drafts until the time you have received your Report."),s.a.createElement("li",null,"You should ideally only include published parts that you consider completed, excluding content such as authors notes, cast & character descriptions, playlist recommendations, etc. for the purposes of the Report.")))}function Se(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(u.c,{name:"writer-insights/story-requirements.svg",className:"requirements-illustration",width:"260px",height:"223px"}),s.a.createElement("div",null,s.a.createElement("h2",{className:"header-red"},"Story Requirements"),s.a.createElement("h5",{className:"requirements-subheader"},"To ensure the report is as accurate as possible:"),s.a.createElement("div",{className:"requirements-list"},l.f.map((function(e){return s.a.createElement("div",{className:"story-requirement",key:e},s.a.createElement(u.e,{name:"success",className:"requirement-icon",size:"24",color:"wp-neutral-1"}),e)})))))}function Ce(e){var t=e.storyId,n=e.toggleModal;Object(i.useEffect)((function(){ye(t,"pre_purchase")}),[t]);return s.a.createElement("div",{className:"purchase-panel-container"},s.a.createElement("div",{className:"purchase-panel"},s.a.createElement("h4",null,"Story Insights Report"),s.a.createElement("div",{className:"discount-price"},"USD ",s.a.createElement("strong",null,"$9.99")),s.a.createElement("div",{className:"discount-details"},"per report"),s.a.createElement("p",{className:"report-includes"},"Each report includes:"),s.a.createElement("div",{className:"report-features"},l.e.map((function(e){return s.a.createElement("span",{className:"report-feature",key:e},s.a.createElement(u.c,{name:"writer-insights/checkmark.png",width:"18",height:"18",className:"checkmark"})," ",e)}))),s.a.createElement("div",{className:"purchase-fineprint"},s.a.createElement("div",null,"All purchases are non-refundable."),s.a.createElement("div",{className:"processing-time"},s.a.createElement(u.e,{className:"clock",name:"history",size:"20",color:"wp-neutral-1"})," ","Estimated Processing Time: 24-48hrs")),s.a.createElement("button",{className:"btn-primary purchase",onClick:function(){return b({storyId:t,isRepurchase:!1})}},"Get report"),s.a.createElement("div",{className:"purchase-disclaimer"},"By purchasing this report, you accept the"," ",s.a.createElement("button",{className:"btn-link btn-no-style terms-and-conditions",onClick:function(){var e=function(){return s.a.createElement(Oe,null)};e.displayName="TermsAndConditions",n({component:e,className:"insights-terms-conditions"})}},"terms and conditions."))),s.a.createElement("div",{className:"having-trouble"},s.a.createElement(u.e,{className:"help-circle",name:"helpCircle",color:"wp-neutral-2",size:"18"}),"Having trouble? Check out our"," ",s.a.createElement("button",{className:"btn-link btn-no-style",onClick:function(){he(t,"pre_purchase"),n({component:function(){return s.a.createElement(ge,null)},className:"insights-faq"})}},"FAQs")," ","or"," ",s.a.createElement("a",{href:"https://support.wattpad.com/hc/en-us/requests/new",target:"_blank",rel:"noopener noreferrer"}," ","submit a ticket.")))}ue.propTypes={onPurchaseCtaView:o.a.func.isRequired,onPurchaseCtaClick:o.a.func.isRequired},we.propTypes={onPurchaseCtaView:o.a.func.isRequired,onPurchaseCtaClick:o.a.func.isRequired,onLearnMoreView:o.a.func.isRequired,onLearnMoreClick:o.a.func.isRequired},Ce.propTypes={storyId:o.a.string.isRequired,toggleModal:o.a.func.isRequired};var ke=Object(r.b)(null,{toggleModal:h.c})(Ce);function Ne(e){var t=e.storyId,n=e.viewedInsightsPage;Object(i.useEffect)((function(){return n("story_insights_pre_purchase")}),[n]);var r=Object(i.useRef)(null),a=Object(i.useRef)(null),o=function(e){e.preventDefault(),Object(y.t)(r.current),window.history.pushState(null,null,"#purchase-cta")};return s.a.createElement("div",{className:"insights-pre-purchase"},s.a.createElement("div",{className:"pre-purchase-section",id:"insights-cta"},s.a.createElement("div",{className:"section-content"},s.a.createElement(we,{onPurchaseCtaView:function(){be(t,"page_top","view")},onPurchaseCtaClick:function(e){be(t,"page_top","click"),o(e)},onLearnMoreView:function(){ve(t,"view")},onLearnMoreClick:function(e){ve(t,"click"),function(e){e.preventDefault(),Object(y.t)(a.current,-40),window.history.pushState(null,null,"#report-sample")}(e)}}))),s.a.createElement("div",{className:"pre-purchase-section",id:"value-props"},s.a.createElement("div",{className:"section-content"},s.a.createElement("h2",{className:"header-red"},"Your story has potential. Uncover it."),s.a.createElement("div",{className:"props-container"},l.i.map((function(e){var t=e.image,n=e.header,r=e.body;return s.a.createElement("div",{className:"value-prop",key:n},s.a.createElement(u.c,{name:t,className:"illustration",width:"160",height:"125"}),s.a.createElement("h5",{className:"header-red"},n),s.a.createElement("p",null,r))}))))),s.a.createElement("div",{className:"pre-purchase-section",id:"report-sample",ref:a},s.a.createElement("div",{className:"section-content"},s.a.createElement(ue,{onPurchaseCtaView:function(){be(t,"page_middle","view")},onPurchaseCtaClick:function(e){be(t,"page_middle","click"),o(e)}}))),s.a.createElement("div",{className:"pre-purchase-section",id:"testimonials"},s.a.createElement("div",{className:"section-content"},s.a.createElement(Ee,null))),s.a.createElement("div",{className:"pre-purchase-section",id:"story-requirements"},s.a.createElement("div",{className:"section-content"},s.a.createElement(Se,null))),s.a.createElement("div",{className:"pre-purchase-section",id:"purchase-cta",ref:r},s.a.createElement("div",{className:"section-content"},s.a.createElement(ke,{storyId:t}))))}function je(e){var t=e.toggleModal,n=e.storyId,r=e.viewedInsightsPage;Object(i.useEffect)((function(){ye(n,"post_purchase"),r("story_insights_post_purchase")}),[n,r]);return s.a.createElement("div",{id:"insights-pending",className:"dashboard-cta"},s.a.createElement("h1",null,"Youre all set!"),s.a.createElement("h3",null,"Your report will be ready within 24-48 hours and we'll drop in to your Wattpad Inbox to let you know."),s.a.createElement(u.g,{animationId:"insights-pending-animation",animationOptions:{animType:"svg",loop:!0,path:"/img/lottie-animations/insights-pending.json"}}),s.a.createElement("div",{className:"details"},s.a.createElement(u.e,{className:"help-circle",name:"helpCircle",color:"wp-neutral-2",size:"15"}),"Having trouble? Check out our"," ",s.a.createElement("button",{className:"btn-link",onClick:function(){he(n,"post_purchase"),t({component:function(){return s.a.createElement(ge,null)},className:"insights-faq"})}},"FAQs")," ","or"," ",s.a.createElement("a",{href:"https://support.wattpad.com/hc/en-us/requests/new",target:"_blank",rel:"noopener noreferrer"}," ","submit a ticket.")))}Ne.propTypes={storyId:o.a.string.isRequired,viewedInsightsPage:o.a.func.isRequired},je.propTypes={toggleModal:o.a.func.isRequired,storyId:o.a.string.isRequired,viewedInsightsPage:o.a.func.isRequired};var _e=Object(r.b)(null,{toggleModal:h.c})(je);function Pe(e){var t=e.pending,n=e.storyId,r=e.storyLanguage,a=e.storyCategories,o=e.viewedInsightsPage,i=e.returningFromSuccessfulPurchase,l=window.wattpad.testGroups.PAID_WRITER_INSIGHTS,c=1===r,m=a.includes(2),f=l&&c&&!m;return void 0===t?s.a.createElement("div",{id:"insights-loading"},s.a.createElement(u.f,null)):t||i?s.a.createElement(_e,{storyId:n,viewedInsightsPage:o}):f?s.a.createElement(Ne,{storyId:n,viewedInsightsPage:o}):s.a.createElement(d,null)}Pe.propTypes={storyId:o.a.string.isRequired,pending:o.a.bool,storyLanguage:o.a.number.isRequired,storyCategories:o.a.array.isRequired,viewedInsightsPage:o.a.func.isRequired,returningFromSuccessfulPurchase:o.a.bool};var Te=Object(r.b)((function(e){return{pending:e.storyInsights.pending}}))(Pe);function Re(e){var t=e.pending,n=e.pageContext,r=e.returningFromSuccessfulPurchase,a=t||r,o=a?"Hang tight! Your new Story Insights Report is being generated.":"Made new edits to your story?",i=a?"Well drop into your Wattpad Inbox within 24-48 hours to let you know when your report is ready.":s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"You can track improvements in your writing and get feedback on new parts by purchasing another report.")," ",s.a.createElement("i",null,"*Dont forget to save your current report on your device before ordering a new one so you can compare the results!"));return a?s.a.createElement("div",{className:"insights-module purchase-cta-panel hidden-print"},s.a.createElement("div",{className:"purchase-cta"},s.a.createElement("div",{className:"cta-header"},o),s.a.createElement("div",null,i)),s.a.createElement(u.g,{animationId:"insights-pending-repurchase-animation-".concat(n),animationOptions:{animType:"svg",loop:!0,path:"/img/lottie-animations/insights-pending-repurchase.json"},className:"insights-pending-repurchase-animation"})):null}Re.propTypes={pending:o.a.bool,pageContext:o.a.string.isRequired,returningFromSuccessfulPurchase:o.a.bool};var xe=Object(r.b)((function(e){return{pending:e.storyInsights.pending}}))(Re);function Ie(e){var t=e.storyTitle,n=e.storyId,r=e.returningFromSuccessfulPurchase,a=wattpad.user.username;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"report-greeting"},s.a.createElement("span",null,s.a.createElement("h3",null,"Hello there, ",a),s.a.createElement("strong",null,"Dive into your Story Insights for ",t)),s.a.createElement("button",{className:"btn-secondary btn-left-icon export-report hidden-print",onClick:function(){window.te.push("event","story-insights","report",null,"export",{storyid:parseInt(n,10),export_format:"pdf"}),window.print()}},s.a.createElement(u.e,{name:"download",size:"18",color:"wp-neutral-1"}),"Export report")),s.a.createElement(xe,{storyId:n,pageContext:"header",returningFromSuccessfulPurchase:r}))}function Ae(e){var t=e.title,n=e.score,r=e.details,a=e.onArrowClick;return s.a.createElement("div",{className:"score-preview"},s.a.createElement("div",{className:"score-header"},t),s.a.createElement("div",{className:"score-result"},s.a.createElement("span",null,n),s.a.createElement("button",{className:"btn-right-icon btn-no-style",onClick:a},s.a.createElement(u.e,{size:"18",name:"arrowCircleRight",color:"wp-base-1-dark"}))),s.a.createElement("div",null,r))}function Le(e){var t=e.dateUpdated,n=e.goToSection,r=e.readabilityAgeRange,a=e.formattedTotalReadingTime,o=e.storyStyleScore,i=e.formattedTotalLongSentenceCount,l=e.formattedAverageSentenceLength,c=new Date(t.split(" ")[0]).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),d=O[o].styleName;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"insights-subsection"},s.a.createElement("div",{className:"header"},s.a.createElement("h2",null,"Summary"),s.a.createElement("span",{className:"create-date"},"Created On: ",c)),s.a.createElement("div",{className:"style-score-summary"},s.a.createElement(P,{storyStyleScore:o,size:250}),s.a.createElement("div",{className:"style-score-details"},s.a.createElement("span",null,"This story is written in a"),s.a.createElement("h1",{className:"header-red"},d),s.a.createElement("button",{className:"more-info btn-right-icon btn-link btn-no-style hidden-print",onClick:function(){return n(w.WRITING_STYLE)}},"What does this mean?",s.a.createElement(u.e,{size:"24",name:"arrowCircleDown",color:"wp-base-1-dark"})))),s.a.createElement("div",null)),s.a.createElement("div",{className:"sections-stats insights-subsection"},s.a.createElement(Ae,{title:"Reading Accessibility",score:r,details:"years old",onArrowClick:function(){return n(w.STORY_READABILITY)}}),s.a.createElement(Ae,{title:"Reading Time",score:a,details:"full story",onArrowClick:function(){return n(w.READING_TIME)}}),s.a.createElement(Ae,{title:"Sentence Length",score:i,details:"long sentences",onArrowClick:function(){return n(w.SENTENCE_STRUCTURE)}}),s.a.createElement(Ae,{title:"Words per Sentence",score:l,details:"average words",onArrowClick:function(){return n(w.SENTENCE_STRUCTURE)}})))}function Me(e){var t=e.toggleModal,n=e.storyId,r=e.returningFromSuccessfulPurchase;Object(i.useEffect)((function(){return ye(n,"purchased_report")}),[n]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(xe,{storyId:n,pageContext:"footer",returningFromSuccessfulPurchase:r}),s.a.createElement("div",{className:"having-trouble"},s.a.createElement(u.e,{className:"help-circle",name:"helpCircle",size:"18",color:"wp-neutral-2"}),s.a.createElement("span",null,"Having trouble? Check out our"," ",s.a.createElement("button",{className:"btn-link btn-no-style",onClick:function(){he(n,"purchased_report"),t({component:function(){return s.a.createElement(ge,null)},className:"insights-faq"})}},"FAQs")," ","or"," ",s.a.createElement("a",{href:"https://support.wattpad.com/hc/en-us/requests/new",target:"_blank",rel:"noopener noreferrer"}," ","submit a ticket."))))}Ie.propTypes={storyTitle:o.a.string.isRequired,storyId:o.a.string.isRequired,returningFromSuccessfulPurchase:o.a.bool},Ae.propTypes={title:o.a.string.isRequired,score:o.a.string.isRequired,details:o.a.string.isRequired,onArrowClick:o.a.func.isRequired},Le.propTypes={dateUpdated:o.a.string.isRequired,goToSection:o.a.func.isRequired,readabilityAgeRange:o.a.string.isRequired,formattedTotalReadingTime:o.a.string.isRequired,storyStyleScore:o.a.number.isRequired,formattedTotalLongSentenceCount:o.a.string.isRequired,formattedAverageSentenceLength:o.a.string.isRequired},Me.propTypes={toggleModal:o.a.func.isRequired,storyId:o.a.string.isRequired,returningFromSuccessfulPurchase:o.a.bool};var qe=Object(r.b)(null,{toggleModal:h.c})(Me);function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e){var t=e.storyInsights,n=e.storyTitle,r=e.storyId,a=e.storyParts,o=e.viewedInsightsPage,l=e.returningFromSuccessfulPurchase;Object(i.useEffect)((function(){return o("story_insights_purchased_report")}),[o]);var c=ie(t),u=c.dateUpdated,d=c.readingTimeParts,m=c.wordCountParts,f=c.sentenceLengthParts,p=c.adverbUsageParts,h=c.overusedWordsParts,g=c.leadingWordsParts,b=c.storyStyleScore,v=c.readabilityAgeRange,E=c.sameReadabilityScoreCover,O=c.formattedTotalReadingTime,S=c.formattedTotalLongSentenceCount,C=c.formattedAverageSentenceLength,k=Object(i.useRef)(),N=Object(i.useRef)(),j=Object(i.useRef)(),_=Object(i.useRef)(),P=Object(i.useRef)(),T=Object(i.useRef)(),R=function(e){var t,n=(Ue(t={},w.WRITING_STYLE,k),Ue(t,w.STORY_READABILITY,N),Ue(t,w.READING_TIME,j),Ue(t,w.SENTENCE_STRUCTURE,_),Ue(t,w.ADVERB_USAGE,P),Ue(t,w.WORD_REPETITION,T),t)[e];n&&n.current&&Object(y.t)(n.current,-80)};return s.a.createElement("div",{id:"story-insights-dashboard"},s.a.createElement("div",{className:"report-header"},s.a.createElement("div",{className:"insights-section"},s.a.createElement(Ie,{storyTitle:n,storyId:r,returningFromSuccessfulPurchase:l}))),s.a.createElement("div",{className:"insights-section insights-module insights-summary"},s.a.createElement(Le,{dateUpdated:u,formattedTotalReadingTime:O,goToSection:R,readabilityAgeRange:v,storyStyleScore:b,formattedTotalLongSentenceCount:S,formattedAverageSentenceLength:C})),s.a.createElement("div",{ref:k},s.a.createElement(U,{storyStyleScore:b,goToSection:R})),s.a.createElement("div",{ref:N},s.a.createElement(W,{readabilityAgeRange:v,sameScoreCover:E,goToSection:R})),s.a.createElement("div",{ref:j},s.a.createElement(ee,{formattedTotalReadingTime:O,readingTimeParts:d,wordCountParts:m,storyParts:a,storyId:r})),s.a.createElement("div",{ref:_},s.a.createElement(te,{sentenceLengthParts:f,formattedAverageSentenceLength:C,formattedTotalLongSentenceCount:S,storyParts:a,storyId:r})),s.a.createElement("div",{ref:P},s.a.createElement(ne,{adverbUsageParts:p,storyParts:a,storyId:r})),s.a.createElement("div",{ref:T},s.a.createElement(re,{overusedWordsParts:h,leadingWordsParts:g,storyParts:a,storyId:r})),s.a.createElement("div",{className:"report-footer hidden-print"},s.a.createElement("div",{className:"insights-section"},s.a.createElement(qe,{storyId:r,returningFromSuccessfulPurchase:l}))))}function Fe(e){var t=e.storyId,n=e.storyParts,r=e.storyTitle,a=e.storyLanguage,o=e.storyCategories,l=e.storyInsights,d=e.fetchStoryInsights,m=e.fetchInsightsPendingStatus,f=e.areInsights,p=e.returningFromSuccessfulPurchase;if(Object(i.useEffect)((function(){d(t),m(t)}),[t,d,m]),void 0===f)return s.a.createElement("div",{id:"insights-loading"},s.a.createElement(u.f,null));function y(e){window.te.push("event","page","tab",null,"view",{storyid:parseInt(t,10),tab_name:e})}return s.a.createElement("div",{className:"writer-dashboard"},s.a.createElement(c.a,null),f?s.a.createElement(De,{storyInsights:l,storyId:t,storyParts:n,storyTitle:r,viewedInsightsPage:y,returningFromSuccessfulPurchase:p}):s.a.createElement(Te,{storyId:t,storyLanguage:a,storyCategories:o,viewedInsightsPage:y,returningFromSuccessfulPurchase:p}))}De.propTypes={storyParts:o.a.array.isRequired,storyId:o.a.string.isRequired,storyTitle:o.a.string.isRequired,storyInsights:o.a.object,pending:o.a.bool,viewedInsightsPage:o.a.func.isRequired,returningFromSuccessfulPurchase:o.a.bool},Fe.propTypes={storyParts:o.a.array.isRequired,storyId:o.a.string.isRequired,storyTitle:o.a.string.isRequired,storyLanguage:o.a.number.isRequired,storyCategories:o.a.array.isRequired,storyInsights:o.a.object,fetchStoryInsights:o.a.func,fetchInsightsPendingStatus:o.a.func.isRequired,areInsights:o.a.bool,returningFromSuccessfulPurchase:o.a.bool};t.a=Object(r.b)((function(e){return{storyInsights:e.storyInsights.insights,areInsights:e.storyInsights.areInsights}}),{fetchStoryInsights:function(){return function(e){return e({type:l.b,insights:null,areInsights:!1})}},fetchInsightsPendingStatus:function(){return function(e){return e((t=!1,{type:l.g,pending:t}));var t}}})(Fe)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(6),l=n(2),c=n(5),u=n(4),d=n.n(u),m=n(3);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){var t=f(Object(r.useState)(!1),2),n=t[0],o=t[1],i=f(Object(r.useState)(null),2),s=i[0],l=i[1];return Object(m.a)(s,(function(){return o(!1)})),a.a.createElement("div",{id:e.id,ref:function(e){return l(e)},className:d()("dropdown",{visible:n})},a.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),o(!n)}},e.label,a.a.createElement("span",{className:"caret"})),n?e.children:null)};y.propTypes={id:i.a.string,label:i.a.string,children:i.a.object};var h=y;function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C,k,N,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,n,r,o=E(i);function i(){return b(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{className:"dropdown-menu large","aria-labelledby":"community-dropdown"},a.a.createElement("ul",{"aria-label":"Community"},a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/awards",target:"_blank",rel:"noopener noreferrer"},e("The Wattys"))),a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/story/25279524",target:"_blank",rel:"noopener noreferrer"},e("Community Happenings"))),a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/823619",target:"_blank",rel:"noopener noreferrer"},e("Wattpad Ambassadors")))))}}])&&v(t.prototype,n),r&&v(t,r),i}(r.Component);C=j,k="propTypes",N={trans:i.a.func.isRequired},k in C?Object.defineProperty(C,k,{value:N,enumerable:!0,configurable:!0,writable:!0}):C[k]=N;var _=j,P=function(){return a.a.createElement("div",{className:"dropdown-menu large","aria-labelledby":"writer-opportunities-dropdown"},a.a.createElement("ul",{"aria-label":"Writer-Opportunities",className:"writer-opportunities-dropdown-list"},a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/writers",target:"_blank",rel:"noopener noreferrer"},"Writer Resources")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/writers/opportunities/",target:"_blank",rel:"noopener noreferrer"},"Writer Programs")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/go/writing-contests/",target:"_blank",rel:"noopener noreferrer"},"Writer Contests"))))};function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t=e.browseTopics,n=e.curatedLists,r=Object(m.h)().trans,o=1===parseInt(app.get("language"),10);return a.a.createElement("div",{className:"dropdown-menu large","aria-labelledby":"browse-dropdown"},a.a.createElement("div",{className:"col-xs-9 discover-categories"},a.a.createElement("ul",{className:"row"},a.a.createElement("li",{className:"title col-xs-12","aria-label":"Browse Topics"},r("Browse")),t.map((function(e){var t=e.name,n=e.topic,o=e.browseURL||wattpad.utils.categoryNameToUrl(t);return a.a.createElement("li",{className:"col-xs-4",key:t},a.a.createElement("a",{className:"on-navigate",href:o},r(n)))})))),o&&a.a.createElement("div",{className:"col-xs-3 wattpad-picks"},a.a.createElement("ul",{className:"row"},a.a.createElement("li",{className:"title col-xs-12","aria-label":"Wattpad Picks"},r("Wattpad Picks")),n.map((function(e){var t=e.name,n=e.id;return a.a.createElement("li",{className:"col-xs-12",key:t},a.a.createElement("a",{href:"/featured/".concat(n)},r(t)))})))))}x.propTypes={browseTopics:i.a.array.isRequired,curatedLists:i.a.array.isRequired};var I=function(){var e=Object(m.h)().trans,t=T(Object(r.useState)([]),2),n=t[0],o=t[1],i=T(Object(r.useState)([]),2),s=i[0],l=i[1];return Object(r.useEffect)((function(){var e=new app.collections.ReadingLists([],{username:"WattpadExplorer"}),t=new app.collections.BrowseTopics;Promise.all([e.fetchNextSet(),t.fetch()]).then((function(){o(wattpad.utils.sortByColumns(t.toJSON(),3)),l(e.toJSON())}))}),[]),a.a.createElement(h,{id:"discover-dropdown",label:e("Browse")},a.a.createElement(x,{browseTopics:n,curatedLists:s}))};function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var a=F(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(i,e);var t,n,r,o=U(i);function i(){return L(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("form",{id:"header-item-search",name:"search",role:"search",action:"/search/",method:"GET",autoComplete:"off"},a.a.createElement("button",{type:"submit"},a.a.createElement(l.e,{iconName:"fa-search",color:"wp-neutral-1",height:"16"})),a.a.createElement("input",{id:"search-query",name:"q",type:"text",spellCheck:"false",placeholder:e("Search"),"aria-label":"Search"}),a.a.createElement("input",{type:"hidden",name:"ref",value:"1"}))}}])&&M(t.prototype,n),r&&M(t,r),i}(r.Component);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var a=K(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(B,"propTypes",{trans:i.a.func.isRequired});var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(i,e);var t,n,r,o=Y(i);function i(){var e;H(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Z(G(e=o.call.apply(o,[this].concat(n))),"changeLanguage",(function(e){wattpad.utils.setCookie("locale",e,3650,!0),window.location.reload()})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.translatedLangs;return a.a.createElement("ul",{id:"language-options",className:"dropdown-menu align-right columns"},t.map((function(t){return a.a.createElement("li",{key:t.id,className:"col-xs-4 col-sm-3"},a.a.createElement("a",{href:"#",onClick:function(n){n.preventDefault(),e.changeLanguage(t.locale)}},t.name))})))}}])&&V(t.prototype,n),r&&V(t,r),i}(r.Component);Z(J,"propTypes",{translatedLangs:i.a.array.isRequired});var Q=J;function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var a=oe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(i,e);var t,n,r,o=re(i);function i(){return ee(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.trans,r=t.translatedLangs,o=t.locale,i=r.find((function(e){return e.locale===o}));return a.a.createElement("nav",{id:"WPNavbar",className:"container"},a.a.createElement("div",{id:"header-item-logo"},a.a.createElement("a",{href:"/",className:"on-navigate",title:"Wattpad Home","aria-label":"Home"},a.a.createElement(l.c,{name:"/logos/wp-logo-orange.png",title:"Wattpad",width:"123",className:"wp-logo hidden-xs"}))),a.a.createElement(I,null),function(e){return"en"===e.code}(i)&&a.a.createElement(h,{id:"writer-opportunities-dropdown",label:n("Writer Opportunities")},a.a.createElement(P,null)),a.a.createElement(h,{id:"community-dropdown",label:n("Community")},a.a.createElement(_,{trans:n})),a.a.createElement(B,{trans:n}),a.a.createElement("div",{id:"authentication"},a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-sm",onClick:function(){e.props.toggleModal({type:"login"})}},n("Log in"))),a.a.createElement(h,{id:"language-dropdown",label:i.name},a.a.createElement(Q,{translatedLangs:r}))))}}])&&te(t.prototype,n),r&&te(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ie,"propTypes",{toggleModal:i.a.func,trans:i.a.func.isRequired,translatedLangs:i.a.array.isRequired,locale:i.a.string.isRequired});var se=Object(s.b)((function(e){return{translatedLangs:e.appData.translatedLangs,locale:e.userData.locale}}))(Object(c.m)(ie)),le=function(e){return[{name:e("Writing Contests"),description:e("Enter writing contests to get published, win awards, and partner with global brands."),img:"/landing/writing-contests.png",url:"https://www.wattpad.com/go/writing-contests/",id:"contests"},{name:e("The Wattys"),description:e("Wattpads annual awards program committed to celebrating the best stories around the world."),img:"/landing/wattys_avatar.png",url:"https://wattys.wattpad.com",id:"wattys"},{name:e("Wattpad Picks"),description:e("Get featured on our hand-picked reading list."),img:"/landing/wp-picks.png",url:"https://www.wattpad.com/featured/551324301",id:"picks"}]},ce=[{quoteText:"Working with Wattpad Studios is like a dream. Not only do they care about your success, but also staying true to your vision.",author:"KARA BARBIERI (@PANDEAN)",about:"Kara Barbieri is a twenty-two year old author with a love for the weird and mystic. Her debut novel, WHITE STAG, will be published by Wednesday Books/Macmillan in January 2019.",cover:"/landing/white-stag.png",url:"/story/51067091-white-stag-permafrost-1",id:"white_stag"},{quoteText:"When I joined Wattpad, I gained a second family who were as passionate about reading and writing as I am.",author:"ALI NOVAK (@FALLZSWIMMER)",about:"Ali Novak is a Wisconsin native and a graduate of the University of Wisconsin-Madison's creative writing program. She started writing her debut novel My Life with the Walter Boys when she was only fifteen. Since then, her work has received more than 150 million hits online and My Life with the Walter Boys has been optioned for television by Komixx Entertainment and Sony Pictures Television.",cover:"/landing/walter-boys.png",url:"/story/80479-my-life-with-the-walter-boys-wattpad-version",id:"walter_boys"},{quoteText:"Being a Wattpad Star is the foundation for everything I do as a writer, from the behind the scenes wrangling to the big, game-changing projects.",author:"BEN SOBIECK (@BENSOBIECK)",about:"Benjamin Sobieck is a Wattpad Star and editor of The Writers Guide to Wattpad, published in August 2018 by Writers Digest Books and featuring contributions by 23 Wattpad Stars, ambassadors, and staff. His stories on Wattpad, such as When the Black-Eyed Children Knock, have drawn more than 1.5 million reads.",cover:"/landing/black-eye.png",url:"/story/59324321-black-eye-confessions-of-a-fake-psychic-detective",id:"black_eye"},{quoteText:"Having been active on Wattpad for several  years, I knew it would be the perfect platform for a thriller with lots of cliffhangers for readers to discuss. Teen horror is my passion, so I cant wait to be able to share Light as a Feather with other horror aficionados on Hulu.",author:"ZOE AARSEN (@ZAARSENIST)",about:"Zoe Aarsen is a graphic designer and copywriter. Her first paranormal YA novel, Light as a Feather, Stiff as a Board, is being published by Simon & Schuster and turned into a television series on Hulu.",cover:"/landing/feather.png",url:"/story/5949534-light-as-a-feather-stiff-as-a-board",id:"light_as_a_feather"},{quoteText:"The Wattpad Stars Program gave me opportunities I never thought possible. It connected me to a world that I had only imagined. I dont know how else to say it. It changed my life!",author:"ISABELLE RONIN (@ISABELLERONIN)",about:"Chasing Red was one of 2016s most-read stories on Wattpad -- and that was just the beginning for this Winnipeg-Manitoba-based writer. In a single year, her explosive hit has racked up over 127 million reads on Wattpad. Newly edited and expanded, the book was split into two and hit bookstore shelves in 2017.",cover:"/landing/chasing-red.png",url:"/story/18024139-chasing-red",id:"chasing_red"}];function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var a=he(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(i,e);var t,n,r,o=pe(i);function i(){return de(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.trans;return a.a.createElement("div",{id:"Hero"},a.a.createElement("div",{className:"container content"},a.a.createElement("div",null,a.a.createElement("h2",null,t("Hi, we're Wattpad.")),a.a.createElement("h3",null,t("The world's most-loved social storytelling platform")),a.a.createElement("h4",null,t("Wattpad connects a global community of %s million readers and writers through the power of story.",90)),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"reader_top"})}},t("Start Reading")),a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"writer_top"})}},t("Start Writing")))),a.a.createElement("div",{className:"imageContainer"},a.a.createElement(l.c,{name:"landing/hero-devices.png",title:"hero-devices"}))))}}])&&me(t.prototype,n),r&&me(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ge,"propTypes",{toggleModal:i.a.func,trans:i.a.func.isRequired});var be=Object(c.m)(ge);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var a=_e(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return je(this,n)}}function je(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(i,e);var t,n,r,o=Ne(i);function i(){return Se(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{id:"HowWattpadWorks"},a.a.createElement("div",{className:"container content"},a.a.createElement("h2",null,e("How Wattpad Works")),a.a.createElement("p",null,e("Get your story discovered through the power of community and technology on Wattpad.")),a.a.createElement("div",{id:"steps"},function(e){return[{number:1,title:e("Create"),description:e("Share your unique voice and original story on Wattpad. Find the writing resources you need to craft a story only you can tell."),stat:{count:e("50+"),title:e("Writing Resources")}},{number:2,title:e("Build"),description:e("Establish a global fan base as your story gains readership and momentum. Connect with other like-minded writers through storytelling."),stat:{count:e("%s <span>MILLION</span>",90),title:e("Readers")}},{number:3,title:e("Amplify"),description:e("Gain Wattpad Star status and get your story published or adapted into film or television with Wattpad Books and Wattpad Studios!"),stat:{count:e("1000+"),title:e("Story deals")}}]}(e).map((function(e){return a.a.createElement(Re,Oe({},e,{key:e.number}))})))))}}])&&Ce(t.prototype,n),r&&Ce(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Pe,"propTypes",{mobile:i.a.bool,trans:i.a.func.isRequired});var Te=Object(c.m)(Pe),Re=function(e){var t=e.number,n=e.title,r=e.description,o=e.stat;return a.a.createElement("div",{className:"stepContainer"},a.a.createElement("div",{className:"step"},a.a.createElement("h2",{className:"number"},t),a.a.createElement("div",null,a.a.createElement("h3",{className:"title"},n),a.a.createElement("p",{className:"description"},r))),a.a.createElement("div",{className:"dots"},we(Array(6)).map((function(e,t){return a.a.createElement("span",{className:"dot",key:t})}))),a.a.createElement("div",{className:"statBubble"},a.a.createElement("div",null,a.a.createElement("div",{className:"count",dangerouslySetInnerHTML:{__html:o.count}}),a.a.createElement("div",{className:"title"},o.title))))};Re.propTypes={number:i.a.number,title:i.a.string,description:i.a.string,stat:i.a.object};var xe=n(52),Ie=function(e,t){wattpad.utils.pushEvent({category:"new_landing",action:"click:".concat(e)}),t&&window.open(t,"_blank")};function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Me(e){return function(e){if(Array.isArray(e))return qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=He(e);if(t){var a=He(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return We(this,n)}}function We(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(i,e);var t,n,r,o=Be(i);function i(){return Ue(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{id:"Carousel"},a.a.createElement("div",{className:"container"},a.a.createElement(xe.a,{autoplay:!0,wrapAround:!0,heightMode:"max",renderCenterLeftControls:null,renderBottomCenterControls:null,renderCenterRightControls:function(e){var t=e.nextSlide;return a.a.createElement("div",{onClick:t,onKeyDown:t,role:"button",tabIndex:"0"},a.a.createElement(l.c,{name:"/landing/next-btn.svg"}))},renderBottomRightControls:function(e){var t=e.currentSlide,n=e.slideCount,r=e.goToSlide;return a.a.createElement("div",{className:"controls"},Me(Array(n)).map((function(e,n){var o=d()("control",{active:n===t});return a.a.createElement("div",{className:o,key:n,onClick:function(){r(n)},onKeyDown:function(){r(n)},role:"tab",tabIndex:"0"})})))}},ce.map((function(e){return a.a.createElement(ze,Le({},e,{key:e.id}))})))))}}])&&De(t.prototype,n),r&&De(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ve,"propTypes",{mobile:i.a.bool});var ze=function(e){var t=e.quoteText,n=e.author,r=e.about,o=e.cover,i=e.url,s=e.id;return a.a.createElement("div",{className:"slide"},a.a.createElement("div",{className:"cover-container",onClick:function(){Ie(s,i)},onKeyDown:function(){Ie(s,i)},role:"link","aria-roledescription":"slide",tabIndex:"0"},a.a.createElement(l.c,{name:o,title:o})),a.a.createElement("div",{className:"details"},a.a.createElement("div",{className:"quote"},a.a.createElement("p",{className:"text"},t),a.a.createElement("p",{className:"author"},n)),a.a.createElement("p",{className:"about"},r),a.a.createElement("button",{id:"startReading",className:"btn btn-md btn-teal",onClick:function(){Ie(s,i)}},"Start Reading")))};function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var a=Xe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Qe(this,n)}}function Qe(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ze.propTypes={quoteText:i.a.string,author:i.a.string,about:i.a.string,cover:i.a.string,url:i.a.string,id:i.a.string,mobile:i.a.bool};var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(i,e);var t,n,r,o=Je(i);function i(){return Ge(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{id:"Links"},function(e){return[{title:e("Get Discovered"),id:"GetDiscovered",links:le(e)}]}(e).map((function(e){return a.a.createElement("div",{id:e.id,key:e.id},a.a.createElement("div",{className:"container"},a.a.createElement("h3",null,e.title),a.a.createElement("div",{className:"links"},e.links.map((function(e){return a.a.createElement(nt,$e({},e,{key:e.id}))})))))})))}}])&&Ke(t.prototype,n),r&&Ke(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(et,"propTypes",{mobile:i.a.bool,trans:i.a.func.isRequired});var tt=Object(c.m)(et),nt=function(e){var t=e.name,n=e.description,r=e.img,o=e.url,i=e.id,s=e.className;return a.a.createElement("div",{className:d()("link",s),onClick:function(){Ie(i,o)},onKeyDown:function(){Ie(i,o)},role:"link",tabIndex:"0"},a.a.createElement("div",{className:"image"},a.a.createElement(l.c,{name:r,title:t})),a.a.createElement("div",{className:"info"},a.a.createElement("h4",null,t),a.a.createElement("p",null,n)))};function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var a=ct(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}nt.propTypes={name:i.a.string,description:i.a.string,img:i.a.string,url:i.a.string,id:i.a.string,className:i.a.string};var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(i,e);var t,n,r,o=st(i);function i(){return at(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.trans;return a.a.createElement("div",{id:"TakeWPWithYou"},a.a.createElement("div",{className:"container content"},a.a.createElement("h3",null,t("Take Wattpad With You")),a.a.createElement("p",null,t("Read and write anywhere, even offline.")),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"reader_bot"})}},t("Start Reading")),a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"login"})}},t("Start Writing"))),a.a.createElement(l.c,{className:"devices",name:"landing/footer-devices.png",title:"devices"})))}}])&&ot(t.prototype,n),r&&ot(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ut,"propTypes",{toggleModal:i.a.func,trans:i.a.func.isRequired});var dt=Object(c.m)(ut);function mt(e){var t=e.leftPart,n=e.rightPart,r=e.className;return a.a.createElement("div",{className:d()("container content",r)},t,n)}function ft(){var e=Object(m.h)().trans;return a.a.createElement(mt,{className:"studiosContainer",rightPart:a.a.createElement("div",{className:"imageContainer"},a.a.createElement(l.c,{width:"348",name:"/landing/wattpadBooksPoster.png",title:"wattpad books poster"})),leftPart:a.a.createElement("div",{className:"textContainer"},a.a.createElement(l.c,{width:"190",name:"/landing/wattpadBooksLogo.svg",title:"Wattpad Studios logo"}),a.a.createElement("h3",null,e("Your voice belongs on bookshelves")),a.a.createElement("p",{className:"constrainedText"},e("Wattpad Books aspires to recognize and reflect diverse voices by taking Wattpad stories to published book and onto bookshelves around the world.")),a.a.createElement("p",null,e("Wattpad Books works with partners such as:")),a.a.createElement(l.c,{className:"partner",width:"110",name:"/landing/macmillan.png",title:"macmillan Publishers logo"}),a.a.createElement(l.c,{className:"partner",width:"87",name:"/landing/anvil.png",title:"Anvil Publishing logo"}),a.a.createElement(l.c,{className:"partner",width:"97",name:"/landing/penguin.png",title:"Penguin Random House UK logo"}))})}function pt(){var e=Object(m.h)().trans;return a.a.createElement(mt,{rightPart:a.a.createElement("div",{className:"textContainer"},a.a.createElement(l.c,{width:"203",name:"/landing/wattpadStudiosLogo.svg",title:"Wattpad Studios logo"}),a.a.createElement("h3",null,e("Your original story could be the next big hit")),a.a.createElement("p",{className:"constrainedText"},e("Wattpad Studios discovers untapped, unsigned, and talented writers on Wattpad and connects them to global multi-media entertainment companies.")),a.a.createElement("p",null,e("Wattpad Studios works with partners such as:")),a.a.createElement(l.c,{className:"partner",width:"31",name:"/landing/sony.svg",title:"Sony logo"}),a.a.createElement(l.c,{className:"partner",width:"61",name:"/landing/hulu.svg",title:"Hulu logo"}),a.a.createElement(l.c,{className:"partner",width:"81",name:"/landing/syfy.svg",title:"SYFY logo"})),leftPart:a.a.createElement("div",{className:"imageContainer"},a.a.createElement(l.c,{width:"414",name:"/landing/wattpadStudiosPoster.png",title:e("Wattpad Studios TV and film projects collage"),alt:e("Wattpad Studios TV and film projects collage")}))})}function yt(){var e=Object(m.h)().trans;return a.a.createElement("div",{className:"seeYourStoryContainer"},a.a.createElement("h3",null,e("See Your Story...")),a.a.createElement("div",{className:"itemContainer"},a.a.createElement("div",{className:"item"},a.a.createElement(l.c,{name:"/landing/tv-icon.svg",title:"tv"}),e("Get produced to movie or film")),a.a.createElement("div",{className:"item"},a.a.createElement(l.c,{name:"/landing/reel-icon.svg",title:"reel"}),e("Get adapted to a TV series")),a.a.createElement("div",{className:"item"},a.a.createElement(l.c,{name:"/landing/book-icon.svg",title:"book"}),e("Get published"))))}mt.propTypes={leftPart:i.a.object.isRequired,rightPart:i.a.object.isRequired,className:i.a.string};var ht=n(8),gt=n(57),bt=n(110);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var a=jt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?Nt(e):t}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(i,e);var t,n,r,o=Ct(i);function i(){var e;Et(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _t(Nt(e=o.call.apply(o,[this].concat(n))),"toggleModal",(function(t){var n=t.type,r=void 0===n?"login":n,o=t.source,i=void 0===o?"":o,s={model:e.props.model,nextUrl:e.props.nextURL};switch(r){case"signup":e.props.toggleModal({className:"signup-modal",component:function(){return a.a.createElement(gt.a,wt({},s,{source:i,signup:!0}))}});break;case"login":e.props.toggleModal({className:"login-modal",component:function(){return a.a.createElement(bt.a,wt({},s,{login:!0}))}})}})),e}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{id:"landing"},a.a.createElement(se,{toggleModal:this.toggleModal}),a.a.createElement(be,{toggleModal:this.toggleModal}),a.a.createElement("div",{id:"Intro"},a.a.createElement(yt,null),a.a.createElement(pt,null),a.a.createElement(ft,null)),a.a.createElement("div",{id:"FindOutMore"},a.a.createElement("a",{href:"https://www.wattpad.com/writers",target:"_blank",rel:"noopener noreferrer"},a.a.createElement("h4",null,this.props.trans("Find out more about what we do for writers")," "))),a.a.createElement(Te,null),a.a.createElement(Ve,null),a.a.createElement(tt,null),a.a.createElement(dt,{toggleModal:this.toggleModal}),a.a.createElement(l.n,null))}}])&&Ot(t.prototype,n),r&&Ot(t,r),i}(r.Component);_t(Pt,"propTypes",{model:i.a.object,root:i.a.string,nextURL:i.a.string,toggleModal:i.a.func,hybridLayout:i.a.bool,trans:i.a.func.isRequired});var Tt=Object(s.b)(null,{toggleModal:ht.c})(Pt);t.a=Object(c.m)(Tt)},function(e,t,n){"use strict";n.d(t,"a",(function(){return ue}));var r=n(0),a=n.n(r),o=n(578),i=n(579),s=n(580),l=n(581),c=n(5),u=n(1),d=n.n(u),m=n(6),f=n(119),p=n(3);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.toggleModal,n=Object(p.h)().trans,o=y(Object(r.useState)(""),2),i=o[0],s=o[1],l=y(Object(r.useState)([]),2),c=l[0],u=l[1],d=y(Object(r.useState)([]),2),m=d[0],f=d[1];return a.a.createElement("div",{className:"new-msg-modal"},a.a.createElement("div",{className:"new-msg-header"},a.a.createElement("h3",null,n("New Message")),a.a.createElement("p",null,n("Send message to")+":"),a.a.createElement("input",{type:"text",value:i,onChange:function(e){var t=e.target.value;s(t);var r="api/v3/autocomplete/following_user?term=".concat(t);Promise.resolve($.get(r)).then((function(e){u(e.filter((function(e){return"Other People"===e.category}))),f(e.filter((function(e){return"Your Friends"===e.category})))})).catch((function(){new window.app.views.ErrorToast({message:n("Sorry, something went wrong. Please try again.")},{type:"dismissable"}).render()}))}})),""!==i&&a.a.createElement("div",{className:"search-results"},m.length>0&&a.a.createElement("p",null,n("People You Follow")),m.map((function(e){return a.a.createElement(b,{toggleModal:t,key:e.label,user:e})})),c.length>0&&a.a.createElement("p",null,n("People on Wattpad")),c.map((function(e){return a.a.createElement(b,{key:e.label,user:e,toggleModal:t})}))))}function b(e){var t=e.user,n=e.toggleModal;return a.a.createElement("button",{className:"search-result btn-no-background",onClick:function(){n(),window.app.router.navigate("/inbox/".concat(t.label),{trigger:!0})}},a.a.createElement("img",{src:t.image,alt:"".concat(t.label,"'s avatar"),className:"avatar avatar-sm3"}),a.a.createElement("p",null,t.label))}g.propTypes={toggleModal:d.a.func},b.propTypes={user:d.a.object,toggleModal:d.a.func};var v=n(8),w=n(2);function E(e){var t=e.direction,n=e.threshold,r=e.total,o=e.offset,i=e.isLoading,s=e.isDisabled,l=e.onLoad,c=Object(p.h)().trans;return Object(p.f)({direction:t,threshold:n,onThreshold:function(){s||o===r||l(o)}}),i?a.a.createElement("div",{className:"load-more-container"},a.a.createElement(w.c,{name:"/icons/spinner.svg",className:"fa-spin load-more",title:c("Spinner"),height:"24",width:"24"})):null}E.defaultProps={direction:"down",threshold:200},E.propTypes={direction:d.a.string.isRequired,threshold:d.a.number.isRequired,total:d.a.number.isRequired,offset:d.a.number.isRequired,isLoading:d.a.bool.isRequired,isDisabled:d.a.bool.isRequired,onLoad:d.a.func.isRequired};var O=E,S=n(4),C=n.n(S),k=n(32),N=n.n(k),j=n(82),_=n(74),P=n(21),T=n(38),R=n(109),x=n(79),I=n(167);function A(e){var t=e.isLoading,n=e.activeThread,r=e.isMutedByCurrentUser,o=e.isBlockedByCurrentUser,i=e.muteUser,s=e.deleteConversation,l=e.unmuteUser,c=e.toggleModal,u=e.toggleToast,d=Object(p.h)().trans;return a.a.createElement("div",null,!t&&a.a.createElement(w.m,{username:n,isMutedByCurrentUser:r,isBlockedByCurrentUser:o,onMuteUser:function(){var e=function(){return a.a.createElement(R.a,{username:n,toggleModal:c,muteUser:i})};e.displayName="MuteModal",c({className:"mute-modal",hideClose:!0,component:e})},onUnmuteUser:function(){var e=function(){return a.a.createElement(x.a,{username:n,toggleModal:c,onUnmute:l})};e.displayName="UnmuteModal",c({className:"mute-modal",hideClose:!0,component:e})},onDeleteConversation:function(){confirm(d("Delete all messages between you and %s?",n))&&s(n).then((function(){"/inbox"===window.location.pathname?window.location.reload():window.app.router.navigate("/inbox",{trigger:!0})}))},onReportUser:function(){if(wattpad.testGroups.REPORT_PRIVATE_MESSAGE){var e=function(e){u({className:"report-private-message-toast",body:e})},t=function(){return a.a.createElement(I.a,{title:d("Report a Private Message"),reportType:"private-message",requesterUsername:wattpad.utils.currentUser().get("username"),requesterEmail:wattpad.utils.currentUser().get("email"),reportId:{name:n},hideModal:c,showErrorToast:e})};t.displayName="ReportModal",c({className:"report-modal",hideClose:!0,component:t})}else{var r=n;window.location.href="/help/report?author="+encodeURIComponent(r)+"&comment="}},showModerationOptions:!0}))}A.propTypes={activeThread:d.a.string.isRequired,isLoading:d.a.bool.isRequired,deleteConversation:d.a.func.isRequired,isMutedByCurrentUser:d.a.bool.isRequired,isBlockedByCurrentUser:d.a.bool,muteUser:d.a.func.isRequired,unmuteUser:d.a.func.isRequired,toggleModal:d.a.func,toggleToast:d.a.func};var L=Object(m.b)(null,{deleteConversation:_.b,muteUser:P.f,unmuteUser:P.k,toggleModal:v.c,toggleToast:T.c})(A);function M(e){var t,n=e.thread,o=e.username,i=n.user.name,s=n.user.isActive;t=function(){window.te.push("event","private_messages",null,null,"view",{sender_username:i,recipient_username:o})},Object(r.useEffect)(t,[]);var l=n.user.badges.length?n.user.badges[0]:"";return a.a.createElement("div",{className:"thread-row"},a.a.createElement("div",{className:C()("unread-dot",{show:n.unread})},1===n.unread&&a.a.createElement(w.e,{iconName:"fa-circle-filled",height:"6",color:"wp-base-1"})),a.a.createElement("a",{style:{marginRight:0},className:"thread-column on-navigate",href:"/user/".concat(i)},s?a.a.createElement("img",{src:n.user.avatar,alt:"".concat(i,"'s avatar"),className:"thread-column avatar avatar-sm3"}):a.a.createElement(w.c,{name:"avatar/empty.png",className:"thread-column avatar avatar-sm3"})),a.a.createElement("a",{className:"thread-column on-navigate thread-meta",href:"/inbox/".concat(i)},a.a.createElement("div",{className:"thread-user right-icon"},i,a.a.createElement(j.a,{name:l,allowedBadges:["staff","verified"]})),a.a.createElement("div",{className:C()("thread-message",{unread:n.unread})},n.recentMessage.body)),a.a.createElement("div",{className:"thread-column thread-date"},N()(n.recentMessage.createDate).format("MMM DD, YYYY [at] LT")),a.a.createElement("div",{className:"button-group inline-block relative "},a.a.createElement("button",{className:"btn btn-white dropdown-toggle inbox-more-options","data-toggle":"dropdown","aria-controls":"inbox-more-options","aria-expanded":"false","aria-label":"more options"},a.a.createElement(w.e,{name:"more",size:"24"})),a.a.createElement("div",{className:"triangle"}),a.a.createElement("div",{className:"dropdown-menu align-right"},a.a.createElement(L,{activeThread:i,isLoading:!1,isMutedByCurrentUser:n.user.isMutedByCurrentUser,isBlockedByCurrentUser:n.user.isBlockedByCurrentUser}))))}M.propTypes={thread:d.a.object,username:d.a.string},M.defaultProps={thread:{}};var q=M;function U(e){var t=e.filter,n=e.loadThreads,r=Object(p.h)().trans;return a.a.createElement("div",{className:"threads-filter"},a.a.createElement("select",{value:t,onChange:function(e){var t=e.target.value;n({filter:t})}},a.a.createElement("option",{value:""},r("All")),a.a.createElement("option",{value:"followers"},r("My Followers")),a.a.createElement("option",{value:"following"},r("People I'm Following")),a.a.createElement("option",{value:"unread"},r("Unread Messages"))))}U.propTypes={filter:d.a.string.isRequired,loadThreads:d.a.func.isRequired};var D=U,F=n(42),B=n(154);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){var t,n=e.loadThreads,o=e.isLoading,i=e.isLoadingMore,s=e.isEmailVerified,l=e.threads,c=e.username,u=e.total,d=e.offset,m=e.filter,f=e.toggleModal,y=Object(p.h)().trans;Object(p.g)("".concat(y("Inbox")," - Wattpad")),t=function(){n({})},Object(r.useEffect)(t,[]);return a.a.createElement("div",{id:"inbox"},a.a.createElement("div",{className:"threads-container"},a.a.createElement("div",{className:"threads-header"},a.a.createElement("div",{className:"flex-part"},a.a.createElement("h2",null,y("My Messages"))),a.a.createElement(D,{filter:m,loadThreads:n}),a.a.createElement("button",{className:"new-msg-btn",onClick:function(){if(s){var e=function(){return a.a.createElement(g,{toggleModal:f})};e.displayName="NewMessage",f({className:"new-message-modal",component:e})}else{var t=function(){return a.a.createElement(B.a,{email:wattpad.utils.currentUser().get("email"),userId:wattpad.utils.currentUser().get("id"),hideModal:f})};t.displayName="PleaseVerify",f({className:"please-verify-modal",hideClose:!0,component:t})}}},a.a.createElement("span",null," ",y("+ New Message")," ")),a.a.createElement(w.n,null)),a.a.createElement("div",{className:"threads-list"},0!==l.length||o?l.map((function(e){return a.a.createElement(q,{key:e.user.name,thread:e,username:c})})):a.a.createElement("div",{className:"thread-row empty-row"},y("You have no messages."))),a.a.createElement(O,{direction:"down",threshold:0,isLoading:i,isDisabled:i,total:u,offset:d,onLoad:function(e){n({offset:e,filter:m})}})),a.a.createElement(F.a,null))};V.propTypes={isLoading:d.a.bool.isRequired,isLoadingMore:d.a.bool.isRequired,isEmailVerified:d.a.bool.isRequired,threads:d.a.array.isRequired,username:d.a.string.isRequired,loadThreads:d.a.func.isRequired,total:d.a.number.isRequired,offset:d.a.number.isRequired,filter:d.a.string.isRequired,toggleModal:d.a.func};var z=Object(m.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.threads)}),{loadThreads:f.b,toggleModal:v.c})(V),Y=N()(),G=Y.clone().startOf("day"),K=Y.clone().subtract(1,"days").startOf("day"),Z=Y.clone().subtract(7,"days").startOf("day");function J(e){var t,n=e.dateDisplay,r=Object(p.h)().trans;return t=n.isSame(G,"d")?r("Today at %s",n.format("h:mm a")):function(e){return e.isSame(K,"d")}(n)?r("Yesterday at %s",n.format("h:mm a")):function(e){return e.isAfter(Z)}(n)?n.format("ddd [at] h:mm a"):n.format("MMM D, YYYY, [at] h:mm a"),a.a.createElement("div",{className:"date-separator"},a.a.createElement("div",null,a.a.createElement("span",{className:"date"},t)))}J.propTypes={dateDisplay:d.a.object.isRequired};var Q=function(e){var t=e.message,n=e.username,r=e.isActive,o=e.differentSender,i=e.scrollToMessageId,s=e.setRef,l=t.from.name===n;return a.a.createElement("div",{ref:i===t.id?s:null,className:C()("conversation-row",l?"from-me":"from-other",{"different-sender":o})},a.a.createElement("a",{className:"on-navigate avatar-link",href:"/user/".concat(t.from.name)},r||l?a.a.createElement("img",{src:t.from.avatar,alt:"".concat(n,"'s avatar"),className:"avatar avatar-sm3"}):a.a.createElement(w.c,{name:"avatar/empty.png",className:"avatar avatar-sm3"})),a.a.createElement("div",{className:"conversation-message"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(c.o)(t.body)}})))};Q.propTypes={message:d.a.shape({body:d.a.string,createDate:d.a.string,from:d.a.object,id:d.a.number,latestReplies:d.a.array,numReplies:d.a.number,unread:d.a.bool}).isRequired,isActive:d.a.bool.isRequired,username:d.a.string.isRequired,differentSender:d.a.bool.isRequired,scrollToMessageId:d.a.number.isRequired,setRef:d.a.object.isRequired};var X=Q;function ee(e){var t,n,r=e.messages,o=e.username,i=e.isActive,s=e.scrollToMessageId,l=e.setRef,c=e.isLastBatch;return a.a.createElement("div",{className:"conversations"},r.map((function(e,r){var u=!1,d=null;t!==e.from.name&&(u=!0,t=e.from.name);var m=N()(e.createDate);if(0===r&&c)d=m;else if(n){N.a.duration(m.diff(n)).asHours()>=6&&(d=m)}return n=m,a.a.createElement(a.a.Fragment,{key:e.id},d&&a.a.createElement(J,{dateDisplay:d}),a.a.createElement(X,{setRef:l,scrollToMessageId:s,message:e,username:o,isActive:i,differentSender:u}))})))}function te(e){var t,n,r,o=e.isMutedByCurrentUser,i=e.isBlockedByCurrentUser,s=e.activeThreadUsername,l=Object(p.h)().trans;return i?(t=l("You have blocked %s and cannot reply to this conversation.",s),n=l("View Profile"),r={href:"/user/".concat(s),className:"on-navigate"}):o?(t=l("You have muted %s and cannot reply to this conversation.",s),n=l("View Profile"),r={href:"/user/".concat(s),className:"on-navigate"}):(t=l("You cant reply to this conversation."),n=l("Learn more"),r={target:"_blank",rel:"noopener noreferrer",href:"https://support.wattpad.com/hc/en-us/articles/205956030-I-Can-t-Message-Another-User-"}),a.a.createElement("div",{className:"bottom-sticky"},a.a.createElement("div",{className:"disabled-reply"},a.a.createElement("p",null,t+" ",a.a.createElement("a",r,n))))}ee.propTypes={messages:d.a.array.isRequired,username:d.a.string.isRequired,isActive:d.a.bool.isRequired,scrollToMessageId:d.a.number.isRequired,setRef:d.a.object.isRequired,isLastBatch:d.a.bool.isRequired},te.propTypes={isMutedByCurrentUser:d.a.bool.isRequired,isBlockedByCurrentUser:d.a.bool,activeThreadUsername:d.a.string.isRequired};var ne=te;function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e){var t=e.activeThread,n=e.postMessage,o=e.username,i=e.isReply,s=e.isFirstTimeMessaging,l=Object(p.h)().trans,c=re(Object(r.useState)(""),2),u=c[0],d=c[1];return a.a.createElement("form",{className:"conversation-form bottom-sticky",onSubmit:function(e){e&&(e.preventDefault(),e.stopPropagation()),""!==u&&(window.te.push("event","private_messages","message","send",{sender_username:o,recipient_username:t,is_reply:i,page:"message"}),n(t,{body:u}),d(""))}},s&&a.a.createElement("div",{className:"first-time-msgs"},a.a.createElement("strong",null,l("You are about to send a message to someone you dont follow.")),l(" Wattpad is an inclusive space where everyone can belong. Hate speech and cyberbullying are never tolerated.")),a.a.createElement(w.k,{characterLimit:2e3,value:u,onChange:function(e){var t=e.target.value;d(t.substr(0,2e3))},autoFocus:!0,placeholder:l("Write a message...")}),a.a.createElement("div",{className:"btn-container"},a.a.createElement("button",{type:"submit",disabled:""===u,className:"btn btn-large btn-orange"},l("Send"))))}oe.propTypes={activeThread:d.a.string.isRequired,postMessage:d.a.func.isRequired,username:d.a.string.isRequired,isReply:d.a.bool.isRequired,isFirstTimeMessaging:d.a.bool.isRequired};var ie=oe;function se(e){var t,n=e.username,o=e.messages,i=e.badges,s=e.isActive,l=e.isLoading,c=e.isLoadingMore,u=e.isDeleting,d=e.isPosting,m=e.total,f=e.offset,y=e.isEmailVerified,h=e.isMutingCurrentUser,g=e.isMutedByCurrentUser,b=e.isBlockedByCurrentUser,v=e.scrollToMessageId,E=e.postMessage,S=e.loadConversation,C=e.match,k=Object(p.h)().trans,N=Object(r.useRef)(),_=Object(r.useRef)(),P=C.params.activeThread;Object(p.g)("".concat(k("Messages between you and %s",P)," - Wattpad")),t=function(){window.te.push("event","private_messages","conversation",null,"view",{sender_username:P,recipient_username:n}),S(P)},Object(r.useEffect)(t,[]),function(e,t){Object(r.useEffect)(e,t)}((function(){if(N.current&&_.current){window.scrollTo(0,N.current.offsetTop-_.current.getBoundingClientRect().bottom-10)}}),[v]);var T=o.find((function(e){return e.from.name===P})),R=f===m,x=i.length?i[0]:"",I=0===o.length&&!l,A=!h&&!g&&!b&&s&&y;return a.a.createElement("div",{id:"inbox"},a.a.createElement("div",{className:"conversation-container"},a.a.createElement("div",{className:"column"}),a.a.createElement("div",{className:"column main"},a.a.createElement("div",{className:"conversation-header",ref:_},a.a.createElement("h2",null,P),a.a.createElement(j.a,{name:x,size:"20",allowedBadges:["staff","verified"]})),a.a.createElement(O,{direction:"up",threshold:0,isLoading:c,isDisabled:c||u||d,total:m,offset:f,onLoad:function(e){S(P,e)}}),a.a.createElement(ee,{scrollToMessageId:v,setRef:N,messages:o,username:n,isActive:s,isLastBatch:R}),!l&&(A?a.a.createElement(ie,{activeThread:P,isReply:Boolean(T),postMessage:E,isActive:s,username:n,isFirstTimeMessaging:I}):a.a.createElement(ne,{isMutedByCurrentUser:g,isBlockedByCurrentUser:b,activeThreadUsername:P}))),a.a.createElement("div",{className:"column"},a.a.createElement("div",{className:"column-content"},a.a.createElement(L,{activeThread:P,isLoading:l,isMutedByCurrentUser:g,isBlockedByCurrentUser:b}),a.a.createElement("div",{className:"extra-content-container"},a.a.createElement("a",{href:"https://www.wattpad.com/writers/opportunities/stars/",rel:"noopener noreferrer",target:"_blank"},a.a.createElement("img",{src:"/img/desktop-web/2019_Wattpad-Stars_300x250.jpg",alt:"Wattpad Stars"})))))),a.a.createElement(w.n,null),a.a.createElement(F.a,null))}se.propTypes={match:d.a.object.isRequired,username:d.a.string.isRequired,badges:d.a.array.isRequired,messages:d.a.array.isRequired,isActive:d.a.bool.isRequired,isLoading:d.a.bool.isRequired,isLoadingMore:d.a.bool.isRequired,isDeleting:d.a.bool.isRequired,isPosting:d.a.bool.isRequired,total:d.a.number.isRequired,offset:d.a.number.isRequired,postMessage:d.a.func.isRequired,loadConversation:d.a.func.isRequired,scrollToMessageId:d.a.number.isRequired,isEmailVerified:d.a.bool.isRequired,isMutingCurrentUser:d.a.bool.isRequired,isMutedByCurrentUser:d.a.bool.isRequired,isBlockedByCurrentUser:d.a.bool};var le=Object(m.b)((function(e){return{messages:e.conversation.messages,badges:e.conversation.badges,isActive:e.conversation.isActive,isLoading:e.conversation.isLoading,isLoadingMore:e.conversation.isLoadingMore,isDeleting:e.conversation.isDeleting,isPosting:e.conversation.isPosting,total:e.conversation.total,offset:e.conversation.offset,isEmailVerified:e.conversation.isEmailVerified,isMutingCurrentUser:e.conversation.isMutingCurrentUser,isMutedByCurrentUser:e.conversation.isMutedByCurrentUser,isBlockedByCurrentUser:e.conversation.isBlockedByCurrentUser,scrollToMessageId:e.conversation.scrollToMessageId}}),{loadConversation:_.c,postMessage:_.d})(se);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ue(e){var t=e.username,n=e.avatar,r=e.url,u=Object(c.n)()?o.a:i.a;return a.a.createElement(u,{basename:"/inbox",location:r,context:{}},a.a.createElement(s.a,null,a.a.createElement(l.a,{exact:!0,path:"/",component:function(e){return a.a.createElement(z,ce({username:t},e))}}),a.a.createElement(l.a,{exact:!0,path:"/:activeThread",component:function(e){return a.a.createElement(le,ce({username:t,avatar:n},e))}})))}ue.propTypes={username:d.a.string.isRequired,avatar:d.a.string.isRequired,url:d.a.string}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(6),i=n(1),s=n.n(i),l=n(12),c=n.n(l),u=n(16),d=n(10),m=n(4),f=n.n(m),p=n(2),y=n(5),h=n(27),g=n(174);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t=e.tags,n=void 0===t?[]:t,o=e.isPaid,i=e.max,s=void 0===i?1:i,l=e.filter,c=void 0===l?function(e){return e}:l,u=b(Object(r.useState)(n),2),d=u[0],m=u[1];return Object(r.useEffect)((function(){m(_.shuffle(n).filter(c).slice(0,s))}),[n,s,c]),a.a.createElement("div",{className:"tags-list"},o?a.a.createElement(p.e,{name:"paidStory",className:"paid-stories-badge",size:"24",color:"ds-neutral-100",strokeWidth:"0",fill:!0}):null,n?d.map((function(e,t){return a.a.createElement(h.a,{key:t+e,name:e,bgColor:"#eeeeee",color:"#6f6f6f",clickHandler:function(e,t){e.preventDefault(),app.router.navigate("/stories/".concat(t),{trigger:!0})},link:"/stories/".concat(e)})})):null)};w.propTypes={tags:s.a.array,isPaid:s.a.bool,max:s.a.number,filter:s.a.func};var E=function(e){var t=e.sectionType,n=e.title,o=e.id,i=e.cover,s=e.user,l=e.tags,c=e.description,u=e.isPaid,d=e.sources,m=e.index,f=e.offset,p=e.windowWidth,h=e.wasSeen,b=e.clickTrackingUrls,v=e.impressionTrackingUrls,E=e.callTrackingUrls,O=e.isPromoted,S=e.onStoryClick,C=e.heroItem,k=500,N=200,j=3,_=!0,P=18,T=v&&v.length>0,R=Object(y.h)(i),x=Object(y.g)(i,104);p>575&&p<=960||p>=545&&p<=575?(k=250,j=2):p<545&&p>=400?(k=100,N=60,P=10,j=2,_=!1):p<400&&(k=60,N=30,P=8,j=1,_=!1);var I=Object(r.useCallback)((function(e){return e.length<P}),[P]);Object(r.useEffect)((function(){h&&(window.te.push("event","story",null,null,"view",{storyid:o,page:"home",algo_source:d,position:m,offset:f,type:t}),T&&wattpad.utils.pushEvent({category:"homePromotedImpression",action:"viewed",label:"storyId-".concat(o)}))}),[h]);var A=function(e,n){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:o,page:"home",algo_source:d,position:m,offset:f,type:t}),b&&E(b),"mobile"!==wattpad.utils.getDeviceType()&&S?S(C):app.router.navigate(n,{trigger:!0})};return a.a.createElement("div",{className:"paid-stories-item hero"},a.a.createElement("div",{className:"cover"},a.a.createElement("a",{href:"/story/".concat(o),onClick:function(e){return A(e,"/story/".concat(o))}},a.a.createElement("img",{srcSet:R,sizes:"(max-width: 575px) ".concat(104,"px, ").concat(200,"px"),src:x,alt:"".concat(n," cover")}))),a.a.createElement("div",{className:"hero-content"},a.a.createElement("a",{className:"title",href:"/story/".concat(o),onClick:function(e){return A(e,"/story/".concat(o))},"aria-label":"Read ".concat(n)},a.a.createElement("p",null,Object(y.u)(n,N,!1))),s&&_?a.a.createElement("a",{className:"author on-navigate",href:"/user/".concat(s.name)},s.name):null,a.a.createElement("p",{className:"description"},Object(y.u)(c,k,!1)),a.a.createElement(w,{tags:l,isPaid:u,max:j,filter:I})),O&&a.a.createElement("div",{className:"right-section"},a.a.createElement(g.a,null),T&&v.map((function(e,t){return function(e,t){return a.a.createElement("img",{key:"pixel-".concat(t),src:e,height:"1",width:"1",alt:""})}(e,t)}))))};E.defaultProps={onStoryClick:null,sources:[],offset:0},E.propTypes={cover:s.a.string.isRequired,id:s.a.oneOfType([s.a.string,s.a.number]).isRequired,index:s.a.number.isRequired,isPaid:s.a.bool,offset:s.a.number,sectionType:s.a.string,sources:s.a.array,tags:s.a.array,title:s.a.string.isRequired,user:s.a.object,description:s.a.string,wasSeen:s.a.bool,windowWidth:s.a.number,clickTrackingUrls:s.a.array,impressionTrackingUrls:s.a.array,callTrackingUrls:s.a.func,isPromoted:s.a.bool,onStoryClick:s.a.func,heroItem:s.a.object};var O=E,S=n(100),C=n(129);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=function(e){var t=e.callTrackingUrls,n=e.clickTrackingUrls,o=e.impressionTrackingUrls,i=e.expandPrompt,s=e.heading,l=e.heroItem,c=e.index,u=e.isPromoted,d=e.multiRows,m=e.onStoryClick,p=e.page,y=e.sectionType,h=e.setPosition,g=e.storyItems,b=e.subheading,v=e.wasSeen,w=e.windowWidth,E=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=E.current.getBoundingClientRect();h(c,y,e.top+window.scrollY,e.bottom+window.scrollY)}),[c,y,h]),g&&0!==g.length||l?a.a.createElement("div",{className:f()("story-swimlane-with-hero",y),ref:E},a.a.createElement("div",{className:"module-content"},a.a.createElement(C.a,{expandPrompt:i,heading:s,sectionType:y,subheading:b,isPromoted:!1}),a.a.createElement("div",{className:"hero-item"},a.a.createElement(O,k({},l,{windowWidth:w,clickTrackingUrls:n,impressionTrackingUrls:o,isPromoted:u,callTrackingUrls:t,onStoryClick:m,heroItem:l,index:c,wasSeen:v,sectionType:y}))),d?d.map((function(e,t){return[a.a.createElement(C.a,{heading:e.heading,subheading:e.subheading,key:"".concat(e.heading,"-").concat(t)}),a.a.createElement("div",{className:"story-carousel",key:"".concat(e.items[0].id,"-").concat(t)},a.a.createElement(S.a,{index:c,onStoryClick:m,page:p,sectionType:y,stories:e.items,wasSeen:v,windowWidth:w}))]})):a.a.createElement("div",{className:"story-carousel"},a.a.createElement(S.a,{index:c,onStoryClick:m,page:p,sectionType:y,stories:g,wasSeen:v,windowWidth:w})))):null};N.defaultProps={onStoryClick:null},N.propTypes={callTrackingUrls:s.a.func.isRequired,clickTrackingUrls:s.a.array,impressionTrackingUrls:s.a.array,expandPrompt:s.a.object,heading:s.a.string,heroItem:s.a.object.isRequired,index:s.a.number.isRequired,isPromoted:s.a.bool,multiRows:s.a.array,navigationItem:s.a.object,onStoryClick:s.a.func,page:s.a.string.isRequired,sectionType:s.a.string.isRequired,setPosition:s.a.func.isRequired,storyItems:s.a.array,subheading:s.a.string,wasSeen:s.a.bool,windowWidth:s.a.number};var j=N,P=n(123),T=n(52),R=n(84),x=n.n(R);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e){var t=e.sectionType,n=e.slides,o=void 0===n?[]:n,i=e.index,s=e.setPosition,l=e.windowWidth,c=e.wasSeen,u=e.wrapAround,d=x()(parseInt(app.get("language"),10)),m=Object(r.useRef)(null),y=L(Object(r.useState)([]),2),h=y[0],g=y[1],b=L(Object(r.useState)(),2),v=b[0],w=b[1],E=L(Object(r.useState)(),2),O=E[0],S=E[1];Object(r.useEffect)((function(){if(c)q(0);else{var e=m.current.getBoundingClientRect();w(e.top),S(e.bottom),s(i,t,e.top+window.scrollY,e.bottom+window.scrollY)}}),[c,i,t,s,q]);var C=l<575,k=!C&&c,N=C?{autoplay:k,autoplayInterval:5500,animation:"zoom",cellSpacing:8,frameOverflow:"visible",initialSlideHeight:168,initialSlideWidth:282,slideOffset:25,slidesToShow:1.1,swiping:!0,withoutControls:!0,wrapAround:!0}:{autoplay:k,autoplayInterval:5500,dragging:!1,slidesToShow:1,initialSlideHeight:400,renderCenterRightControls:function(e){var t=e.currentSlide,n=e.nextSlide,r=e.slideCount;return _(t,n,r)},renderCenterLeftControls:function(e){var t=e.currentSlide,n=e.previousSlide;return P(t,n)},renderBottomCenterControls:null,renderBottomRightControls:function(e){var t=e.currentSlide,n=e.slideCount,r=e.goToSlide;return R(t,n,r)},wrapAround:!0},j=C?157:267,_=function(e,t,n){return e!==n-1||u?a.a.createElement("button",{className:"next-btn",onClick:t},a.a.createElement(p.e,{name:"arrowRight",size:"22",alt:"next",strokeWidth:"4"})):null},P=function(e,t){return 0!==e||u?a.a.createElement("button",{className:"prev-btn",onClick:t},a.a.createElement(p.e,{name:"arrowLeft",size:"22",alt:"previous",strokeWidth:"4"})):null},R=function(e,t,n){return a.a.createElement("div",{className:"controls"},A(Array(t)).map((function(t,r){var o=f()("control",{active:r===e});return a.a.createElement("div",{className:o,key:r,onClick:function(){n(r)},onKeyDown:function(){n(r)},role:"tab",tabIndex:"0"})})))},M=function(e){!m.current||m.current.getBoundingClientRect().top<(v-O)/2||m.current.getBoundingClientRect().top>window.innerHeight-(O-v)/2||h.includes(e)||(window.te.push("event","home","featured",null,"view",{itemid:o[e].id,offset:e}),g([].concat(A(h),[e])))},q=Object(r.useCallback)(M);return null!==o&&0!==o.length?a.a.createElement("div",I({ref:m},d?{dir:"ltr",className:"featured-carousel rtl-adjust"}:{className:"featured-carousel"}),a.a.createElement(T.a,I({},N,{afterSlide:M,enableKeyboardControls:!0,heightMode:"max",renderAnnounceSlideMessage:function(e){var t=e.currentSlide,n=e.slideCount;return"Slide ".concat(t," out of ").concat(n)}}),o.map((function(e,t){var n=t===o.length-1;return a.a.createElement(D,I({},e,{height:j,topHeader:C,ind:t,isLastSlide:n,offset:t,key:t}))}))),a.a.createElement("hr",{className:"module-divider"})):null};U.propTypes={index:s.a.number.isRequired,sectionType:s.a.string.isRequired,setPosition:s.a.func.isRequired,slides:s.a.array.isRequired,wasSeen:s.a.bool.isRequired,windowWidth:s.a.number,wrapAround:s.a.bool.isRequired};var D=function(e){var t=e.id,n=e.image,r=e.heading,o=e.subheading,i=e.weblink,s=e.ind,l=e.offset,c=e.isLastSlide,u=e.height;return a.a.createElement("div",{className:f()("featured-slide","slide-".concat(s),{"last-slide":c,"not-last-slide":!c})},a.a.createElement("a",{href:i,onClick:function(){window.te.push("event","home","featured",null,"click",{itemid:t,offset:l})}},a.a.createElement("div",{className:"image-container",style:{backgroundImage:"url(".concat(n,")"),height:"".concat(u,"px"),backgroundSize:"cover"},alt:"featured slide",loading:"lazy"})),a.a.createElement("div",{className:"featured-text"},a.a.createElement("h2",null,r),a.a.createElement("p",null,o)))};D.propTypes={heading:s.a.string,height:s.a.number.isRequired,id:s.a.oneOfType([s.a.number,s.a.string]),image:s.a.string.isRequired,ind:s.a.number.isRequired,isLastSlide:s.a.bool,offset:s.a.number.isRequired,subheading:s.a.string,topHeader:s.a.bool,weblink:s.a.string};var F=U,B=function(e){var t=e.sectionType,n=e.heading,o=e.subheading,i=e.background,s=e.index,l=e.isSubsection,c=e.setPosition,u=e.link,d=e.image,m=e.wasSeen,p=Object(r.useRef)(null);Object(r.useEffect)((function(){if(!l){var e=p.current.getBoundingClientRect();c(s,t,e.top+window.scrollY,e.bottom+window.scrollY)}}),[l,s,t,c]),Object(r.useEffect)((function(){m&&window.te.push("event","home","navigation",null,"view",{nav_target:n,position:s})}),[m]);var y=!!d;return a.a.createElement("div",{className:f()("small-nav",i,"".concat(t,"-banner"),{twoSections:y,oneSection:!y}),ref:p},a.a.createElement("a",{href:u,target:"_blank",onClick:function(){window.te.push("event","home","navigation",null,"click",{nav_target:n,position:s})},rel:"noopener noreferrer",className:"banner-content"},a.a.createElement("div",{className:"contest-content"},a.a.createElement("div",{className:"contest-info"},a.a.createElement("h1",null,n),a.a.createElement("h2",null,o)),y&&a.a.createElement("div",{className:"graphic-container",style:{backgroundImage:"url(".concat(d,")")}}))))};B.propTypes={wasSeen:!1},B.propTypes={index:s.a.number.isRequired,isSubsection:s.a.bool,heading:s.a.string.isRequired,background:s.a.string,setPosition:s.a.func.isRequired,sectionType:s.a.string.isRequired,subheading:s.a.string,link:s.a.string,image:s.a.string,wasSeen:s.a.bool};var W=B,H=n(9),V=n(3),z=function(e){var t=e.greeting,n=e.index,o=e.openContentSettings,i=e.sectionType,s=e.setPosition,l=e.showContentSettings,c=Object(V.h)().trans,u=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=u.current.getBoundingClientRect();s(n,i,e.top+window.scrollY,e.bottom+window.scrollY)}),[n,i,s]),a.a.createElement("div",{className:"greeting-and-content-settings",ref:u},a.a.createElement("div",{className:"module-content"},a.a.createElement("div",{className:"greeting"},t&&a.a.createElement("h2",{className:"greeting-text"},Object(y.n)()&&t.includes("%s")?t.replace("%s",wattpad.user.name||wattpad.user.username||""):t)),l&&a.a.createElement("h2",{className:"content-settings"},a.a.createElement("div",{role:"button",tabIndex:0,className:"content-settings-label",onClick:o},a.a.createElement(H.a,{name:"preferences",size:"17",color:"wp-neutral-1"}),a.a.createElement("p",null,c("Content Preferences"))))),a.a.createElement("hr",{className:"module-divider"}))};z.propTypes={greeting:s.a.string.isRequired,index:s.a.number.isRequired,openContentSettings:s.a.func,sectionType:s.a.string.isRequired,setPosition:s.a.func.isRequired,showContentSettings:s.a.bool};var Y=z,G=n(67);function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J=function(e){var t=e.completed,n=e.cover,o=e.description,i=e.getCollectionsForStoryIds,s=e.id,l=e.index,c=e.isPaid,u=e.numParts,d=e.offset,m=e.onLibraryClick,f=e.readingLists,h=e.sectionType,g=e.setPosition,b=e.sources,v=e.storiesCollections,w=e.storiesCollectionsLoading,E=void 0!==w&&w,O=e.title,S=e.wasSeen,C=e.windowWidth,k=e.mature,N=void 0!==k&&k,j=Object(r.useRef)(null),_=Object(V.h)().trans,P=K(Object(r.useState)(),2),T=P[0],R=P[1];Object(r.useEffect)((function(){var e=j.current.getBoundingClientRect();g(l,h,e.top+window.scrollY,e.bottom+window.scrollY)}),[l,h,g]),Object(r.useEffect)((function(){S&&window.te.push("event","story",null,null,"view",{storyid:s,page:"home",algo_source:b,position:l,offset:d,type:h})}),[S]),Object(r.useEffect)((function(){Promise.resolve($.get("/api/v3/stories/".concat(s,"?fields=firstPartId"))).then((function(e){R(e.firstPartId)})).catch((function(e){var t=e.responseText?e.responseText:e.statusText;console.log(t||e)}))}),[s]);var x=function(){window.te.push("event","story",null,null,"click",{storyid:s,page:"home",algo_source:b,position:l,offset:d,type:h})},I=function(e){e.preventDefault(),x(),app.router.navigate("/story/".concat(s),{trigger:!0})};"mobile"===wattpad.utils.getDeviceType()||E||v&&v[s]||i(s);var A=Object(y.h)(n),L=Object(y.g)(n,238),M=Object(r.useRef)(),q=function(e){var t=e.id,n=e.description,r=e.characterDisplayLimit,o=e.handleStoryDetailsClick;return a.a.createElement("div",{className:"description"},a.a.createElement("p",{className:"description-text"},Object(y.u)(n,r,!1)),a.a.createElement("a",{className:"link",onClick:o,href:"/story/".concat(t)},_("More details"),a.a.createElement(p.e,{name:"chevRight",size:"24"})))};return a.a.createElement("div",{className:"module"},a.a.createElement("div",{className:"module-content full-width"},a.a.createElement("div",{className:"story-spotlight-details",ref:j},a.a.createElement("div",{className:"cover-wrapper"},a.a.createElement("a",{href:"/story/".concat(s),onClick:I},a.a.createElement("img",{className:"story-spotlight-cover",srcSet:A,sizes:"(max-width: 574px) 151px, 238px",src:L,alt:"".concat(O," cover")})),a.a.createElement("div",{className:"story-info"},a.a.createElement("div",{className:"new-flag"},_("New")),a.a.createElement("div",{className:"title"},O),a.a.createElement(G.a,{numParts:u,isMature:N,isCompleted:t,isPaid:c}),a.a.createElement("div",{className:"buttons-wrapper"},a.a.createElement("a",{className:"read btn-primary",onClick:function(e){e.preventDefault(),x();var t=T?"/".concat(T):"/story/".concat(s);app.router.navigate(t,{trigger:!0})},href:"/story/".concat(s)},_("Free preview")),f&&a.a.createElement("button",{className:"btn-icon",title:_("Add story to..."),"aria-label":_("Add story to..."),ref:M,onClick:function(){m(M,s)}},a.a.createElement(p.e,{name:"add",size:"24",color:"wp-neutral-1",strokeWidth:"2.5"}))),C>575&&a.a.createElement(q,{id:s,handleStoryDetailsClick:I,description:o,characterDisplayLimit:290}))),(!C||C<=575)&&a.a.createElement(q,{id:s,handleStoryDetailsClick:I,description:o,characterDisplayLimit:290}))))};J.propTypes={characterDisplayLimit:s.a.number,completed:s.a.bool,cover:s.a.string,description:s.a.string,getCollectionsForStoryIds:s.a.func,handleStoryDetailsClick:s.a.func,id:s.a.number,index:s.a.number,isPaid:s.a.bool,numParts:s.a.number,offset:s.a.number,onLibraryClick:s.a.func,readingLists:s.a.array,sectionType:s.a.string,setPosition:s.a.func,sources:s.a.array,storiesCollections:s.a.object,storiesCollectionsLoading:s.a.bool,title:s.a.string,wasSeen:s.a.bool,windowWidth:s.a.number,mature:s.a.bool};var Q=J,X=function(e){var t=e.sectionType,n=e.index,o=e.prompt,i=e.button,s=e.weblink,l=e.background,c=e.wasSeen;Object(r.useEffect)((function(){c&&window.te.push("event","home","cta",null,"view",{page:"home",position:n,type:t})}),[c]);return o&&s?a.a.createElement("div",{className:f()("cta module",l)},a.a.createElement("div",{className:"module-content"},a.a.createElement("a",{href:s,className:f()("on-navigate btn-secondary",i),onClick:function(){window.te.push("event","home","cta",null,"click",{page:"home",position:n,type:t})}},o))):null};X.propTypes={wasSeen:!1},X.propTypes={sectionType:s.a.string.isRequired,index:s.a.number.isRequired,prompt:s.a.string,button:s.a.string,applink:s.a.string,weblink:s.a.string,background:s.a.string,image:s.a.string,message:s.a.string,wasSeen:s.a.bool};var ee=X;function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ne=function(e){var t={sectionType:e.type,index:e.index,setPosition:e.setPosition,windowWidth:e.windowWidth,wasSeen:e.wasSeen,page:"home"},n=Object(V.d)();switch(e.type){case"paidMultiRow":case"paid":case"storyHeroGroup":return a.a.createElement(j,te({},t,{expandPrompt:e.data.expandPrompt,heading:e.data.heading,subheading:e.data.subheading,heroItem:e.data.heroItem||e.data.heroItems[0],storyItems:e.data.listItems,multiRows:e.data.rows,navigationItem:e.data.navigation,isPromoted:e.data.isPromoted,clickTrackingUrls:e.data.tracking&&e.data.tracking.clicks,impressionTrackingUrls:e.data.tracking&&e.data.tracking.impressions,callTrackingUrls:e.callTrackingUrls,onStoryClick:e.openStoryDetails}));case"storyExpanded":case"storyList":return a.a.createElement(P.a,te({},t,{expandPrompt:e.data.expandPrompt,heading:e.data.heading,background:n.NEW_PAID_BACKGROUND_FIELD?e.data.background:null,subheading:e.data.subheading,stories:e.data.items,isPromoted:e.data.isPromoted,clickTrackingUrls:e.data.tracking&&e.data.tracking.clicks,callTrackingUrls:e.callTrackingUrls,onStoryClick:e.openStoryDetails}));case"featured":return!!e.data.items&&a.a.createElement(F,te({},t,{slides:e.data.items,wrapAround:!0}));case"cta":return a.a.createElement(ee,te({},t,{prompt:e.data.prompt,button:e.data.button,message:e.data.message,background:n.NEW_PAID_BACKGROUND_FIELD?e.data.background:null,weblink:e.data.weblink,image:e.data.image}));case"smallNavigation":return a.a.createElement(W,te({},t,{heading:e.data.heading,subheading:e.data.subheading,background:n.NEW_PAID_BACKGROUND_FIELD?e.data.background:null,link:e.data.weblink,image:e.data.image}));case"greeting":return a.a.createElement(Y,te({},t,{greeting:e.data.greeting,openContentSettings:e.openContentSettings,showContentSettings:e.data.showContentSettings}));case"storySpotlight":return n.STORY_SPOTLIGHT?a.a.createElement(Q,te({},e.data.item,t,{onLibraryClick:e.onLibraryClick,readingLists:e.readingLists,getCollectionsForStoryIds:e.getCollectionsForStoryIds,storiesCollections:e.storiesCollections,storiesCollectionsLoading:e.storiesCollectionsLoading})):null;default:return null}};ne.propTypes={index:s.a.number.isRequired,setPosition:s.a.func.isRequired,windowWidth:s.a.number,wasSeen:s.a.bool.isRequired,type:s.a.string,openContentSettings:s.a.func,openStoryDetails:s.a.func,onLibraryClick:s.a.func,readingLists:s.a.array,getCollectionsForStoryIds:s.a.func,storiesCollections:s.a.object,storiesCollectionsLoading:s.a.bool,data:s.a.shape({expandPrompt:s.a.object,heading:s.a.string,background:s.a.string,subheading:s.a.string,isPromoted:s.a.bool,heroItem:s.a.object,heroItems:s.a.array,navigation:s.a.object,clickTrackingUrls:s.a.array,listItems:s.a.array,greeting:s.a.string,image:s.a.string,prompt:s.a.string,button:s.a.string,message:s.a.string,weblink:s.a.string,items:s.a.array,item:s.a.object,tracking:s.a.object,rows:s.a.array,showContentSettings:s.a.bool}),callTrackingUrls:s.a.func};var re=ne;function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e){var t=e.visible,n=Object(V.h)().trans,o=ae(Object(r.useState)(null),2),i=o[0],s=o[1],l=ae(Object(r.useState)(0),2),u=l[0],d=l[1],m=ae(Object(r.useState)(""),2),f=m[0],p=m[1],h=ae(Object(r.useState)(""),2),g=h[0],b=h[1],v=ae(Object(r.useState)(""),2),w=v[0],E=v[1],O=t?"0px":"150px",S=Object(r.useCallback)((function(e){var t=c.a.get(e,"readingPosition.partId",null),n=c.a.get(e,"parts",null),r=c.a.find(n,{id:parseInt(t)}),a=c.a.get(r,"url",null);return a?wattpad.utils.formatStoryUrl(a):null}),[]);Object(r.useEffect)((function(){var e=wattpad.user.username||"",t="/v4/users/".concat(e,"/recent_reads");Promise.resolve($.get({url:t,cache:!1})).then((function(e){var t=e.stories[0],n=Object(y.h)(t.cover),r=Object(y.g)(t.cover,40),a=t&&t.parts&&t.readingPosition?wattpad.utils.calcPercentRead(t.parts,t.readingPosition):0;s(t),d(a),p(S(t)),b(n),E(r)})).catch((function(){s(null),d(0),p(""),b(""),E("")}))}),[S]);return!!i&&!!f&&a.a.createElement("div",{className:"continue-reading-wrapper"},a.a.createElement("button",{className:"continue-reading",label:n("Continue reading %s",i.title),onClick:function(){f&&app.router.navigate(f,{trigger:!0})},style:{transform:"translate(0, ".concat(O,")")}},a.a.createElement("div",{className:"info"},a.a.createElement("div",{className:"story-info"},a.a.createElement("div",{className:"cover"},a.a.createElement("img",{srcSet:g,sizes:"(max-width: 575px) ".concat(40,"px, ").concat(60,"px"),src:w,alt:i.title+" cover"})),a.a.createElement("div",{className:"story-details"},a.a.createElement("div",{className:"header"},n("Continue Reading")),a.a.createElement("div",{className:"story-title"},i.title))),a.a.createElement("div",{className:"read"},n("READ"))),a.a.createElement("div",{className:"percentage-read"},a.a.createElement("div",{className:"percentage-position",style:{width:"".concat(u,"%")}}))))}ie.propTypes={visible:s.a.bool};var se=n(71);function le(e){var t=e.onRefresh,n=Object(V.h)().trans;return a.a.createElement("div",{className:"load-home-failed"},a.a.createElement("div",{className:"image"},a.a.createElement("img",{src:"/img/homepages/homeIllustration.svg",alt:""})),a.a.createElement("div",{className:"text"},a.a.createElement("div",{className:"title"},n("Lets find your way back home")),a.a.createElement("div",{className:"subtitle"},n("Something went wrong, try refreshing."))),a.a.createElement("button",{className:"refresh btn-primary",onClick:t},n("Refresh")))}le.propTypes={onRefresh:s.a.func},le.defaultProps={onRefresh:function(){}};var ce=n(155),ue=n(31),de=n(122),me=n(42);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ee(e);if(t){var a=Ee(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?we(e):t}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(i,e);var t,n,r,o=be(i);function i(){var e;ye(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Oe(we(e=o.call.apply(o,[this].concat(n))),"state",{windowWidth:null,lastSectionLoadedIndex:4,lastScrollY:0,showContinueReading:!0}),Oe(we(e),"sectionWrapperRef",a.a.createRef()),Oe(we(e),"sectionLimitPerPage",5),Oe(we(e),"showContinueReading",(function(){var t=window.scrollY;t<=0||t<e.state.lastScrollY?e.setState({showContinueReading:!0}):e.setState({showContinueReading:!1}),e.setState({lastScrollY:t})})),Oe(we(e),"showContinueReadingThrottled",c.a.throttle(e.showContinueReading,300,{leading:!0,trailing:!1})),Oe(we(e),"handleInfScroll",(function(){var t;e.state.lastSectionLoadedIndex!==e.props.sections.length-1?e.isAtBottom(e.sectionWrapperRef.current)&&(t=e.state.lastSectionLoadedIndex>e.props.sections.length-1-e.sectionLimitPerPage?e.props.sections.length-1:e.state.lastSectionLoadedIndex+e.sectionLimitPerPage,e.setState({lastSectionLoadedIndex:t}),window.wattpad.homeSectionsIndex=t):window.removeEventListener("scroll",c.a.debounce(e.handleInfScroll,300,{leading:!1,trailing:!0}))})),Oe(we(e),"handleOpenContentSettings",(function(){e.props.openContentSettings(),window.te.push("event","app","page",null,"view",{page:"content_settings",source:"home"})})),Oe(we(e),"isAtBottom",(function(e){return e&&e.getBoundingClientRect().bottom-200<=window.innerHeight})),Oe(we(e),"handleOpenStoryDetails",(function(t){e.props.openStoryDetails(t)})),Oe(we(e),"checkIntersections",(function(){var t=window.scrollY,n=t+window.innerHeight;Object.keys(e.props.sectionBounds).map((function(r){if(!e.props.sectionBounds[r].viewed){var a=e.props.sectionBounds[r],o=a.bottom-a.top;(o-(a.top<t?t-a.top:0)-(a.bottom>n?a.bottom-n:0))/o>=.5&&(window.te.push("event","home","section",null,"view",{type:a.type,position:a.index}),e.props.sectionViewed(r))}}))})),Oe(we(e),"handleLibraryClick",(function(t,n){e.props.openPopover({component:function(){return a.a.createElement(de.a,{readingLists:e.props.readingLists,storyId:n,updateCollection:e.props.updateCollection,removeStoriesFromCollection:e.props.removeStoriesFromCollection,storiesCollections:e.props.storiesCollections[n],getReadingLists:e.props.getReadingLists,getCollectionsForStoryIds:e.props.getCollectionsForStoryIds})},triggerRef:t,passthroughProps:{showArrow:"true"}})})),Oe(we(e),"refresh",(function(){e.props.clearError(),e.props.fetchHomeSections()})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.fetchEmailReverificationStatus&&this.props.fetchEmailReverificationStatus(),"mobile"===wattpad.utils.getDeviceType()||void 0!==this.props.readingLists||this.props.readingListsLoading||this.props.getReadingLists(),void 0!==this.props.sections&&0!==this.props.sections.length||this.props.fetchHomeSections(),this.setState({windowWidth:window.innerWidth}),window.addEventListener("resize",(function(){return e.setState({windowWidth:window.innerWidth})}));var t=window.wattpad.homeSectionsIndex;t&&this.setState({lastSectionLoadedIndex:t}),window.addEventListener("scroll",c.a.debounce(this.handleInfScroll,300,{leading:!1,trailing:!0})),window.addEventListener("scroll",this.checkIntersections),window.addEventListener("scroll",this.showContinueReadingThrottled),window.te.push("event","app","page",null,"view",{page:"home"})}},{key:"componentDidUpdate",value:function(e){0===Object.keys(e.sectionBounds).length&&0!==Object.keys(this.props.sectionBounds).length&&this.checkIntersections(),e.error!==this.props.error&&this.props.error&&console.error("An error has occurred:\n".concat(this.props.error.errorMessage))}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",(function(){return e.setState({windowWidth:window.innerWidth})})),window.removeEventListener("scroll",c.a.debounce(this.handleInfScroll,300,{leading:!1,trailing:!0})),window.removeEventListener("scroll",this.checkIntersections),window.removeEventListener("scroll",this.showContinueReadingThrottled)}},{key:"render",value:function(){var e=this;return this.props.homeLoading&&this.props.showLoader?a.a.createElement("div",{className:"home-sections-wrapper loading-spinner"},a.a.createElement(se.a,null)):this.props.error&&this.props.error.errorType===d.u.fetchError?a.a.createElement(le,{onRefresh:this.refresh}):void 0===this.props.sections||0===this.props.sections.length?null:a.a.createElement("div",{className:"home-sections-wrapper",ref:this.sectionWrapperRef},a.a.createElement(a.a.Fragment,null,this.state.windowWidth<575&&a.a.createElement("div",{className:"try-premium-container"},a.a.createElement(ce.a,{ctaType:"home_header"})),this.props.sections.slice(0,this.state.lastSectionLoadedIndex+1).map((function(t,n){var r=!(!e.props.sectionBounds[n]||!e.props.sectionBounds[n].viewed);return a.a.createElement(re,pe({},t,{openContentSettings:e.handleOpenContentSettings,openStoryDetails:e.handleOpenStoryDetails,onLibraryClick:e.handleLibraryClick,getCollectionsForStoryIds:e.props.getCollectionsForStoryIds,storiesCollections:e.props.storiesCollections,storiesCollectionsLoading:e.props.storiesCollectionsLoading,readingLists:e.props.readingLists,index:n,key:"".concat(t.type,"-").concat(n),setPosition:e.props.receiveSectionPosition,wasSeen:r,windowWidth:e.state.windowWidth,callTrackingUrls:e.props.callTrackingUrls}))})),a.a.createElement(ie,{visible:this.state.showContinueReading})),a.a.createElement(p.n,null),a.a.createElement(me.a,null))}}])&&he(t.prototype,n),r&&he(t,r),i}(a.a.Component);Oe(Se,"propTypes",{callTrackingUrls:s.a.func,clearError:s.a.func,error:s.a.object,fetchHomeSections:s.a.func,showLoader:s.a.bool,homeLoading:s.a.bool,openContentSettings:s.a.func,openStoryDetails:s.a.func,scrollIndex:s.a.number,sectionBounds:s.a.object,sections:s.a.array,sectionViewed:s.a.func,receiveSectionPosition:s.a.func,getReadingLists:s.a.func,readingLists:s.a.array,readingListsLoading:s.a.bool,getCollectionsForStoryIds:s.a.func,storiesCollections:s.a.object,storiesCollectionsLoading:s.a.bool,updateCollection:s.a.func,removeStoriesFromCollection:s.a.func,openPopover:s.a.func,openEmailReverification:s.a.func,fetchEmailReverificationStatus:s.a.func}),Se.defaultProps={homeLoading:!0,showLoader:!0};var Ce={fetchHomeSections:u.d,receiveSectionPosition:u.l,sectionViewed:u.o,clearError:u.b,callTrackingUrls:u.a,openContentSettings:u.i,openStoryDetails:u.k,getReadingLists:u.g,getCollectionsForStoryIds:u.e,updateCollection:u.p,removeStoriesFromCollection:u.m,openPopover:ue.c,openEmailReverification:u.j,fetchEmailReverificationStatus:u.c};t.a=Object(o.b)((function(e){var t=e.homeSections;return{homeLoading:t.homeLoading,showLoader:t.showLoader,sections:t.sections,sectionBounds:t.sectionBounds,error:t.error,readingLists:t.readingLists,readingListsLoading:t.readingListsLoading,storiesCollections:t.storiesCollections,storiesCollectionsLoading:t.storiesCollectionsLoading}}),Ce)(Se)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=function(e){var t=e.placement,n=e.className,o=e.shouldDelayAds,i=e.shouldShowAds,s=Object(r.useRef)(t+"-"+Date.now());return Object(r.useEffect)((function(){var e=new CustomEvent("ad-available",{bubbles:!0,detail:{adUnitId:s.current,shouldDelayAds:o,shouldShowAds:i,lazyLoadAd:!0}});window.dispatchEvent(e)}),[t,o,i]),a.a.createElement("div",{id:s.current,className:l()("".concat(t),"advertisement",n),alt:"Advertisement - ".concat(s.current)})};c.propTypes={placement:i.a.string.isRequired,className:i.a.string,shouldDelayAds:i.a.bool,shouldShowAds:i.a.bool};var u=c,d=n(176),m=n(27),f=n(3),p=n(117),y=n(5),h=function(e){var t=e.isCompleted,n=e.isMature,r=e.user,o=r.username,i=r.avatar,s=e.publishDate,l=Object(f.h)().trans,c=null,u=null;t?(c=l("Complete"),u="#1C6F65"):!1===t&&(c=l("Ongoing"),u="#8D5610");var h=l("Mature"),g=Object(y.e)(s,{fuzzyTime:!0});return a.a.createElement("div",{className:"xxs-container-padding badges"},o&&a.a.createElement(d.a,{username:o,avatar:i}),a.a.createElement("div",{className:"story-badges"},c&&u&&a.a.createElement("div",{className:"icon completed","data-tip":!0,"data-for":"publish-date","aria-describedby":"publish-date",tabIndex:"0","aria-hidden":!0},a.a.createElement(m.a,{name:c,bgColor:u,color:"#ffffff",disableClick:!0})),a.a.createElement("span",{className:"sr-only"},l("%s, First published %s",c,g)),y.a?a.a.createElement(p.a,{id:"publish-date",effect:"solid",role:"tooltip",backgroundColor:"#000000",overridePosition:function(e,t,n,r){var a=e.left;return{top:e.top,left:"string"==typeof r?a:Math.max(a,0)}},"aria-hidden":!0},l("First published"),a.a.createElement("strong",null," ",l("%s",g))):null,n&&a.a.createElement("div",{className:"icon mature"},a.a.createElement(m.a,{name:h,bgColor:"#9E1D42",color:"#ffffff",disableClick:!0}))))};h.propTypes={user:i.a.shape({username:i.a.string,avatar:i.a.string.isRequired}),isCompleted:i.a.bool,isMature:i.a.bool,publishDate:i.a.string};var g=h,b=n(2),v=function(e){var t=e.storyReportUrl,n=Object(f.h)().trans;return a.a.createElement("a",{className:"card",href:t},a.a.createElement(b.e,{className:"card__action-icon",width:"32",height:"32",size:"32",name:"reportFlag",viewBox:"32",strokeWidth:"1"}),a.a.createElement("div",{className:"card__label"},a.a.createElement("span",{className:"card__title"},n("Report this story"))),a.a.createElement(b.e,{className:"card__nav-icon",name:"chevRight",size:"24"}))};v.propTypes={storyReportUrl:i.a.string};var w=v,E=function(e){var t=e.storyRankings,n=e.storyId;return t&&0!==t.length?a.a.createElement("a",{className:"card on-navigate",href:"/story/".concat(n,"/rankings"),"aria-label":"Number ".concat(t[0].rank," in ").concat(t[0].name,". Tap for all tag rankings for this story.")},a.a.createElement(b.e,{className:"card__action-icon",size:"32",name:"rankingBadge",fillColor:"wp-base-1",viewBox:"32",strokeWidth:"0"}),a.a.createElement("div",{className:"card__label"},a.a.createElement("span",{className:"card__title"},"#".concat(t[0].rank),a.a.createElement("span",{className:"title__name"},"".concat(t[0].name)))),a.a.createElement(b.e,{className:"card__nav-icon",name:"chevRight",size:"24"})):null};E.propTypes={storyRankings:i.a.array,storyId:i.a.number};var O=E,S=function(e){var t=e.children,n=e.className,r=e.lastUpdated,o=Object(f.h)().trans;return a.a.createElement("div",{className:l()("table-of-contents",n)},a.a.createElement("div",{className:"table-of-contents__header"},o("Table of contents"),a.a.createElement("span",{className:"table-of-contents__last-updated",dangerouslySetInnerHTML:{__html:o("Last updated <strong>%s</strong>",r)}})),t)};S.propTypes={children:i.a.node,className:i.a.string,lastUpdated:i.a.string};var C=S,k=function(e){var t=e.storyId,n=e.sources,r=e.parts,o=e.isPaywalled,i=e.readingPosition,s=e.className,c=Object(f.h)().trans;return a.a.createElement("div",{className:l()("story-parts",s)},a.a.createElement("ul",null,r&&r.map((function(e){var r=i&&i.part===e.id;return a.a.createElement("li",{key:e.id},a.a.createElement("a",{href:e.url&&Object(y.d)(e.url),className:l()("story-parts__part",{"story-parts__part-currently-reading":r}),onClick:function(r){return function(e,r,a){e.preventDefault(),window.te.push("event","client","story",null,null,"click",{storyid:t,page:"story_details",type:"primary",source:"story_details",partid:r,algo_source:n||""}),app.router.navigate(a,{trigger:!0})}(r,e.id,Object(y.d)(e.url))}},a.a.createElement("div",{className:"part__label"},e.title,e.draft&&a.a.createElement("span",{className:"draft-tag"},"[",c("Draft"),"]"),e.deleted&&a.a.createElement("span",{className:"deleted-tag"},"[",c("Deleted"),"]"),r&&a.a.createElement("div",{className:"part__reading-progress"},c("%s%% Complete",(100*i.position).toFixed(0)))),!r&&o&&a.a.createElement(b.e,{className:l()("part__icon",{"part__icon--hidden":!e.isBlocked}),name:"lock",size:"24",color:"ds-neutral-100",title:e.isBlocked?c("Locked"):null})))}))))};k.propTypes={parts:i.a.arrayOf(i.a.shape({id:i.a.number,title:i.a.string})).isRequired,storyId:i.a.number,sources:i.a.array,isPaywalled:i.a.bool.isRequired,readingPosition:i.a.shape({part:i.a.number,position:i.a.oneOfType([i.a.string,i.a.number])}),className:i.a.string};var N=k,j=n(15),_=function(e){var t=e.numParts,n=e.lastUpdated,r=e.handleClick,o=e.storyPartsVisible,i=e.className,s=Object(f.h)(),c=s.trans,u=s.ngettext;return a.a.createElement("button",{className:l()("card",i),onClick:r},a.a.createElement(b.e,{className:"card__action-icon",name:"partsBeta",size:"32",fill:!0,viewBox:"16",strokeWidth:"1"}),a.a.createElement("div",{className:"card__label"},a.a.createElement("span",{className:"card__title"},Object(j.sprintf)(u("%s part","%s parts",t),t)),a.a.createElement("span",{className:"card__description",dangerouslySetInnerHTML:{__html:c("Last updated <strong>%s</strong>",n)}})),a.a.createElement(b.e,{className:l()("card__nav-icon",{"card__nav-icon--rotated":o}),name:"chevRight",size:"24"}))};_.propTypes={className:i.a.string,numParts:i.a.number,lastUpdated:i.a.string,handleClick:i.a.func,storyPartsVisible:i.a.bool};var P=_,T=function(e){var t=e.description,n=e.license;return a.a.createElement("div",{className:"xxs-container-padding description"},a.a.createElement("pre",{className:"description-text"},t),n&&a.a.createElement("div",{className:"story-copyright"},a.a.createElement("span",{className:"fa fa-copyright fa-wp-neutral-8","aria-hidden":"true"}),"".concat(n.name)))};T.propTypes={description:i.a.string,license:i.a.object};var R=T,x=n(181),I=n(318),A=n(319),L=n(124);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e){var t=e.user,n=(t=void 0===t?{}:t).username,r=t.avatar,o=t.age,i=t.country,s=e.currentUserRoles,l=Object(f.h)().trans;return a.a.createElement("div",{className:"author-content"},a.a.createElement("img",{src:r,alt:""}),a.a.createElement("div",{className:"author-content__details"},a.a.createElement("div",{className:"author-details__username"},n),s.isSysAdmin&&a.a.createElement("div",{className:"author-details__info"},o&&a.a.createElement("div",{className:"author-info__age"},l("%s yrs old",o)),i&&a.a.createElement("div",{className:"author-info__country"},i))))};U.defaultProps={currentUserRoles:{isSysAdmin:!1,isAmbassador:!1}},U.propTypes={user:i.a.shape({username:i.a.string,avatar:i.a.string.isRequired,age:i.a.number,country:i.a.string}),currentUserRoles:i.a.shape({isSysAdmin:i.a.bool,isAmbassador:i.a.bool})};var D=function(e){var t=e.currentUserRoles,n=e.user,o=e.storyId,i=e.storyTranslateUrl,s=e.storyLanguage,l=e.languages,c=e.onLanguageChange,u=e.categories,d=e.storyCategories,m=e.onCategoryChange,p=e.onFileSelected,h=e.onCoverRemove,g=Object(f.h)().trans,v=M(Object(r.useState)(""),2),w=v[0],E=v[1],O=M(Object(r.useState)(null),2),S=O[0],C=O[1],k=M(Object(r.useState)(null),2),N=k[0],j=k[1],_=M(Object(r.useState)(null),2),P=_[0],T=_[1],R=M(Object(r.useState)(s),2),x=R[0],I=R[1],A=M(Object(r.useState)(d&&d[0]),2),L=A[0],q=A[1],D=function(e,t){t?(E(t),e(!1)):e(!0),window.setTimeout((function(){e(null),E("")}),3e3)};return a.a.createElement("div",{className:"admin-panel__content"},a.a.createElement(U,{user:n,currentUserRoles:t}),a.a.createElement("ul",{className:"admin-panel-content-grid"},a.a.createElement("li",{className:"story-admin-dropdown-row error-row"},w&&a.a.createElement("div",{className:"alert alert-danger",role:"alert"},w)),a.a.createElement("li",{className:"admin-panel-content-row review-row"},a.a.createElement("strong",{className:"row-name"},g("Review:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{href:"/contentreview?groupid=".concat(o)},g("Story")))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row options-row"},a.a.createElement("strong",{className:"row-name"},g("Options:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{href:"/myworks/".concat(o)},g("Edit Story Details"))),a.a.createElement("li",null,a.a.createElement("a",{href:i},g("Translate")))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row paid-story-row"},a.a.createElement("strong",{className:"row-name"},g("Paid Story"),":"),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/admin/paid_stories_manager?storyId=".concat(o)},g("Manage")))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row download-row"},a.a.createElement("strong",{className:"row-name"},g("Download:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{href:"/apiv2/storytext?group_id=".concat(o,"&no_format=false&include_deleted=true&include_drafts=true&include_private=true&output=zip")},g("Story Group")))))),a.a.createElement("li",{className:"admin-panel-content-row language-row"},a.a.createElement("strong",{className:"row-name"},g("Language:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("select",{defaultValue:x,onChange:function(e){var t=e.target.value;c(j,t,I,D)},id:"story-language-select",className:"form-control"},l&&l.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)})))),a.a.createElement("span",{className:"response-status pull-right"},N&&a.a.createElement(b.e,{name:"check",size:"18",color:"ds-success"}),!1===N&&a.a.createElement(b.e,{iconName:"fa-warning",size:"18",color:"wp-error-1"}))),a.a.createElement("li",{className:"admin-panel-content-row category-row"},a.a.createElement("strong",{className:"row-name"},g("Category:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("select",{defaultValue:L,onChange:function(e){var t=e.target.value;m(T,t,q,D)},id:"story-category-select",className:"form-control"},u&&u.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)})))),a.a.createElement("span",{className:"response-status pull-right"}),a.a.createElement("span",{className:"response-status pull-right"},P&&a.a.createElement(b.e,{name:"check",size:"18",color:"ds-success"}),!1===P&&a.a.createElement(b.e,{iconName:"fa-warning",size:"18",color:"wp-error-1"}))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row cover-row"},a.a.createElement("strong",{className:"row-name"},g("Cover:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("div",{className:"cover-upload-btn file-upload file-drop"},a.a.createElement("button",{className:"file-select"},g("Upload")),a.a.createElement("input",{onChange:function(){p(C,D)},accept:"image/jpeg, image/png, image/gif",type:"file",name:"file"}))),a.a.createElement("li",null,a.a.createElement("button",{onClick:function(){h(C,D)}},g("Remove"))),a.a.createElement("li",null,a.a.createElement("a",{href:"/banner?id=".concat(o)},g("Banner"))))),a.a.createElement("span",{className:"response-status pull-right"},S&&a.a.createElement(b.e,{name:"check",size:"18",color:"ds-success"}),!1===S&&a.a.createElement(b.e,{iconName:"fa-warning",size:"18",color:"wp-error-1"}))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row rating-row"},a.a.createElement("strong",{className:"row-name"},g("Rating:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{href:"/admin/community_reports?model_type=2&model_id=".concat(o)},g("Reports"))),a.a.createElement("li",null,a.a.createElement("a",{href:"/admin/story_rating_history.php?story_id=".concat(o)},g("History")))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row total-reads-row"},a.a.createElement("strong",{className:"row-name"},g("Total Reads By Author:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},n.totalReads&&a.a.createElement("li",null,"".concat(n.totalReads," (").concat(Object(y.b)(n.totalReads),")"))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row"},a.a.createElement("strong",{className:"row-name"},g("Admin Notes:")),a.a.createElement("pre",{className:"notes"},n.notes),a.a.createElement("a",{href:"https://admin.wattpad.com/admin/manage_user.php?&username=".concat(n.username)},g("Add/Delete notes")))))};D.defaultProps={onLanguageChange:function(){},onCategoryChange:function(){},onFileSelected:function(){},onCoverRemove:function(){},currentUserRoles:{isSysAdmin:!1,isAmbassador:!1}},D.propTypes={user:i.a.object,storyId:i.a.number,storyTranslateUrl:i.a.string,languages:i.a.array,storyLanguage:i.a.number,categories:i.a.array,storyCategories:i.a.array,onLanguageChange:i.a.func,onCategoryChange:i.a.func,onFileSelected:i.a.func,onCoverRemove:i.a.func,currentUserRoles:i.a.shape({isSysAdmin:i.a.bool,isAmbassador:i.a.bool})};var F=function(e){var t=e.currentUserRoles,n=e.user,o=e.storyId,i=e.storyTranslateUrl,s=e.storyLanguage,c=e.languages,u=e.onLanguageChange,d=e.categories,m=e.storyCategories,p=e.onCategoryChange,y=e.onFileSelected,h=e.onCoverRemove,g=Object(f.h)().trans,v=M(Object(r.useState)(!1),2),w=v[0],E=v[1];return a.a.createElement("div",{className:"admin-panel"},a.a.createElement("button",{onClick:function(){E(!w)},className:"admin-panel__header-btn"},a.a.createElement(b.e,{name:"lock",size:"24",color:"ds-neutral-100"}),a.a.createElement("div",{className:"admin-header__title"},g("Story lock")),a.a.createElement(b.e,{className:l()("admin-header__chevron",{"admin-header__chevron--rotated":w}),name:"chevRight",size:"24",color:"ds-neutral-100"})),(w||"undefined"==typeof window)&&a.a.createElement(D,{currentUserRoles:t,user:n,storyId:o,storyTranslateUrl:i,languages:c,storyLanguage:s,onLanguageChange:u,categories:d,storyCategories:m,onCategoryChange:p,onFileSelected:y,onCoverRemove:h}))};F.defaultProps={onLanguageChange:function(){},onCategoryChange:function(){},onFileSelected:function(){},onCoverRemove:function(){},currentUserRoles:{isSysAdmin:!1,isAmbassador:!1}},F.propTypes={user:i.a.object,storyId:i.a.number,storyTranslateUrl:i.a.string,storyLanguage:i.a.number,languages:i.a.array,categories:i.a.array,storyCategories:i.a.array,onLanguageChange:i.a.func,onCategoryChange:i.a.func,onFileSelected:i.a.func,onCoverRemove:i.a.func,currentUserRoles:i.a.shape({isSysAdmin:i.a.bool,isAmbassador:i.a.bool})};var B=F,W=n(157),H=n(72),V=function(){var e=Object(f.h)().trans;return a.a.createElement("div",{className:"story-500-wrapper"},a.a.createElement(b.c,{name:"errors/story-500.png",className:"error-500-image"}),a.a.createElement("div",{className:"error-500-info"},a.a.createElement("h3",null,e("Hmmm... something's wrong.")),a.a.createElement("p",null,e("We cant seem to load this story right now. Try going back or reloading.")),a.a.createElement("div",{className:"buttons-500"},a.a.createElement("a",{className:"btn-primary on-navigate",href:"javascript:window.location.reload(true)"},e("Reload")))))},z=n(137),Y=n(6),G=n(16),K=n(57);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=n(135),ne=function(e){var t=e.currentUserRoles,n=e.username,o=e.userLang,i=e.isLoggedIn,s=e.languages,l=e.onLanguageChange,c=e.onCategoryChange,d=e.categories,m=e.onFileSelected,p=e.onCoverRemove,h=e.isDesktop,b=e.storyData,v=(b=void 0===b?{}:b).id,E=b.title,S=b.description,k=b.createDate,j=b.cover,_=b.user,T=void 0===_?{}:_,M=b.isPaywalled,q=b.isPaidPreview,U=b.length,D=b.numParts,F=b.storyTags,J=b.readCount,Q=b.completed,ee=b.draft,ne=b.deleted,re=b.rating,ae=b.voteCount,oe=b.firstPartId,ie=b.serverError,se=b.language,le=b.lastPublishedPart,ce=b.parts,ue=b.storyReportUrl,de=b.storyTranslateUrl,me=b.tagRankings,fe=b.recommendedStories,pe=void 0===fe?[]:fe,ye=b.sources,he=b.writerPreviewHasBannedCover,ge=b.copyright,be=b.canDisplayAdvertisement,ve=b.shouldDelayAds,we=b.shouldShowAds,Ee=b.firstStoryPart,Oe=b.storyCategories,Se=b.url,Ce=e.signupModel,ke=Object(f.d)(),Ne=Object(r.useMemo)((function(){return X(X({},F),{},{tags:F&&F.tags.map((function(e){return X(X({},e),{},{bgColor:"".concat(te["ds-neutral-40"]),color:"".concat(te["ds-neutral-80"])})}))})}),[F]),je=Object(Y.c)(),_e=Object(Y.d)((function(e){return e.homeSections.readingLists})),Pe=Object(Y.d)((function(e){return e.homeSections.storiesCollections})),Te=Z(Object(r.useState)(!1),2),Re=Te[0],xe=Te[1],Ie=Z(Object(r.useState)({}),2),Ae=Ie[0],Le=Ie[1],Me=Z(Object(r.useState)(!0),2),qe=Me[0],Ue=Me[1],De=Object(z.a)(),Fe=ge?ge+"":"1",Be=De&&De.find((function(e){return e.value.toString()===Fe}));Object(r.useEffect)((function(){qe&&(Se+window.location.search+window.location.hash!==window.location.href&&"undefined"!=typeof wattpad&&E&&history.replaceState({},E,wattpad.utils.formatStoryUrl(Se)+window.location.search+window.location.hash),window.te.push("event","app","page",null,"view",{page:"story_details"}),window.te.push("event","story",null,null,"view",{storyid:v,page:"story_details",type:"primary",source:"story_details",algo_source:ye||""}),Ue(!1),n&&(je(Object(G.g)()),je(Object(G.e)(v))))}),[v,ye,qe,n,je,Se,E]),Object(r.useEffect)((function(){n&&$.get("/apiv2/syncreadingposition",{story_id:oe}).then((function(e){Le(e||{})}))}),[n,oe]);var We=Object(f.h)().trans,He=[{icon:"views",label:We("Reads"),size:"16",viewBox:"16",value:J},{icon:"votesBeta",label:We("Votes"),size:"16",viewBox:"16",value:ae},{icon:"partsBeta",label:We("Parts"),size:"16",viewBox:"16",value:D}],Ve=le?Object(y.e)(le.createDate,{fuzzyTime:!0}):null;if(1===se){var ze=Object(y.c)(Object(y.k)(U));He.push({icon:"readTime",label:We("Time"),size:"16",viewBox:"16",hoursVal:ze.hours,minutesVal:ze.minutes})}var Ye=We("Get notified when %s is updated","<strong>"+Object(y.s)(E)+"</strong>");return a.a.createElement("div",{className:"story-details-page"},ie?a.a.createElement(V,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(I.a,{title:E,cover:j,user:T,isLoggedInUser:!!n,isPaid:M,isPaidPreview:q,numParts:D,readCount:J,storyLength:U,voteCount:ae,firstPartId:oe,storyId:v,sources:ye,statsItems:He,readingLists:_e,storiesCollections:Pe,writerPreviewHasBannedCover:he}),a.a.createElement("div",{className:"story-info-container"},a.a.createElement("div",{className:"left-container"},ne&&a.a.createElement("p",{className:"story-status story-status--important xxs-container-padding"},We("Deleted")),ee&&!ne&&a.a.createElement("p",{className:"story-status xxs-container-padding"},We("Draft")),a.a.createElement(L.a,{statsItems:He,className:"shown-xxs",showTooltip:!0}),ke.NEW_ADMIN_PANEL&&(t.isSysAdmin||t.isAmbassador)&&a.a.createElement(B,{currentUserRoles:t,user:T,storyId:v,storyTranslateUrl:de,languages:s,categories:d,storyCategories:Oe,onLanguageChange:l,onCategoryChange:c,storyLanguage:se,onFileSelected:m,onCoverRemove:p}),a.a.createElement(g,{isCompleted:Q,isMature:4===re,user:T,publishDate:k}),!h&&be&&a.a.createElement(u,{placement:"storylanding_bottom_mweb",shouldDelayAds:ve,shouldShowAds:we}),a.a.createElement(R,{description:S,license:Be}),F&&a.a.createElement(H.TagCloud,{tagGridTags:Ne,onTagClicked:function(e){app.router.navigate("/stories/".concat(e),{trigger:!0})},className:"hidden-xxs"}),F&&a.a.createElement(W.a,{relatedTags:Ne,onTagClicked:function(e){app.router.navigate("/stories/".concat(e),{trigger:!0})},className:"shown-xxs"}),a.a.createElement(C,{className:"hidden-xxs",lastUpdated:Ve},a.a.createElement(N,{storyId:v,sources:ye,parts:ce,isPaywalled:M,readingPosition:Ae}))),a.a.createElement("div",{className:"xxs-container-padding right-container"},!i&&a.a.createElement("div",{className:"signup-modal card hidden-xxs"},a.a.createElement(K.a,{formType:"sidebar",subtitle:Ye,nextUrl:Ee&&Ee.url||null,model:Ce,focus:!1,signup:!0})),h&&be&&a.a.createElement(u,{placement:"storylanding_top",shouldDelayAds:ve,shouldShowAds:we}),a.a.createElement(O,{storyRankings:me,storyId:v}),a.a.createElement(P,{numParts:D,lastUpdated:Ve,className:"shown-xxs",storyPartsVisible:Re,handleClick:function(){xe(!Re)}}),(Re||"undefined"==typeof window)&&a.a.createElement(N,{parts:ce,isPaywalled:M,className:"shown-xxs",readingPosition:Ae}),a.a.createElement(w,{storyReportUrl:ue}),Array.isArray(pe)&&pe.length>0&&a.a.createElement(A.a,{stories:pe,userLang:o,page:"story_details"})))),a.a.createElement("div",{className:"action-bar--sticky shown-xxs"},a.a.createElement(x.a,{isPaid:M,isPaidPreview:q,firstPartId:oe,storyId:v,isLoggedInUser:!!n,readingLists:_e,storiesCollections:Pe,sources:ye,isMobile:!0})))};ne.defaultProps={onLanguageChange:function(){},onCategoryChange:function(){},onFileSelected:function(){},onCoverRemove:function(){},currentUserRoles:{isAdmin:!1,isAmbassador:!1}},ne.propTypes={storyData:i.a.shape({id:i.a.number,title:i.a.string,description:i.a.string,createDate:i.a.string,user:i.a.shape({username:i.a.string,avatar:i.a.string,totalReads:i.a.number,age:i.a.number,country:i.a.string}),cover:i.a.string,completed:i.a.bool,draft:i.a.bool,deleted:i.a.bool,isPaywalled:i.a.bool,isPaidPreview:i.a.bool,length:i.a.number,numParts:i.a.number,storyTags:i.a.object,readCount:i.a.number,rating:i.a.number,voteCount:i.a.number,firstPartId:i.a.number,serverError:i.a.bool,storyReportUrl:i.a.string,storyTranslateUrl:i.a.string,tagRankings:i.a.array,sources:i.a.array,copyright:i.a.number,canDisplayAdvertisement:i.a.bool,shouldDelayAds:i.a.bool,shouldShowAds:i.a.bool,firstStoryPart:i.a.shape({url:i.a.string}),recommendedStories:i.a.array,url:i.a.string}),currentUserRoles:i.a.shape({isSysAdmin:i.a.bool,isAmbassador:i.a.bool}),username:i.a.string,userLang:i.a.number,isLoggedIn:i.a.bool,signupModel:i.a.object,languages:i.a.array,categories:i.a.array,storyCategories:i.a.array,onLanguageChange:i.a.func,onCategoryChange:i.a.func,onFileSelected:i.a.func,onCoverRemove:i.a.func,isDesktop:i.a.bool};t.a=ne},function(e,t,n){"use strict";var r=n(4),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(46),u=n.n(c),d=n(6),m=n(5),f=n(32),p=n.n(f),y=n(2);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(o,e);var t,n,r,a=v(o);function o(e){var t,n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),n=E(t),i=function(){var e=!t.state.checked;t.setState({checked:e}),t.props.onCheckboxChange(t.props.name,e)},(r="onCheckboxChange")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,"checkbox"===t.props.type&&(t.state={checked:t.props.value}),t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,r=e.name,a=e.type,o=e.icon,i=e.children;return l.a.createElement("div",null,l.a.createElement("div",{className:"col-xs-5 account-label"},l.a.createElement("label",{htmlFor:r,className:"profile-label"},t),o),l.a.createElement("div",{className:"col-xs-7 account-value"},"text"===a&&l.a.createElement("input",{type:"text",name:r,id:r,defaultValue:Object(m.s)(n)}),"checkbox"===a&&l.a.createElement("input",{type:"checkbox",name:r,id:r,value:this.state.checked,defaultChecked:this.state.checked,onChange:this.onCheckboxChange}),i))}}])&&g(t.prototype,n),r&&g(t,r),o}(l.a.Component);S.propTypes={label:i.a.string,value:i.a.any,name:i.a.string,type:i.a.string,icon:i.a.node,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),onCheckboxChange:i.a.func};var C=S;function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var a=I(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(o,e);var t,n,r,a=T(o);function o(){var e;N(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return A(x(e=a.call.apply(a,[this].concat(n))),"getFacebook",(function(){var t,n,r=e.props.facebook;return r?(t="https://www.facebook.com/"+r,n=l.a.createElement("div",null,l.a.createElement("a",{className:"info",href:t,target:"_new"},t),l.a.createElement("a",{href:"/apiv2/linksocialmedia?action=unlinkfb",id:"unlink_fb_btn",role:"button",tabIndex:"0"},l.a.createElement("img",{src:"/image/v2/unlink.png",width:"16",height:"16",alt:"unlink.png"})))):n=l.a.createElement("div",null,l.a.createElement("button",{className:"btn-no-style"},l.a.createElement("img",{className:"btn-facebook-link",alt:"Facebook",border:"0",width:"89",height:"21",src:"/image/connect_light_medium_short.gif"})),l.a.createElement("span",{id:"facebook-tooltip",className:"help"},l.a.createElement(y.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))),n})),e}return t=o,(n=[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(C,{label:"Facebook",icon:l.a.createElement("img",{className:"label-icon",src:"/image/icon22_fb.png?",alt:"icon22_fb.png",border:"0",align:"absmiddle"})},this.getFacebook()))}}])&&j(t.prototype,n),r&&j(t,r),o}(l.a.Component);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var a=W(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}L.propTypes={facebook:i.a.string.isRequired};var V={1:"https://www.wattpad.com/premium",2:"https://www.wattpad.com/premium/fr/",5:"https://www.wattpad.com/premium/es/",6:"https://www.wattpad.com/premium/pt/",20:"https://www.wattpad.com/premium/id/"},z={1:"https://support.wattpad.com/hc/en-us/articles/201708720-Becoming-a-Beta-tester",2:"https://support.wattpad.com/hc/fr/articles/201708720-Devenir-un-b%C3%AAta-testeur",3:"https://support.wattpad.com/hc/it/articles/201708720-Come-diventare-un-Beta-tester-per-Wattpad",4:"https://support.wattpad.com/hc/de/articles/201708720-Ein-Beta-Tester-werden",5:"https://support.wattpad.com/hc/es/articles/201708720-Convi%C3%A9rtete-en-un-usuario-Beta",6:"https://support.wattpad.com/hc/pt/articles/201708720-Como-se-tornar-um-testador-Beta",18:"https://support.wattpad.com/hc/fil/articles/201708720-Pagiging-Beta-tester",20:"https://support.wattpad.com/hc/id/articles/201708720-Menjadi-Beta-tester",23:"https://support.wattpad.com/hc/tr/articles/201708720-Beta-Kullan%C4%B1c%C4%B1s%C4%B1-Olma"},Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(o,e);var t,n,r,a=D(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),H(B(t=a.call(this,e)),"onCheckboxChange",(function(e,n){var r={};r[e]=n,t.setState(r)})),H(B(t),"handleSubmit",(function(e){e.preventDefault();var n=t.state,r=[{name:"show_name",value:n.showName?"1":"0"},{name:"appear_offline",value:n.appearOffline?"1":"0"},{name:"beta_enabled",value:n.betaEnabled}];t.props.onSubmit(e,r)})),H(B(t),"updateWordCount",(function(e){t.setState({wordCount:e.target.value.length})})),H(B(t),"onUpdateEmail",(function(e){t.setState({email:e})})),H(B(t),"openSettingsModal",(function(e,n){e.preventDefault(),"email"==n?t.props.openEditModal(n,t.onUpdateEmail,t.state.email):t.props.openEditModal(n)})),t.state={wordCount:t.props.description.length,showName:1===t.props.show_name,appearOffline:1===t.props.appear_offline,betaEnabled:t.props.beta_enabled,email:t.props.email},t}return t=o,(n=[{key:"getGenderDropdown",value:function(){var e,t=this.props,n=t.gender,r=t.trans;switch(n){case"She":e="F";break;case"He":e="M";break;case"Zie":e="O";break;case"Unknown":e="";break;default:e=""}return l.a.createElement("select",{name:"gender",id:"gender",defaultValue:e},l.a.createElement("option",{value:"M"},r("He/Him")),l.a.createElement("option",{value:"F"},r("She/Her")),l.a.createElement("option",{value:"O"},r("They/Them")),l.a.createElement("option",{value:""}))}},{key:"getLanguageDropdown",value:function(){var e=this.props,t=e.language,n=e.app;return l.a.createElement("select",{name:"language",id:"language",size:"1",defaultValue:t},n.languages.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name?e.name:e.get("name"))})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.trans,r=t.username,a=t.has_password,o=t.name,i=t.language,s=t.app,c=t.verified_email,u=t.location,d=t.bubok,f=t.smashwords,h=t.website,g=t.lulu,b=t.description,v=t.isPremium,w=t.facebook,E=this.state,O=E.wordCount,S=E.showName,k=E.appearOffline,N=E.betaEnabled,j=E.email,_=this.props.birthdate;_=p()(_).format("YYYY-MM-DD");var P=V[s.language]?V[s.language]:V[1],T=z[s.language]?z[s.language]:z[1];return l.a.createElement("div",{id:"account"},l.a.createElement("h2",{className:"subheading"},n("Change your account information and privacy settings")),l.a.createElement("form",{id:"account_form",name:"account_form",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"row account-wrapper"},l.a.createElement(C,{label:n("Username")},r,l.a.createElement("button",{className:"info",id:"changeUsername",onClick:function(t){return e.openSettingsModal(t,"username")}},n("change"))),l.a.createElement(C,{label:n("Password")},a&&l.a.createElement("span",null,Object(m.s)("********"),l.a.createElement("button",{className:"info",id:"changePassword",onClick:function(t){return e.openSettingsModal(t,"password")}},n("change"))),!a&&l.a.createElement("button",{className:"info",id:"addPassword",onClick:function(t){return e.openSettingsModal(t,"addPassword")}},n("create password"))),l.a.createElement(C,{label:n("Email")},j,l.a.createElement("button",{className:"info",id:"changeEmail",onClick:function(t){return e.openSettingsModal(t,"email")}},n("change")),!c&&l.a.createElement("div",null,n("Not Verified"),l.a.createElement("a",{className:"info",href:"user_activation?action=send&username=".concat(r)},n("Send Activation Code")))),l.a.createElement(C,{label:n("Name"),value:o,name:"name",type:"text"}),l.a.createElement(C,{label:n("Show name"),value:S,name:"showName",type:"checkbox",onCheckboxChange:this.onCheckboxChange}),l.a.createElement(C,{label:n("Date of Birth")},l.a.createElement("div",{className:"birthdate-wrapper"},l.a.createElement("input",{id:"birthdate",type:"date",name:"birthdate",max:p()().format("YYYY-MM-DD"),defaultValue:_}))),l.a.createElement(C,{label:n("Pronouns")},this.getGenderDropdown()),l.a.createElement(C,{label:n("Location"),value:u,name:"location",type:"text"}),l.a.createElement(C,{label:n("Story Language")},this.getLanguageDropdown()),l.a.createElement(C,{label:n("Appear Offline"),value:k,name:"appearOffline",type:"checkbox",onCheckboxChange:this.onCheckboxChange}),l.a.createElement(C,{label:n("Premium Subscription")},l.a.createElement("span",{className:"premium-status"},n(v?"Active":"Inactive")),l.a.createElement("a",{className:"info",href:P,target:"_blank",rel:"noopener noreferrer"},n("Learn more"))),l.a.createElement(C,{label:n("Join Beta Program"),name:"betaEnabled",value:N,type:"checkbox",onCheckboxChange:this.onCheckboxChange},l.a.createElement("a",{className:"info",href:T,target:"_blank",rel:"noopener noreferrer"},n("Learn more")),l.a.createElement("span",{id:"beta-tooltip",className:"help"},l.a.createElement(y.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))),l.a.createElement(C,{label:n("Download your Personal Information")},l.a.createElement("a",{href:"/settings/your-wattpad-data"},n("HTML")),l.a.createElement("a",{href:"/settings/your-wattpad-data?json=1",style:{paddingLeft:"5px"}},n("JSON")),l.a.createElement("span",{id:"info-tooltip",className:"help"},l.a.createElement(y.e,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))),l.a.createElement(L,{facebook:w}),l.a.createElement(C,{label:"Lulu",value:g,type:"text",name:"lulu",icon:l.a.createElement("img",{className:"label-icon",src:"/image/icon22_lulu.png",alt:"icon22_lulu.png"})}),l.a.createElement(C,{label:"Smashwords",value:f,type:"text",name:"smashwords",icon:l.a.createElement("img",{className:"label-icon",src:"/image/icon22_smashwords.png",alt:"icon22_smashwords.png"})}),(5===i||6===i)&&l.a.createElement(C,{label:"Bubok",name:"bubok",value:d,type:"text",icon:l.a.createElement("img",{className:"label-icon",src:"/image/icon22_bubok.png",alt:"icon22_bubok.png"})}),l.a.createElement(C,{label:n("Website"),value:h,name:"website",type:"text",icon:l.a.createElement("img",{className:"label-icon",src:"/image/icon22_web.png",alt:"icon22_web.png",border:"0",align:"absmiddle"})})),l.a.createElement("div",{className:"row about-me"},l.a.createElement("label",{htmlFor:"description",className:"about-title"},n("About")),l.a.createElement("textarea",{className:"inputbox col-xs-12",name:"description",id:"description",cols:"30",rows:"10",defaultValue:b,onKeyUp:this.updateWordCount}),l.a.createElement("span",{className:"word-count"},O," / 2000")),l.a.createElement("div",{className:"row submit"},l.a.createElement("input",{type:"submit",className:"btn btn-md btn-orange",defaultValue:n("Save")}))))}}])&&q(t.prototype,n),r&&q(t,r),o}(l.a.Component);Y.propTypes={trans:i.a.func.isRequired,username:i.a.string.isRequired,has_password:i.a.bool,name:i.a.string,email:i.a.string.isRequired,language:i.a.number.isRequired,gender:i.a.string,genderCode:i.a.string,verified_email:i.a.bool,birthdate:i.a.string,location:i.a.string,bubok:i.a.string,smashwords:i.a.string,website:i.a.string,lulu:i.a.string,description:i.a.string,isPremium:i.a.bool.isRequired,beta_enabled:i.a.bool.isRequired,appear_offline:i.a.any,show_name:i.a.any,facebook:i.a.string.isRequired,app:i.a.object.isRequired,openEditModal:i.a.func,onSubmit:i.a.func,onUpdateEmail:i.a.func},Object(m.n)()&&_.extend(Y.propTypes,{openEditModal:i.a.func.isRequired,onSubmit:i.a.func.isRequired});var $=Object(m.m)(Y),G=n(8),K=n(79),Z=n(21);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var a=re(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return te(this,n)}}function te(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?ne(e):t}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=function(e){var t=e.mutedUsers,n=e.toggleModal,r=e.unmuteUser,a=Object(s.useRef)(null),o=function(e){var t=function(){return l.a.createElement(K.a,{username:e,toggleModal:n,onUnmute:r})};t.displayName="UnmuteModal",n({className:"unmute-modal",hideClose:!0,component:t})};return Object(s.useEffect)((function(){a.current&&a.current.focus()}),[t]),t.map((function(e,t){var n,r=e.username,i=e.avatar;return 0==t&&(n=a),l.a.createElement("li",{key:r,className:"muted-user"},l.a.createElement("img",{src:i,alt:r,align:"top",width:"64",height:"64"}),l.a.createElement("div",{className:"username-wrapper"},l.a.createElement("a",{href:"/user/".concat(r),className:"user-profile on-navigate",title:r,ref:n},r)),l.a.createElement("div",{className:"button-group inline-block relative "},l.a.createElement("button",{className:"btn btn-white dropdown-toggle more-options unmute-button","data-toggle":"dropdown","aria-controls":"more-options","aria-expanded":"false","aria-label":"more options"},l.a.createElement(y.e,{name:"more",size:"24"})),l.a.createElement("div",{className:"triangle"}),l.a.createElement("div",{className:"dropdown-menu align-right"},l.a.createElement(y.m,{username:r,showModerationOptions:!0,isLoading:!1,isMutedByCurrentUser:!0,onUnmuteUser:o,onReportUser:function(){}}))))}))},ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(i,e);var t,n,r,o=ee(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ae(ne(t=o.call(this,e)),"moveBackward",(function(e){if("Tab"!==e.key&&!e.shiftKey){var n=t.state.currentPage;n>1&&t.setState({currentPage:n-1})}})),ae(ne(t),"moveForward",(function(e){if("Tab"!==e.key&&!e.shiftKey){var n=t.state.currentPage;n<t.totalPages&&t.setState({currentPage:n+1})}})),t.state={currentPage:1},t.pageLimit=8,t}return t=i,(n=[{key:"render",value:function(){var e,t,n=this.props,r=n.mutedUsers,o=n.trans,i=n.toggleModal,s=n.unmuteUser,c=this.state.currentPage;this.totalPages=(e=this.props.mutedUsers.length,t=this.pageLimit,Math.ceil(e/t));var u=a()("",{"wp-base-1":1!==c,"wp-neutral-2":1===c}),d=a()("",{"wp-base-1":r.length>this.pageLimit&&c!==this.totalPages,"wp-neutral-2":c>=this.totalPages}),m=(c-1)*this.pageLimit,f=r.slice(m,m+this.pageLimit);return l.a.createElement("div",{id:"mute-list"},l.a.createElement("h5",{className:"subheading"},o("These are the users you have muted")),l.a.createElement("div",{id:"muted-users"},l.a.createElement("ul",{className:"user-list"},l.a.createElement(oe,{mutedUsers:f,toggleModal:i,unmuteUser:s})),l.a.createElement("div",{className:"controls"},l.a.createElement("div",{onClick:this.moveBackward,onKeyDown:this.moveBackward,role:"button",tabIndex:"0"},l.a.createElement(y.e,{iconName:"fa-left",height:"18",color:u})),l.a.createElement("span",{className:"current-page"},this.state.currentPage),l.a.createElement("div",{onClick:this.moveForward,onKeyDown:this.moveForward,role:"button",tabIndex:"0"},l.a.createElement(y.e,{iconName:"fa-right",height:"18",color:d})))))}}])&&Q(t.prototype,n),r&&Q(t,r),i}(l.a.Component);ie.propTypes={trans:i.a.func.isRequired,mutedUsers:i.a.array.isRequired,toggleModal:i.a.func,unmuteUser:i.a.func.isRequired};var se=Object(d.b)((function(e){return{mutedUsers:e.profileData.mutedUsers}}),{unmuteUser:Z.k,toggleModal:G.c})(ie),le=Object(m.m)(se),ce=n(107),ue=n(111);function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fe=function(e){var t=e.blockedUsers,n=e.toggleModal,r=e.unblockUser,a=Object(s.useRef)(null),o=function(e){var t=function(){return l.a.createElement(ue.a,{username:e,toggleModal:n,onUnblock:r})};t.displayName="UnblockModal",n({className:"unblock-modal",hideClose:!0,component:t})};return Object(s.useEffect)((function(){a.current&&a.current.focus()}),[t]),t.map((function(e,t){var n,r=e.username,i=e.avatar;return 0==t&&(n=a),l.a.createElement("li",{key:r,className:"blocked-user"},l.a.createElement("img",{src:i,alt:r,align:"top",width:"64",height:"64"}),l.a.createElement("div",{className:"username-wrapper"},l.a.createElement("a",{href:"/user/".concat(r),className:"user-profile on-navigate",title:r,ref:n},r)),l.a.createElement("div",{className:"button-group inline-block relative "},l.a.createElement("button",{className:"btn btn-white dropdown-toggle more-options unblock-button","data-toggle":"dropdown","aria-controls":"more-options","aria-expanded":"false","aria-label":"more options"},l.a.createElement(y.e,{name:"more",size:"24"})),l.a.createElement("div",{className:"triangle"}),l.a.createElement("div",{className:"dropdown-menu align-right"},l.a.createElement(y.m,{username:r,showModerationOptions:!0,showBlockOption:!0,isLoading:!1,isBlockedByCurrentUser:!0,onUnblockUser:o,onReportUser:function(){}}))))}))};function pe(e){var t=e.toggleModal,n=e.unblockUser,r=e.blockedUsers,o=Object(ce.a)().trans,i=de(Object(s.useState)(1),2),c=i[0],u=i[1],d=function(e){if(e.preventDefault(),"Tab"!==e.key&&!e.shiftKey){c>1&&u(c-1)}},m=function(e){(e.preventDefault(),"Tab"===e.key||e.shiftKey)||u(c+1)},f=function(e,t){return Math.ceil(e/t)}(r.length,8),p=a()("",{"wp-base-1":1!==c,"wp-neutral-2":1===c}),h=a()("",{"wp-base-1":r.length>8*c&&c!==f,"wp-neutral-2":c>=f}),g=8*(c-1),b=r.slice(g,g+8);return l.a.createElement("div",{id:"block-list"},l.a.createElement("h5",{className:"block-subheading"},o("When you block someone, that person wont be able to follow you, send you messages, post on your profile or read and comment on your stories."),l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"learn-more",href:"https://support.wattpad.com/hc/en-us/articles/4403959785748"},o("Learn more"))),l.a.createElement("div",{id:"blocked-users"},l.a.createElement("ul",{className:"user-list"},l.a.createElement(fe,{blockedUsers:b,toggleModal:t,unblockUser:n})),l.a.createElement("div",{className:"controls"},l.a.createElement("button",{className:"back-btn",onClick:d,onKeyPress:d,disabled:1===c},l.a.createElement(y.e,{iconName:"fa-left",height:"18",color:p})),l.a.createElement("span",{className:"current-page"},c),l.a.createElement("button",{className:"forward-btn",onClick:m,onKeyPress:m,disabled:c>=f||b.length<8},l.a.createElement(y.e,{iconName:"fa-right",height:"18",color:h})))))}pe.propTypes={blockedUsers:i.a.array,toggleModal:i.a.func,unblockUser:i.a.func.isRequired,currentUser:i.a.string};var ye=Object(d.b)((function(e){return{blockedUsers:e.profileData.blockedUsers}}),{unblockUser:Z.j,toggleModal:G.c})(pe);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oe(e);if(t){var a=Oe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return we(this,n)}}function we(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?Ee(e):t}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(o,e);var t,n,r,a=ve(o);function o(e){var t,n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),n=Ee(t),i=function(){var e=!t.state.checked;t.setState({checked:e}),t.props.onCheckboxChange(t.props.name,e)},(r="onCheckboxChange")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,t.state={checked:t.props.value},t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,r=e.children,a=this.state.checked;return l.a.createElement("div",null,l.a.createElement("div",{className:"col-xs-2"},l.a.createElement("input",{type:"checkbox",name:t,value:n,defaultChecked:a,onChange:this.onCheckboxChange})),l.a.createElement("div",{className:"col-xs-10"},r))}}])&&ge(t.prototype,n),r&&ge(t,r),o}(l.a.Component);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var a=Te(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?Pe(e):t}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Se.propTypes={name:i.a.string,value:i.a.any,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),onCheckboxChange:i.a.func};var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(o,e);var t,n,r,a=je(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Re(Pe(t=a.call(this,e)),"handleSubmit",(function(e){t.props.updateNotifications(e)})),Re(Pe(t),"onCheckboxChange",(function(e,n){var r={};r[e]=n,t.setState(r)}));var n=e.alerts,r=e.alertssub,i=e.subscribe;return t.state={alerts:1===parseInt(n,10),alertssub:r,subscribe:1===parseInt(i,10)},t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.trans,n=e.userId,r=this.state,a=r.alerts,o=r.alertssub,i=r.subscribe;return l.a.createElement("div",{id:"notification"},l.a.createElement("h2",{className:"subheading"},t("Receive email notifications for these events")),l.a.createElement("form",{id:"notifications_form",name:"notifications_form",className:"row",onSubmit:this.handleSubmit},l.a.createElement("input",{type:"hidden",name:"id",value:n}),l.a.createElement(Se,{name:"alerts",value:a,onCheckboxChange:this.onCheckboxChange},l.a.createElement("h4",null,t("Messages")),l.a.createElement("ul",null,l.a.createElement("li",null,t("Someone writes on your message board")),l.a.createElement("li",null,t("Someone starts following you")),l.a.createElement("li",null,t("Someone comments on your story")),l.a.createElement("li",null,t("Someone mentions you in a comment")),l.a.createElement("li",null,t("You receive a message")))),l.a.createElement(Se,{name:"alertssub",value:o,onCheckboxChange:this.onCheckboxChange},l.a.createElement("h4",null,t("Users you follow upload a story"))),l.a.createElement(Se,{name:"subscribe",value:i,onCheckboxChange:this.onCheckboxChange},l.a.createElement("h4",null,t("Updates")),l.a.createElement("ul",null,l.a.createElement("li",null,t("Important announcements from Wattpad")))),l.a.createElement("div",{className:"col-xs-12 submit"},l.a.createElement("input",{type:"submit",className:"btn btn-md btn-orange",value:t("Save")})),l.a.createElement("input",{type:"hidden",name:"alertssubmask",value:"0"})))}}])&&ke(t.prototype,n),r&&ke(t,r),o}(l.a.Component);xe.propTypes={trans:i.a.func.isRequired,userId:i.a.number.isRequired,alerts:i.a.any.isRequired,alertssub:i.a.bool.isRequired,subscribe:i.a.any.isRequired,updateNotifications:i.a.func},Object(m.n)()&&_.extend(xe.propTypes,{updateNotifications:i.a.func.isRequired});var Ie=Object(m.m)(xe);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fe(e);if(t){var a=Fe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?De(e):t}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(i,e);var t,n,r,o=qe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Be(De(t=o.call(this,e)),"uploadBackground",(function(){t.setState({editBgStarted:!0})})),Be(De(t),"uploadAvatar",(function(){t.setState({editAvatarStarted:!0})})),Be(De(t),"updateAvatar",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n);else{var r=e.target.files[0];r&&t.props.saveAvatarChanges(r)}})),Be(De(t),"updateBackground",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n);else{var r=e.target.files[0];r&&t.props.saveBackgroundChanges(r)}})),t.state={editBgStarted:!1,editAvatarStarted:!1},t}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.trans,r=t.avatar,o=t.backgroundUrl,i=t.username,s=this.state,c=s.editAvatarStarted,u=s.editBgStarted,d=a()("image-upload",{show:c}),m=a()("image-upload",{show:u}),f=a()("btn btn-small btn-white",{hide:c}),p=a()("btn btn-small btn-white",{hide:u}),y=a()("btn btn-small btn-white hidden",{hide:c}),h=a()("btn btn-small btn-white hidden",{hide:u});return l.a.createElement("div",{id:"right-side-panel",className:"col-xs-12"},l.a.createElement("h5",{className:"container_head"},n("Customize")),l.a.createElement("div",{id:"avatar"},n("Profile Picture"),l.a.createElement("img",{src:r||"/image/pixel.gif",alt:i,align:"bottom",className:"picframe",border:"0",width:"256",height:"256"}),l.a.createElement("button",{id:"changeAvatar",className:f,onClick:this.uploadAvatar},n("Change")),l.a.createElement("form",{className:d,method:"post",encType:"multipart/form-data"},l.a.createElement("input",{type:"file",name:"avatar",onChange:this.updateAvatar}),l.a.createElement("small",null,n("Upload a jpg or gif, 512x512 recommended.Do not upload any restricted material, see terms of service"))),r&&l.a.createElement("button",{id:"deleteAvatar",className:y,onClick:function(t){return e.updateAvatar(t,!0)}},n("Remove"))),l.a.createElement("div",{id:"background"},n("Background"),l.a.createElement("img",{src:o||"/image/pixel.gif",alt:i,align:"bottom",className:"picframe",border:"0",width:"256"}),l.a.createElement("button",{id:"changeBackground",className:p,onClick:this.uploadBackground},n("Change")),l.a.createElement("form",{className:m,method:"post",encType:"multipart/form-data"},l.a.createElement("input",{type:"file",name:"backgroundUrl",onChange:this.updateBackground}),l.a.createElement("small",null,n("Upload a jpg or gif, up to 1MB. Do not upload any restricted material, see terms ofservice"))),o&&l.a.createElement("button",{id:"deleteBackground",className:h,onClick:function(t){return e.updateBackground(t,!0)}},n("Remove"))),l.a.createElement("div",{className:"close-account"},l.a.createElement("a",{className:"btn btn-md btn-orange on-navigate",href:"/user_close"},n("Close Account"))))}}])&&Le(t.prototype,n),r&&Le(t,r),i}(l.a.Component);We.propTypes={trans:i.a.func.isRequired,avatar:i.a.string.isRequired,backgroundUrl:i.a.string.isRequired,username:i.a.string.isRequired,saveAvatarChanges:i.a.func,saveBackgroundChanges:i.a.func},Object(m.n)()&&_.extend(We.propTypes,{saveAvatarChanges:i.a.func.isRequired,saveBackgroundChanges:i.a.func.isRequired});var He=Object(m.m)(We),Ve=n(108),ze=n(42);function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var a=Xe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Je(this,n)}}function Je(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?Qe(e):t}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(i,e);var t,n,r,o=Ze(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),et(Qe(t=o.call(this,e)),"onSubmitChanges",(function(e,n){t.props.onSaveAccountChanges(e,n)})),et(Qe(t),"onSaveAvatarChanges",(function(e){t.props.saveAvatarChanges(e),u.a.unmountComponentAtNode(document.getElementById("component-UserSettings-user-settings-/settings"))})),et(Qe(t),"onSaveBackgroundChanges",(function(e){t.props.saveBackgroundChanges(e),u.a.unmountComponentAtNode(document.getElementById("component-UserSettings-user-settings-/settings"))})),t.state={selectedTab:"account"},t}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.renderTooltips(),this.props.initializeMutedUsers(this.props.userObj.id),this.props.isBlockMVP&&this.props.setBlockedUsers(this.props.userObj.username)}},{key:"onTabSelect",value:function(e,t){"Tab"===t.key||t.shiftKey||this.setState({selectedTab:e})}},{key:"render",value:function(){var e=this.props,t=e.userObj,n=e.app,r=e.trans,o=this.state.selectedTab,i=r("Account"),s=r("Notifications"),c=r("Muted Accounts"),u=r("Blocked Accounts"),d=a()({hide:"account"!==o}),m=a()({hide:"notifications"!==o}),f=a()({hide:"mute"!==o}),p=a()({hide:"block"!==o}),y=a()("info-tabs",{selected:"account"===o}),h=a()("info-tabs",{selected:"notifications"===o}),g=a()("info-tabs",{selected:"mute"===o}),b=a()("info-tabs",{selected:"block"===o});return l.a.createElement("div",{id:"content_block",className:"user-settings"},l.a.createElement(Ve.a,null),l.a.createElement(ze.a,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"column_left col-xs-8"},l.a.createElement("div",{className:"col-xs-12 left"},l.a.createElement("ol",null,l.a.createElement("li",{id:"select_account",className:y,onClick:this.onTabSelect.bind(this,"account"),onKeyDown:this.onTabSelect.bind(this,"account"),role:"tab",tabIndex:0},l.a.createElement("span",null,i)),l.a.createElement("li",{id:"select_notifications",className:h,onClick:this.onTabSelect.bind(this,"notifications"),onKeyDown:this.onTabSelect.bind(this,"notifications"),role:"tab",tabIndex:0},l.a.createElement("span",null,s)),l.a.createElement("li",{id:"select_ignore_list",className:g,onClick:this.onTabSelect.bind(this,"mute"),onKeyDown:this.onTabSelect.bind(this,"mute"),role:"tab",tabIndex:0},l.a.createElement("span",null,c)),this.props.isBlockMVP&&l.a.createElement("li",{id:"select_block_list",className:b,onClick:this.onTabSelect.bind(this,"block"),onKeyDown:this.onTabSelect.bind(this,"block"),role:"tab",tabIndex:0},l.a.createElement("span",null,u))),l.a.createElement("div",{className:d},l.a.createElement($,$e({},t,{app:n,onSubmit:this.onSubmitChanges,openEditModal:this.props.openUserSettingsModal}))),l.a.createElement("div",{className:m},l.a.createElement(Ie,$e({},t.notificationSettings,{userId:t.id,updateNotifications:this.props.updateNotifications}))),l.a.createElement("div",{className:f},l.a.createElement(le,null)),this.props.isBlockMVP&&l.a.createElement("div",{className:p},l.a.createElement(ye,{currentUser:t.username})))),l.a.createElement("div",{className:"column_right"},l.a.createElement(He,$e({},t,{saveAvatarChanges:this.onSaveAvatarChanges,saveBackgroundChanges:this.onSaveBackgroundChanges})))),l.a.createElement("div",{className:"mute-accounts-options-modal"}))}}])&&Ge(t.prototype,n),r&&Ge(t,r),i}(l.a.Component);tt.propTypes={userObj:i.a.object.isRequired,app:i.a.object.isRequired,trans:i.a.func.isRequired,mutedUsers:i.a.array.isRequired,onSaveAccountChanges:i.a.func,openUserSettingsModal:i.a.func,saveAvatarChanges:i.a.func,saveBackgroundChanges:i.a.func,renderTooltips:i.a.func,updateNotifications:i.a.func,initializeMutedUsers:i.a.func,setBlockedUsers:i.a.func,isBlockMVP:i.a.bool},Object(m.n)()&&_.extend(tt.propTypes,{saveAvatarChanges:i.a.func.isRequired,saveBackgroundChanges:i.a.func.isRequired,onSaveAccountChanges:i.a.func.isRequired,openUserSettingsModal:i.a.func.isRequired,renderTooltips:i.a.func.isRequired,updateNotifications:i.a.func.isRequired});var nt=Object(d.b)(null,{initializeMutedUsers:Z.e,setBlockedUsers:Z.g})(tt);t.a=Object(m.m)(nt)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(6),i=n(1),s=n.n(i),l=n(4),c=n.n(l),u=n(127),d=n(2),m=n(153),f=n(35);function p(e){var t=e.label,n=e.info,r=e.about,o=e.name,i=e.placeholder,s=e.value,l=e.characterLimit,u=e.minRows,d=e.maxRows,p=e.textareaLineHeight,y=e.onChange,h=e.labelClassName,g=e.className,b=e.textareaClassName;return a.a.createElement("div",{className:c()("form-field",g)},Object(f.c)({label:t,labelClassName:h,tooltip:n}),Object(f.b)(r),a.a.createElement(m.a,{value:s||"",name:o,placeholder:i,onChange:function(e){l&&(e.target.value=e.target.value.substr(0,l)),y(e)},characterLimit:l,minRows:u,maxRows:d,textareaLineHeight:p,className:c()("planner-textarea",b)}))}p.defaultProps={value:"",minRows:1,maxRows:10,textareaLineHeight:26,onChange:function(){}},p.propTypes={label:s.a.string,info:s.a.string,about:s.a.string,name:s.a.string,placeholder:s.a.string,value:s.a.string,characterLimit:s.a.number,minRows:s.a.number.isRequired,maxRows:s.a.number.isRequired,textareaLineHeight:s.a.number.isRequired,onChange:s.a.func.isRequired,labelClassName:s.a.string,className:s.a.string,textareaClassName:s.a.string};var y=p,h=n(88),g=n(87);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function O(e){var t=e.info,n=e.label,o=e.options,i=e.onChange,s=e.className,l=e.labelClassName,u=e.values,m=E(e,["info","label","options","onChange","className","labelClassName","values"]),p=v(Object(r.useState)(),2),y=p[0],h=p[1],g=function(e){i(e)},w=o.map((function(e){return a.a.createElement("div",{key:e.value,className:c()(s,"checkbox")},a.a.createElement("input",b({type:"checkbox",id:e.label,value:e.value,className:c()({focus:y}),checked:u.includes(e.value),onChange:g,onFocus:function(){return h(!0)},onBlur:function(){return h(!1)}},m)),a.a.createElement("span",{className:"checkmark"},a.a.createElement(d.e,{iconName:"fa-check",height:"14",color:"wp-base-1"})),a.a.createElement("label",{id:"checkbox-label",htmlFor:e.label},e.label))}));return a.a.createElement("div",{className:"form-field checkbox-container"},Object(f.c)({label:n,labelClassName:l,tooltip:t}),a.a.createElement("div",{className:"checkbox-group"},w))}O.defaultProps={values:[],onChange:function(){}},O.propTypes={options:s.a.array.isRequired,values:s.a.array,onChange:s.a.func.isRequired,className:s.a.string,label:s.a.string,labelClassName:s.a.string,info:s.a.string};var S=O;function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e){var t=e.labels,n=e.range,o=e.name,i=e.value,s=e.disabledUntilClick,l=e.onChange,u=e.step,d=e.className,m=j(e,["labels","range","name","value","disabledUntilClick","onChange","step","className"]),f=k(Object(r.useState)(),2),p=f[0],y=f[1],h=k(Object(r.useState)(s),2),g=h[0],b=h[1];Object(r.useEffect)((function(){b(s)}),[s,b]);var v=function(){b(!1)};return a.a.createElement("div",{className:c()("slider-container",d)},a.a.createElement("div",{className:"left-label slider-labels"},t[0]),a.a.createElement("input",C({type:"range",min:n[0],max:n[1],step:u,value:i,name:o,onChange:function(e){v(),l(e)},onClick:v,onFocus:function(e){y(!0),b(!1),l(e)},onBlur:function(){return y(!1)},className:c()({focus:p,disabled:g})},m)),a.a.createElement("div",{className:"slider-labels"},t[1]))}_.defaultProps={range:[0,100],onChange:function(){},disabledUntilClick:!1,name:"slider",step:1},_.propTypes={labels:s.a.array.isRequired,name:s.a.string,range:s.a.array,value:s.a.number.isRequired,onChange:s.a.func.isRequired,disabledUntilClick:s.a.bool.isRequired,className:s.a.string,step:s.a.number};var P=_;function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function x(e){var t=e.label,n=e.options,r=e.info,o=e.onChange,i=e.values,s=e.labelClassName,l=R(e,["label","options","info","onChange","values","labelClassName"]),c=n.map((function(e,t){return a.a.createElement(P,T({labels:e.sliderLabels,key:t,name:e.id,onChange:function(e){return o(e,parseInt(e.target.value,10))},range:[-5,5],disabledUntilClick:null==i[t],value:(n=i[t],null==n?0:n)},l));var n}));return a.a.createElement("div",{className:"slider-group form-field"},Object(f.c)({label:t,labelClassName:s,tooltip:r}),a.a.createElement("div",{className:"form-slider-group"},c))}x.defaultProps={onChange:function(){},values:[]},x.propTypes={label:s.a.string,options:s.a.array.isRequired,info:s.a.string,onChange:s.a.func.isRequired,values:s.a.array.isRequired,labelClassName:s.a.string};var I=x,A=n(3);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function D(e){var t=e.suggestions,n=e.attributes,o=e.label,i=e.info,s=e.about,l=e.name,u=e.placeholder,m=e.onChange,p=e.labelClassName,y=e.className,h=e.maxNumAttributes,g=U(e,["suggestions","attributes","label","info","about","name","placeholder","onChange","labelClassName","className","maxNumAttributes"]),b=M(Object(r.useState)(null),2),v=b[0],w=b[1],E=M(Object(r.useState)(n.length<h),2),O=E[0],S=E[1],C=M(Object(r.useState)([]),2),k=C[0],N=C[1],j=M(Object(r.useState)(!0),2),_=j[0],P=j[1],T=M(Object(r.useState)(""),2),R=T[0],x=T[1],I=M(Object(r.useState)(!1),2),q=I[0],D=I[1];Object(A.a)(v,(function(){return D(!1)}));var F=function(e){return t.filter((function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1&&!n.includes(t)}))},B=function(){n.length>=h?(x(""),S(!1)):S(!0)},W=function(e){var t=e.currentTarget.innerText,r=n;r.push(t),B(),x(""),N([]),D(!1),m(l,r)},H=function(e){var t=e.currentTarget.id,r=n,a=r.indexOf(t);-1!==a&&r.splice(a,1),B(),N([]),D(!1),m(l,r)},V=function(e){return null===e||null!==e.match(/^\s*$/)},z=k.map((function(e,t){return a.a.createElement("button",{className:c()({"suggestion-active":t===O}),key:e,onClick:W,id:t},e)})),Y=n.map((function(e,t){var n=e+"-"+t;if(!V(e))return a.a.createElement("div",{className:"valid-attribute",key:n},e,a.a.createElement("div",{onClick:H,id:e,className:"remove-attribute",role:"button",tabIndex:"0"},a.a.createElement(d.e,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})))}));return a.a.createElement("div",{className:c()("form-field",y)},Object(f.c)({label:o,labelClassName:p,tooltip:i}),Object(f.b)(s),a.a.createElement("div",{className:c()("short","autocomplete-field"),ref:function(e){return w(e)}},a.a.createElement("div",{className:"selected-attributes"},Y),a.a.createElement("div",{className:"attribute-input"},O?a.a.createElement("input",L({type:"text",onFocus:function(){D(!0),P(!0)},value:R,onChange:function(e){var t=e.currentTarget.value;V(t)&&(t="");for(var n=F(t);n.length<=0&&t.length>0;)t=t.substring(0,t.length-1),n=F(t);N(n),x(t)},name:l,placeholder:u,className:c()({focus:q})},g)):a.a.createElement("input",L({type:"text",value:"",placeholder:"Up to "+h+" attributes",disabled:!0},g))),a.a.createElement("div",{className:c()("suggestions",{hidden:!_||k.length<=0||!q})},z)))}D.defaultProps={suggestions:[],attributes:[],onChange:function(){},maxNumAttributes:10},D.propTypes={suggestions:s.a.array.isRequired,label:s.a.string,info:s.a.string,about:s.a.string,name:s.a.string,attributes:s.a.array,placeholder:s.a.string,onChange:s.a.func.isRequired,labelClassName:s.a.string,className:s.a.string,textareaClassName:s.a.string,maxNumAttributes:s.a.number};var F=D,B=n(25);function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e){var t=e.isLoading,n=e.story,o=e.storyNotesData,i=e.fetchStoryNotes,s=e.postStoryNotes,l=e.updateStoryNotes,u=e.activeTab,m=W(Object(r.useState)(!1),2),f=m[0],p=m[1],b=W(Object(r.useState)(!1),2),v=b[0],w=b[1],E=Object(A.h)().trans,O=Object(B.g)(),C=Object(B.h)(),k=Object(B.i)(),N=Object(B.k)(),j=Object(B.j)();function _(){s(n.id,o)}Object(r.useEffect)((function(){i(n.id)}),[n,i]);var P,T=function(e){var t=e.target,r=t.name,a=t.value;p(!1),w(!1),l(n.id,o,{name:r,value:a})},R=function(e){var t=e.target,r=t.name,a=t.value,i=parseInt(a);p(!1),w(!1),l(n.id,o,{name:r,value:i})},x=function(e,t){var r=e.target.name;p(!1),w(!1),l(n.id,o,{name:r,value:t})},L=function(e){if(null!==e){if("string"==typeof e&&""!==e)return!0;if(Array.isArray(e)&&e.length>0)return!0;if("string"!=typeof e)return!0}return!1},M=L(o.protagonist.name)&&L(o.protagonist.other_names)&&L(o.protagonist.pronoun)&&L(o.protagonist.attributes)&&L(o.protagonist.extrovert_introvert)&&L(o.protagonist.likeable)&&L(o.protagonist.focus_past_future)&&L(o.protagonist.thinking_feeling)&&L(o.protagonist.decisive_improvise)&&L(o.protagonist.laidback_serious)&&L(o.protagonist.personality_change)&&L(o.protagonist_goal.description)&&L(o.protagonist_goal.physical_emotional)&&L(o.protagonist_goal.type)&&L(o.protagonist_goal.change_themselves_surroundings)&&L(o.protagonist_goal.explore_emotions_world)&&L(o.protagonist_goal.navigate_familiar_unfamiliar)&&L(o.protagonist_goal.recall_past)&&L(o.protagonist_goal.find_meaning)&&L(o.protagonist_goal.take_keep)&&L(o.protagonist_goal.outcome)&&L(o.protagonist_goal.succeed)&&L(o.protagonist_goal.outcome_feeling)&&L(o.opportunity.interested)&&L(o.opportunity.logline)&&L(o.opportunity.story_progress)&&L(o.opportunity.types);return t||"story-planner"!==u?null:a.a.createElement("div",{id:"story-planner"},a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{id:"story-planner-intro"},a.a.createElement("div",{className:"story-planner-image-container"},a.a.createElement(d.c,{name:"desktop-web/undraw-personal-notebook-sobb@2x.png",id:"story-planner-image",height:"105px",width:"120px"})),a.a.createElement("div",{className:"story-planner-intro-text"},a.a.createElement("div",{className:"title"},E("Story Notes")),a.a.createElement("div",{className:"subtitle"},E("Store and track all of your story ideas in one place.")))),a.a.createElement("div",{className:"section",id:"protagonist-form"},a.a.createElement("div",{className:"section-title"},O.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,O.info),a.a.createElement("div",{className:"learn-more"},O.more," ",a.a.createElement("strong",null,a.a.createElement("a",{href:"/814442697-story-notes-who-is-your-protagonist",target:"_blank",rel:"noreferrer"},O.learnMore)))),a.a.createElement(y,{label:O.section1.label,name:O.section1.name,className:"top",characterLimit:O.section1.limit,placeholder:O.section1.placeholder,textareaClassName:"short",value:o.protagonist.name,onChange:T}),a.a.createElement(y,{label:O.section2.label,name:O.section2.name,className:"top",characterLimit:O.section2.limit,placeholder:O.section2.placeholder,textareaClassName:"short",value:o.protagonist.other_names,onChange:T}),a.a.createElement(h.a,{label:O.section3.label,dropdownOptions:O.section3.options,name:O.section3.name,labelClassName:"short",selectClassName:"short",onChange:T,selected:o.protagonist.pronoun,placeholder:O.section3.placeholder}),a.a.createElement(F,{name:O.section4.name,label:O.section4.label,info:O.section4.info,className:"short",placeholder:O.section4.placeholder,onChange:function(e,t){var r=t.join();p(!1),w(!1),l(n.id,o,{name:e,value:r})},attributes:o.protagonist.attributes?o.protagonist.attributes.split(","):[],suggestions:C.options}),a.a.createElement(I,{label:O.section5.label,options:O.section5.options,onChange:x,values:[o.protagonist.extrovert_introvert,o.protagonist.likeable,o.protagonist.focus_past_future,o.protagonist.thinking_feeling,o.protagonist.decisive_improvise,o.protagonist.laidback_serious]}),a.a.createElement(h.a,{label:O.section6.label,dropdownOptions:O.section6.options,labelClassName:"short",selectClassName:"short",onChange:R,selected:(P=o.protagonist.personality_change,null!==P?P.toString():null),name:O.section6.name,placeholder:O.section6.placeholder})),a.a.createElement("div",{className:"section",id:"story-goal-form"},a.a.createElement("div",{className:"section-title"},k.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,k.info)),a.a.createElement(y,{label:k.section1.label,name:k.section1.name,characterLimit:k.section1.limit,placeholder:k.section1.placeholder,value:o.protagonist_goal.description,onChange:T,labelClassName:"long",className:"long-field",textareaClassName:"long"}),a.a.createElement(g.a,{label:k.section2.label,name:k.section2.name,options:k.section2.options,value:o.protagonist_goal.physical_emotional,onChange:R}),(null===o.protagonist_goal.physical_emotional||0===o.protagonist_goal.physical_emotional)&&a.a.createElement("div",null,a.a.createElement(h.a,{label:k.section3.label,name:k.section3.name,dropdownOptions:k.section3.options[0],disabled:null===o.protagonist_goal.physical_emotional,onChange:T,labelClassName:"short",selectClassName:"short",selected:o.protagonist_goal.type,placeholder:k.section3.placeholder})),1===o.protagonist_goal.physical_emotional&&a.a.createElement("div",null,a.a.createElement(h.a,{label:k.section3.label,name:k.section3.name,dropdownOptions:k.section3.options[1],disabled:null===o.protagonist_goal.physical_emotional,onChange:T,labelClassName:"short",selectClassName:"short",selected:o.protagonist_goal.type,placeholder:k.section3.placeholder})),a.a.createElement(I,{label:k.section4.label,options:k.section4.options,onChange:x,values:[o.protagonist_goal.change_themselves_surroundings,o.protagonist_goal.explore_emotions_world,o.protagonist_goal.navigate_familiar_unfamiliar,o.protagonist_goal.recall_past,o.protagonist_goal.find_meaning,o.protagonist_goal.take_keep]})),a.a.createElement("div",{className:"section",id:"outcome-form"},a.a.createElement("div",{className:"section-title"},N.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,N.info)),a.a.createElement(y,{label:N.section1.label,name:N.section1.name,characterLimit:N.section1.limit,placeholder:N.section1.placeholder,onChange:T,value:o.protagonist_goal.outcome,labelClassName:"long",className:"long-field",textareaClassName:"long"}),a.a.createElement(g.a,{label:N.section2.label,name:N.section2.name,options:N.section2.options,value:o.protagonist_goal.succeed,onChange:R}),a.a.createElement(g.a,{label:N.section3.label,name:N.section3.name,options:N.section3.options,value:o.protagonist_goal.outcome_feeling,onChange:R})),a.a.createElement("div",{id:"story-planner-save-btn"},a.a.createElement("button",{onClick:function(){w(!0),_()},className:c()("btn-primary",{disabled:v}),"aria-label":"Save my story notes"},E(v?"Saved":"Save my Story Notes"))),a.a.createElement("div",{className:"section",id:"opportunities-form"},a.a.createElement("div",null,a.a.createElement("div",{className:"section-title"},j.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,j.info)),a.a.createElement(g.a,{label:j.section1.label,name:j.section1.name,options:j.section1.options,value:o.opportunity.interested,onChange:R})),a.a.createElement("div",{className:c()({"available-opportunities":1===o.opportunity.interested,hidden:1!==o.opportunity.interested})},a.a.createElement(S,{options:j.section2.options,label:j.section2.label,name:j.section2.name,onChange:function(e){var t=[];if(L(o.opportunity.types)&&(t=o.opportunity.types.split(",")),t.includes(e.target.value)){var r=t.indexOf(e.target.value);t.splice(r,1)}else t.push(e.target.value);p(!1),w(!1);var a=t.join();l(n.id,o,{name:e.target.name,value:a})},values:o.opportunity.types?o.opportunity.types.split(","):[]}),a.a.createElement(y,{label:j.section3.label,name:j.section3.name,characterLimit:j.section3.limit,placeholder:j.section3.placeholder,about:j.section3.about,onChange:T,value:o.opportunity.logline,labelClassName:"long",className:"long-field",textareaClassName:"long"}),a.a.createElement("div",{className:"field-description"},E("Not sure how to write a logline?"),a.a.createElement("a",{href:"/814443428-story-notes-how-do-i-write-a-logline",target:"_blank",rel:"noreferrer"},E("Learn More Here"))),a.a.createElement(h.a,{label:j.section4.label,dropdownOptions:j.section4.options,name:j.section4.name,onChange:T,labelClassName:"long",selected:o.opportunity.story_progress,className:"long-field",selectClassName:"long",placeholder:j.section4.placeholder}),!f&&a.a.createElement("div",{id:"story-planner-submit-btn"},a.a.createElement("button",{className:c()("btn-primary",{disabled:!M}),"aria-label":"Submit story notes to wattpad",onClick:function(){p(!0),_()}},E("Submit my private Story Notes to Wattpad")),a.a.createElement("div",{className:c()("submit-btn-info",{hidden:M})},j.notComplete)),f&&a.a.createElement("div",{id:"story-planner-submit-btn"},a.a.createElement("div",{className:c()("btn-primary","disabled"),"aria-label":"Submitted"},E("Submitted")))))))}V.defaultProps={storyNotesData:{id:"",protagonist:{name:null,other_names:"",pronoun:null,attributes:"",extrovert_introvert:null,likeable:null,focus_past_future:null,thinking_feeling:null,decisive_improvise:null,laidback_serious:null,personality_change:null},protagonist_goal:{description:"",physical_emotional:null,type:null,change_themselves_surroundings:null,explore_emotions_world:null,navigate_familiar_unfamiliar:null,recall_past:null,find_meaning:null,take_keep:null,outcome:"",succeed:null,outcome_feeling:null},opportunity:{interested:null,logline:"",story_progress:null,type:null}}},V.propTypes={isLoading:s.a.bool.isRequired,activeTab:s.a.string.isRequired,story:s.a.object.isRequired,fetchStoryNotes:s.a.func.isRequired,postStoryNotes:s.a.func.isRequired,updateStoryNotes:s.a.func.isRequired,storyNotesData:s.a.shape({id:s.a.number,protagonist:s.a.shape({name:s.a.string,other_names:s.a.string,pronoun:s.a.string,attributes:s.a.string,extrovert_introvert:s.a.number,likeable:s.a.number,focus_past_future:s.a.number,thinking_feeling:s.a.number,decisive_improvise:s.a.number,laidback_serious:s.a.number,personality_change:s.a.number}).isRequired,protagonist_goal:s.a.shape({description:s.a.string,physical_emotional:s.a.number,type:s.a.string,change_themselves_surroundings:s.a.number,explore_emotions_world:s.a.number,navigate_familiar_unfamiliar:s.a.number,recall_past:s.a.number,find_meaning:s.a.number,take_keep:s.a.number,outcome:s.a.string,succeed:s.a.number,outcome_feeling:s.a.number}).isRequired,opportunity:s.a.shape({interested:s.a.number,logline:s.a.string,story_progress:s.a.string,types:s.a.string}).isRequired})};t.a=Object(o.b)((function(e){return{storyNotesData:e.storyNotes.data,isLoading:e.storyNotes.isLoading,activeTab:e.worksItemDetails.worksItemDetailsActiveTab}}),{fetchStoryNotes:u.a,postStoryNotes:u.b,updateStoryNotes:u.c})(V)},function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(6),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(4),c=n.n(l),u=n(3),d=n(116),m=function(e){var t=e.awardCategory,n=e.isCanvaIntended,r=Object(u.h)().trans,a={chick_lit:r("ChickLit"),fanfiction:r("Fanfiction"),fantasy:r("Fantasy"),historical_fiction:r("Historical Fiction"),horror:r("Horror"),mystery_thriller:r("Mystery & Thriller"),new_adult:r("New Adult"),paranormal:r("Paranormal"),romance:r("Romance"),science_fiction:r("Science Fiction"),werewolf:r("Werewolf"),wild_card:r("Wild Card"),young_adult:r("Young Adult")};return s.a.createElement("div",{className:"text"},s.a.createElement("div",{className:"success-text",dangerouslySetInnerHTML:{__html:r("Your story has been submitted in the <strong>%s</strong> category for the 2021 Watty Awards!",a[t])}}),n&&s.a.createElement("div",{className:"success-text margin-top",dangerouslySetInnerHTML:{__html:r("Your cover design has been submitted for the <strong>Best Cover</strong> Award presented by Canva!")}}),s.a.createElement("a",{className:"plain-link bold margin-top",href:d.b[parseInt(app.get("language"),10)],target:"_blank",rel:"noopener noreferrer"}," ",r("When will winners be announced?")))};m.propTypes={awardCategory:o.a.string.isRequired,isCanvaIntended:o.a.bool},m.defaultProps={isCanvaIntended:!1};var f=m,p=function(e){var t=e.onBtnClick,n=Object(u.h)().trans;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"text"},n("Congratulations! Your story is eligible for The 2021 Wattys!"),s.a.createElement("a",{className:"plain-link bold",href:"http://wattys.wattpad.com/",target:"_blank",rel:"noopener noreferrer"},n("Find out more about the Wattys"))),s.a.createElement("button",{onClick:t,className:"btn btn-white"},s.a.createElement("div",{className:"btn-text"},n("Enter this story"))))};p.propTypes={onBtnClick:o.a.func.isRequired};var y=p,h=function(){var e=Object(u.h)().trans;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"text"},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:e("Your story is <strong>so close</strong> to being eligible for The 2021 Wattys!")}}),s.a.createElement("a",{className:"plain-link bold",href:d.a[parseInt(app.get("language"),10)],target:"_blank",rel:"noopener noreferrer"},e("What is the eligibility criteria?"))),s.a.createElement("a",{href:"https://www.wattpad.com/wattys",target:"_blank",rel:"noopener noreferrer",className:"btn btn-white"},s.a.createElement("div",{className:"btn-text"},e("2021 Wattys"))))},g=n(2),b=n(66),v=n(58),w=n(5);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(o,e);var t,n,r,a=k(o);function o(){var e;O(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(j(e=a.call.apply(a,[this].concat(n))),"onOpenModal",(function(){e.props.openContestForm(e.props.storyId),window.te.push("event","wattys","banner",null,"click",{storyid:parseInt(e.props.storyId),type:"eligible",page:"story_details"})})),e}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.storyId&&this.props.fetchContestFormSubmissionStatus(this.props.storyId).then((function(){e.props.hasSubmitted&&e.props.fetchSubmittedFormBannerInfo(e.props.storyId),window.te.push("event","wattys","banner",null,"view",{storyid:parseInt(e.props.storyId),type:e.props.hasSubmitted?"confirmed_submission":e.props.isNearEligible?"near_eligible":"eligible",page:"story_details"})}))}},{key:"render",value:function(){var e,t=this.props,n=t.hasSubmitted,r=t.isLoading,a=t.hasCheckedSubmission,o=t.isNearEligible,i=t.awardCategory,l=t.isCanvaIntended,u=c()({"cover-submitted-success-canva":n&&l,"cover-submitted-success":n&&!l,"cover-eligibility":!n});return e=n?s.a.createElement(f,{awardCategory:i,isCanvaIntended:l}):o?s.a.createElement(h,null):s.a.createElement(y,{onBtnClick:this.onOpenModal}),a?s.a.createElement("div",{id:"contest-banner",className:u},r?s.a.createElement("div",{className:"text"},s.a.createElement("div",{className:"loading-spinner-banner"},s.a.createElement(b.a,{name:"/icons/spinner.svg",className:"fa-spin",alt:"Loading spinner",height:"40",width:"40"}))):s.a.createElement(s.a.Fragment,null,e,s.a.createElement(g.n,null))):null}}])&&S(t.prototype,n),r&&S(t,r),o}(i.Component);T.propTypes={openContestForm:o.a.func,storyId:o.a.string.isRequired,fetchContestFormSubmissionStatus:o.a.func.isRequired,fetchSubmittedFormBannerInfo:o.a.func.isRequired,hasSubmitted:o.a.bool.isRequired,isLoading:o.a.bool.isRequired,isNearEligible:o.a.bool.isRequired,hasCheckedSubmission:o.a.bool.isRequired,awardCategory:o.a.string,isCanvaIntended:o.a.bool};var R=Object(r.b)((function(e){return{hasSubmitted:e.contestForm.hasSubmitted,isLoading:e.contestForm.isLoading,isNearEligible:e.contestForm.isNearEligible,hasCheckedSubmission:e.contestForm.hasCheckedSubmission,awardCategory:e.contestForm.data.contest_submission.award_category,isCanvaIntended:e.contestForm.data.contest_submission.is_canva_intended}}),{openContestForm:v.e,fetchContestFormSubmissionStatus:v.c,fetchSubmittedFormBannerInfo:v.d})(Object(w.m)(T))},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n(578),c=n(579),u=n(580),d=n(581),m=n(577),f=n(5),p=n(4),y=n.n(p),h=function(e){return[e("To get the best Wattpad experience, we want to know a bit about you!"),e("So you like to write! What best describes you as a writer?")]},g=function(e){var t=e.user_type,n=e.writer_stage,r=e.finished_story;t&&window.te.push("event","onboarding","user_type",null,"complete",{type:t}),void 0!==n&&(null===n?window.te.push("event","onboarding","writer_stage",null,"skip"):window.te.push("event","onboarding","writer_stage",null,"complete",{type:n})),n&&void 0!==r&&(null===r?window.te.push("event","onboarding","finished_story",null,"skip"):window.te.push("event","onboarding","finished_story",null,"complete",{type:r}))};function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,e);var t,n,r,a=C(o);function o(){var e;E(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(N(e=a.call.apply(a,[this].concat(n))),"state",{selected:null,redirect:!1}),_(N(e),"setSelected",(function(t){e.setState({selected:t})})),_(N(e),"pressNext",(function(){"reader"===e.state.selected?(g({user_type:"reader"}),app.router.navigate("/start",{trigger:!0})):e.setState({redirect:!0})})),e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.state,n=t.selected,r=t.redirect,a=this.props.trans;return r?i.a.createElement(m.a,{push:!0,to:{pathname:"/motivation",state:{user_type:this.state.selected}}}):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,h(a)[0]),i.a.createElement("div",{id:"ReaderOrWriter",className:"options"},Object.entries(function(e){return{reader:{message:e("I like to read"),icon:"read"},writer:{message:e("I like to write"),icon:"write"},reader_writer:{message:e("I like both"),icon:"both"}}}(a)).map((function(t){var r=v(t,2),a=r[0],o=r[1],l=n===a,c="".concat(o.icon).concat(l?"_selected":"");return i.a.createElement("div",{key:a,className:y()("option",{selected:l}),onClick:function(){e.setSelected(a)},onKeyDown:function(){e.setSelected(a)},role:"option",tabIndex:"0","aria-selected":l},i.a.createElement(s.c,{name:"shared/".concat(c,".svg"),alt:"icon"}),i.a.createElement("div",null,o.message))}))),i.a.createElement("button",{className:y()("btn btn-md btn-orange",{disabled:null===n}),onClick:this.pressNext},a("Next")))}}])&&O(t.prototype,n),r&&O(t,r),o}(o.Component);_(P,"propTypes",{nextSection:a.a.func,trans:a.a.func.isRequired});var T=n(576);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var a=F(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(o,e);var t,n,r,a=q(o);function o(){var e;A(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return B(D(e=a.call.apply(a,[this].concat(n))),"advance",(function(t,n){var r=e.props.location.state;g({user_type:r.user_type,writer_stage:t,finished_story:n}),app.router.navigate("/start",{trigger:!0})})),e}return t=o,(n=[{key:"render",value:function(){var e=this,t=null,n=this.props,r=n.location,a=n.trans,o=r.hash;return o&&(t=o.substr(1)),i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,h(a)[1]),i.a.createElement("div",{id:"WriterMotivation",className:y()("options",{"has-selection":null!==t})},Object.entries(function(e){return{fun:e("I mostly write for fun"),researching:e("I'm exploring opportunities for my work(s)"),pursuing_career:e("I'm pursuing a career as a writer"),professional:e("I am a professional writer"),none:e("Not quite any of these...")}}(a)).map((function(n){var a=x(n,2),o=a[0],s=a[1];return null!==t&&t!==o?null:"none"===o?i.a.createElement("a",{key:o,href:"/start",onClick:function(t){t.preventDefault(),e.advance({motivation:o})},className:y()("option","on-navigate",{selected:t===o})},i.a.createElement("div",null,s)):i.a.createElement(T.a,{key:o,to:{pathname:null===t?"/motivation/novel":"/motivation",hash:null===t?"#".concat(o):"",state:r.state},className:y()("option",{selected:t===o})},i.a.createElement("div",null,s))}))),i.a.createElement(d.a,{path:"/motivation/novel",render:function(){return i.a.createElement("div",{className:"finished-novel"},i.a.createElement("p",null,a("Have you finished writing a novel?")),i.a.createElement("div",{className:"novel-options"},Object.entries(function(e){return{yes:e("Yes"),almost:e("Almost"),no:e("No")}}(a)).map((function(n){var r=x(n,2),a=r[0],o=r[1];return i.a.createElement("a",{className:"option on-navigate",onClick:function(n){n.preventDefault(),e.advance(t,a)},href:"/start",key:a},o)}))))}}),i.a.createElement("a",{href:"/start",className:"skip on-navigate",onClick:function(n){n.preventDefault(),e.advance(t,null)}},a("Skip")))}}])&&L(t.prototype,n),r&&L(t,r),o}(o.Component);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var a=Z(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}B(W,"propTypes",{location:a.a.object,trans:a.a.func.isRequired});var J,Q,X,ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(o,e);var t,n,r,a=G(o);function o(){return z(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.url,n=e.username,r=e.trans,a=Object(f.n)()?l.a:c.a;return i.a.createElement(a,{basename:"/start/writerjourney",location:t,context:{}},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"full-screen background-1 onboarding-bg"}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"onboardingModal modal fade in writerJourney"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-body"},i.a.createElement("div",{className:"onboarding-writer-journey"},i.a.createElement(s.c,{name:"logos/wp-logo-orange.png",alt:"wattpad logo",className:"wp-logo",width:"174"}),i.a.createElement("h4",null,r("Hi @%s",n)),i.a.createElement(u.a,null,i.a.createElement(d.a,{exact:!0,path:"/",render:function(e){return i.a.createElement(P,V({trans:r},e))}}),i.a.createElement(d.a,{path:"/motivation",component:function(e){return i.a.createElement(W,V({trans:r},e))}}),i.a.createElement(d.a,{render:function(){return i.a.createElement(m.a,{to:"/"})}}))))))))))}}])&&Y(t.prototype,n),r&&Y(t,r),o}(o.Component);J=ee,Q="propTypes",X={username:a.a.string,url:a.a.string,trans:a.a.func.isRequired},Q in J?Object.defineProperty(J,Q,{value:X,enumerable:!0,configurable:!0,writable:!0}):J[Q]=X;t.a=Object(f.m)(ee)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(15),l=n(4),c=n.n(l),u=n(82),d=n(9),m=n(3),f=n(5);function p(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}var y=function(e){var t=e.username,n=e.name,r=e.avatar,o=e.badges,i=void 0===o?[]:o,l=e.numStoriesPublished,y=void 0===l?0:l,h=e.numLists,g=void 0===h?0:h,b=e.numFollowers,v=void 0===b?0:b,w=e.following,E=void 0===w?null:w,O=e.index,S=e.onProfileCardClick,C=e.onFollowButtonClick,k=Object(m.h)(),N=k.ngettext,j=k.trans,_=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),n.preventDefault(),e.next=4,C(t,O);case 4:e.sent||(o=j(E?"Unfollow failed. Please try again.":"Follow failed. Please try again."),null===(r=wattpad)||void 0===r||null===(a=r.utils)||void 0===a||a.showToast(o,{type:"dismissable"}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,s,"next",e)}function s(e){p(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return a.a.createElement("div",{className:"profile-card"},a.a.createElement("a",{href:"/user/".concat(t),onClick:function(e){e.preventDefault(),S(t,O)},className:"profile-card-data"},a.a.createElement("img",{className:"display-pic",src:r||"/img/avatar/empty.png",alt:t,"aria-hidden":!0}),a.a.createElement("div",{className:"card-content"},a.a.createElement("div",{className:"sr-only"},"".concat(n||t," @").concat(t)),a.a.createElement("div",{className:"name-and-badges","aria-hidden":!0},a.a.createElement("h5",null,n||t),a.a.createElement("div",{className:"badges"},null==i?void 0:i.map((function(e){return a.a.createElement("div",{className:"user-badge",key:e},a.a.createElement(u.a,{name:e,size:"20"}))})))),a.a.createElement("p",{className:"username","aria-hidden":!0},"@",t),a.a.createElement("div",{className:"card-meta"},a.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(s.sprintf)(N("%s Story","%s Stories",y),Object(s.sprintf)("<b>%s</b>",Object(f.b)(y)))}}),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(s.sprintf)(N("%s Reading list","%s Reading lists",g),Object(s.sprintf)("<b>%s</b>",Object(f.b)(g)))}}),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(s.sprintf)(N("%s Follower","%s Followers",v),Object(s.sprintf)("<b>%s</b>",Object(f.b)(v)))}})))),null!==E&&a.a.createElement("button",{className:c()("follow","btn-load-more",{active:E}),onClick:_,"aria-label":j(E?"Following":"Follow")},a.a.createElement(d.a,{name:E?"userFollowed":"userFollow",size:"24",strokeWidth:"0",className:"follow__icon",fill:!E,"aria-hidden":!0}),a.a.createElement("span",{className:"follow__text","aria-hidden":!0},j(E?"Following":"Follow"))))};y.propTypes={name:i.a.string,username:i.a.string.isRequired,avatar:i.a.string,badges:i.a.array,numFollowers:i.a.number,numLists:i.a.number,numStoriesPublished:i.a.number,following:i.a.bool,index:i.a.number,onProfileCardClick:i.a.func.isRequired,onFollowButtonClick:i.a.func.isRequired};var h=y,g=n(59),b=function(){return a.a.createElement("div",{className:"profile-card-skeleton"},a.a.createElement(g.a,{className:"profile-avatar",animation:!0,circle:!0}),a.a.createElement("div",{className:"card-content-region"},a.a.createElement(g.a,{height:"24px",className:"title-skeleton",animation:!0}),a.a.createElement(g.a,{height:"16px",className:"subtitle-skeleton",animation:!0}),a.a.createElement("div",{className:"card-meta-region"},a.a.createElement(g.a,{width:"60px",height:"16px",animation:!0}),a.a.createElement(g.a,{width:"60px",height:"16px",animation:!0}),a.a.createElement(g.a,{width:"60px",height:"16px",animation:!0}))))};b.propTypes={coverColor:i.a.string};var v=b,w=function(e){var t=e.numSkeletonCards;return a.a.createElement("div",{className:"profile-skeleton-container hidden"},Array.from({length:t},(function(e,t){return a.a.createElement(v,{key:t})})))};w.propTypes={numSkeletonCards:i.a.number.isRequired};var E=w;function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function j(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e,t){return e.following===t.following&&e.numFollowers===t.numFollowers},x=a.a.memo(h,R),I=function(e){var t=e.users,n=void 0===t?[]:t,o=e.searchTerm,i=e.isMobile,l=_(Object(r.useState)(n),2),c=l[0],u=l[1],d=_(Object(r.useState)(n.length>=(i?10:20)),2),f=d[0],p=d[1],y=_(Object(r.useState)(n.length),2),h=y[0],g=y[1],b=_(Object(r.useState)(-1),2),v=b[0],w=b[1],S=_(Object(r.useState)(0),2),k=S[0],P=S[1],T=Object(m.h)(),R=T.trans,I=T.ngettext,A=Object(r.useCallback)((function(e){e&&e.focus()}),[]),L=function(e,t){var n,r;null===(n=app)||void 0===n||null===(r=n.trigger)||void 0===r||r.call(n,"app:component:search:profile:follow:clearCache",e,t)},M=function(e,t){var n,r;window.te.push("event","search","user",null,"click",{userid:e,search:o,position:t}),null===(n=app)||void 0===n||null===(r=n.trigger)||void 0===r||r.call(n,"app:component:search:profile:click:clearCache"),app.router.navigate("/user/".concat(e),{trigger:!0})},q=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,a,o,i,s,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===(r=wattpad)||void 0===r||null===(a=r.utils)||void 0===a?void 0:a.currentUser().get("username"),i=c[n].following,s="/api/v3/users/".concat(o,"/following"),e.prev=3,e.next=6,$.ajax({url:s,type:!0===i?"DELETE":"POST",data:{users:t}});case 6:if(200!==e.sent.code){e.next=13;break}return l=c[n].numFollowers,d=i?l-1:l+1,u((function(e){return[].concat(j(e.slice(0,n)),[C(C({},e[n]),{},{numFollowers:d,following:!i})],j(e.slice(n+1)))})),L(t,!i),e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 16:return e.prev=16,e.t0=e.catch(3),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[3,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,s,"next",e)}function s(e){N(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(E,{numSkeletonCards:i?10:20}),a.a.createElement("ul",{className:"list-group list-container"},c.map((function(e,t){return a.a.createElement(a.a.Fragment,{key:e.username},t===v&&a.a.createElement("li",{tabIndex:-1,ref:A,className:"list-group-item"},a.a.createElement("span",{className:"sr-only"},Object(s.sprintf)(I("%s more profile","%s more profiles",k),k))),a.a.createElement("li",{className:"list-group-item new-item"},a.a.createElement(x,O({},e,{searchTerm:o,index:t,onProfileCardClick:M,onFollowButtonClick:q}))))}))),f&&a.a.createElement("button",{className:"btn-load-more load-more",onClick:function(){var e="/v4/search/users/?query="+encodeURIComponent(o.trim())+"&limit=".concat(10,"&offset=").concat(h,"&fields=").concat("username,name,avatar,description,numLists,numFollowers,numStoriesPublished,badges,following");Promise.resolve($.get(e)).then((function(e){var t=e.filter((function(e){return!c.some((function(t){return t.username===e.username}))}));w(c.length),P(e.length),u((function(e){return[].concat(j(e),j(t))})),p(e.length>=10),g((function(e){return e+10}))})).catch((function(){wattpad.utils.showToast(R("Something went wrong. Please try again"),{type:"dismissable"})}))}},R("Load more profiles")))};I.propTypes={users:i.a.array,searchTerm:i.a.string,isMobile:i.a.bool};t.a=I},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(5),u=n(3),d=n(15),m=n(2),f=n(177);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.searchTags,n=e.searchTerm,o=e.handleFilterChange,i=Object(u.h)().trans,s={},c=g(Object(r.useState)(""),2),d=c[0],p=c[1],h=g(Object(r.useState)(!1),2),b=h[0],v=h[1],w=g(Object(r.useState)(!1),2),E=w[0],O=w[1];t&&(s.tags=t.map((function(e){return y(y({},e),{},{bgColor:"ds-neutral-40",color:"#121212",activeBgColor:"#121212",activeColor:"#ffffff",className:"refine-by-tag",role:"button",ariaLabel:i("filter by %s",e.name),ariaDescribedBy:"screen-reader-description"})})));var S=function(){var e;if(d.trim().indexOf(" ")>=0)v(!0);else if(v(!1),d.trim()){O(!1);var t=null===(e=d.trim())||void 0===e?void 0:e.replace(/[#\\]/g,"");t&&!n.includes("#".concat(t))?o("".concat(n," #").concat(t),"addTag"):C()}else O(!0)},C=function(){var e;p(""),wattpad.utils.scrollToTop(),null!==(e=wattpad)&&void 0!==e&&e.testGroups.NEW_SEARCH_SKELETON&&($(".story-card-skeleton-container").removeClass("hidden"),$(".story-card-container").addClass("hidden")),setTimeout((function(){var e;null!==(e=wattpad)&&void 0!==e&&e.testGroups.NEW_SEARCH_SKELETON&&($(".story-card-skeleton-container").addClass("hidden"),$(".story-card-container").removeClass("hidden"))}),1e3)};return a.a.createElement("div",{className:"tag-filter-container"},a.a.createElement("div",{className:"refine-by-tag-header"},i("Refine by tag")),a.a.createElement(f.a,{tagGridTags:s,onTagClicked:function(e,t){o({evt:t,tag:e},"toggleTag")},className:"tag-cloud-container"}),a.a.createElement("div",{className:"add-tag"},a.a.createElement("div",{className:"tag-text-box"},a.a.createElement("input",{className:"tag-text-input",type:"text",value:d,placeholder:i("Add a tag to refine by"),onChange:function(e){p(e.target.value),(e.target.value.trim()||""===e.target.value)&&O(!1),e.target.value.trim().indexOf(" ")<0&&v(!1)},onKeyUp:function(e){"Enter"===e.key&&S()}})),a.a.createElement("button",{className:l()("add-tag-btn",{"disabled-btn":b||E}),onClick:S,"aria-disabled":b||E,disabled:b||E,title:i("Add tag")},a.a.createElement(m.e,{className:"add-icon",name:"add",size:"24",color:"ds-neutral-100"})),a.a.createElement("p",{className:"add-tag-error-message","aria-live":"assertive"},b&&i("Tags cannot contain spaces"),E&&i("Tags cannot be empty"))),a.a.createElement("div",{id:"screen-reader-description",className:"hidden"},i("Press enter to toggle tag")))};v.propTypes={searchTags:i.a.array,searchTerm:i.a.string,handleFilterChange:i.a.func};var w=v,E=n(164),O=n(37);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e,t){switch(t.type){case"APPLY":return delete e.error,"free"===t.value||"paid"===t.value?N(N({},e),{},j({free:!1,paid:!1},t.value,!0)):N(N({},e),{},j({},t.value,!0));case"REMOVE":return delete e.error,N(N({},e),{},j({},t.value,!1));default:return N(N({},e),{},{error:"Error in content reducer"})}},P=function(e){var t=e.isMatureUser,n=e.selectedOptions,o=e.handleFilterChange,i=Object(u.h)().trans,s=S(Object(r.useReducer)(_,N({},n)),2),l=s[0],c=s[1],d=Object(r.useRef)(!0);Object(r.useEffect)((function(){d.current?d.current=!1:o(l,"content")}),[l,o]);var m=function(e){c({type:e.currentTarget.checked?"APPLY":"REMOVE",value:e.currentTarget.value})};return a.a.createElement("div",{className:"filter"},a.a.createElement("span",{className:"sr-only"},i("Content")+" "+i("You can select multiple options")),a.a.createElement("div",{className:"filter__title","aria-hidden":!0},i("Content")),a.a.createElement("div",{className:"filter__description","aria-hidden":!0},i("You can select multiple options")),a.a.createElement("div",{className:"filter__options"},a.a.createElement(O.a,{checked:l.complete,onChange:m,value:"complete",contentId:"content1"},i("Only show completed stories")),t&&a.a.createElement(O.a,{checked:l.mature,onChange:m,value:"mature",contentId:"content2"},i("Hide mature stories")),a.a.createElement(O.a,{checked:l.free,onChange:m,value:"free",contentId:"content3"},i("Hide free stories")),a.a.createElement(O.a,{checked:l.paid,onChange:m,value:"paid",contentId:"content4"},i("Hide Paid Stories"))))};P.defaultProps={isMatureUser:!1,handleFilterChange:function(){},selectedOptions:{complete:!1,mature:!1,free:!1,paid:!1}},P.propTypes={isMatureUser:i.a.bool,handleFilterChange:i.a.func,selectedOptions:i.a.object};var T=P,R=n(178);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=["anyLength","oneToTen","tenToTwenty","twentyToFifty","moreThanFifty"],L=function(e){var t=e.selectedOptions,n=e.handleFilterChange,o=Object(u.h)().trans,i=x(Object(R.a)(A,"anyLength",t),2),s=i[0],l=i[1],c=Object(r.useRef)(!0);Object(r.useEffect)((function(){c.current?c.current=!1:n(s,"length")}),[s,n]);var d=function(e){l(e.currentTarget.checked?"APPLY":"REMOVE",e.currentTarget.value)};return a.a.createElement("div",{className:"filter"},a.a.createElement("span",{className:"sr-only"},o("Length")+" "+o("You can select multiple options")),a.a.createElement("div",{className:"filter__title","aria-hidden":!0},o("Length")),a.a.createElement("div",{className:"filter__description","aria-hidden":!0},o("You can select multiple options")),a.a.createElement("div",{className:"filter__options"},a.a.createElement(O.a,{value:"anyLength",checked:s.anyLength,onChange:d,contentId:"length1"},o("Any Length")),a.a.createElement(O.a,{value:"oneToTen",checked:s.oneToTen,onChange:d,contentId:"length2"},o("1 - 10 Parts")),a.a.createElement(O.a,{value:"tenToTwenty",checked:s.tenToTwenty,onChange:d,contentId:"length3"},o("10 - 20 Parts")),a.a.createElement(O.a,{value:"twentyToFifty",checked:s.twentyToFifty,onChange:d,contentId:"length4"},o("20 - 50 Parts")),a.a.createElement(O.a,{value:"moreThanFifty",checked:s.moreThanFifty,onChange:d,contentId:"length5"},o("50 Parts or more"))))};L.defaultProps={handleFilterChange:function(){},selectedOptions:{}},L.propTypes={handleFilterChange:i.a.func,selectedOptions:i.a.object};var M=L,q=function(e){var t=e.searchTerm,n=e.resultType,o=e.numStories,i=e.relatedTags,s=e.selectedOptionsAge,m=e.selectedOptionsLength,f=e.selectedOptionsContent,p=e.isMatureUser,y=void 0!==p&&p,h=Object(u.h)().ngettext,g=Object(u.d)(),b=function(e,n){var r,a,o;if(null!=e&&e.error)console.error("Error with ".concat(n," filter"),e);else if(null!==(r=wattpad)&&void 0!==r&&r.testGroups.NEW_SEARCH_SKELETON&&($(".story-card-skeleton-container").removeClass("hidden"),$(".story-card-container").addClass("hidden")),"age"===n)null===(a=app)||void 0===a||null===(o=a.trigger)||void 0===o||o.call(a,"app:component:filters:updateAge",e);else if("length"===n){var i,s;null===(i=app)||void 0===i||null===(s=i.trigger)||void 0===s||s.call(i,"app:component:filters:updateLength",e)}else if("content"===n){var l,c;null===(l=app)||void 0===l||null===(c=l.trigger)||void 0===c||c.call(l,"app:component:filters:updateContent",e)}else if("addTag"===n){var u,d;null===(u=app)||void 0===u||null===(d=u.trigger)||void 0===d||d.call(u,"app:component:filters:addTag",e)}else if("toggleTag"===n){var m,f;null===(m=app)||void 0===m||null===(f=m.trigger)||void 0===f||f.call(m,"app:component:filters:toggleTag",e.evt,e.tag,t)}};Object(r.useEffect)((function(){g.NEW_SEARCH_SKELETON&&($(".story-card-skeleton-container").addClass("hidden"),$(".story-card-container").removeClass("hidden"))}),[g,s,f]);var v=t.split(" "),O=(v=v.filter((function(e){return!e.startsWith("#")}))).join(" ");return a.a.createElement("div",{className:l()("filters-container",{profiles:"stories"!==n})},a.a.createElement("div",{className:"search-info"},t&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},O),a.a.createElement("div",{"aria-hidden":!0,className:"search-term"},'"'.concat(O,'"'))),"stories"===n&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},Object(d.sprintf)(h("%s result","%s results",o),parseInt(o).toLocaleString())),a.a.createElement("div",{className:"stories-count","aria-hidden":!0},Object(d.sprintf)(h("%s result","%s results",o),Object(c.b)(o))))),"stories"===n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(M,{selectedOptions:m,handleFilterChange:b}),a.a.createElement(E.a,{selectedOptions:s,handleFilterChange:b}),a.a.createElement(T,{isMatureUser:y,selectedOptions:f,handleFilterChange:b}),a.a.createElement(w,{searchTags:i.tags,searchTerm:t,handleFilterChange:b})))};q.defaultProps={handleFilterChange:function(){}},q.propTypes={searchTerm:i.a.string,resultType:i.a.string,numStories:i.a.number,relatedTags:i.a.object,selectedOptionsAge:i.a.object,selectedOptionsLength:i.a.object,selectedOptionsContent:i.a.object,isMatureUser:i.a.bool};t.a=q},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(6),l=n(112),c=n(79),u=n(111),d=n(9),m=n(3),f=function(e){var t=e.toggleModal,n=Object(m.h)().trans;return a.a.createElement("section",{className:"profile-modal",id:"userClose","aria-hidden":"true"},a.a.createElement("header",{className:"modal-header"},a.a.createElement("div",{className:"pull-right top-right close","data-dismiss":"modal"},a.a.createElement("button",{className:"close-button",onClick:t},a.a.createElement(d.a,{iconName:"fa-remove",size:"16"}))),a.a.createElement("h3",{className:"modal-title"},"Close User Account")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("p",null,"Select Reason:"),a.a.createElement("select",{id:"close-reason"},a.a.createElement("option",{value:"banned_explicit"},"Banned - Explicit"),a.a.createElement("option",{value:"banned_self_harm"},"Banned - Self Harm"),a.a.createElement("option",{value:"copyright"},"Copyright Infringement"),a.a.createElement("option",{value:"csem"},"CSEM found"),a.a.createElement("option",{value:"csem_image_moderation"},"CSEM found by image moderation"),a.a.createElement("option",{value:"cyberbullying_harassment"},"Cyberbullying/Harassment"),a.a.createElement("option",{value:"extremism"},"Extremism"),a.a.createElement("option",{value:"poaching"},"Poaching"),a.a.createElement("option",{value:"previous_account_closed"},"Previous account closed"),a.a.createElement("option",{value:"sexual_messaging"},"Sexual Messaging"),a.a.createElement("option",{value:"spam"},"Spam"),a.a.createElement("option",{value:"underage"},"Underage"))),a.a.createElement("footer",{className:"modal-footer"},a.a.createElement("button",{className:"btn btn-orange on-close-user-account"},n("Close Account"))))};f.propTypes={toggleModal:i.a.func.isRequired};var p=f,y=function(e){var t=e.toggleModal,n=Object(m.h)().trans;return a.a.createElement("section",{className:"profile-modal",id:"userTimeout","aria-hidden":"true"},a.a.createElement("header",{className:"modal-header"},a.a.createElement("div",{className:"pull-right top-right close","data-dismiss":"modal"},a.a.createElement("button",{className:"close-button",onClick:t},a.a.createElement(d.a,{iconName:"fa-remove",size:"16"}))),a.a.createElement("h3",{className:"modal-title"},"User Time-Out")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("p",null,"Duration:"),a.a.createElement("select",{id:"timeout-duration"},a.a.createElement("option",{value:"86400"},"1 Day"),a.a.createElement("option",{value:"172800"},"2 Days")),a.a.createElement("p",null,"Reason:"),a.a.createElement("textarea",{className:"form-control","aria-multiline":"true",id:"timeout-reason",name:"timeout-reason",rows:"10",cols:"46"})),a.a.createElement("footer",{className:"modal-footer"},a.a.createElement("button",{type:"button",className:"btn btn-orange on-timeout-user"},n("Save"))))};y.propTypes={toggleModal:i.a.func.isRequired};var h=y,g=n(2),b=n(8),v=n(38),w=n(42),E=n(113);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=e.profileType,n=e.username,o=e.avatar,i=e.name,s=e.backgroundUrl,d=e.highlight_colour,f=e.numFollowers,y=e.numStoriesPublished,b=e.numLists,v=e.toggleModal,S=e.toggleToast,C=e.onUnmute,k=e.onUnblock,N=e.onBlock,j=e.recentlyMuted,_=e.recentlyBlocked,P=e.isMobile,T=e.isMuted,R=e.safety,x=e.isAmbassador,I=Object(m.h)().trans,A=Object(m.d)(),L=O(Object(r.useState)(t),2),M=L[0],q=L[1],U=O(Object(r.useState)(_),2),D=U[0],F=U[1],B=O(Object(r.useState)(!1),2),W=B[0],H=B[1];Object(r.useEffect)((function(){return S(W?{className:"unblock",body:I("%s is now unblocked. You can block them at any time.",n)}:"mute"===M&&j?{className:"mute",body:I("%s is now muted. You can unmute them at any time.",n)}:{className:"block",body:I("%s is now blocked. You can unblock them at any time.",n)}),function(){S()}}),[j,I,n,S,M,_,W]);var V=function(e){var t={username:n,toggleModal:v,onUnmute:C,buttonRef:e.current},r=function(){return a.a.createElement(c.a,t)};r.displayName="UnmuteModal",v({type:"unmute",className:"unmute-modal",hideClose:!0,component:r})},z=function(e){var t={username:n,toggleModal:v,onUnblock:$,buttonRef:e.current},r=function(){return a.a.createElement(u.a,t)};r.displayName="UnblockModal",v({type:"unblock",className:"unblock-modal",hideClose:!0,component:r})},Y=function(e){R.isMuted&&(q("block"),F(!0),H(!1)),N(e)},$=function(e){R.isMuted&&(q("mute"),H(!0)),k(e)};return a.a.createElement("div",{id:"restricted-profile",className:"profile-layout"},a.a.createElement(l.a,{username:n,avatar:o,name:i,backgroundUrl:s,highlight_colour:d,numFollowers:f,numStoriesPublished:y,numLists:b,onUnmute:V,profileType:M,blockUser:Y,onUnblock:z,isMobile:P,className:"restricted-profile-header"}),A.BLOCK_MVP&&a.a.createElement("div",{id:"page-navigation",className:"sub-navigation"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"navigation-content"},a.a.createElement("nav",{className:"navigation"},a.a.createElement("ul",{className:"nav-list"},a.a.createElement("li",{className:"nav-item","data-section":"about"},a.a.createElement("button",{className:"section btn-link"},I("About"))),a.a.createElement("li",{className:"nav-item","data-section":"conversations"},a.a.createElement("button",{className:"section btn-link"},I("Conversations"))),!P&&a.a.createElement("li",{className:"nav-item","data-section":"following"},a.a.createElement("button",{className:"section btn-link"},I("Following"))))),!P&&a.a.createElement("div",{className:"actions"},a.a.createElement("div",{className:"button-group inline-block relative"},a.a.createElement(E.a,{username:n,isMuted:("mute"===M||T)&&"block"!==M,isAmbassador:x,isBlocked:"block"===M,onCloseAccount:function(){var e={toggleModal:v},t=function(){return a.a.createElement(p,e)};t.displayName="CloseAccountModal",v({type:"closeAccountModal",className:"close-account-modal",hideClose:!0,component:t})},onTimeout:function(){var e={toggleModal:v},t=function(){return a.a.createElement(h,e)};t.displayName="TimeoutModal",v({type:"timeoutModal",className:"timeout-modal",hideClose:!0,component:t})},unmuteUser:V,unblockUser:z,blockUser:Y,isRestrictedProfile:!0,showModerationOptions:!0})))))),j&&a.a.createElement(w.a,null),(_||D)&&a.a.createElement(w.a,null),W&&a.a.createElement(w.a,null),a.a.createElement(g.n,null))};C.propTypes={profileType:i.a.string.isRequired,username:i.a.string.isRequired,backgroundUrl:i.a.string,avatar:i.a.string,highlight_colour:i.a.string,numStoriesPublished:i.a.number,numLists:i.a.number,numFollowers:i.a.number,name:i.a.string,toggleModal:i.a.func,toggleToast:i.a.func,onUnmute:i.a.func,onUnblock:i.a.func,onBlock:i.a.func,recentlyMuted:i.a.bool,recentlyBlocked:i.a.bool,isMobile:i.a.bool,isBlocked:i.a.bool,isMuted:i.a.bool,isAmbassador:i.a.bool,safety:i.a.object};t.a=Object(s.b)(null,{toggleModal:b.c,toggleToast:v.c})(C)},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(0),a=n.n(r),o=n(161),i=n(1),s=n.n(i),l=n(4),c=n.n(l),u=n(3),d=n(59);function m(e){var t=e.coverColor,n=Object(u.d)();return a.a.createElement("div",{className:c()("story-card-skeleton",{"not-in-new-container":!n.NEW_SEARCH_STORY_CARD_CONTAINER})},a.a.createElement("div",{className:"top-section"},a.a.createElement("div",{className:"cover-skeleton"},a.a.createElement(d.a,{width:"100%",height:"100%",animation:!0,color:t,styles:{borderRadius:"4px"}})),a.a.createElement("div",{className:"title-skeleton"},a.a.createElement(d.a,{width:"100%",height:"28px",animation:!0}))),a.a.createElement("div",{className:"bottom-section"},a.a.createElement(d.a,{width:"100%",height:"100%",animation:!0})))}function f(e){var t=e.numSkeletonCards;return a.a.createElement("div",{className:"story-card-skeleton-container hidden"},a.a.createElement("ul",{className:"list-group new-list-group"},Array.from({length:t},(function(e,t){return a.a.createElement("li",{key:t,className:"list-group-item"},a.a.createElement(m,{coverColor:"@ds-neutral-60-solid"}))}))))}m.propTypes={coverColor:s.a.string},f.propTypes={numSkeletonCards:s.a.number};var p=n(15),y=n(5);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.stories,n=void 0===t?[]:t,i=e.searchTerm,s=e.nextUrl,l=e.isMobile,c=e.numStories,d=e.viewedStories,m=void 0===d?[]:d,b=l?3:15,w=E(Object(r.useState)(n),2),O=w[0],S=w[1],C=c<b?O.length:b,k=E(Object(r.useState)(C),2),N=k[0],j=k[1],_=E(Object(r.useState)(s),2),P=_[0],T=_[1],R=E(Object(r.useState)(-1),2),x=R[0],I=R[1],A=E(Object(r.useState)(n.length),2),L=A[0],M=A[1],q=Object(u.h)(),U=q.trans,D=q.ngettext,F=Object(r.useCallback)((function(e){e&&e.focus()}),[]),B=!!P,W=function(e,t,n){var r,a;m.includes(e)||(window.te.push("event","story",null,null,"view",{storyid:e,page:"search",position:t,query:[i],algo_source:n}),null===(r=app)||void 0===r||null===(a=r.trigger)||void 0===a||a.call(r,"app:component:stories:view",e))};return a.a.createElement("div",{className:"feed-item-new panel new-container"},a.a.createElement("div",{className:"story-card-container"},a.a.createElement("ul",{className:"list-group new-list-group"},O.map((function(e,t){return a.a.createElement(a.a.Fragment,{key:e.id},t===x&&a.a.createElement("li",{tabIndex:-1,ref:F,className:"more-stories"},a.a.createElement("span",{className:"sr-only"},Object(p.sprintf)(D("%s more story","%s more stories",L),L))),a.a.createElement("li",{className:"list-group-item"},a.a.createElement(o.a,h({},e,{searchTerm:i,index:t,viewedStories:m,pushViewEvent:W}))))}))),B&&a.a.createElement("button",{className:"btn-load-more load-more",onClick:function(){var e=P;Promise.resolve($.get(e)).then((function(e){var t=e.stories.filter((function(e){return!O.some((function(t){return t.id===e.id}))})).map((function(e){return v(v({},e),{},{language:e.language.id})}));M(t.length),S((function(e){return[].concat(g(e),g(t))})),j(N+b>c?c:N+b),T(e.nextUrl),I(O.length)})).catch((function(){wattpad.utils.showToast(U("Something went wrong. Please try again"),{type:"dismissable"})}))}},U("Load more stories")),a.a.createElement("div",{className:"results",dangerouslySetInnerHTML:{__html:U("You are seeing %s of %s results","<strong>".concat(N,"</strong>"),"<strong>".concat(Object(y.b)(Math.max(c,N)),"</strong>"))}})),!l&&a.a.createElement(f,{numSkeletonCards:15}))}C.propTypes={stories:s.a.array,searchTerm:s.a.string,nextUrl:s.a.string,showMore:s.a.bool,isMobile:s.a.bool,numStories:s.a.number,viewedStories:s.a.array}},function(e,t,n){"use strict";var r=n(12),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n.n(c),d=n(2),m=n(3),f=n(47);function p(e){var t,n,r=e.onPurchase,a=e.onCancelPurchase,o=e.toggleModal,i=e.currentPartIsBlocked,s=e.price,l=e.isPurchasingStory,c=Object(m.h)().trans;return l?(t=c("Unlock whole story"),n=c("You are about to use %s Coins to unlock this story",s)):i?(t=c("Unlock this part"),n=c("You are about to use %s Coins to unlock this part",s)):(t=c("Unlock next part"),n=c("You are about to use %s Coins to unlock the next part",s)),u.a.createElement(u.a.Fragment,null,u.a.createElement("h3",null,n),u.a.createElement("div",{className:"purchase-options"},u.a.createElement("button",{onClick:function(){a(),o()},className:"btn btn-grey cancel"},c("Cancel")),u.a.createElement("button",{onClick:function(){o(),r()},className:"btn btn-orange confirm-unlock"},u.a.createElement(f.a,{width:"24px",height:"24px"}),u.a.createElement("span",null,t))))}p.propTypes={onPurchase:l.a.func.isRequired,onCancelPurchase:l.a.func.isRequired,toggleModal:l.a.func.isRequired,currentPartIsBlocked:l.a.bool.isRequired,price:l.a.number.isRequired,isPurchasingStory:l.a.bool.isRequired};var y=n(5),h=n(8),g=n(99),b=n(75),v=n(6),w=n(320),E=n.n(w);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var a=P(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(s,e);var t,n,r,o=N(s);function s(){var e;S(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return T(_(e=o.call.apply(o,[this].concat(n))),"onPurchase",(function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.props,i=o.buyPaidContent,s=o.blockedPart,l=o.fetchWalletBalance,c=o.startPaidContentPurchase,d=o.markPaidContentPurchaseSuccessful,m=o.finishPaidContentPurchase,f=o.trans,h=o.isDesktop,g=o.group,b=o.toggleModal,v=o.amount,w=o.onBuyCoins,O=o.currentPartIsBlocked,S=t<=v;if(!S)return window.te.push("event","paywall","purchase",null,"failed",{page:"reading",storyid:n,partid:r,cost:t,starting_balance:v,part_index:k}),void w();h||Object(y.t)(e.paywallRef,-25);var C=function(){return window.te.push("event","paywall","purchase",null,"cancelled",{page:"reading",storyid:n,partid:r,cost:t,part_index:k,content_type:r?"part":"story"})},k=Object(y.j)(s.id,g),N=void 0===r&&!a;N?b({component:function(a){var o=a.toggleModal;return u.a.createElement(p,{onPurchase:function(){e.onPurchase(t,n,r,!0)},onCancelPurchase:C,toggleModal:o,currentPartIsBlocked:O,isPurchasingStory:!r,price:t})},className:"purchase-confirmation",onCloseModal:C}):Promise.all([i(t,n,r,k),c(t,r)]).then((function(){return l(wattpad.user.username,!0),d()})).then(m).then((function(){var t="/".concat(s.id);window.app.router.navigate(t,{trigger:!0}),setTimeout((function(){var t=e.props.group.user,n=E.a.renderToString(u.a.createElement(I,{trans:f,user:t}));window.wattpad.utils.showToast(n,{dismissAfterDuration:6e3})}),700)})).catch((function(){m()}))})),T(_(e),"renderAuthorDetails",(function(){var t=e.props,n=t.isDesktop,r=t.group,a=t.trans,o=r.user,i=r.description,s=o.username,l=o.name,c=o.avatar;return n?u.a.createElement("div",{className:"author-info desktop"},u.a.createElement("a",{className:"on-navigate",href:"/user/".concat(s)},u.a.createElement("div",{className:"avatar avatar-lg center-block"},u.a.createElement(d.a,{avatar:c,username:s}))),u.a.createElement("div",{className:"info"},u.a.createElement("a",{className:"on-navigate",href:"/user/".concat(s)},u.a.createElement("span",{className:"center-block",dangerouslySetInnerHTML:{__html:a("by <strong>%s</strong>",l)}})),u.a.createElement("a",{className:"on-navigate",href:"/user/".concat(s)},u.a.createElement("div",null,"@".concat(s))),u.a.createElement("div",{className:"description"},Object(y.u)(i,70)))):u.a.createElement("div",{className:"author-info mobile"},u.a.createElement("div",{className:"avatar avatar-sm center-block"},u.a.createElement(d.a,{avatar:c,username:s})),u.a.createElement("span",{dangerouslySetInnerHTML:{__html:a('by <a href=%s class="on-navigate">%s</a>',"/user/".concat(s),s)}}))})),T(_(e),"getConditionalCopy",(function(e,t,n,r){var a,o=r(e?"Unlock this part":"Unlock next part");a=r(e?t?"Unlock this story part or the entire story.":"Unlock this story part.":t?"Unlock a new story part or the entire story.":"Unlock a new story part.");var i=r(t?"Either way, your Coins help writers earn money for the stories you love.":"Your Coins help writers earn money for the stories you love.");return{buyPartCopy:o,supportCtaCopy:n||"".concat(a," ").concat(i)}})),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockedPart,n=e.amount,r=e.group;if(t){var a=Object(y.j)(t.id,r);window.te.push("event","paywall",null,null,"view",{page:"reading",storyid:r.id,partid:t.id,starting_balance:n,part_index:a})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.blockedPart,r=t.currentPartIsBlocked,o=t.group,s=t.storyPrice,l=t.remainingBlockedParts,c=t.purchase,m=t.isDesktop,p=t.trans,y=t.showStoryPaywallModal,h=t.onBuyCoins,b=t.isHybeStory,v=o.user,w=o.id,E=o.completed,O=v.username,S=v.name,C=n.price,k=n.id,N=n.blockedMessage,j=c.isPurchasing,_=a.a.isNumber(s),P=E&&_,T=this.getConditionalCopy(r,P,N,p),R=T.buyPartCopy,x=T.supportCtaCopy;return u.a.createElement("div",{className:"story-part-paywall",ref:function(t){return e.paywallRef=t}},u.a.createElement("div",{className:"lock-circle"},u.a.createElement(d.e,{iconName:"fa-lock",height:"16",color:"wp-neutral-2"})),!m&&u.a.createElement(g.a,{onWalletClick:h}),u.a.createElement("div",{className:"cta"},u.a.createElement("h2",null,b&&!E?p("New parts added weekly"):p("Show your support for %s, and continue reading this story",S)),this.renderAuthorDetails(),u.a.createElement("div",{className:"become-a-supporter"},x)),u.a.createElement("div",{className:"purchase-buttons-container"},P&&u.a.createElement("button",{onClick:function(){return e.onPurchase(s,w)},className:i()("btn btn-primary unlock unlock-story",{disabled:j})},u.a.createElement("span",{className:"cost"},u.a.createElement(f.a,{height:"24px",width:"24px"}),u.a.createElement("span",{className:"price"},s)),u.a.createElement("span",{className:"unlock-copy"},u.a.createElement("strong",null,p("Unlock whole story")))),u.a.createElement("button",{onClick:function(){return e.onPurchase(C,w,k)},className:i()("btn btn-primary unlock unlock-part",{disabled:j})},u.a.createElement("span",{className:"cost"},u.a.createElement(f.a,{height:"24px",width:"24px"}),u.a.createElement("span",{className:"price"},C)),u.a.createElement("span",{className:"unlock-copy"},u.a.createElement("strong",null,R)))),u.a.createElement("div",{className:"more-details"},P&&u.a.createElement("p",{dangerouslySetInnerHTML:{__html:p("This story has <strong>%s remaining parts</strong>",l)}}),p("See how Coins support your favorite writers like @%s.",O)," ",u.a.createElement("button",{className:"btn-link",onClick:y},p("Learn more"))))}}])&&C(t.prototype,n),r&&C(t,r),s}(u.a.Component);T(R,"propTypes",{blockedPart:l.a.shape({price:l.a.number,id:l.a.number.isRequired,blockedMessage:l.a.string}),currentPartIsBlocked:l.a.bool.isRequired,storyPrice:l.a.number,isDesktop:l.a.bool.isRequired,amount:l.a.number.isRequired,group:l.a.shape({user:l.a.shape({username:l.a.string.isRequired,name:l.a.string.isRequired}),description:l.a.string.isRequired,id:l.a.string.isRequired,completed:l.a.bool}),remainingBlockedParts:l.a.number.isRequired,buyPaidContent:l.a.func,fetchWalletBalance:l.a.func.isRequired,startPaidContentPurchase:l.a.func.isRequired,markPaidContentPurchaseSuccessful:l.a.func.isRequired,finishPaidContentPurchase:l.a.func.isRequired,purchase:l.a.shape({isPurchasing:l.a.bool.isRequired,amountSpent:l.a.number.isRequired,buyingPart:l.a.bool.isRequired}).isRequired,trans:l.a.func.isRequired,toggleModal:l.a.func.isRequired,showStoryPaywallModal:l.a.func,onBuyCoins:l.a.func,isHybeStory:l.a.bool});var x={fetchWalletBalance:b.a,startPaidContentPurchase:b.d,markPaidContentPurchaseSuccessful:b.c,finishPaidContentPurchase:b.b,toggleModal:h.c};t.a=Object(v.b)((function(e){return{purchase:e.purchase,amount:e.wallet.amount}}),x)(Object(y.m)(R));function I(e){var t=e.user,n=e.trans,r=t.name,a=t.username,o=t.avatar;return u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("div",{className:"avatar avatar-md",style:{flexShrink:0,marginRight:12}},u.a.createElement(d.a,{avatar:o,username:a})),u.a.createElement("div",{style:{lineHeight:"normal"}},u.a.createElement("div",{style:{fontSize:17,fontWeight:600,marginBottom:5}},r),u.a.createElement("div",null,"",n("Thank you for the support! I hope you enjoy the story!"),"")))}I.propTypes={user:l.a.shape({username:l.a.string.isRequired,name:l.a.string.isRequired,avatar:l.a.string.isRequired}),trans:l.a.func.isRequired}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(31),c=n(6),u=n(88),d=function(e){var t=e.title,n=e.mainContent,r=e.secondaryContent,o=e.link,i=e.button,s=e.closePopover,l=e.handleHelpLink;return a.a.createElement("div",{className:"react-popover-tooltip"},a.a.createElement("h3",{className:"popover-title"},t),a.a.createElement("div",{className:"popover-content"},n&&a.a.createElement("div",{className:"main-content"},n),r&&a.a.createElement("div",{className:"secondary-content"},r),a.a.createElement("div",{className:"tooltip-footer"},o&&a.a.createElement("a",{target:"blank",href:o.href,onClick:l},o.text),i&&a.a.createElement("button",{className:"btn on-okay btn-orange",onClick:function(){return s()}},i.text))))};d.defaultProps={closePopover:function(e){return e.preventDefault()},handleHelpLink:function(){}},d.propTypes={title:i.a.string,mainContent:i.a.string,secondaryContent:i.a.string,link:i.a.object,button:i.a.object,closePopover:i.a.func,handleHelpLink:i.a.func};var m=d,f=n(137);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.story,n=e.openPopover,o=e.handleUpdateCopyright,i=Object(s.h)().trans,l=Object(r.useRef)(),c=Object(f.b)(),d=Object(f.a)(),h=t&&t.copyright?t.copyright+"":"1",g=y(Object(r.useState)(h),2),v=g[0],w=g[1],E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.te.push("event","copyright","story",e,t,n)},O=function(){E(null,"learn_more",{storyid:t.id,target:"hc_copyright_faq"})};return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.a,{label:i("Copyright"),dropdownOptions:d,name:"copyright",onFocus:function(){E(null,"open",{storyid:t.id})},onChange:function(e){var n=e.target.value,r=parseInt(n,10);w(n),E("license","select",{storyid:t.id,license_id:r}),o(r)},onBlur:function(){E(null,"close",{storyid:t.id})},selected:v,onClickIcon:function(e){e.preventDefault(),l.current||(l.current=e.currentTarget);n({component:function(e){var t=e.closePopover;return a.a.createElement(m,p({},c.copyright,{closePopover:t,handleHelpLink:O}))},triggerRef:l,passthroughProps:{placement:"top",showArrow:"true"}})},ariaLabel:i("Copyright options")}),a.a.createElement(b,{copyrightId:v,copyrightLicenses:d}))},b=function(e){var t=e.copyrightId,n=e.copyrightLicenses.find((function(e){return e.value.toString()===t}));return a.a.createElement("p",{className:"copyright-description"},n.summary)};b.propTypes={copyrightId:i.a.string,copyrightLicenses:i.a.array},g.defaultProps={story:{}},g.propTypes={openPopover:i.a.func.isRequired,story:i.a.object,handleUpdateCopyright:i.a.func,closePopover:i.a.func};var v=Object(c.b)(null,{openPopover:l.c})(g);t.a=v},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(2),u=n(5);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b,v,w,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,n,r,o=y(i);function i(){return m(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.story,r=t.trans;n.publishedPartsCount=n.parts.filter((function(e){return!e.draft})).length,n.draftPartsCount=n.parts.filter((function(e){return e.draft})).length;var o=r("%s Published part",n.publishedPartsCount);n.publishedPartsCount>1&&(o=r("%s Published parts",n.publishedPartsCount));var i=r("%s - draft",n.draftPartsCount);return n.draftPartsCount>1&&(i=r("%s - drafts",n.draftPartsCount)),a.a.createElement("div",{className:l()("story-list-item",this.props.className),key:n.id,onClick:function(){return e.props.onSelectStory(n)},onKeyDown:function(){return e.props.onSelectStory(n)},role:"row",tabIndex:"0"},a.a.createElement("img",{className:"story-cover",src:n.cover,alt:"".concat(n," cover")}),a.a.createElement("div",{className:"story-item-details"},a.a.createElement("h4",{className:"story-title"},n.title),a.a.createElement("div",null,n.publishedPartsCount?a.a.createElement("span",{className:"publish-count"},o):"",n.draftPartsCount?a.a.createElement("span",{className:"draft-count"},"",i):""),a.a.createElement("div",{className:"updated-date"},r("Updated %s",Object(u.e)(n.modifyDate))),a.a.createElement("div",{className:"meta-wrapper"},a.a.createElement("span",{className:"story-meta"},a.a.createElement(c.e,{iconName:"fa-view",height:"12",color:"wp-neutral-3"}),Object(u.b)(n.readCount).toString()),a.a.createElement("span",{className:"story-meta"},a.a.createElement(c.e,{iconName:"fa-vote",height:"12",color:"wp-neutral-3"}),Object(u.b)(n.voteCount).toString()),a.a.createElement("span",{className:"story-meta"},a.a.createElement(c.e,{iconName:"fa-comment",height:"12",color:"wp-neutral-3"}),Object(u.b)(n.commentCount).toString()))))}}])&&f(t.prototype,n),r&&f(t,r),i}(a.a.Component);b=E,v="propTypes",w={story:i.a.object.isRequired,className:i.a.string,trans:i.a.func.isRequired,onSelectStory:i.a.func},v in b?Object.defineProperty(b,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[v]=w;var O=Object(u.m)(E);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var a=T(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(i,e);var t,n,r,o=j(i);function i(){var e;C(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(P(e=o.call.apply(o,[this].concat(n))),"state",{done:!1,selectedStory:e.props.selectedStoryId,uploading:!1}),R(P(e),"selectStory",(function(t){e.setState({selectedStory:t.id})})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this,t=window.wattpad.utils.currentUser().toJSON().username;this.setState({newCover:document.getElementById("newCover").getAttribute("src")}),$.get("/api/v3/users/".concat(t,"/stories")).then((function(t){e.setState({works:t.stories.sort((function(t,n){return e.state.selectedStory&&t.id==e.state.selectedStory?-1:e.state.selectedStory&&n.id==e.state.selectedStory?1:0}))})}))}},{key:"detectCanvasSupport",value:function(){return!!document.createElement("canvas").getContext}},{key:"captureCover",value:function(e){if(this.detectCanvasSupport())return new Promise((function(t){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var e=document.createElement("canvas");e.width=512,e.height=800,e.getContext("2d").drawImage(n,0,0,512,800),t(e.toDataURL())},n.src=e}))}},{key:"uploadCover",value:function(e){var t=this;this.captureCover(this.state.newCover).then((function(n){if(n)return t.setState({uploading:!0}),Promise.resolve($.ajax({type:"POST",url:"/apiv2/updatestorycover",data:{id:e,image:n.match(/;base64,(.+)$/)[1]}})).then((function(){t.setState({done:!0}),window.te.push("event","writer","cover",null,"add",{storyid:e,source:"canva"})}))}))}},{key:"render",value:function(){var e=this,t=this.props.trans,n=this.state.works?this.state.works:this.props.works?this.props.works:[],r=(this.state.newCover?this.state:this.props).newCover,o=this.state,i=o.done,s=o.uploading;return a.a.createElement("div",{id:"creation-works-listing",className:"container"},i&&a.a.createElement("div",{className:l()("cover-finished")},a.a.createElement("span",{className:"success-message",dangerouslySetInnerHTML:{__html:t("Cover uploaded to <strong>'%s'</strong>",this.state.works.find((function(t){return t.id==e.state.selectedStory})).title)}}),a.a.createElement("a",{href:"/myworks/".concat(this.state.selectedStory),className:"btn btn-md btn-orange"},t("Go to story"))),a.a.createElement("div",{className:"import-cover"},!i&&a.a.createElement("div",{className:"new-cover-block"},a.a.createElement("img",{width:"256",id:"newCover",src:r,alt:"new cover"})),!i&&a.a.createElement("div",{className:"user-story-list"},a.a.createElement("h3",null,t("Add cover to selected story")),s&&a.a.createElement(c.c,{name:"/icons/spinner-black.svg",className:"progress-spinner fa-spin",alt:t("Spinner"),height:"48",width:"48"}),!s&&n.map((function(t){var n=!1;return e.state.selectedStory&&e.state.selectedStory==t.id&&(n=!0),a.a.createElement(O,{key:t.id,story:t,className:l()({selected:n}),onSelectStory:e.selectStory})})))),!i&&a.a.createElement("div",{className:l()("continue-nav",{hidden:i})},a.a.createElement("button",{onClick:this.uploadCover.bind(this,this.state.selectedStory),className:l()("btn btn-md btn-orange",{disabled:!this.state.selectedStory})},t("Next"))))}}])&&k(t.prototype,n),r&&k(t,r),i}(a.a.Component);R(x,"propTypes",{works:i.a.array,coverUri:i.a.string,selectedStoryId:i.a.string,trans:i.a.func.isRequired});t.a=Object(u.m)(x)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(123),l={id:1,title:"The Ugly Barnacle",description:"A story about an ugly barnacle",cover:"https://img.wattpad.com/cover/197712604-512-k40d0e0.jpg",isPaid:!0,tags:["shortstory","sad","tragedy"],sources:["a","b","c"],width:200,index:1,numParts:10,completed:!0,mature:!1,firstPartId:123},c=Array(10).fill(l);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,s,"next",e)}function s(e){d(o,r,a,i,s,"throw",e)}i(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y="stories(id,title,tags,cover)",h={sectionType:"swimlane",index:0,setPosition:function(){},windowWidth:1920,wasSeen:!1},g=function(e){var t=f(Object(r.useState)([]),2),n=t[0],o=t[1];Object(r.useEffect)((function(){function t(){return(t=m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!n.length&&e.rootTopic&&$.get("/v4/paid_stories/tags/".concat(e.rootTopic.get("name"),"?fields=").concat(y)).then((function(e){return e.stories.map((function(e){return e.isPaid=!0,e}))})).then((function(e){return o(e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.rootTopic,n.length]);var i=!(!n.length||!e.rootTopic);return a.a.createElement(a.a.Fragment,null,i&&a.a.createElement(s.a,u({},h,{page:"tags",wasSeen:!0,sectionType:"tags_paid_carousel",heading:"Hottest Paid Stories",subheading:"Read the stories we love",stories:n.length?n:c.slice(0,7),isPromoted:!1,storiesToShow:7,storyWidth:112})))};g.propTypes={rootTopic:i.a.object};t.a=g},,,,,,function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(5),l=n(3),c=n(2),u=n(124),d=n(181),m=n(176);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=y||e,h=function(e){var t=e.user,n=(t=void 0===t?{}:t).username,o=t.avatar,i=e.cover,p=e.isLoggedInUser,h=e.isPaid,g=e.isPaidPreview,b=e.firstPartId,v=e.statsItems,w=e.title,E=void 0===w?"Placeholder title TBD":w,O=e.storyId,S=e.readingLists,C=e.storiesCollections,k=e.sources,N=e.writerPreviewHasBannedCover,j=f(Object(r.useState)(y.innerWidth),2),_=j[0],P=j[1],T=f(Object(r.useState)(.3*_),2),R=T[0],x=T[1],I=Object(l.h)().trans,A=36,L=36;Object(l.c)("resize",(function(){P(y.innerWidth),x(_>650?195:.3*_)})),_<=575&&(A=22,L=16);var M=Object(s.r)(i,R);return a.a.createElement("div",{className:"story-header"},a.a.createElement("div",{className:"story-cover"},M?a.a.createElement("img",{src:M,alt:""}):a.a.createElement("img",{src:i,alt:""}),N&&a.a.createElement("div",{className:"banned-overlay"},a.a.createElement(c.e,{name:"warning-triangle",size:"68",color:"wp-warning-01",viewBox:"24",className:"warning-icon"}))),a.a.createElement("div",{className:"story-info"},h&&a.a.createElement("div",{className:"paid-indicator"},a.a.createElement(c.e,{name:"paidStory",className:"paid-stories-badge",size:"20",viewBox:"20",color:"ds-neutral-80",strokeWidth:"0",fill:!0}),a.a.createElement("span",null,I("Paid story"))),a.a.createElement("span",{className:"sr-only"},E),a.a.createElement("div",{"aria-hidden":"true",className:"story-info__title"},Object(s.u)(E,A,!1)),n&&a.a.createElement(m.a,{username:n,avatar:o,authorCharLimit:L}),a.a.createElement(u.a,{statsItems:v,className:"hidden-xxs",showTooltip:!0}),a.a.createElement(d.a,{className:"hidden-xxs",isLoggedInUser:p,isPaid:h,isPaidPreview:g,firstPartId:b,storyId:O,readingLists:S,sources:k,storiesCollections:C})))};h.propTypes={user:i.a.shape({username:i.a.string,avatar:i.a.string.isRequired}),cover:i.a.string.isRequired,firstPartId:i.a.number,isLoggedInUser:i.a.bool,isPaid:i.a.bool,isPaidPreview:i.a.bool,statsItems:i.a.arrayOf(i.a.object),title:i.a.string,storyId:i.a.number,readingLists:i.a.array,storiesCollections:i.a.object,sources:i.a.array,writerPreviewHasBannedCover:i.a.bool},t.a=h}).call(this,n(40))},function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(175),l=n(100),c=n(156),u=n(73),d=n(84),m=n.n(d),f=n(3);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=h||e,g=function(e){var t=e.stories,n=e.userLang,o=e.page,i=p(Object(r.useState)(!1),2),d=i[0],y=i[1],g=Object(r.useRef)(),b=Object(u.a)()&&h.innerWidth<575,v=Object(f.h)().trans,w=m()(n);return Object(r.useEffect)((function(){if(!d&&b){var e=_.throttle((function(){if(g.current){var e=g.current.getBoundingClientRect(),t=e.top,n=e.bottom;t>=0&&n<=h.innerHeight&&y(!0)}}),300);return h.addEventListener("scroll",e),function(){h.removeEventListener("scroll",e)}}}),[d,y,g,b]),a.a.createElement("div",{className:"story-list"},a.a.createElement("div",{className:"story-list__container"},a.a.createElement("div",{className:"story-list__DW_title"},v("You may also like")),t&&t.map((function(e,t){return a.a.createElement("div",{key:t,className:"story-list__item"},a.a.createElement(c.a,{id:e.id,cover:e.cover,title:e.title,user:e.user,description:e.description,url:e.url,descCharLimit:100,isPaywalled:e.isPaywalled,isCompleted:e.completed,isMature:e.mature,numParts:e.numParts,isFeatureFlagged:!0,isMobile:b}))}))),a.a.createElement("div",{ref:g,className:"story-list__MW_title"},v("You may also like")),w?a.a.createElement(l.a,{stories:t,sectionType:"similar_stories",windowWidth:h.innerWidth,wasSeen:d&&b,page:o}):a.a.createElement(s.a,{stories:t,sectionType:"similar_stories",windowWidth:h.innerWidth,userLang:n,page:o,wasSeen:d&&b}))};g.propTypes={stories:i.a.array,userLang:i.a.number,page:i.a.string},t.a=g}).call(this,n(40))},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(0),a=n.n(r),o=n(6),i=n(118),s=n(1),l=n.n(s),c=n(3),u=n(123);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=f||e;function p(e){var t=e.loadPaidStoriesList,n=e.paidStoriesListByTag,o=d(Object(r.useState)(f.innerWidth),2),i=o[0],s=o[1];Object(c.c)("resize",(function(){s(f.innerWidth)})),Object(c.f)({direction:"down",threshold:200,onThreshold:function(){t()}}),Object(r.useEffect)((function(){t()}),[t]);var l=Object(c.h)().trans,m={ongoingstories:l("Ongoing Stories"),featuredpicks:l("Featured Picks"),onsale:l("On Sale"),teenfiction:l("Contemporary Teen Fiction"),romance:l("Adult Romance"),lgbt:l("LGBTQIAP+"),newadult:l("New Adult Romance"),fantasy:l("High Fantasy"),featuredstories:l("Featured Stories"),newreleases:l("New Releases"),werewolf:l("Werewolf"),diverselit:l("Diverse Lit"),wattpadbooks:l("Wattpad Books"),lessthan74coins:l("Deals: Stories for 74 coins or less"),urbanfantasy:l("Urban Fantasy"),genreyoungadult:l("Genre Young Adult"),historicalfiction:l("Historical Fiction"),paranormal:l("Paranormal"),sciencefiction:l("Science Fiction"),vampire:l("Vampire"),series:l("Series"),chicklit:l("ChickLit"),sexyandsteamy:l("Sexy and Steamy"),emotionalanduplifting:l("Emotional and Uplifting"),darkanddisturbing:l("Dark and Disturbing"),mystery:l("Mystery"),horror:l("Horror"),thriller:l("Thriller"),adventure:l("Adventure"),action:l("Action"),humor:l("Humor")};return Object(c.g)(l("Catalog")+" - "+l("Paid Stories")),a.a.createElement("div",{className:"catalog-content"},Object.keys(n).map((function(e){var t=m[e]||e;return a.a.createElement(u.a,{key:e,windowWidth:i,index:0,setPosition:function(){},page:"catalog",wasSeen:!0,sectionType:"paid_view_all_carousel",title:t,heading:t,stories:n[e],isPromoted:!1,withDivider:!1})})))}p.propTypes={loadPaidStoriesList:l.a.func,paidStoriesListByTag:l.a.object};var y=Object(o.b)((function(e){return{paidStoriesListByTag:e.catalog.paidStoriesListByTag}}),{loadPaidStoriesList:i.c})(p)}).call(this,n(40))},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(85),a=n(55);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={modalProps:null};var c=n(31),u=n(13);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n(134),y=n(58),h=n(118),g=n(119),b=n(74),v=n(81),w=n(10);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=n(28);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=n(21),P=n(38),T=n(120),R=n(25);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L={isLoading:!0,hasNotesBeenVisible:!1,data:{id:null,protagonist:{name:null,other_names:"",pronoun:null,attributes:"",extrovert_introvert:null,likeable:null,focus_past_future:null,thinking_feeling:null,decisive_improvise:null,laidback_serious:null,personality_change:null},protagonist_goal:{description:"",physical_emotional:null,type:null,change_themselves_surroundings:null,explore_emotions_world:null,navigate_familiar_unfamiliar:null,recall_past:null,find_meaning:null,take_keep:null,outcome:"",succeed:null,outcome_feeling:null},opportunity:{interested:null,logline:"",story_progress:null,types:null}}};var M=n(121),q=Object(r.c)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},appData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},deviceData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{amount:0,animationStep:u.l.DEFAULT,id:u.d,fetched:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.i:return m(m({},e),{},{amount:t.amount,fetched:!0});case u.k:return m(m({},e),{},{animationStep:t.step});case u.a:return m(m({},e),{},{animationStep:u.l.DEFAULT});default:return e}},purchase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPurchasing:!1,amountSpent:0,buyingPart:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.b:return m(m({},e),{},{amountSpent:t.price,isPurchasing:!0,buyingPart:!!t.partId});case u.a:return m(m({},e),{},{isPurchasing:!1,amountSpent:0});default:return e}},threads:g.a,conversation:b.a,paidMetadata:p.b,modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.c:return i(i({},e),{},{modalProps:e.modalProps?null:t.modalProps});case a.b:return i(i({},e),{},{modalProps:t.modalProps});case a.a:return i(i({},e),{},{modalProps:null});default:return e}},popover:c.b,contestForm:y.a,storyTags:v.b,homeSections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sections:[],sectionBounds:{},error:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.e:return O(O({},e),{},{sections:t.sections});case w.i:return O(O({},e),{},{homeLoading:!0});case w.j:return O(O({},e),{},{homeLoading:!1});case w.t:return O(O({},e),{},{showLoader:!0});case w.f:return O(O({},e),{},{showLoader:!1});case w.p:return O(O({},e),{},{sectionBounds:O(O({},e.sectionBounds),{},S({},t.info.index,t.info))});case w.n:return O(O({},e),{},{contentSettings:t.settings});case w.m:return O(O({},e),{},{message:"no change"});case w.g:return O(O({},e),{},{contentSettingsLoading:!0});case w.h:return O(O({},e),{},{contentSettingsLoading:!1});case w.s:return O(O({},e),{},{sectionBounds:O(O({},e.sectionBounds),{},S({},t.index,O(O({},e.sectionBounds[t.index]),{},{viewed:!0})))});case w.o:return O(O({},e),{},{readingLists:t.lists,readingListsLoading:!1});case w.k:return O(O({},e),{},{readingListsLoading:!0});case w.q:return O(O({},e),{},{storiesCollections:O(O({},e.storiesCollections),t.collections),storiesCollectionsLoading:!1});case w.l:return O(O({},e),{},{storiesCollectionsLoading:!0});case w.a:return O(O({},e),{},{storiesCollections:O(O({},e.storiesCollections),{},S({},t.storyId,O(O({},e.storiesCollections[t.storyId]),{},S({},t.collectionId,!0))))});case w.r:return O(O({},e),{},{storiesCollections:O(O({},e.storiesCollections),{},S({},t.storyId,O(O({},e.storiesCollections[t.storyId]),{},S({},t.collectionId,!1))))});case w.d:return O(O({},e),{},{error:t.error});case w.c:return O(O({},e),{},{error:null});default:return e}},storyInsights:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.h:return N(N({},e),{},{insights:t.insights,areInsights:t.areInsights});case C.b:return N(N({},e),{},{insights:null,areInsights:t.areInsights});case C.g:return N(N({},e),{},{pending:t.pending});default:return e}},profileData:_.d,toast:P.b,catalog:h.a,quests:T.a,storyNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case R.d:return I(I({},e),{},{isLoading:!0});case R.b:var n,r,a,o;return I(I({},e),{},{isLoading:!1,data:{id:parseInt(null===(n=t.data)||void 0===n?void 0:n.id)||L.data.id,protagonist:(null===(r=t.data)||void 0===r?void 0:r.protagonist)||L.data.protagonist,protagonist_goal:(null===(a=t.data)||void 0===a?void 0:a.protagonist_goal)||L.data.protagonist_goal,opportunity:(null===(o=t.data)||void 0===o?void 0:o.opportunity)||L.data.opportunity}});case R.c:return I(I(I({},e),e.data),{},{isLoading:!1});case R.a:return I(I({},e),{},{isLoading:!1});case R.e:return I(I({},e),{},{data:{id:parseInt(t.data.id)||L.data.id,protagonist:t.data.protagonist||L.data.protagonist,protagonist_goal:t.data.protagonist_goal||L.data.protagonist_goal,opportunity:t.data.opportunity||L.data.opportunity}});case R.f:return I(I({},e),{},{hasNotesBeenVisible:!0});default:return e}},worksItemDetails:M.a});t.a=q},,,function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"actions",(function(){return Qe}));n(344),n(530);var r=n(256);n.d(t,"createStore",(function(){return r.a}));var a=n(257);n.d(t,"withRedux",(function(){return a.a}));var o=n(258);n.d(t,"ReactRoot",(function(){return o.a}));var i=n(298);n.d(t,"Inbox",(function(){return i.a}));var s=n(299);n.d(t,"Home",(function(){return s.a}));var l=n(300);n.d(t,"StoryDetails",(function(){return l.a}));var c=n(259);n.d(t,"AnnouncementModal",(function(){return c.a}));var u=n(260);n.d(t,"MenuModal",(function(){return u.a}));var d=n(261);n.d(t,"UserSettingsModal",(function(){return d.a}));var m=n(301);n.d(t,"UserSettings",(function(){return m.a}));var f=n(154);n.d(t,"PleaseVerify",(function(){return f.a}));var p=n(114);n.d(t,"VerifyEmail",(function(){return p.a}));var y=n(167);n.d(t,"ReportModal",(function(){return y.a}));var h=n(109);n.d(t,"MuteModal",(function(){return h.a}));var g=n(79);n.d(t,"UnmuteModal",(function(){return g.a}));var b=n(158);n.d(t,"BlockModal",(function(){return b.a}));var v=n(111);n.d(t,"UnblockModal",(function(){return v.a}));var w=n(2);n.d(t,"MenuOptions",(function(){return w.h})),n.d(t,"Avatar",(function(){return w.a})),n.d(t,"SocialSharing",(function(){return w.l})),n.d(t,"Icon",(function(){return w.e})),n.d(t,"WPModal",(function(){return w.n}));var E=n(262);n.d(t,"BrowseStoryItem",(function(){return E.a}));var O=n(156);n.d(t,"StoryItem",(function(){return O.a}));var S=n(157);n.d(t,"TagCarousel",(function(){return S.a}));var C=n(72);n.d(t,"AppProvider",(function(){return C.AppProvider})),n.d(t,"TagGrid",(function(){return C.TagCloud}));var k=n(159);n.d(t,"TagMeta",(function(){return k.a}));var N=n(27);n.d(t,"TagItem",(function(){return N.a}));var j=n(80);n.d(t,"TagItemWithIcon",(function(){return j.a}));var _=n(263);n.d(t,"LargePromoBanner",(function(){return _.a}));var P=n(264);n.d(t,"CanvaButton",(function(){return P.a}));var T=n(265);n.d(t,"ThemeSettings",(function(){return T.a}));var R=n(112);n.d(t,"ProfileHeader",(function(){return R.a}));var x=n(307);n.d(t,"RestrictedProfile",(function(){return x.a}));var I=n(42);n.d(t,"Toast",(function(){return I.a}));var A=n(113);n.d(t,"ProfileMoreOptionsButton",(function(){return A.a}));var L=n(266);n.d(t,"UserError404",(function(){return L.a}));var M=n(267);n.d(t,"StoryError404",(function(){return M.a}));var q=n(268);n.d(t,"MerchMessage",(function(){return q.a}));var U=n(309);n.d(t,"StoryPartPaywall",(function(){return U.a}));var D=n(269);n.d(t,"StoryPaywallModal",(function(){return D.a}));var F=n(99);n.d(t,"Wallet",(function(){return F.a}));var B=n(270);n.d(t,"WalletWithOnboarding",(function(){return B.a}));var W=n(271);n.d(t,"showPaidOnboardingModal",(function(){return W.a}));var H=n(272);n.d(t,"showBuyCoinsModal",(function(){return H.a}));var V=n(297);n.d(t,"LandingPage",(function(){return V.a}));var z=n(303);n.d(t,"ContestBanner",(function(){return z.a}));var Y=n(273);n.d(t,"ContestForm",(function(){return Y.a}));var $=n(274);n.d(t,"CommentItem",(function(){return $.a}));var G=n(275);n.d(t,"StoryTags",(function(){return G.a}));var K=n(304);n.d(t,"OnboardingWriterJourney",(function(){return K.a}));var Z=n(276);n.d(t,"OnboardingGenres",(function(){return Z.a}));var J=n(277);n.d(t,"OnboardingSuccess",(function(){return J.a}));var Q=n(278);n.d(t,"BannedImageMessaging",(function(){return Q.a}));var X=n(279);n.d(t,"ImageAppealFlow",(function(){return X.a}));var ee=n(280);n.d(t,"PrivacySettings",(function(){return ee.a}));var te=n(53);n.d(t,"Header",(function(){return te.d})),n.d(t,"DSContainer",(function(){return te.c})),n.d(t,"Button",(function(){return te.b}));var ne=n(169);n.d(t,"OneColPage",(function(){return ne.a}));var re=n(281);n.d(t,"WorksItemsDetailsNavBar",(function(){return re.a}));var ae=n(302);n.d(t,"StoryNotes",(function(){return ae.a}));var oe=n(282);n.d(t,"Acknowledge",(function(){return oe.a}));var ie=n(296);n.d(t,"WriterDashboard",(function(){return ie.a}));var se=n(283);n.d(t,"WriterAnalyticsNavBar",(function(){return se.a}));var le=n(284);n.d(t,"WriterStoryStats",(function(){return le.a}));var ce=n(285);n.d(t,"QURLabel",(function(){return ce.a}));var ue=n(286);n.d(t,"LineChartHeader",(function(){return ue.a}));var de=n(287);n.d(t,"MyWorksInsightsCTA",(function(){return de.a}));var me=n(57);n.d(t,"SignupForm",(function(){return me.a}));var fe=n(110);n.d(t,"LoginForm",(function(){return fe.a}));var pe=n(288);n.d(t,"ForgotPassword",(function(){return pe.a}));var ye=n(168);n.d(t,"EmailSignup",(function(){return ye.a}));var he=n(289);n.d(t,"Quests",(function(){return he.a}));var ge=n(290);n.d(t,"EmbeddedQuests",(function(){return ge.a}));var be=n(310);n.d(t,"Copyright",(function(){return be.a}));var ve=n(75),we=n(134),Ee=n(58),Oe=n(16),Se=n(81),Ce=n(74),ke=n(119),Ne=n(21),je=n(38),_e=n(127),Pe=n(121),Te=n(311);n.d(t,"ExternalCoverUpload",(function(){return Te.a}));var Re=n(312);n.d(t,"TagpagePaidStoriesContainer",(function(){return Re.a}));var xe=n(217);n.d(t,"Catalog",(function(){return xe.a})),n.d(t,"CatalogHeader",(function(){return xe.b}));var Ie=n(155);n.d(t,"TryPremium",(function(){return Ie.a}));var Ae=n(291);n.d(t,"ValidationSuccess",(function(){return Ae.a}));var Le=n(160);n.d(t,"SearchBar",(function(){return Le.a}));var Me=n(161);n.d(t,"StoryCard",(function(){return Me.a}));var qe=n(162);n.d(t,"RecentSearches",(function(){return qe.a}));var Ue=n(163);n.d(t,"EducationalBanner",(function(){return Ue.a}));var De=n(164);n.d(t,"LastUpdatedFilter",(function(){return De.a}));var Fe=n(305);n.d(t,"ProfileCardContainer",(function(){return Fe.a}));var Be=n(308);n.d(t,"StoryCardContainer",(function(){return Be.a}));var We=n(165);n.d(t,"BrowseCategories",(function(){return We.a}));var He=n(292);n.d(t,"SearchTabs",(function(){return He.a}));var Ve=n(293);n.d(t,"SearchNoResults",(function(){return Ve.a}));var ze=n(306);n.d(t,"FiltersContainer",(function(){return ze.a}));var Ye=n(294);n.d(t,"SearchHeader",(function(){return Ye.a}));var $e=n(295);n.d(t,"BlankSearch",(function(){return $e.a}));var Ge=n(0),Ke=n.n(Ge),Ze=n(46),Je=n.n(Ze),Qe={fetchWalletBalance:ve.a,fetchPaidContentMetadata:we.c,cacheBustPaidContentMetadata:we.a,fetchHomeSections:Oe.d,clearError:Oe.b,openContestForm:Ee.e,setStoryTags:Se.d,resetConversation:Ce.e,resetThreads:ke.c,initializeMutedUsers:Ne.e,toggleToast:je.c,callTrackingUrls:Oe.a,postStoryNotes:_e.b,setMutedUsersFromBackBone:Ne.i,setBlockedUsersFromBackBone:Ne.h,updateActiveTab:Pe.b},Xe=Xe||e;Xe.React=Ke.a,Xe.ReactDOM=Je.a}.call(this,n(40))}])}));
//# sourceMappingURL=react-bundle.components.js.map